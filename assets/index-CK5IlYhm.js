var xO=Object.defineProperty;var YN=e=>{throw TypeError(e)};var bO=(e,t,n)=>t in e?xO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pn=(e,t,n)=>bO(e,typeof t!="symbol"?t+"":t,n),Kv=(e,t,n)=>t.has(e)||YN("Cannot "+n);var Ce=(e,t,n)=>(Kv(e,t,"read from private field"),n?n.call(e):t.get(e)),on=(e,t,n)=>t.has(e)?YN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Mt=(e,t,n,r)=>(Kv(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),rs=(e,t,n)=>(Kv(e,t,"access private method"),n);var Og=(e,t,n,r)=>({set _(s){Mt(e,t,s,n)},get _(){return Ce(e,t,r)}});function wO(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Hle=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var TC={exports:{}},Ty={},PC={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=Symbol.for("react.element"),_O=Symbol.for("react.portal"),SO=Symbol.for("react.fragment"),NO=Symbol.for("react.strict_mode"),AO=Symbol.for("react.profiler"),EO=Symbol.for("react.provider"),TO=Symbol.for("react.context"),PO=Symbol.for("react.forward_ref"),CO=Symbol.for("react.suspense"),kO=Symbol.for("react.memo"),jO=Symbol.for("react.lazy"),QN=Symbol.iterator;function IO(e){return e===null||typeof e!="object"?null:(e=QN&&e[QN]||e["@@iterator"],typeof e=="function"?e:null)}var CC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kC=Object.assign,jC={};function cf(e,t,n){this.props=e,this.context=t,this.refs=jC,this.updater=n||CC}cf.prototype.isReactComponent={};cf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function IC(){}IC.prototype=cf.prototype;function f5(e,t,n){this.props=e,this.context=t,this.refs=jC,this.updater=n||CC}var p5=f5.prototype=new IC;p5.constructor=f5;kC(p5,cf.prototype);p5.isPureReactComponent=!0;var XN=Array.isArray,RC=Object.prototype.hasOwnProperty,m5={current:null},LC={key:!0,ref:!0,__self:!0,__source:!0};function DC(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)RC.call(t,r)&&!LC.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:$m,type:e,key:i,ref:o,props:s,_owner:m5.current}}function RO(e,t){return{$$typeof:$m,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function g5(e){return typeof e=="object"&&e!==null&&e.$$typeof===$m}function LO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ZN=/\/+/g;function Yv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?LO(""+e.key):t.toString(36)}function I0(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $m:case _O:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Yv(o,0):r,XN(s)?(n="",e!=null&&(n=e.replace(ZN,"$&/")+"/"),I0(s,t,n,"",function(c){return c})):s!=null&&(g5(s)&&(s=RO(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ZN,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",XN(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Yv(i,a);o+=I0(i,t,n,l,s)}else if(l=IO(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Yv(i,a++),o+=I0(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Fg(e,t,n){if(e==null)return e;var r=[],s=0;return I0(e,r,"","",function(i){return t.call(n,i,s++)}),r}function DO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Os={current:null},R0={transition:null},MO={ReactCurrentDispatcher:Os,ReactCurrentBatchConfig:R0,ReactCurrentOwner:m5};function MC(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:Fg,forEach:function(e,t,n){Fg(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fg(e,function(){t++}),t},toArray:function(e){return Fg(e,function(t){return t})||[]},only:function(e){if(!g5(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$t.Component=cf;$t.Fragment=SO;$t.Profiler=AO;$t.PureComponent=f5;$t.StrictMode=NO;$t.Suspense=CO;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MO;$t.act=MC;$t.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kC({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=m5.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)RC.call(t,l)&&!LC.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$m,type:e.type,key:s,ref:i,props:r,_owner:o}};$t.createContext=function(e){return e={$$typeof:TO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EO,_context:e},e.Consumer=e};$t.createElement=DC;$t.createFactory=function(e){var t=DC.bind(null,e);return t.type=e,t};$t.createRef=function(){return{current:null}};$t.forwardRef=function(e){return{$$typeof:PO,render:e}};$t.isValidElement=g5;$t.lazy=function(e){return{$$typeof:jO,_payload:{_status:-1,_result:e},_init:DO}};$t.memo=function(e,t){return{$$typeof:kO,type:e,compare:t===void 0?null:t}};$t.startTransition=function(e){var t=R0.transition;R0.transition={};try{e()}finally{R0.transition=t}};$t.unstable_act=MC;$t.useCallback=function(e,t){return Os.current.useCallback(e,t)};$t.useContext=function(e){return Os.current.useContext(e)};$t.useDebugValue=function(){};$t.useDeferredValue=function(e){return Os.current.useDeferredValue(e)};$t.useEffect=function(e,t){return Os.current.useEffect(e,t)};$t.useId=function(){return Os.current.useId()};$t.useImperativeHandle=function(e,t,n){return Os.current.useImperativeHandle(e,t,n)};$t.useInsertionEffect=function(e,t){return Os.current.useInsertionEffect(e,t)};$t.useLayoutEffect=function(e,t){return Os.current.useLayoutEffect(e,t)};$t.useMemo=function(e,t){return Os.current.useMemo(e,t)};$t.useReducer=function(e,t,n){return Os.current.useReducer(e,t,n)};$t.useRef=function(e){return Os.current.useRef(e)};$t.useState=function(e){return Os.current.useState(e)};$t.useSyncExternalStore=function(e,t,n){return Os.current.useSyncExternalStore(e,t,n)};$t.useTransition=function(){return Os.current.useTransition()};$t.version="18.3.1";PC.exports=$t;var L=PC.exports;const Ve=EC(L),y5=wO({__proto__:null,default:Ve},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO=L,FO=Symbol.for("react.element"),VO=Symbol.for("react.fragment"),BO=Object.prototype.hasOwnProperty,UO=OO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zO={key:!0,ref:!0,__self:!0,__source:!0};function OC(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)BO.call(t,r)&&!zO.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:FO,type:e,key:i,ref:o,props:s,_owner:UO.current}}Ty.Fragment=VO;Ty.jsx=OC;Ty.jsxs=OC;TC.exports=Ty;var u=TC.exports,FC={exports:{}},Pi={},VC={exports:{}},BC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,ne){var oe=H.length;H.push(ne);e:for(;0<oe;){var fe=oe-1>>>1,V=H[fe];if(0<s(V,ne))H[fe]=ne,H[oe]=V,oe=fe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ne=H[0],oe=H.pop();if(oe!==ne){H[0]=oe;e:for(var fe=0,V=H.length,Q=V>>>1;fe<Q;){var Z=2*(fe+1)-1,le=H[Z],ce=Z+1,he=H[ce];if(0>s(le,oe))ce<V&&0>s(he,le)?(H[fe]=he,H[ce]=oe,fe=ce):(H[fe]=le,H[Z]=oe,fe=Z);else if(ce<V&&0>s(he,oe))H[fe]=he,H[ce]=oe,fe=ce;else break e}}return ne}function s(H,ne){var oe=H.sortIndex-ne.sortIndex;return oe!==0?oe:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,f=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=H)r(c),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=n(c)}}function R(H){if(x=!1,N(H),!b)if(n(l)!==null)b=!0,ae(O);else{var ne=n(c);ne!==null&&ee(R,ne.startTime-H)}}function O(H,ne){b=!1,x&&(x=!1,v(A),A=-1),f=!0;var oe=p;try{for(N(ne),h=n(l);h!==null&&(!(h.expirationTime>ne)||H&&!P());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,p=h.priorityLevel;var V=fe(h.expirationTime<=ne);ne=e.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&r(l),N(ne)}else r(l);h=n(l)}if(h!==null)var Q=!0;else{var Z=n(c);Z!==null&&ee(R,Z.startTime-ne),Q=!1}return Q}finally{h=null,p=oe,f=!1}}var z=!1,k=null,A=-1,C=5,M=-1;function P(){return!(e.unstable_now()-M<C)}function I(){if(k!==null){var H=e.unstable_now();M=H;var ne=!0;try{ne=k(!0,H)}finally{ne?E():(z=!1,k=null)}}else z=!1}var E;if(typeof _=="function")E=function(){_(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Y=$.port2;$.port1.onmessage=I,E=function(){Y.postMessage(null)}}else E=function(){w(I,0)};function ae(H){k=H,z||(z=!0,E())}function ee(H,ne){A=w(function(){H(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){b||f||(b=!0,ae(O))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var ne=3;break;default:ne=p}var oe=p;p=ne;try{return H()}finally{p=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=p;p=H;try{return ne()}finally{p=oe}},e.unstable_scheduleCallback=function(H,ne,oe){var fe=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?fe+oe:fe):oe=fe,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=oe+V,H={id:d++,callback:ne,priorityLevel:H,startTime:oe,expirationTime:V,sortIndex:-1},oe>fe?(H.sortIndex=oe,t(c,H),n(l)===null&&H===n(c)&&(x?(v(A),A=-1):x=!0,ee(R,oe-fe))):(H.sortIndex=V,t(l,H),b||f||(b=!0,ae(O))),H},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(H){var ne=p;return function(){var oe=p;p=ne;try{return H.apply(this,arguments)}finally{p=oe}}}})(BC);VC.exports=BC;var $O=VC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qO=L,Ei=$O;function De(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UC=new Set,Qp={};function id(e,t){Bh(e,t),Bh(e+"Capture",t)}function Bh(e,t){for(Qp[e]=t,e=0;e<t.length;e++)UC.add(t[e])}var ol=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gx=Object.prototype.hasOwnProperty,WO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JN={},eA={};function HO(e){return Gx.call(eA,e)?!0:Gx.call(JN,e)?!1:WO.test(e)?eA[e]=!0:(JN[e]=!0,!1)}function GO(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KO(e,t,n,r){if(t===null||typeof t>"u"||GO(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fs(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xr[e]=new Fs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xr[t]=new Fs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xr[e]=new Fs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xr[e]=new Fs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xr[e]=new Fs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xr[e]=new Fs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xr[e]=new Fs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xr[e]=new Fs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xr[e]=new Fs(e,5,!1,e.toLowerCase(),null,!1,!1)});var v5=/[\-:]([a-z])/g;function x5(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v5,x5);Xr[t]=new Fs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v5,x5);Xr[t]=new Fs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v5,x5);Xr[t]=new Fs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xr[e]=new Fs(e,1,!1,e.toLowerCase(),null,!1,!1)});Xr.xlinkHref=new Fs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xr[e]=new Fs(e,1,!1,e.toLowerCase(),null,!0,!0)});function b5(e,t,n,r){var s=Xr.hasOwnProperty(t)?Xr[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KO(t,n,s,r)&&(n=null),r||s===null?HO(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bl=qO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vg=Symbol.for("react.element"),qd=Symbol.for("react.portal"),Wd=Symbol.for("react.fragment"),w5=Symbol.for("react.strict_mode"),Kx=Symbol.for("react.profiler"),zC=Symbol.for("react.provider"),$C=Symbol.for("react.context"),_5=Symbol.for("react.forward_ref"),Yx=Symbol.for("react.suspense"),Qx=Symbol.for("react.suspense_list"),S5=Symbol.for("react.memo"),Jl=Symbol.for("react.lazy"),qC=Symbol.for("react.offscreen"),tA=Symbol.iterator;function Xf(e){return e===null||typeof e!="object"?null:(e=tA&&e[tA]||e["@@iterator"],typeof e=="function"?e:null)}var Zn=Object.assign,Qv;function hp(e){if(Qv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qv=t&&t[1]||""}return`
`+Qv+e}var Xv=!1;function Zv(e,t){if(!e||Xv)return"";Xv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hp(e):""}function YO(e){switch(e.tag){case 5:return hp(e.type);case 16:return hp("Lazy");case 13:return hp("Suspense");case 19:return hp("SuspenseList");case 0:case 2:case 15:return e=Zv(e.type,!1),e;case 11:return e=Zv(e.type.render,!1),e;case 1:return e=Zv(e.type,!0),e;default:return""}}function Xx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wd:return"Fragment";case qd:return"Portal";case Kx:return"Profiler";case w5:return"StrictMode";case Yx:return"Suspense";case Qx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $C:return(e.displayName||"Context")+".Consumer";case zC:return(e._context.displayName||"Context")+".Provider";case _5:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case S5:return t=e.displayName||null,t!==null?t:Xx(e.type)||"Memo";case Jl:t=e._payload,e=e._init;try{return Xx(e(t))}catch{}}return null}function QO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xx(t);case 8:return t===w5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Lc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function WC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XO(e){var t=WC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bg(e){e._valueTracker||(e._valueTracker=XO(e))}function HC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=WC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function h1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zx(e,t){var n=t.checked;return Zn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Lc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function GC(e,t){t=t.checked,t!=null&&b5(e,"checked",t,!1)}function Jx(e,t){GC(e,t);var n=Lc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?eb(e,t.type,n):t.hasOwnProperty("defaultValue")&&eb(e,t.type,Lc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function eb(e,t,n){(t!=="number"||h1(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fp=Array.isArray;function ah(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Lc(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function tb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return Zn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(De(92));if(fp(n)){if(1<n.length)throw Error(De(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Lc(n)}}function KC(e,t){var n=Lc(t.value),r=Lc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function iA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function YC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ug,QC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ug=Ug||document.createElement("div"),Ug.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ug.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Np={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZO=["Webkit","ms","Moz","O"];Object.keys(Np).forEach(function(e){ZO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Np[t]=Np[e]})});function XC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Np.hasOwnProperty(e)&&Np[e]?(""+t).trim():t+"px"}function ZC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=XC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var JO=Zn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rb(e,t){if(t){if(JO[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function sb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ib=null;function N5(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ob=null,lh=null,ch=null;function oA(e){if(e=Hm(e)){if(typeof ob!="function")throw Error(De(280));var t=e.stateNode;t&&(t=Iy(t),ob(e.stateNode,e.type,t))}}function JC(e){lh?ch?ch.push(e):ch=[e]:lh=e}function e6(){if(lh){var e=lh,t=ch;if(ch=lh=null,oA(e),t)for(e=0;e<t.length;e++)oA(t[e])}}function t6(e,t){return e(t)}function n6(){}var Jv=!1;function r6(e,t,n){if(Jv)return e(t,n);Jv=!0;try{return t6(e,t,n)}finally{Jv=!1,(lh!==null||ch!==null)&&(n6(),e6())}}function Zp(e,t){var n=e.stateNode;if(n===null)return null;var r=Iy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(De(231,t,typeof n));return n}var ab=!1;if(ol)try{var Zf={};Object.defineProperty(Zf,"passive",{get:function(){ab=!0}}),window.addEventListener("test",Zf,Zf),window.removeEventListener("test",Zf,Zf)}catch{ab=!1}function eF(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ap=!1,f1=null,p1=!1,lb=null,tF={onError:function(e){Ap=!0,f1=e}};function nF(e,t,n,r,s,i,o,a,l){Ap=!1,f1=null,eF.apply(tF,arguments)}function rF(e,t,n,r,s,i,o,a,l){if(nF.apply(this,arguments),Ap){if(Ap){var c=f1;Ap=!1,f1=null}else throw Error(De(198));p1||(p1=!0,lb=c)}}function od(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aA(e){if(od(e)!==e)throw Error(De(188))}function sF(e){var t=e.alternate;if(!t){if(t=od(e),t===null)throw Error(De(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return aA(s),e;if(i===r)return aA(s),t;i=i.sibling}throw Error(De(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?e:t}function i6(e){return e=sF(e),e!==null?o6(e):null}function o6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o6(e);if(t!==null)return t;e=e.sibling}return null}var a6=Ei.unstable_scheduleCallback,lA=Ei.unstable_cancelCallback,iF=Ei.unstable_shouldYield,oF=Ei.unstable_requestPaint,hr=Ei.unstable_now,aF=Ei.unstable_getCurrentPriorityLevel,A5=Ei.unstable_ImmediatePriority,l6=Ei.unstable_UserBlockingPriority,m1=Ei.unstable_NormalPriority,lF=Ei.unstable_LowPriority,c6=Ei.unstable_IdlePriority,Py=null,fa=null;function cF(e){if(fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(Py,e,void 0,(e.current.flags&128)===128)}catch{}}var Co=Math.clz32?Math.clz32:hF,uF=Math.log,dF=Math.LN2;function hF(e){return e>>>=0,e===0?32:31-(uF(e)/dF|0)|0}var zg=64,$g=4194304;function pp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function g1(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=pp(a):(i&=o,i!==0&&(r=pp(i)))}else o=n&~s,o!==0?r=pp(o):i!==0&&(r=pp(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Co(t),s=1<<n,r|=e[n],t&=~s;return r}function fF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pF(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Co(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=fF(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function cb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function u6(){var e=zg;return zg<<=1,!(zg&4194240)&&(zg=64),e}function e2(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Co(t),e[t]=n}function mF(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Co(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function E5(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Co(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var gn=0;function d6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var h6,T5,f6,p6,m6,ub=!1,qg=[],gc=null,yc=null,vc=null,Jp=new Map,em=new Map,tc=[],gF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cA(e,t){switch(e){case"focusin":case"focusout":gc=null;break;case"dragenter":case"dragleave":yc=null;break;case"mouseover":case"mouseout":vc=null;break;case"pointerover":case"pointerout":Jp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":em.delete(t.pointerId)}}function Jf(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Hm(t),t!==null&&T5(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function yF(e,t,n,r,s){switch(t){case"focusin":return gc=Jf(gc,e,t,n,r,s),!0;case"dragenter":return yc=Jf(yc,e,t,n,r,s),!0;case"mouseover":return vc=Jf(vc,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Jp.set(i,Jf(Jp.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,em.set(i,Jf(em.get(i)||null,e,t,n,r,s)),!0}return!1}function g6(e){var t=Nu(e.target);if(t!==null){var n=od(t);if(n!==null){if(t=n.tag,t===13){if(t=s6(n),t!==null){e.blockedOn=t,m6(e.priority,function(){f6(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function L0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=db(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ib=r,n.target.dispatchEvent(r),ib=null}else return t=Hm(n),t!==null&&T5(t),e.blockedOn=n,!1;t.shift()}return!0}function uA(e,t,n){L0(e)&&n.delete(t)}function vF(){ub=!1,gc!==null&&L0(gc)&&(gc=null),yc!==null&&L0(yc)&&(yc=null),vc!==null&&L0(vc)&&(vc=null),Jp.forEach(uA),em.forEach(uA)}function ep(e,t){e.blockedOn===t&&(e.blockedOn=null,ub||(ub=!0,Ei.unstable_scheduleCallback(Ei.unstable_NormalPriority,vF)))}function tm(e){function t(s){return ep(s,e)}if(0<qg.length){ep(qg[0],e);for(var n=1;n<qg.length;n++){var r=qg[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gc!==null&&ep(gc,e),yc!==null&&ep(yc,e),vc!==null&&ep(vc,e),Jp.forEach(t),em.forEach(t),n=0;n<tc.length;n++)r=tc[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tc.length&&(n=tc[0],n.blockedOn===null);)g6(n),n.blockedOn===null&&tc.shift()}var uh=bl.ReactCurrentBatchConfig,y1=!0;function xF(e,t,n,r){var s=gn,i=uh.transition;uh.transition=null;try{gn=1,P5(e,t,n,r)}finally{gn=s,uh.transition=i}}function bF(e,t,n,r){var s=gn,i=uh.transition;uh.transition=null;try{gn=4,P5(e,t,n,r)}finally{gn=s,uh.transition=i}}function P5(e,t,n,r){if(y1){var s=db(e,t,n,r);if(s===null)u2(e,t,r,v1,n),cA(e,r);else if(yF(s,e,t,n,r))r.stopPropagation();else if(cA(e,r),t&4&&-1<gF.indexOf(e)){for(;s!==null;){var i=Hm(s);if(i!==null&&h6(i),i=db(e,t,n,r),i===null&&u2(e,t,r,v1,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else u2(e,t,r,null,n)}}var v1=null;function db(e,t,n,r){if(v1=null,e=N5(r),e=Nu(e),e!==null)if(t=od(e),t===null)e=null;else if(n=t.tag,n===13){if(e=s6(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return v1=e,null}function y6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aF()){case A5:return 1;case l6:return 4;case m1:case lF:return 16;case c6:return 536870912;default:return 16}default:return 16}}var cc=null,C5=null,D0=null;function v6(){if(D0)return D0;var e,t=C5,n=t.length,r,s="value"in cc?cc.value:cc.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return D0=s.slice(e,1<r?1-r:void 0)}function M0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wg(){return!0}function dA(){return!1}function Ci(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wg:dA,this.isPropagationStopped=dA,this}return Zn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wg)},persist:function(){},isPersistent:Wg}),t}var uf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k5=Ci(uf),Wm=Zn({},uf,{view:0,detail:0}),wF=Ci(Wm),t2,n2,tp,Cy=Zn({},Wm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tp&&(tp&&e.type==="mousemove"?(t2=e.screenX-tp.screenX,n2=e.screenY-tp.screenY):n2=t2=0,tp=e),t2)},movementY:function(e){return"movementY"in e?e.movementY:n2}}),hA=Ci(Cy),_F=Zn({},Cy,{dataTransfer:0}),SF=Ci(_F),NF=Zn({},Wm,{relatedTarget:0}),r2=Ci(NF),AF=Zn({},uf,{animationName:0,elapsedTime:0,pseudoElement:0}),EF=Ci(AF),TF=Zn({},uf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PF=Ci(TF),CF=Zn({},uf,{data:0}),fA=Ci(CF),kF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IF[e])?!!t[e]:!1}function j5(){return RF}var LF=Zn({},Wm,{key:function(e){if(e.key){var t=kF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=M0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j5,charCode:function(e){return e.type==="keypress"?M0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?M0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DF=Ci(LF),MF=Zn({},Cy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pA=Ci(MF),OF=Zn({},Wm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j5}),FF=Ci(OF),VF=Zn({},uf,{propertyName:0,elapsedTime:0,pseudoElement:0}),BF=Ci(VF),UF=Zn({},Cy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zF=Ci(UF),$F=[9,13,27,32],I5=ol&&"CompositionEvent"in window,Ep=null;ol&&"documentMode"in document&&(Ep=document.documentMode);var qF=ol&&"TextEvent"in window&&!Ep,x6=ol&&(!I5||Ep&&8<Ep&&11>=Ep),mA=" ",gA=!1;function b6(e,t){switch(e){case"keyup":return $F.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hd=!1;function WF(e,t){switch(e){case"compositionend":return w6(t);case"keypress":return t.which!==32?null:(gA=!0,mA);case"textInput":return e=t.data,e===mA&&gA?null:e;default:return null}}function HF(e,t){if(Hd)return e==="compositionend"||!I5&&b6(e,t)?(e=v6(),D0=C5=cc=null,Hd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x6&&t.locale!=="ko"?null:t.data;default:return null}}var GF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GF[e.type]:t==="textarea"}function _6(e,t,n,r){JC(r),t=x1(t,"onChange"),0<t.length&&(n=new k5("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Tp=null,nm=null;function KF(e){R6(e,0)}function ky(e){var t=Yd(e);if(HC(t))return e}function YF(e,t){if(e==="change")return t}var S6=!1;if(ol){var s2;if(ol){var i2="oninput"in document;if(!i2){var vA=document.createElement("div");vA.setAttribute("oninput","return;"),i2=typeof vA.oninput=="function"}s2=i2}else s2=!1;S6=s2&&(!document.documentMode||9<document.documentMode)}function xA(){Tp&&(Tp.detachEvent("onpropertychange",N6),nm=Tp=null)}function N6(e){if(e.propertyName==="value"&&ky(nm)){var t=[];_6(t,nm,e,N5(e)),r6(KF,t)}}function QF(e,t,n){e==="focusin"?(xA(),Tp=t,nm=n,Tp.attachEvent("onpropertychange",N6)):e==="focusout"&&xA()}function XF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ky(nm)}function ZF(e,t){if(e==="click")return ky(t)}function JF(e,t){if(e==="input"||e==="change")return ky(t)}function e9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ro=typeof Object.is=="function"?Object.is:e9;function rm(e,t){if(Ro(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gx.call(t,s)||!Ro(e[s],t[s]))return!1}return!0}function bA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wA(e,t){var n=bA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bA(n)}}function A6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?A6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function E6(){for(var e=window,t=h1();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=h1(e.document)}return t}function R5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function t9(e){var t=E6(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&A6(n.ownerDocument.documentElement,n)){if(r!==null&&R5(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=wA(n,i);var o=wA(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var n9=ol&&"documentMode"in document&&11>=document.documentMode,Gd=null,hb=null,Pp=null,fb=!1;function _A(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fb||Gd==null||Gd!==h1(r)||(r=Gd,"selectionStart"in r&&R5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pp&&rm(Pp,r)||(Pp=r,r=x1(hb,"onSelect"),0<r.length&&(t=new k5("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gd)))}function Hg(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kd={animationend:Hg("Animation","AnimationEnd"),animationiteration:Hg("Animation","AnimationIteration"),animationstart:Hg("Animation","AnimationStart"),transitionend:Hg("Transition","TransitionEnd")},o2={},T6={};ol&&(T6=document.createElement("div").style,"AnimationEvent"in window||(delete Kd.animationend.animation,delete Kd.animationiteration.animation,delete Kd.animationstart.animation),"TransitionEvent"in window||delete Kd.transitionend.transition);function jy(e){if(o2[e])return o2[e];if(!Kd[e])return e;var t=Kd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in T6)return o2[e]=t[n];return e}var P6=jy("animationend"),C6=jy("animationiteration"),k6=jy("animationstart"),j6=jy("transitionend"),I6=new Map,SA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yc(e,t){I6.set(e,t),id(t,[e])}for(var a2=0;a2<SA.length;a2++){var l2=SA[a2],r9=l2.toLowerCase(),s9=l2[0].toUpperCase()+l2.slice(1);Yc(r9,"on"+s9)}Yc(P6,"onAnimationEnd");Yc(C6,"onAnimationIteration");Yc(k6,"onAnimationStart");Yc("dblclick","onDoubleClick");Yc("focusin","onFocus");Yc("focusout","onBlur");Yc(j6,"onTransitionEnd");Bh("onMouseEnter",["mouseout","mouseover"]);Bh("onMouseLeave",["mouseout","mouseover"]);Bh("onPointerEnter",["pointerout","pointerover"]);Bh("onPointerLeave",["pointerout","pointerover"]);id("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));id("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));id("onBeforeInput",["compositionend","keypress","textInput","paste"]);id("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));id("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));id("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i9=new Set("cancel close invalid load scroll toggle".split(" ").concat(mp));function NA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rF(r,t,void 0,e),e.currentTarget=null}function R6(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;NA(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;NA(s,a,c),i=l}}}if(p1)throw e=lb,p1=!1,lb=null,e}function Fn(e,t){var n=t[vb];n===void 0&&(n=t[vb]=new Set);var r=e+"__bubble";n.has(r)||(L6(t,e,2,!1),n.add(r))}function c2(e,t,n){var r=0;t&&(r|=4),L6(n,e,r,t)}var Gg="_reactListening"+Math.random().toString(36).slice(2);function sm(e){if(!e[Gg]){e[Gg]=!0,UC.forEach(function(n){n!=="selectionchange"&&(i9.has(n)||c2(n,!1,e),c2(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gg]||(t[Gg]=!0,c2("selectionchange",!1,t))}}function L6(e,t,n,r){switch(y6(t)){case 1:var s=xF;break;case 4:s=bF;break;default:s=P5}n=s.bind(null,t,n,e),s=void 0,!ab||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function u2(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Nu(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}r6(function(){var c=i,d=N5(n),h=[];e:{var p=I6.get(e);if(p!==void 0){var f=k5,b=e;switch(e){case"keypress":if(M0(n)===0)break e;case"keydown":case"keyup":f=DF;break;case"focusin":b="focus",f=r2;break;case"focusout":b="blur",f=r2;break;case"beforeblur":case"afterblur":f=r2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=hA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=SF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=FF;break;case P6:case C6:case k6:f=EF;break;case j6:f=BF;break;case"scroll":f=wF;break;case"wheel":f=zF;break;case"copy":case"cut":case"paste":f=PF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=pA}var x=(t&4)!==0,w=!x&&e==="scroll",v=x?p!==null?p+"Capture":null:p;x=[];for(var _=c,N;_!==null;){N=_;var R=N.stateNode;if(N.tag===5&&R!==null&&(N=R,v!==null&&(R=Zp(_,v),R!=null&&x.push(im(_,R,N)))),w)break;_=_.return}0<x.length&&(p=new f(p,b,null,n,d),h.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==ib&&(b=n.relatedTarget||n.fromElement)&&(Nu(b)||b[al]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(b=n.relatedTarget||n.toElement,f=c,b=b?Nu(b):null,b!==null&&(w=od(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=c),f!==b)){if(x=hA,R="onMouseLeave",v="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(x=pA,R="onPointerLeave",v="onPointerEnter",_="pointer"),w=f==null?p:Yd(f),N=b==null?p:Yd(b),p=new x(R,_+"leave",f,n,d),p.target=w,p.relatedTarget=N,R=null,Nu(d)===c&&(x=new x(v,_+"enter",b,n,d),x.target=N,x.relatedTarget=w,R=x),w=R,f&&b)t:{for(x=f,v=b,_=0,N=x;N;N=Cd(N))_++;for(N=0,R=v;R;R=Cd(R))N++;for(;0<_-N;)x=Cd(x),_--;for(;0<N-_;)v=Cd(v),N--;for(;_--;){if(x===v||v!==null&&x===v.alternate)break t;x=Cd(x),v=Cd(v)}x=null}else x=null;f!==null&&AA(h,p,f,x,!1),b!==null&&w!==null&&AA(h,w,b,x,!0)}}e:{if(p=c?Yd(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var O=YF;else if(yA(p))if(S6)O=JF;else{O=XF;var z=QF}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=ZF);if(O&&(O=O(e,c))){_6(h,O,n,d);break e}z&&z(e,p,c),e==="focusout"&&(z=p._wrapperState)&&z.controlled&&p.type==="number"&&eb(p,"number",p.value)}switch(z=c?Yd(c):window,e){case"focusin":(yA(z)||z.contentEditable==="true")&&(Gd=z,hb=c,Pp=null);break;case"focusout":Pp=hb=Gd=null;break;case"mousedown":fb=!0;break;case"contextmenu":case"mouseup":case"dragend":fb=!1,_A(h,n,d);break;case"selectionchange":if(n9)break;case"keydown":case"keyup":_A(h,n,d)}var k;if(I5)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Hd?b6(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(x6&&n.locale!=="ko"&&(Hd||A!=="onCompositionStart"?A==="onCompositionEnd"&&Hd&&(k=v6()):(cc=d,C5="value"in cc?cc.value:cc.textContent,Hd=!0)),z=x1(c,A),0<z.length&&(A=new fA(A,e,null,n,d),h.push({event:A,listeners:z}),k?A.data=k:(k=w6(n),k!==null&&(A.data=k)))),(k=qF?WF(e,n):HF(e,n))&&(c=x1(c,"onBeforeInput"),0<c.length&&(d=new fA("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=k))}R6(h,t)})}function im(e,t,n){return{instance:e,listener:t,currentTarget:n}}function x1(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zp(e,n),i!=null&&r.unshift(im(e,i,s)),i=Zp(e,t),i!=null&&r.push(im(e,i,s))),e=e.return}return r}function Cd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function AA(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Zp(n,i),l!=null&&o.unshift(im(n,l,a))):s||(l=Zp(n,i),l!=null&&o.push(im(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var o9=/\r\n?/g,a9=/\u0000|\uFFFD/g;function EA(e){return(typeof e=="string"?e:""+e).replace(o9,`
`).replace(a9,"")}function Kg(e,t,n){if(t=EA(t),EA(e)!==t&&n)throw Error(De(425))}function b1(){}var pb=null,mb=null;function gb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yb=typeof setTimeout=="function"?setTimeout:void 0,l9=typeof clearTimeout=="function"?clearTimeout:void 0,TA=typeof Promise=="function"?Promise:void 0,c9=typeof queueMicrotask=="function"?queueMicrotask:typeof TA<"u"?function(e){return TA.resolve(null).then(e).catch(u9)}:yb;function u9(e){setTimeout(function(){throw e})}function d2(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),tm(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);tm(t)}function xc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function PA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var df=Math.random().toString(36).slice(2),la="__reactFiber$"+df,om="__reactProps$"+df,al="__reactContainer$"+df,vb="__reactEvents$"+df,d9="__reactListeners$"+df,h9="__reactHandles$"+df;function Nu(e){var t=e[la];if(t)return t;for(var n=e.parentNode;n;){if(t=n[al]||n[la]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=PA(e);e!==null;){if(n=e[la])return n;e=PA(e)}return t}e=n,n=e.parentNode}return null}function Hm(e){return e=e[la]||e[al],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function Iy(e){return e[om]||null}var xb=[],Qd=-1;function Qc(e){return{current:e}}function Un(e){0>Qd||(e.current=xb[Qd],xb[Qd]=null,Qd--)}function Ln(e,t){Qd++,xb[Qd]=e.current,e.current=t}var Dc={},ys=Qc(Dc),ni=Qc(!1),qu=Dc;function Uh(e,t){var n=e.type.contextTypes;if(!n)return Dc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ri(e){return e=e.childContextTypes,e!=null}function w1(){Un(ni),Un(ys)}function CA(e,t,n){if(ys.current!==Dc)throw Error(De(168));Ln(ys,t),Ln(ni,n)}function D6(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(De(108,QO(e)||"Unknown",s));return Zn({},n,r)}function _1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dc,qu=ys.current,Ln(ys,e),Ln(ni,ni.current),!0}function kA(e,t,n){var r=e.stateNode;if(!r)throw Error(De(169));n?(e=D6(e,t,qu),r.__reactInternalMemoizedMergedChildContext=e,Un(ni),Un(ys),Ln(ys,e)):Un(ni),Ln(ni,n)}var Za=null,Ry=!1,h2=!1;function M6(e){Za===null?Za=[e]:Za.push(e)}function f9(e){Ry=!0,M6(e)}function Xc(){if(!h2&&Za!==null){h2=!0;var e=0,t=gn;try{var n=Za;for(gn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Za=null,Ry=!1}catch(s){throw Za!==null&&(Za=Za.slice(e+1)),a6(A5,Xc),s}finally{gn=t,h2=!1}}return null}var Xd=[],Zd=0,S1=null,N1=0,Wi=[],Hi=0,Wu=null,nl=1,rl="";function yu(e,t){Xd[Zd++]=N1,Xd[Zd++]=S1,S1=e,N1=t}function O6(e,t,n){Wi[Hi++]=nl,Wi[Hi++]=rl,Wi[Hi++]=Wu,Wu=e;var r=nl;e=rl;var s=32-Co(r)-1;r&=~(1<<s),n+=1;var i=32-Co(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,nl=1<<32-Co(t)+s|n<<s|r,rl=i+e}else nl=1<<i|n<<s|r,rl=e}function L5(e){e.return!==null&&(yu(e,1),O6(e,1,0))}function D5(e){for(;e===S1;)S1=Xd[--Zd],Xd[Zd]=null,N1=Xd[--Zd],Xd[Zd]=null;for(;e===Wu;)Wu=Wi[--Hi],Wi[Hi]=null,rl=Wi[--Hi],Wi[Hi]=null,nl=Wi[--Hi],Wi[Hi]=null}var Si=null,bi=null,Hn=!1,Ao=null;function F6(e,t){var n=Xi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function jA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Si=e,bi=xc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Si=e,bi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wu!==null?{id:nl,overflow:rl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Si=e,bi=null,!0):!1;default:return!1}}function bb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wb(e){if(Hn){var t=bi;if(t){var n=t;if(!jA(e,t)){if(bb(e))throw Error(De(418));t=xc(n.nextSibling);var r=Si;t&&jA(e,t)?F6(r,n):(e.flags=e.flags&-4097|2,Hn=!1,Si=e)}}else{if(bb(e))throw Error(De(418));e.flags=e.flags&-4097|2,Hn=!1,Si=e}}}function IA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Si=e}function Yg(e){if(e!==Si)return!1;if(!Hn)return IA(e),Hn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gb(e.type,e.memoizedProps)),t&&(t=bi)){if(bb(e))throw V6(),Error(De(418));for(;t;)F6(e,t),t=xc(t.nextSibling)}if(IA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bi=xc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bi=null}}else bi=Si?xc(e.stateNode.nextSibling):null;return!0}function V6(){for(var e=bi;e;)e=xc(e.nextSibling)}function zh(){bi=Si=null,Hn=!1}function M5(e){Ao===null?Ao=[e]:Ao.push(e)}var p9=bl.ReactCurrentBatchConfig;function np(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,e))}return e}function Qg(e,t){throw e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function RA(e){var t=e._init;return t(e._payload)}function B6(e){function t(v,_){if(e){var N=v.deletions;N===null?(v.deletions=[_],v.flags|=16):N.push(_)}}function n(v,_){if(!e)return null;for(;_!==null;)t(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=Sc(v,_),v.index=0,v.sibling=null,v}function i(v,_,N){return v.index=N,e?(N=v.alternate,N!==null?(N=N.index,N<_?(v.flags|=2,_):N):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,_,N,R){return _===null||_.tag!==6?(_=x2(N,v.mode,R),_.return=v,_):(_=s(_,N),_.return=v,_)}function l(v,_,N,R){var O=N.type;return O===Wd?d(v,_,N.props.children,R,N.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Jl&&RA(O)===_.type)?(R=s(_,N.props),R.ref=np(v,_,N),R.return=v,R):(R=$0(N.type,N.key,N.props,null,v.mode,R),R.ref=np(v,_,N),R.return=v,R)}function c(v,_,N,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=b2(N,v.mode,R),_.return=v,_):(_=s(_,N.children||[]),_.return=v,_)}function d(v,_,N,R,O){return _===null||_.tag!==7?(_=Uu(N,v.mode,R,O),_.return=v,_):(_=s(_,N),_.return=v,_)}function h(v,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return _=x2(""+_,v.mode,N),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vg:return N=$0(_.type,_.key,_.props,null,v.mode,N),N.ref=np(v,null,_),N.return=v,N;case qd:return _=b2(_,v.mode,N),_.return=v,_;case Jl:var R=_._init;return h(v,R(_._payload),N)}if(fp(_)||Xf(_))return _=Uu(_,v.mode,N,null),_.return=v,_;Qg(v,_)}return null}function p(v,_,N,R){var O=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return O!==null?null:a(v,_,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Vg:return N.key===O?l(v,_,N,R):null;case qd:return N.key===O?c(v,_,N,R):null;case Jl:return O=N._init,p(v,_,O(N._payload),R)}if(fp(N)||Xf(N))return O!==null?null:d(v,_,N,R,null);Qg(v,N)}return null}function f(v,_,N,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return v=v.get(N)||null,a(_,v,""+R,O);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Vg:return v=v.get(R.key===null?N:R.key)||null,l(_,v,R,O);case qd:return v=v.get(R.key===null?N:R.key)||null,c(_,v,R,O);case Jl:var z=R._init;return f(v,_,N,z(R._payload),O)}if(fp(R)||Xf(R))return v=v.get(N)||null,d(_,v,R,O,null);Qg(_,R)}return null}function b(v,_,N,R){for(var O=null,z=null,k=_,A=_=0,C=null;k!==null&&A<N.length;A++){k.index>A?(C=k,k=null):C=k.sibling;var M=p(v,k,N[A],R);if(M===null){k===null&&(k=C);break}e&&k&&M.alternate===null&&t(v,k),_=i(M,_,A),z===null?O=M:z.sibling=M,z=M,k=C}if(A===N.length)return n(v,k),Hn&&yu(v,A),O;if(k===null){for(;A<N.length;A++)k=h(v,N[A],R),k!==null&&(_=i(k,_,A),z===null?O=k:z.sibling=k,z=k);return Hn&&yu(v,A),O}for(k=r(v,k);A<N.length;A++)C=f(k,v,A,N[A],R),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?A:C.key),_=i(C,_,A),z===null?O=C:z.sibling=C,z=C);return e&&k.forEach(function(P){return t(v,P)}),Hn&&yu(v,A),O}function x(v,_,N,R){var O=Xf(N);if(typeof O!="function")throw Error(De(150));if(N=O.call(N),N==null)throw Error(De(151));for(var z=O=null,k=_,A=_=0,C=null,M=N.next();k!==null&&!M.done;A++,M=N.next()){k.index>A?(C=k,k=null):C=k.sibling;var P=p(v,k,M.value,R);if(P===null){k===null&&(k=C);break}e&&k&&P.alternate===null&&t(v,k),_=i(P,_,A),z===null?O=P:z.sibling=P,z=P,k=C}if(M.done)return n(v,k),Hn&&yu(v,A),O;if(k===null){for(;!M.done;A++,M=N.next())M=h(v,M.value,R),M!==null&&(_=i(M,_,A),z===null?O=M:z.sibling=M,z=M);return Hn&&yu(v,A),O}for(k=r(v,k);!M.done;A++,M=N.next())M=f(k,v,A,M.value,R),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?A:M.key),_=i(M,_,A),z===null?O=M:z.sibling=M,z=M);return e&&k.forEach(function(I){return t(v,I)}),Hn&&yu(v,A),O}function w(v,_,N,R){if(typeof N=="object"&&N!==null&&N.type===Wd&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Vg:e:{for(var O=N.key,z=_;z!==null;){if(z.key===O){if(O=N.type,O===Wd){if(z.tag===7){n(v,z.sibling),_=s(z,N.props.children),_.return=v,v=_;break e}}else if(z.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Jl&&RA(O)===z.type){n(v,z.sibling),_=s(z,N.props),_.ref=np(v,z,N),_.return=v,v=_;break e}n(v,z);break}else t(v,z);z=z.sibling}N.type===Wd?(_=Uu(N.props.children,v.mode,R,N.key),_.return=v,v=_):(R=$0(N.type,N.key,N.props,null,v.mode,R),R.ref=np(v,_,N),R.return=v,v=R)}return o(v);case qd:e:{for(z=N.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){n(v,_.sibling),_=s(_,N.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else t(v,_);_=_.sibling}_=b2(N,v.mode,R),_.return=v,v=_}return o(v);case Jl:return z=N._init,w(v,_,z(N._payload),R)}if(fp(N))return b(v,_,N,R);if(Xf(N))return x(v,_,N,R);Qg(v,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,_!==null&&_.tag===6?(n(v,_.sibling),_=s(_,N),_.return=v,v=_):(n(v,_),_=x2(N,v.mode,R),_.return=v,v=_),o(v)):n(v,_)}return w}var $h=B6(!0),U6=B6(!1),A1=Qc(null),E1=null,Jd=null,O5=null;function F5(){O5=Jd=E1=null}function V5(e){var t=A1.current;Un(A1),e._currentValue=t}function _b(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function dh(e,t){E1=e,O5=Jd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ei=!0),e.firstContext=null)}function no(e){var t=e._currentValue;if(O5!==e)if(e={context:e,memoizedValue:t,next:null},Jd===null){if(E1===null)throw Error(De(308));Jd=e,E1.dependencies={lanes:0,firstContext:e}}else Jd=Jd.next=e;return t}var Au=null;function B5(e){Au===null?Au=[e]:Au.push(e)}function z6(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,B5(t)):(n.next=s.next,s.next=n),t.interleaved=n,ll(e,r)}function ll(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ec=!1;function U5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function il(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,rn&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ll(e,n)}return s=r.interleaved,s===null?(t.next=t,B5(r)):(t.next=s.next,s.next=t),r.interleaved=t,ll(e,n)}function O0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,E5(e,n)}}function LA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function T1(e,t,n,r){var s=e.updateQueue;ec=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,f=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=e,x=a;switch(p=t,f=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){h=b.call(f,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,p=typeof b=="function"?b.call(f,h,p):b,p==null)break e;h=Zn({},h,p);break e;case 2:ec=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=f,l=h):d=d.next=f,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Gu|=o,e.lanes=o,e.memoizedState=h}}function DA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(De(191,s));s.call(r)}}}var Gm={},pa=Qc(Gm),am=Qc(Gm),lm=Qc(Gm);function Eu(e){if(e===Gm)throw Error(De(174));return e}function z5(e,t){switch(Ln(lm,t),Ln(am,e),Ln(pa,Gm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nb(t,e)}Un(pa),Ln(pa,t)}function qh(){Un(pa),Un(am),Un(lm)}function q6(e){Eu(lm.current);var t=Eu(pa.current),n=nb(t,e.type);t!==n&&(Ln(am,e),Ln(pa,n))}function $5(e){am.current===e&&(Un(pa),Un(am))}var Yn=Qc(0);function P1(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var f2=[];function q5(){for(var e=0;e<f2.length;e++)f2[e]._workInProgressVersionPrimary=null;f2.length=0}var F0=bl.ReactCurrentDispatcher,p2=bl.ReactCurrentBatchConfig,Hu=0,Xn=null,kr=null,Vr=null,C1=!1,Cp=!1,cm=0,m9=0;function ss(){throw Error(De(321))}function W5(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ro(e[n],t[n]))return!1;return!0}function H5(e,t,n,r,s,i){if(Hu=i,Xn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F0.current=e===null||e.memoizedState===null?x9:b9,e=n(r,s),Cp){i=0;do{if(Cp=!1,cm=0,25<=i)throw Error(De(301));i+=1,Vr=kr=null,t.updateQueue=null,F0.current=w9,e=n(r,s)}while(Cp)}if(F0.current=k1,t=kr!==null&&kr.next!==null,Hu=0,Vr=kr=Xn=null,C1=!1,t)throw Error(De(300));return e}function G5(){var e=cm!==0;return cm=0,e}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?Xn.memoizedState=Vr=e:Vr=Vr.next=e,Vr}function ro(){if(kr===null){var e=Xn.alternate;e=e!==null?e.memoizedState:null}else e=kr.next;var t=Vr===null?Xn.memoizedState:Vr.next;if(t!==null)Vr=t,kr=e;else{if(e===null)throw Error(De(310));kr=e,e={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Vr===null?Xn.memoizedState=Vr=e:Vr=Vr.next=e}return Vr}function um(e,t){return typeof t=="function"?t(e):t}function m2(e){var t=ro(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=kr,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Hu&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Xn.lanes|=d,Gu|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ro(r,t.memoizedState)||(ei=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Xn.lanes|=i,Gu|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function g2(e){var t=ro(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ro(i,t.memoizedState)||(ei=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function W6(){}function H6(e,t){var n=Xn,r=ro(),s=t(),i=!Ro(r.memoizedState,s);if(i&&(r.memoizedState=s,ei=!0),r=r.queue,K5(Y6.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Vr!==null&&Vr.memoizedState.tag&1){if(n.flags|=2048,dm(9,K6.bind(null,n,r,s,t),void 0,null),Ur===null)throw Error(De(349));Hu&30||G6(n,t,s)}return s}function G6(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xn.updateQueue,t===null?(t={lastEffect:null,stores:null},Xn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function K6(e,t,n,r){t.value=n,t.getSnapshot=r,Q6(t)&&X6(e)}function Y6(e,t,n){return n(function(){Q6(t)&&X6(e)})}function Q6(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ro(e,n)}catch{return!0}}function X6(e){var t=ll(e,1);t!==null&&ko(t,e,1,-1)}function MA(e){var t=ra();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:um,lastRenderedState:e},t.queue=e,e=e.dispatch=v9.bind(null,Xn,e),[t.memoizedState,e]}function dm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xn.updateQueue,t===null?(t={lastEffect:null,stores:null},Xn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Z6(){return ro().memoizedState}function V0(e,t,n,r){var s=ra();Xn.flags|=e,s.memoizedState=dm(1|t,n,void 0,r===void 0?null:r)}function Ly(e,t,n,r){var s=ro();r=r===void 0?null:r;var i=void 0;if(kr!==null){var o=kr.memoizedState;if(i=o.destroy,r!==null&&W5(r,o.deps)){s.memoizedState=dm(t,n,i,r);return}}Xn.flags|=e,s.memoizedState=dm(1|t,n,i,r)}function OA(e,t){return V0(8390656,8,e,t)}function K5(e,t){return Ly(2048,8,e,t)}function J6(e,t){return Ly(4,2,e,t)}function ek(e,t){return Ly(4,4,e,t)}function tk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nk(e,t,n){return n=n!=null?n.concat([e]):null,Ly(4,4,tk.bind(null,t,e),n)}function Y5(){}function rk(e,t){var n=ro();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&W5(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sk(e,t){var n=ro();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&W5(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ik(e,t,n){return Hu&21?(Ro(n,t)||(n=u6(),Xn.lanes|=n,Gu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ei=!0),e.memoizedState=n)}function g9(e,t){var n=gn;gn=n!==0&&4>n?n:4,e(!0);var r=p2.transition;p2.transition={};try{e(!1),t()}finally{gn=n,p2.transition=r}}function ok(){return ro().memoizedState}function y9(e,t,n){var r=_c(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ak(e))lk(t,n);else if(n=z6(e,t,n,r),n!==null){var s=Ls();ko(n,e,r,s),ck(n,t,r)}}function v9(e,t,n){var r=_c(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ak(e))lk(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ro(a,o)){var l=t.interleaved;l===null?(s.next=s,B5(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=z6(e,t,s,r),n!==null&&(s=Ls(),ko(n,e,r,s),ck(n,t,r))}}function ak(e){var t=e.alternate;return e===Xn||t!==null&&t===Xn}function lk(e,t){Cp=C1=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ck(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,E5(e,n)}}var k1={readContext:no,useCallback:ss,useContext:ss,useEffect:ss,useImperativeHandle:ss,useInsertionEffect:ss,useLayoutEffect:ss,useMemo:ss,useReducer:ss,useRef:ss,useState:ss,useDebugValue:ss,useDeferredValue:ss,useTransition:ss,useMutableSource:ss,useSyncExternalStore:ss,useId:ss,unstable_isNewReconciler:!1},x9={readContext:no,useCallback:function(e,t){return ra().memoizedState=[e,t===void 0?null:t],e},useContext:no,useEffect:OA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,V0(4194308,4,tk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return V0(4194308,4,e,t)},useInsertionEffect:function(e,t){return V0(4,2,e,t)},useMemo:function(e,t){var n=ra();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ra();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=y9.bind(null,Xn,e),[r.memoizedState,e]},useRef:function(e){var t=ra();return e={current:e},t.memoizedState=e},useState:MA,useDebugValue:Y5,useDeferredValue:function(e){return ra().memoizedState=e},useTransition:function(){var e=MA(!1),t=e[0];return e=g9.bind(null,e[1]),ra().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xn,s=ra();if(Hn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=t(),Ur===null)throw Error(De(349));Hu&30||G6(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,OA(Y6.bind(null,r,i,e),[e]),r.flags|=2048,dm(9,K6.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ra(),t=Ur.identifierPrefix;if(Hn){var n=rl,r=nl;n=(r&~(1<<32-Co(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=cm++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=m9++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},b9={readContext:no,useCallback:rk,useContext:no,useEffect:K5,useImperativeHandle:nk,useInsertionEffect:J6,useLayoutEffect:ek,useMemo:sk,useReducer:m2,useRef:Z6,useState:function(){return m2(um)},useDebugValue:Y5,useDeferredValue:function(e){var t=ro();return ik(t,kr.memoizedState,e)},useTransition:function(){var e=m2(um)[0],t=ro().memoizedState;return[e,t]},useMutableSource:W6,useSyncExternalStore:H6,useId:ok,unstable_isNewReconciler:!1},w9={readContext:no,useCallback:rk,useContext:no,useEffect:K5,useImperativeHandle:nk,useInsertionEffect:J6,useLayoutEffect:ek,useMemo:sk,useReducer:g2,useRef:Z6,useState:function(){return g2(um)},useDebugValue:Y5,useDeferredValue:function(e){var t=ro();return kr===null?t.memoizedState=e:ik(t,kr.memoizedState,e)},useTransition:function(){var e=g2(um)[0],t=ro().memoizedState;return[e,t]},useMutableSource:W6,useSyncExternalStore:H6,useId:ok,unstable_isNewReconciler:!1};function bo(e,t){if(e&&e.defaultProps){t=Zn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sb(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Zn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dy={isMounted:function(e){return(e=e._reactInternals)?od(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ls(),s=_c(e),i=il(r,s);i.payload=t,n!=null&&(i.callback=n),t=bc(e,i,s),t!==null&&(ko(t,e,s,r),O0(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ls(),s=_c(e),i=il(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=bc(e,i,s),t!==null&&(ko(t,e,s,r),O0(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ls(),r=_c(e),s=il(n,r);s.tag=2,t!=null&&(s.callback=t),t=bc(e,s,r),t!==null&&(ko(t,e,r,n),O0(t,e,r))}};function FA(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!rm(n,r)||!rm(s,i):!0}function uk(e,t,n){var r=!1,s=Dc,i=t.contextType;return typeof i=="object"&&i!==null?i=no(i):(s=ri(t)?qu:ys.current,r=t.contextTypes,i=(r=r!=null)?Uh(e,s):Dc),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dy,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function VA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dy.enqueueReplaceState(t,t.state,null)}function Nb(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},U5(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=no(i):(i=ri(t)?qu:ys.current,s.context=Uh(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Sb(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Dy.enqueueReplaceState(s,s.state,null),T1(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wh(e,t){try{var n="",r=t;do n+=YO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function y2(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ab(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _9=typeof WeakMap=="function"?WeakMap:Map;function dk(e,t,n){n=il(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){I1||(I1=!0,Db=r),Ab(e,t)},n}function hk(e,t,n){n=il(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ab(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ab(e,t),typeof r!="function"&&(wc===null?wc=new Set([this]):wc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function BA(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _9;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=M9.bind(null,e,t,n),t.then(e,e))}function UA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zA(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=il(-1,1),t.tag=2,bc(n,t,1))),n.lanes|=1),e)}var S9=bl.ReactCurrentOwner,ei=!1;function Cs(e,t,n,r){t.child=e===null?U6(t,null,n,r):$h(t,e.child,n,r)}function $A(e,t,n,r,s){n=n.render;var i=t.ref;return dh(t,s),r=H5(e,t,n,r,i,s),n=G5(),e!==null&&!ei?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cl(e,t,s)):(Hn&&n&&L5(t),t.flags|=1,Cs(e,t,r,s),t.child)}function qA(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!r_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fk(e,t,i,r,s)):(e=$0(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:rm,n(o,r)&&e.ref===t.ref)return cl(e,t,s)}return t.flags|=1,e=Sc(i,r),e.ref=t.ref,e.return=t,t.child=e}function fk(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(rm(i,r)&&e.ref===t.ref)if(ei=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ei=!0);else return t.lanes=e.lanes,cl(e,t,s)}return Eb(e,t,n,r,s)}function pk(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ln(th,vi),vi|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ln(th,vi),vi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ln(th,vi),vi|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ln(th,vi),vi|=r;return Cs(e,t,s,n),t.child}function mk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eb(e,t,n,r,s){var i=ri(n)?qu:ys.current;return i=Uh(t,i),dh(t,s),n=H5(e,t,n,r,i,s),r=G5(),e!==null&&!ei?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cl(e,t,s)):(Hn&&r&&L5(t),t.flags|=1,Cs(e,t,n,s),t.child)}function WA(e,t,n,r,s){if(ri(n)){var i=!0;_1(t)}else i=!1;if(dh(t,s),t.stateNode===null)B0(e,t),uk(t,n,r),Nb(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=no(c):(c=ri(n)?qu:ys.current,c=Uh(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&VA(t,o,r,c),ec=!1;var p=t.memoizedState;o.state=p,T1(t,r,o,s),l=t.memoizedState,a!==r||p!==l||ni.current||ec?(typeof d=="function"&&(Sb(t,n,d,r),l=t.memoizedState),(a=ec||FA(t,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$6(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:bo(t.type,a),o.props=c,h=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=no(l):(l=ri(n)?qu:ys.current,l=Uh(t,l));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&VA(t,o,r,l),ec=!1,p=t.memoizedState,o.state=p,T1(t,r,o,s);var b=t.memoizedState;a!==h||p!==b||ni.current||ec?(typeof f=="function"&&(Sb(t,n,f,r),b=t.memoizedState),(c=ec||FA(t,n,c,r,p,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Tb(e,t,n,r,i,s)}function Tb(e,t,n,r,s,i){mk(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&kA(t,n,!1),cl(e,t,i);r=t.stateNode,S9.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=$h(t,e.child,null,i),t.child=$h(t,null,a,i)):Cs(e,t,a,i),t.memoizedState=r.state,s&&kA(t,n,!0),t.child}function gk(e){var t=e.stateNode;t.pendingContext?CA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&CA(e,t.context,!1),z5(e,t.containerInfo)}function HA(e,t,n,r,s){return zh(),M5(s),t.flags|=256,Cs(e,t,n,r),t.child}var Pb={dehydrated:null,treeContext:null,retryLane:0};function Cb(e){return{baseLanes:e,cachePool:null,transitions:null}}function yk(e,t,n){var r=t.pendingProps,s=Yn.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ln(Yn,s&1),e===null)return wb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fy(o,r,0,null),e=Uu(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Cb(n),t.memoizedState=Pb,e):Q5(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return N9(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Sc(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Sc(a,i):(i=Uu(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Cb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Pb,r}return i=e.child,e=i.sibling,r=Sc(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Q5(e,t){return t=Fy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xg(e,t,n,r){return r!==null&&M5(r),$h(t,e.child,null,n),e=Q5(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function N9(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=y2(Error(De(422))),Xg(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Fy({mode:"visible",children:r.children},s,0,null),i=Uu(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&$h(t,e.child,null,o),t.child.memoizedState=Cb(o),t.memoizedState=Pb,i);if(!(t.mode&1))return Xg(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(De(419)),r=y2(i,r,void 0),Xg(e,t,o,r)}if(a=(o&e.childLanes)!==0,ei||a){if(r=Ur,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ll(e,s),ko(r,e,s,-1))}return n_(),r=y2(Error(De(421))),Xg(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=O9.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,bi=xc(s.nextSibling),Si=t,Hn=!0,Ao=null,e!==null&&(Wi[Hi++]=nl,Wi[Hi++]=rl,Wi[Hi++]=Wu,nl=e.id,rl=e.overflow,Wu=t),t=Q5(t,r.children),t.flags|=4096,t)}function GA(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_b(e.return,t,n)}function v2(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vk(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Cs(e,t,r.children,n),r=Yn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&GA(e,n,t);else if(e.tag===19)GA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ln(Yn,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&P1(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),v2(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&P1(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}v2(t,!0,n,null,i);break;case"together":v2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function B0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,n=Sc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function A9(e,t,n){switch(t.tag){case 3:gk(t),zh();break;case 5:q6(t);break;case 1:ri(t.type)&&_1(t);break;case 4:z5(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ln(A1,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ln(Yn,Yn.current&1),t.flags|=128,null):n&t.child.childLanes?yk(e,t,n):(Ln(Yn,Yn.current&1),e=cl(e,t,n),e!==null?e.sibling:null);Ln(Yn,Yn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vk(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ln(Yn,Yn.current),r)break;return null;case 22:case 23:return t.lanes=0,pk(e,t,n)}return cl(e,t,n)}var xk,kb,bk,wk;xk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kb=function(){};bk=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Eu(pa.current);var i=null;switch(n){case"input":s=Zx(e,s),r=Zx(e,r),i=[];break;case"select":s=Zn({},s,{value:void 0}),r=Zn({},r,{value:void 0}),i=[];break;case"textarea":s=tb(e,s),r=tb(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=b1)}rb(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qp.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fn("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};wk=function(e,t,n,r){n!==r&&(t.flags|=4)};function rp(e,t){if(!Hn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function E9(e,t,n){var r=t.pendingProps;switch(D5(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return is(t),null;case 1:return ri(t.type)&&w1(),is(t),null;case 3:return r=t.stateNode,qh(),Un(ni),Un(ys),q5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ao!==null&&(Fb(Ao),Ao=null))),kb(e,t),is(t),null;case 5:$5(t);var s=Eu(lm.current);if(n=t.type,e!==null&&t.stateNode!=null)bk(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(De(166));return is(t),null}if(e=Eu(pa.current),Yg(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[la]=t,r[om]=i,e=(t.mode&1)!==0,n){case"dialog":Fn("cancel",r),Fn("close",r);break;case"iframe":case"object":case"embed":Fn("load",r);break;case"video":case"audio":for(s=0;s<mp.length;s++)Fn(mp[s],r);break;case"source":Fn("error",r);break;case"img":case"image":case"link":Fn("error",r),Fn("load",r);break;case"details":Fn("toggle",r);break;case"input":nA(r,i),Fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fn("invalid",r);break;case"textarea":sA(r,i),Fn("invalid",r)}rb(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Kg(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Kg(r.textContent,a,e),s=["children",""+a]):Qp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fn("scroll",r)}switch(n){case"input":Bg(r),rA(r,i,!0);break;case"textarea":Bg(r),iA(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=b1)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=YC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[la]=t,e[om]=r,xk(e,t,!1,!1),t.stateNode=e;e:{switch(o=sb(n,r),n){case"dialog":Fn("cancel",e),Fn("close",e),s=r;break;case"iframe":case"object":case"embed":Fn("load",e),s=r;break;case"video":case"audio":for(s=0;s<mp.length;s++)Fn(mp[s],e);s=r;break;case"source":Fn("error",e),s=r;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),s=r;break;case"details":Fn("toggle",e),s=r;break;case"input":nA(e,r),s=Zx(e,r),Fn("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Zn({},r,{value:void 0}),Fn("invalid",e);break;case"textarea":sA(e,r),s=tb(e,r),Fn("invalid",e);break;default:s=r}rb(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ZC(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&QC(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xp(e,l):typeof l=="number"&&Xp(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qp.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fn("scroll",e):l!=null&&b5(e,i,l,o))}switch(n){case"input":Bg(e),rA(e,r,!1);break;case"textarea":Bg(e),iA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Lc(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ah(e,!!r.multiple,i,!1):r.defaultValue!=null&&ah(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=b1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return is(t),null;case 6:if(e&&t.stateNode!=null)wk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(De(166));if(n=Eu(lm.current),Eu(pa.current),Yg(t)){if(r=t.stateNode,n=t.memoizedProps,r[la]=t,(i=r.nodeValue!==n)&&(e=Si,e!==null))switch(e.tag){case 3:Kg(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kg(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[la]=t,t.stateNode=r}return is(t),null;case 13:if(Un(Yn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Hn&&bi!==null&&t.mode&1&&!(t.flags&128))V6(),zh(),t.flags|=98560,i=!1;else if(i=Yg(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(De(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(De(317));i[la]=t}else zh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;is(t),i=!1}else Ao!==null&&(Fb(Ao),Ao=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Yn.current&1?jr===0&&(jr=3):n_())),t.updateQueue!==null&&(t.flags|=4),is(t),null);case 4:return qh(),kb(e,t),e===null&&sm(t.stateNode.containerInfo),is(t),null;case 10:return V5(t.type._context),is(t),null;case 17:return ri(t.type)&&w1(),is(t),null;case 19:if(Un(Yn),i=t.memoizedState,i===null)return is(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)rp(i,!1);else{if(jr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=P1(e),o!==null){for(t.flags|=128,rp(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ln(Yn,Yn.current&1|2),t.child}e=e.sibling}i.tail!==null&&hr()>Hh&&(t.flags|=128,r=!0,rp(i,!1),t.lanes=4194304)}else{if(!r)if(e=P1(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Hn)return is(t),null}else 2*hr()-i.renderingStartTime>Hh&&n!==1073741824&&(t.flags|=128,r=!0,rp(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=hr(),t.sibling=null,n=Yn.current,Ln(Yn,r?n&1|2:n&1),t):(is(t),null);case 22:case 23:return t_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vi&1073741824&&(is(t),t.subtreeFlags&6&&(t.flags|=8192)):is(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function T9(e,t){switch(D5(t),t.tag){case 1:return ri(t.type)&&w1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qh(),Un(ni),Un(ys),q5(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $5(t),null;case 13:if(Un(Yn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));zh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Un(Yn),null;case 4:return qh(),null;case 10:return V5(t.type._context),null;case 22:case 23:return t_(),null;case 24:return null;default:return null}}var Zg=!1,fs=!1,P9=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function eh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){or(e,t,r)}else n.current=null}function jb(e,t,n){try{n()}catch(r){or(e,t,r)}}var KA=!1;function C9(e,t){if(pb=y1,e=E6(),R5(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mb={focusedElem:e,selectionRange:n},y1=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,w=b.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:bo(t.type,x),w);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(R){or(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return b=KA,KA=!1,b}function kp(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&jb(t,n,i)}s=s.next}while(s!==r)}}function My(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ib(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _k(e){var t=e.alternate;t!==null&&(e.alternate=null,_k(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[la],delete t[om],delete t[vb],delete t[d9],delete t[h9])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sk(e){return e.tag===5||e.tag===3||e.tag===4}function YA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=b1));else if(r!==4&&(e=e.child,e!==null))for(Rb(e,t,n),e=e.sibling;e!==null;)Rb(e,t,n),e=e.sibling}function Lb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Lb(e,t,n),e=e.sibling;e!==null;)Lb(e,t,n),e=e.sibling}var Wr=null,No=!1;function ql(e,t,n){for(n=n.child;n!==null;)Nk(e,t,n),n=n.sibling}function Nk(e,t,n){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(Py,n)}catch{}switch(n.tag){case 5:fs||eh(n,t);case 6:var r=Wr,s=No;Wr=null,ql(e,t,n),Wr=r,No=s,Wr!==null&&(No?(e=Wr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wr.removeChild(n.stateNode));break;case 18:Wr!==null&&(No?(e=Wr,n=n.stateNode,e.nodeType===8?d2(e.parentNode,n):e.nodeType===1&&d2(e,n),tm(e)):d2(Wr,n.stateNode));break;case 4:r=Wr,s=No,Wr=n.stateNode.containerInfo,No=!0,ql(e,t,n),Wr=r,No=s;break;case 0:case 11:case 14:case 15:if(!fs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jb(n,t,o),s=s.next}while(s!==r)}ql(e,t,n);break;case 1:if(!fs&&(eh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){or(n,t,a)}ql(e,t,n);break;case 21:ql(e,t,n);break;case 22:n.mode&1?(fs=(r=fs)||n.memoizedState!==null,ql(e,t,n),fs=r):ql(e,t,n);break;default:ql(e,t,n)}}function QA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new P9),t.forEach(function(r){var s=F9.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Wr=a.stateNode,No=!1;break e;case 3:Wr=a.stateNode.containerInfo,No=!0;break e;case 4:Wr=a.stateNode.containerInfo,No=!0;break e}a=a.return}if(Wr===null)throw Error(De(160));Nk(i,o,s),Wr=null,No=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){or(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ak(t,e),t=t.sibling}function Ak(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mo(t,e),ea(e),r&4){try{kp(3,e,e.return),My(3,e)}catch(x){or(e,e.return,x)}try{kp(5,e,e.return)}catch(x){or(e,e.return,x)}}break;case 1:mo(t,e),ea(e),r&512&&n!==null&&eh(n,n.return);break;case 5:if(mo(t,e),ea(e),r&512&&n!==null&&eh(n,n.return),e.flags&32){var s=e.stateNode;try{Xp(s,"")}catch(x){or(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&GC(s,i),sb(a,o);var c=sb(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?ZC(s,h):d==="dangerouslySetInnerHTML"?QC(s,h):d==="children"?Xp(s,h):b5(s,d,h,c)}switch(a){case"input":Jx(s,i);break;case"textarea":KC(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?ah(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?ah(s,!!i.multiple,i.defaultValue,!0):ah(s,!!i.multiple,i.multiple?[]:"",!1))}s[om]=i}catch(x){or(e,e.return,x)}}break;case 6:if(mo(t,e),ea(e),r&4){if(e.stateNode===null)throw Error(De(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){or(e,e.return,x)}}break;case 3:if(mo(t,e),ea(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tm(t.containerInfo)}catch(x){or(e,e.return,x)}break;case 4:mo(t,e),ea(e);break;case 13:mo(t,e),ea(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(J5=hr())),r&4&&QA(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(fs=(c=fs)||d,mo(t,e),fs=c):mo(t,e),ea(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Ke=e,d=e.child;d!==null;){for(h=Ke=d;Ke!==null;){switch(p=Ke,f=p.child,p.tag){case 0:case 11:case 14:case 15:kp(4,p,p.return);break;case 1:eh(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){or(r,n,x)}}break;case 5:eh(p,p.return);break;case 22:if(p.memoizedState!==null){ZA(h);continue}}f!==null?(f.return=p,Ke=f):ZA(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=XC("display",o))}catch(x){or(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){or(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mo(t,e),ea(e),r&4&&QA(e);break;case 21:break;default:mo(t,e),ea(e)}}function ea(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sk(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xp(s,""),r.flags&=-33);var i=YA(e);Lb(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=YA(e);Rb(e,a,o);break;default:throw Error(De(161))}}catch(l){or(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function k9(e,t,n){Ke=e,Ek(e)}function Ek(e,t,n){for(var r=(e.mode&1)!==0;Ke!==null;){var s=Ke,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zg;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||fs;a=Zg;var c=fs;if(Zg=o,(fs=l)&&!c)for(Ke=s;Ke!==null;)o=Ke,l=o.child,o.tag===22&&o.memoizedState!==null?JA(s):l!==null?(l.return=o,Ke=l):JA(s);for(;i!==null;)Ke=i,Ek(i),i=i.sibling;Ke=s,Zg=a,fs=c}XA(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ke=i):XA(e)}}function XA(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fs||My(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!fs)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:bo(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&DA(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}DA(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&tm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}fs||t.flags&512&&Ib(t)}catch(p){or(t,t.return,p)}}if(t===e){Ke=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function ZA(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ke=n;break}Ke=t.return}}function JA(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{My(4,t)}catch(l){or(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){or(t,s,l)}}var i=t.return;try{Ib(t)}catch(l){or(t,i,l)}break;case 5:var o=t.return;try{Ib(t)}catch(l){or(t,o,l)}}}catch(l){or(t,t.return,l)}if(t===e){Ke=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ke=a;break}Ke=t.return}}var j9=Math.ceil,j1=bl.ReactCurrentDispatcher,X5=bl.ReactCurrentOwner,Ji=bl.ReactCurrentBatchConfig,rn=0,Ur=null,xr=null,Qr=0,vi=0,th=Qc(0),jr=0,hm=null,Gu=0,Oy=0,Z5=0,jp=null,Js=null,J5=0,Hh=1/0,Xa=null,I1=!1,Db=null,wc=null,Jg=!1,uc=null,R1=0,Ip=0,Mb=null,U0=-1,z0=0;function Ls(){return rn&6?hr():U0!==-1?U0:U0=hr()}function _c(e){return e.mode&1?rn&2&&Qr!==0?Qr&-Qr:p9.transition!==null?(z0===0&&(z0=u6()),z0):(e=gn,e!==0||(e=window.event,e=e===void 0?16:y6(e.type)),e):1}function ko(e,t,n,r){if(50<Ip)throw Ip=0,Mb=null,Error(De(185));qm(e,n,r),(!(rn&2)||e!==Ur)&&(e===Ur&&(!(rn&2)&&(Oy|=n),jr===4&&nc(e,Qr)),si(e,r),n===1&&rn===0&&!(t.mode&1)&&(Hh=hr()+500,Ry&&Xc()))}function si(e,t){var n=e.callbackNode;pF(e,t);var r=g1(e,e===Ur?Qr:0);if(r===0)n!==null&&lA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lA(n),t===1)e.tag===0?f9(e4.bind(null,e)):M6(e4.bind(null,e)),c9(function(){!(rn&6)&&Xc()}),n=null;else{switch(d6(r)){case 1:n=A5;break;case 4:n=l6;break;case 16:n=m1;break;case 536870912:n=c6;break;default:n=m1}n=Lk(n,Tk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Tk(e,t){if(U0=-1,z0=0,rn&6)throw Error(De(327));var n=e.callbackNode;if(hh()&&e.callbackNode!==n)return null;var r=g1(e,e===Ur?Qr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=L1(e,r);else{t=r;var s=rn;rn|=2;var i=Ck();(Ur!==e||Qr!==t)&&(Xa=null,Hh=hr()+500,Bu(e,t));do try{L9();break}catch(a){Pk(e,a)}while(!0);F5(),j1.current=i,rn=s,xr!==null?t=0:(Ur=null,Qr=0,t=jr)}if(t!==0){if(t===2&&(s=cb(e),s!==0&&(r=s,t=Ob(e,s))),t===1)throw n=hm,Bu(e,0),nc(e,r),si(e,hr()),n;if(t===6)nc(e,r);else{if(s=e.current.alternate,!(r&30)&&!I9(s)&&(t=L1(e,r),t===2&&(i=cb(e),i!==0&&(r=i,t=Ob(e,i))),t===1))throw n=hm,Bu(e,0),nc(e,r),si(e,hr()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(De(345));case 2:vu(e,Js,Xa);break;case 3:if(nc(e,r),(r&130023424)===r&&(t=J5+500-hr(),10<t)){if(g1(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ls(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=yb(vu.bind(null,e,Js,Xa),t);break}vu(e,Js,Xa);break;case 4:if(nc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Co(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=hr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*j9(r/1960))-r,10<r){e.timeoutHandle=yb(vu.bind(null,e,Js,Xa),r);break}vu(e,Js,Xa);break;case 5:vu(e,Js,Xa);break;default:throw Error(De(329))}}}return si(e,hr()),e.callbackNode===n?Tk.bind(null,e):null}function Ob(e,t){var n=jp;return e.current.memoizedState.isDehydrated&&(Bu(e,t).flags|=256),e=L1(e,t),e!==2&&(t=Js,Js=n,t!==null&&Fb(t)),e}function Fb(e){Js===null?Js=e:Js.push.apply(Js,e)}function I9(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ro(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nc(e,t){for(t&=~Z5,t&=~Oy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Co(t),r=1<<n;e[n]=-1,t&=~r}}function e4(e){if(rn&6)throw Error(De(327));hh();var t=g1(e,0);if(!(t&1))return si(e,hr()),null;var n=L1(e,t);if(e.tag!==0&&n===2){var r=cb(e);r!==0&&(t=r,n=Ob(e,r))}if(n===1)throw n=hm,Bu(e,0),nc(e,t),si(e,hr()),n;if(n===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vu(e,Js,Xa),si(e,hr()),null}function e_(e,t){var n=rn;rn|=1;try{return e(t)}finally{rn=n,rn===0&&(Hh=hr()+500,Ry&&Xc())}}function Ku(e){uc!==null&&uc.tag===0&&!(rn&6)&&hh();var t=rn;rn|=1;var n=Ji.transition,r=gn;try{if(Ji.transition=null,gn=1,e)return e()}finally{gn=r,Ji.transition=n,rn=t,!(rn&6)&&Xc()}}function t_(){vi=th.current,Un(th)}function Bu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,l9(n)),xr!==null)for(n=xr.return;n!==null;){var r=n;switch(D5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&w1();break;case 3:qh(),Un(ni),Un(ys),q5();break;case 5:$5(r);break;case 4:qh();break;case 13:Un(Yn);break;case 19:Un(Yn);break;case 10:V5(r.type._context);break;case 22:case 23:t_()}n=n.return}if(Ur=e,xr=e=Sc(e.current,null),Qr=vi=t,jr=0,hm=null,Z5=Oy=Gu=0,Js=jp=null,Au!==null){for(t=0;t<Au.length;t++)if(n=Au[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Au=null}return e}function Pk(e,t){do{var n=xr;try{if(F5(),F0.current=k1,C1){for(var r=Xn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}C1=!1}if(Hu=0,Vr=kr=Xn=null,Cp=!1,cm=0,X5.current=null,n===null||n.return===null){jr=1,hm=t,xr=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Qr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=UA(o);if(f!==null){f.flags&=-257,zA(f,o,a,i,t),f.mode&1&&BA(i,c,t),t=f,l=c;var b=t.updateQueue;if(b===null){var x=new Set;x.add(l),t.updateQueue=x}else b.add(l);break e}else{if(!(t&1)){BA(i,c,t),n_();break e}l=Error(De(426))}}else if(Hn&&a.mode&1){var w=UA(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),zA(w,o,a,i,t),M5(Wh(l,a));break e}}i=l=Wh(l,a),jr!==4&&(jr=2),jp===null?jp=[i]:jp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=dk(i,l,t);LA(i,v);break e;case 1:a=l;var _=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(wc===null||!wc.has(N)))){i.flags|=65536,t&=-t,i.lanes|=t;var R=hk(i,a,t);LA(i,R);break e}}i=i.return}while(i!==null)}jk(n)}catch(O){t=O,xr===n&&n!==null&&(xr=n=n.return);continue}break}while(!0)}function Ck(){var e=j1.current;return j1.current=k1,e===null?k1:e}function n_(){(jr===0||jr===3||jr===2)&&(jr=4),Ur===null||!(Gu&268435455)&&!(Oy&268435455)||nc(Ur,Qr)}function L1(e,t){var n=rn;rn|=2;var r=Ck();(Ur!==e||Qr!==t)&&(Xa=null,Bu(e,t));do try{R9();break}catch(s){Pk(e,s)}while(!0);if(F5(),rn=n,j1.current=r,xr!==null)throw Error(De(261));return Ur=null,Qr=0,jr}function R9(){for(;xr!==null;)kk(xr)}function L9(){for(;xr!==null&&!iF();)kk(xr)}function kk(e){var t=Rk(e.alternate,e,vi);e.memoizedProps=e.pendingProps,t===null?jk(e):xr=t,X5.current=null}function jk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=T9(n,t),n!==null){n.flags&=32767,xr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jr=6,xr=null;return}}else if(n=E9(n,t,vi),n!==null){xr=n;return}if(t=t.sibling,t!==null){xr=t;return}xr=t=e}while(t!==null);jr===0&&(jr=5)}function vu(e,t,n){var r=gn,s=Ji.transition;try{Ji.transition=null,gn=1,D9(e,t,n,r)}finally{Ji.transition=s,gn=r}return null}function D9(e,t,n,r){do hh();while(uc!==null);if(rn&6)throw Error(De(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(mF(e,i),e===Ur&&(xr=Ur=null,Qr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jg||(Jg=!0,Lk(m1,function(){return hh(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ji.transition,Ji.transition=null;var o=gn;gn=1;var a=rn;rn|=4,X5.current=null,C9(e,n),Ak(n,e),t9(mb),y1=!!pb,mb=pb=null,e.current=n,k9(n),oF(),rn=a,gn=o,Ji.transition=i}else e.current=n;if(Jg&&(Jg=!1,uc=e,R1=s),i=e.pendingLanes,i===0&&(wc=null),cF(n.stateNode),si(e,hr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(I1)throw I1=!1,e=Db,Db=null,e;return R1&1&&e.tag!==0&&hh(),i=e.pendingLanes,i&1?e===Mb?Ip++:(Ip=0,Mb=e):Ip=0,Xc(),null}function hh(){if(uc!==null){var e=d6(R1),t=Ji.transition,n=gn;try{if(Ji.transition=null,gn=16>e?16:e,uc===null)var r=!1;else{if(e=uc,uc=null,R1=0,rn&6)throw Error(De(331));var s=rn;for(rn|=4,Ke=e.current;Ke!==null;){var i=Ke,o=i.child;if(Ke.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ke=c;Ke!==null;){var d=Ke;switch(d.tag){case 0:case 11:case 15:kp(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ke=h;else for(;Ke!==null;){d=Ke;var p=d.sibling,f=d.return;if(_k(d),d===c){Ke=null;break}if(p!==null){p.return=f,Ke=p;break}Ke=f}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}Ke=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ke=o;else e:for(;Ke!==null;){if(i=Ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kp(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ke=v;break e}Ke=i.return}}var _=e.current;for(Ke=_;Ke!==null;){o=Ke;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Ke=N;else e:for(o=_;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:My(9,a)}}catch(O){or(a,a.return,O)}if(a===o){Ke=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Ke=R;break e}Ke=a.return}}if(rn=s,Xc(),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(Py,e)}catch{}r=!0}return r}finally{gn=n,Ji.transition=t}}return!1}function t4(e,t,n){t=Wh(n,t),t=dk(e,t,1),e=bc(e,t,1),t=Ls(),e!==null&&(qm(e,1,t),si(e,t))}function or(e,t,n){if(e.tag===3)t4(e,e,n);else for(;t!==null;){if(t.tag===3){t4(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wc===null||!wc.has(r))){e=Wh(n,e),e=hk(t,e,1),t=bc(t,e,1),e=Ls(),t!==null&&(qm(t,1,e),si(t,e));break}}t=t.return}}function M9(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ls(),e.pingedLanes|=e.suspendedLanes&n,Ur===e&&(Qr&n)===n&&(jr===4||jr===3&&(Qr&130023424)===Qr&&500>hr()-J5?Bu(e,0):Z5|=n),si(e,t)}function Ik(e,t){t===0&&(e.mode&1?(t=$g,$g<<=1,!($g&130023424)&&($g=4194304)):t=1);var n=Ls();e=ll(e,t),e!==null&&(qm(e,t,n),si(e,n))}function O9(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ik(e,n)}function F9(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(t),Ik(e,n)}var Rk;Rk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ni.current)ei=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ei=!1,A9(e,t,n);ei=!!(e.flags&131072)}else ei=!1,Hn&&t.flags&1048576&&O6(t,N1,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;B0(e,t),e=t.pendingProps;var s=Uh(t,ys.current);dh(t,n),s=H5(null,t,r,e,s,n);var i=G5();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ri(r)?(i=!0,_1(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,U5(t),s.updater=Dy,t.stateNode=s,s._reactInternals=t,Nb(t,r,e,n),t=Tb(null,t,r,!0,i,n)):(t.tag=0,Hn&&i&&L5(t),Cs(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(B0(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=B9(r),e=bo(r,e),s){case 0:t=Eb(null,t,r,e,n);break e;case 1:t=WA(null,t,r,e,n);break e;case 11:t=$A(null,t,r,e,n);break e;case 14:t=qA(null,t,r,bo(r.type,e),n);break e}throw Error(De(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bo(r,s),Eb(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bo(r,s),WA(e,t,r,s,n);case 3:e:{if(gk(t),e===null)throw Error(De(387));r=t.pendingProps,i=t.memoizedState,s=i.element,$6(e,t),T1(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Wh(Error(De(423)),t),t=HA(e,t,r,n,s);break e}else if(r!==s){s=Wh(Error(De(424)),t),t=HA(e,t,r,n,s);break e}else for(bi=xc(t.stateNode.containerInfo.firstChild),Si=t,Hn=!0,Ao=null,n=U6(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zh(),r===s){t=cl(e,t,n);break e}Cs(e,t,r,n)}t=t.child}return t;case 5:return q6(t),e===null&&wb(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,gb(r,s)?o=null:i!==null&&gb(r,i)&&(t.flags|=32),mk(e,t),Cs(e,t,o,n),t.child;case 6:return e===null&&wb(t),null;case 13:return yk(e,t,n);case 4:return z5(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$h(t,null,r,n):Cs(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bo(r,s),$A(e,t,r,s,n);case 7:return Cs(e,t,t.pendingProps,n),t.child;case 8:return Cs(e,t,t.pendingProps.children,n),t.child;case 12:return Cs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ln(A1,r._currentValue),r._currentValue=o,i!==null)if(Ro(i.value,o)){if(i.children===s.children&&!ni.current){t=cl(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=il(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),_b(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(De(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),_b(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Cs(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,dh(t,n),s=no(s),r=r(s),t.flags|=1,Cs(e,t,r,n),t.child;case 14:return r=t.type,s=bo(r,t.pendingProps),s=bo(r.type,s),qA(e,t,r,s,n);case 15:return fk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bo(r,s),B0(e,t),t.tag=1,ri(r)?(e=!0,_1(t)):e=!1,dh(t,n),uk(t,r,s),Nb(t,r,s,n),Tb(null,t,r,!0,e,n);case 19:return vk(e,t,n);case 22:return pk(e,t,n)}throw Error(De(156,t.tag))};function Lk(e,t){return a6(e,t)}function V9(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xi(e,t,n,r){return new V9(e,t,n,r)}function r_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function B9(e){if(typeof e=="function")return r_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_5)return 11;if(e===S5)return 14}return 2}function Sc(e,t){var n=e.alternate;return n===null?(n=Xi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $0(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")r_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wd:return Uu(n.children,s,i,t);case w5:o=8,s|=8;break;case Kx:return e=Xi(12,n,t,s|2),e.elementType=Kx,e.lanes=i,e;case Yx:return e=Xi(13,n,t,s),e.elementType=Yx,e.lanes=i,e;case Qx:return e=Xi(19,n,t,s),e.elementType=Qx,e.lanes=i,e;case qC:return Fy(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zC:o=10;break e;case $C:o=9;break e;case _5:o=11;break e;case S5:o=14;break e;case Jl:o=16,r=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return t=Xi(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Uu(e,t,n,r){return e=Xi(7,e,r,t),e.lanes=n,e}function Fy(e,t,n,r){return e=Xi(22,e,r,t),e.elementType=qC,e.lanes=n,e.stateNode={isHidden:!1},e}function x2(e,t,n){return e=Xi(6,e,null,t),e.lanes=n,e}function b2(e,t,n){return t=Xi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function U9(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=e2(0),this.expirationTimes=e2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=e2(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function s_(e,t,n,r,s,i,o,a,l){return e=new U9(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},U5(i),e}function z9(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qd,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Dk(e){if(!e)return Dc;e=e._reactInternals;e:{if(od(e)!==e||e.tag!==1)throw Error(De(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(e.tag===1){var n=e.type;if(ri(n))return D6(e,n,t)}return t}function Mk(e,t,n,r,s,i,o,a,l){return e=s_(n,r,!0,e,s,i,o,a,l),e.context=Dk(null),n=e.current,r=Ls(),s=_c(n),i=il(r,s),i.callback=t??null,bc(n,i,s),e.current.lanes=s,qm(e,s,r),si(e,r),e}function Vy(e,t,n,r){var s=t.current,i=Ls(),o=_c(s);return n=Dk(n),t.context===null?t.context=n:t.pendingContext=n,t=il(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bc(s,t,o),e!==null&&(ko(e,s,o,i),O0(e,s,o)),o}function D1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function n4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function i_(e,t){n4(e,t),(e=e.alternate)&&n4(e,t)}function $9(){return null}var Ok=typeof reportError=="function"?reportError:function(e){console.error(e)};function o_(e){this._internalRoot=e}By.prototype.render=o_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));Vy(e,t,null,null)};By.prototype.unmount=o_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ku(function(){Vy(null,e,null,null)}),t[al]=null}};function By(e){this._internalRoot=e}By.prototype.unstable_scheduleHydration=function(e){if(e){var t=p6();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tc.length&&t!==0&&t<tc[n].priority;n++);tc.splice(n,0,e),n===0&&g6(e)}};function a_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function r4(){}function q9(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=D1(o);i.call(c)}}var o=Mk(t,r,e,0,null,!1,!1,"",r4);return e._reactRootContainer=o,e[al]=o.current,sm(e.nodeType===8?e.parentNode:e),Ku(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=D1(l);a.call(c)}}var l=s_(e,0,!1,null,null,!1,!1,"",r4);return e._reactRootContainer=l,e[al]=l.current,sm(e.nodeType===8?e.parentNode:e),Ku(function(){Vy(t,l,n,r)}),l}function zy(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=D1(o);a.call(l)}}Vy(t,o,e,s)}else o=q9(n,t,e,s,r);return D1(o)}h6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pp(t.pendingLanes);n!==0&&(E5(t,n|1),si(t,hr()),!(rn&6)&&(Hh=hr()+500,Xc()))}break;case 13:Ku(function(){var r=ll(e,1);if(r!==null){var s=Ls();ko(r,e,1,s)}}),i_(e,1)}};T5=function(e){if(e.tag===13){var t=ll(e,134217728);if(t!==null){var n=Ls();ko(t,e,134217728,n)}i_(e,134217728)}};f6=function(e){if(e.tag===13){var t=_c(e),n=ll(e,t);if(n!==null){var r=Ls();ko(n,e,t,r)}i_(e,t)}};p6=function(){return gn};m6=function(e,t){var n=gn;try{return gn=e,t()}finally{gn=n}};ob=function(e,t,n){switch(t){case"input":if(Jx(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Iy(r);if(!s)throw Error(De(90));HC(r),Jx(r,s)}}}break;case"textarea":KC(e,n);break;case"select":t=n.value,t!=null&&ah(e,!!n.multiple,t,!1)}};t6=e_;n6=Ku;var W9={usingClientEntryPoint:!1,Events:[Hm,Yd,Iy,JC,e6,e_]},sp={findFiberByHostInstance:Nu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H9={bundleType:sp.bundleType,version:sp.version,rendererPackageName:sp.rendererPackageName,rendererConfig:sp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i6(e),e===null?null:e.stateNode},findFiberByHostInstance:sp.findFiberByHostInstance||$9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e0.isDisabled&&e0.supportsFiber)try{Py=e0.inject(H9),fa=e0}catch{}}Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W9;Pi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a_(t))throw Error(De(200));return z9(e,t,null,n)};Pi.createRoot=function(e,t){if(!a_(e))throw Error(De(299));var n=!1,r="",s=Ok;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=s_(e,1,!1,null,null,n,!1,r,s),e[al]=t.current,sm(e.nodeType===8?e.parentNode:e),new o_(t)};Pi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=i6(t),e=e===null?null:e.stateNode,e};Pi.flushSync=function(e){return Ku(e)};Pi.hydrate=function(e,t,n){if(!Uy(t))throw Error(De(200));return zy(null,e,t,!0,n)};Pi.hydrateRoot=function(e,t,n){if(!a_(e))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ok;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Mk(t,null,e,1,n??null,s,!1,i,o),e[al]=t.current,sm(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new By(t)};Pi.render=function(e,t,n){if(!Uy(t))throw Error(De(200));return zy(null,e,t,!1,n)};Pi.unmountComponentAtNode=function(e){if(!Uy(e))throw Error(De(40));return e._reactRootContainer?(Ku(function(){zy(null,null,e,!1,function(){e._reactRootContainer=null,e[al]=null})}),!0):!1};Pi.unstable_batchedUpdates=e_;Pi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uy(n))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return zy(e,t,n,!1,r)};Pi.version="18.3.1-next-f1338f8080-20240426";function Fk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fk)}catch(e){console.error(e)}}Fk(),FC.exports=Pi;var Km=FC.exports;const Vk=EC(Km);var Bk,s4=Km;Bk=s4.createRoot,s4.hydrateRoot;const G9=1,K9=1e6;let w2=0;function Y9(){return w2=(w2+1)%Number.MAX_SAFE_INTEGER,w2.toString()}const _2=new Map,i4=e=>{if(_2.has(e))return;const t=setTimeout(()=>{_2.delete(e),Rp({type:"REMOVE_TOAST",toastId:e})},K9);_2.set(e,t)},Q9=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,G9)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?i4(n):e.toasts.forEach(r=>{i4(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},q0=[];let W0={toasts:[]};function Rp(e){W0=Q9(W0,e),q0.forEach(t=>{t(W0)})}function X9({...e}){const t=Y9(),n=s=>Rp({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Rp({type:"DISMISS_TOAST",toastId:t});return Rp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Z9(){const[e,t]=L.useState(W0);return L.useEffect(()=>(q0.push(t),()=>{const n=q0.indexOf(t);n>-1&&q0.splice(n,1)}),[e]),{...e,toast:X9,dismiss:n=>Rp({type:"DISMISS_TOAST",toastId:n})}}function Gn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function o4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Uk(...e){return t=>{let n=!1;const r=e.map(s=>{const i=o4(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():o4(e[s],null)}}}}function Ms(...e){return L.useCallback(Uk(...e),e)}function J9(e,t){const n=L.createContext(t),r=i=>{const{children:o,...a}=i,l=L.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function s(i){const o=L.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Ym(e,t=[]){let n=[];function r(i,o){const a=L.createContext(o),l=n.length;n=[...n,o];const c=h=>{var v;const{scope:p,children:f,...b}=h,x=((v=p==null?void 0:p[e])==null?void 0:v[l])||a,w=L.useMemo(()=>b,Object.values(b));return u.jsx(x.Provider,{value:w,children:f})};c.displayName=i+"Provider";function d(h,p){var x;const f=((x=p==null?void 0:p[e])==null?void 0:x[l])||a,b=L.useContext(f);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>L.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return L.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,eV(s,...t)]}function eV(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return L.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function M1(e){const t=tV(e),n=L.forwardRef((r,s)=>{const{children:i,...o}=r,a=L.Children.toArray(i),l=a.find(rV);if(l){const c=l.props.children,d=a.map(h=>h===l?L.Children.count(c)>1?L.Children.only(null):L.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:L.isValidElement(c)?L.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function tV(e){const t=L.forwardRef((n,r)=>{const{children:s,...i}=n;if(L.isValidElement(s)){const o=iV(s),a=sV(i,s.props);return s.type!==L.Fragment&&(a.ref=r?Uk(r,o):o),L.cloneElement(s,a)}return L.Children.count(s)>1?L.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zk=Symbol("radix.slottable");function nV(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=zk,t}function rV(e){return L.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zk}function sV(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function iV(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function oV(e){const t=e+"CollectionProvider",[n,r]=Ym(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:v}=x,_=Ve.useRef(null),N=Ve.useRef(new Map).current;return u.jsx(s,{scope:w,itemMap:N,collectionRef:_,children:v})};o.displayName=t;const a=e+"CollectionSlot",l=M1(a),c=Ve.forwardRef((x,w)=>{const{scope:v,children:_}=x,N=i(a,v),R=Ms(w,N.collectionRef);return u.jsx(l,{ref:R,children:_})});c.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=M1(d),f=Ve.forwardRef((x,w)=>{const{scope:v,children:_,...N}=x,R=Ve.useRef(null),O=Ms(w,R),z=i(d,v);return Ve.useEffect(()=>(z.itemMap.set(R,{ref:R,...N}),()=>void z.itemMap.delete(R))),u.jsx(p,{[h]:"",ref:O,children:_})});f.displayName=d;function b(x){const w=i(e+"CollectionConsumer",x);return Ve.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const N=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((z,k)=>N.indexOf(z.ref.current)-N.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},b,r]}var aV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sr=aV.reduce((e,t)=>{const n=M1(`Primitive.${t}`),r=L.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function $k(e,t){e&&Km.flushSync(()=>e.dispatchEvent(t))}function Na(e){const t=L.useRef(e);return L.useEffect(()=>{t.current=e}),L.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function lV(e,t=globalThis==null?void 0:globalThis.document){const n=Na(e);L.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var cV="DismissableLayer",Vb="dismissableLayer.update",uV="dismissableLayer.pointerDownOutside",dV="dismissableLayer.focusOutside",a4,qk=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$y=L.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=L.useContext(qk),[d,h]=L.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=L.useState({}),b=Ms(t,k=>h(k)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(w),_=d?x.indexOf(d):-1,N=c.layersWithOutsidePointerEventsDisabled.size>0,R=_>=v,O=fV(k=>{const A=k.target,C=[...c.branches].some(M=>M.contains(A));!R||C||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},p),z=pV(k=>{const A=k.target;[...c.branches].some(M=>M.contains(A))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},p);return lV(k=>{_===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},p),L.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(a4=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),l4(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=a4)}},[d,p,n,c]),L.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),l4())},[d,c]),L.useEffect(()=>{const k=()=>f({});return document.addEventListener(Vb,k),()=>document.removeEventListener(Vb,k)},[]),u.jsx(Sr.div,{...l,ref:b,style:{pointerEvents:N?R?"auto":"none":void 0,...e.style},onFocusCapture:Gn(e.onFocusCapture,z.onFocusCapture),onBlurCapture:Gn(e.onBlurCapture,z.onBlurCapture),onPointerDownCapture:Gn(e.onPointerDownCapture,O.onPointerDownCapture)})});$y.displayName=cV;var hV="DismissableLayerBranch",Wk=L.forwardRef((e,t)=>{const n=L.useContext(qk),r=L.useRef(null),s=Ms(t,r);return L.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(Sr.div,{...e,ref:s})});Wk.displayName=hV;function fV(e,t=globalThis==null?void 0:globalThis.document){const n=Na(e),r=L.useRef(!1),s=L.useRef(()=>{});return L.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Hk(uV,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function pV(e,t=globalThis==null?void 0:globalThis.document){const n=Na(e),r=L.useRef(!1);return L.useEffect(()=>{const s=i=>{i.target&&!r.current&&Hk(dV,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function l4(){const e=new CustomEvent(Vb);document.dispatchEvent(e)}function Hk(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?$k(s,i):s.dispatchEvent(i)}var mV=$y,gV=Wk,ul=globalThis!=null&&globalThis.document?L.useLayoutEffect:()=>{},yV="Portal",l_=L.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=L.useState(!1);ul(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Vk.createPortal(u.jsx(Sr.div,{...r,ref:t}),o):null});l_.displayName=yV;function vV(e,t){return L.useReducer((n,r)=>t[n][r]??n,e)}var hf=e=>{const{present:t,children:n}=e,r=xV(t),s=typeof n=="function"?n({present:r.isPresent}):L.Children.only(n),i=Ms(r.ref,bV(s));return typeof n=="function"||r.isPresent?L.cloneElement(s,{ref:i}):null};hf.displayName="Presence";function xV(e){const[t,n]=L.useState(),r=L.useRef(null),s=L.useRef(e),i=L.useRef("none"),o=e?"mounted":"unmounted",[a,l]=vV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const c=t0(r.current);i.current=a==="mounted"?c:"none"},[a]),ul(()=>{const c=r.current,d=s.current;if(d!==e){const p=i.current,f=t0(c);e?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),ul(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=f=>{const x=t0(r.current).includes(f.animationName);if(f.target===t&&x&&(l("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=f=>{f.target===t&&(i.current=t0(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:L.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function t0(e){return(e==null?void 0:e.animationName)||"none"}function bV(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wV=y5[" useInsertionEffect ".trim().toString()]||ul;function Gk({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=_V({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=L.useRef(e!==void 0);L.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=L.useCallback(d=>{var h;if(a){const p=SV(d)?d(e):d;p!==e&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,e,i,o]);return[l,c]}function _V({defaultProp:e,onChange:t}){const[n,r]=L.useState(e),s=L.useRef(n),i=L.useRef(t);return wV(()=>{i.current=t},[t]),L.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function SV(e){return typeof e=="function"}var NV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),AV="VisuallyHidden",qy=L.forwardRef((e,t)=>u.jsx(Sr.span,{...e,ref:t,style:{...NV,...e.style}}));qy.displayName=AV;var EV=qy,c_="ToastProvider",[u_,TV,PV]=oV("Toast"),[Kk,Gle]=Ym("Toast",[PV]),[CV,Wy]=Kk(c_),Yk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=L.useState(null),[c,d]=L.useState(0),h=L.useRef(!1),p=L.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${c_}\`. Expected non-empty \`string\`.`),u.jsx(u_.Provider,{scope:t,children:u.jsx(CV,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:L.useCallback(()=>d(f=>f+1),[]),onToastRemove:L.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};Yk.displayName=c_;var Qk="ToastViewport",kV=["F8"],Bb="toast.viewportPause",Ub="toast.viewportResume",Xk=L.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=kV,label:s="Notifications ({hotkey})",...i}=e,o=Wy(Qk,n),a=TV(n),l=L.useRef(null),c=L.useRef(null),d=L.useRef(null),h=L.useRef(null),p=Ms(t,h,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;L.useEffect(()=>{const w=v=>{var N;r.length!==0&&r.every(R=>v[R]||v.code===R)&&((N=h.current)==null||N.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),L.useEffect(()=>{const w=l.current,v=h.current;if(b&&w&&v){const _=()=>{if(!o.isClosePausedRef.current){const z=new CustomEvent(Bb);v.dispatchEvent(z),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const z=new CustomEvent(Ub);v.dispatchEvent(z),o.isClosePausedRef.current=!1}},R=z=>{!w.contains(z.relatedTarget)&&N()},O=()=>{w.contains(document.activeElement)||N()};return w.addEventListener("focusin",_),w.addEventListener("focusout",R),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",O),window.addEventListener("blur",_),window.addEventListener("focus",N),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",R),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",O),window.removeEventListener("blur",_),window.removeEventListener("focus",N)}}},[b,o.isClosePausedRef]);const x=L.useCallback(({tabbingDirection:w})=>{const _=a().map(N=>{const R=N.ref.current,O=[R,...$V(R)];return w==="forwards"?O:O.reverse()});return(w==="forwards"?_.reverse():_).flat()},[a]);return L.useEffect(()=>{const w=h.current;if(w){const v=_=>{var O,z,k;const N=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!N){const A=document.activeElement,C=_.shiftKey;if(_.target===w&&C){(O=c.current)==null||O.focus();return}const I=x({tabbingDirection:C?"backwards":"forwards"}),E=I.findIndex($=>$===A);S2(I.slice(E+1))?_.preventDefault():C?(z=c.current)==null||z.focus():(k=d.current)==null||k.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,x]),u.jsxs(gV,{ref:l,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&u.jsx(zb,{ref:c,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});S2(w)}}),u.jsx(u_.Slot,{scope:n,children:u.jsx(Sr.ol,{tabIndex:-1,...i,ref:p})}),b&&u.jsx(zb,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});S2(w)}})]})});Xk.displayName=Qk;var Zk="ToastFocusProxy",zb=L.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Wy(Zk,n);return u.jsx(qy,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});zb.displayName=Zk;var Qm="Toast",jV="toast.swipeStart",IV="toast.swipeMove",RV="toast.swipeCancel",LV="toast.swipeEnd",Jk=L.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,l]=Gk({prop:r,defaultProp:s??!0,onChange:i,caller:Qm});return u.jsx(hf,{present:n||a,children:u.jsx(OV,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:Na(e.onPause),onResume:Na(e.onResume),onSwipeStart:Gn(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Gn(e.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Gn(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Gn(e.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Jk.displayName=Qm;var[DV,MV]=Kk(Qm,{onClose(){}}),OV=L.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...b}=e,x=Wy(Qm,n),[w,v]=L.useState(null),_=Ms(t,$=>v($)),N=L.useRef(null),R=L.useRef(null),O=s||x.duration,z=L.useRef(0),k=L.useRef(O),A=L.useRef(0),{onToastAdd:C,onToastRemove:M}=x,P=Na(()=>{var Y;(w==null?void 0:w.contains(document.activeElement))&&((Y=x.viewport)==null||Y.focus()),o()}),I=L.useCallback($=>{!$||$===1/0||(window.clearTimeout(A.current),z.current=new Date().getTime(),A.current=window.setTimeout(P,$))},[P]);L.useEffect(()=>{const $=x.viewport;if($){const Y=()=>{I(k.current),c==null||c()},ae=()=>{const ee=new Date().getTime()-z.current;k.current=k.current-ee,window.clearTimeout(A.current),l==null||l()};return $.addEventListener(Bb,ae),$.addEventListener(Ub,Y),()=>{$.removeEventListener(Bb,ae),$.removeEventListener(Ub,Y)}}},[x.viewport,O,l,c,I]),L.useEffect(()=>{i&&!x.isClosePausedRef.current&&I(O)},[i,O,x.isClosePausedRef,I]),L.useEffect(()=>(C(),()=>M()),[C,M]);const E=L.useMemo(()=>w?oj(w):null,[w]);return x.viewport?u.jsxs(u.Fragment,{children:[E&&u.jsx(FV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:E}),u.jsx(DV,{scope:n,onClose:P,children:Km.createPortal(u.jsx(u_.ItemSlot,{scope:n,children:u.jsx(mV,{asChild:!0,onEscapeKeyDown:Gn(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||P(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Sr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:_,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Gn(e.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Gn(e.onPointerDown,$=>{$.button===0&&(N.current={x:$.clientX,y:$.clientY})}),onPointerMove:Gn(e.onPointerMove,$=>{if(!N.current)return;const Y=$.clientX-N.current.x,ae=$.clientY-N.current.y,ee=!!R.current,H=["left","right"].includes(x.swipeDirection),ne=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,oe=H?ne(0,Y):0,fe=H?0:ne(0,ae),V=$.pointerType==="touch"?10:2,Q={x:oe,y:fe},Z={originalEvent:$,delta:Q};ee?(R.current=Q,n0(IV,h,Z,{discrete:!1})):c4(Q,x.swipeDirection,V)?(R.current=Q,n0(jV,d,Z,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(Y)>V||Math.abs(ae)>V)&&(N.current=null)}),onPointerUp:Gn(e.onPointerUp,$=>{const Y=R.current,ae=$.target;if(ae.hasPointerCapture($.pointerId)&&ae.releasePointerCapture($.pointerId),R.current=null,N.current=null,Y){const ee=$.currentTarget,H={originalEvent:$,delta:Y};c4(Y,x.swipeDirection,x.swipeThreshold)?n0(LV,f,H,{discrete:!0}):n0(RV,p,H,{discrete:!0}),ee.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),FV=e=>{const{__scopeToast:t,children:n,...r}=e,s=Wy(Qm,t),[i,o]=L.useState(!1),[a,l]=L.useState(!1);return UV(()=>o(!0)),L.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(l_,{asChild:!0,children:u.jsx(qy,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},VV="ToastTitle",ej=L.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Sr.div,{...r,ref:t})});ej.displayName=VV;var BV="ToastDescription",tj=L.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(Sr.div,{...r,ref:t})});tj.displayName=BV;var nj="ToastAction",rj=L.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(ij,{altText:n,asChild:!0,children:u.jsx(d_,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${nj}\`. Expected non-empty \`string\`.`),null)});rj.displayName=nj;var sj="ToastClose",d_=L.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=MV(sj,n);return u.jsx(ij,{asChild:!0,children:u.jsx(Sr.button,{type:"button",...r,ref:t,onClick:Gn(e.onClick,s.onClose)})})});d_.displayName=sj;var ij=L.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return u.jsx(Sr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function oj(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),zV(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...oj(r))}}),t}function n0(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?$k(s,i):s.dispatchEvent(i)}var c4=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function UV(e=()=>{}){const t=Na(e);ul(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function zV(e){return e.nodeType===e.ELEMENT_NODE}function $V(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function S2(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var qV=Yk,aj=Xk,lj=Jk,cj=ej,uj=tj,dj=rj,hj=d_;function fj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=fj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function pj(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=fj(e))&&(r&&(r+=" "),r+=t);return r}const u4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,d4=pj,WV=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return d4(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const p=u4(d)||u4(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(b=>{let[x,w]=b;return Array.isArray(w)?w.includes({...i,...a}[x]):{...i,...a}[x]===w})?[...c,h,p]:c},[]);return d4(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=L.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>L.createElement("svg",{ref:l,...GV,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:mj("lucide",s),...a},[...o.map(([c,d])=>L.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(e,t)=>{const n=L.forwardRef(({className:r,...s},i)=>L.createElement(KV,{ref:i,iconNode:t,className:mj(`lucide-${HV(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=kt("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=kt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=kt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=kt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=kt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=kt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=kt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=kt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=kt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=kt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=kt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=kt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=kt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=kt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=kt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=kt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=kt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=kt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=kt("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=kt("Grape",[["path",{d:"M22 5V2l-5.89 5.89",key:"1eenpo"}],["circle",{cx:"16.6",cy:"15.89",r:"3",key:"xjtalx"}],["circle",{cx:"8.11",cy:"7.4",r:"3",key:"u2fv6i"}],["circle",{cx:"12.35",cy:"11.65",r:"3",key:"i6i8g7"}],["circle",{cx:"13.91",cy:"5.85",r:"3",key:"6ye0dv"}],["circle",{cx:"18.15",cy:"10.09",r:"3",key:"snx9no"}],["circle",{cx:"6.56",cy:"13.2",r:"3",key:"17x4xg"}],["circle",{cx:"10.8",cy:"17.44",r:"3",key:"1hogw9"}],["circle",{cx:"5",cy:"19",r:"3",key:"1sn6vo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=kt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=kt("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=kt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=kt("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=kt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=kt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=kt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=kt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=kt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=kt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=kt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=kt("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=kt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=kt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=kt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=kt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=kt("SquarePlus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=kt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=kt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=kt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=kt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p_="-",hB=e=>{const t=pB(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(p_);return a[0]===""&&a.length!==1&&a.shift(),_j(a,t)||fB(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},_j=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?_j(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(p_);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},f4=/^\[(.+)\]$/,fB=e=>{if(f4.test(e)){const t=f4.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},pB=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return gB(Object.entries(e.classGroups),n).forEach(([i,o])=>{$b(o,r,i,t)}),r},$b=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:p4(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(mB(s)){$b(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{$b(o,p4(t,i),n,r)})})},p4=(e,t)=>{let n=e;return t.split(p_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mB=e=>e.isThemeGetter,gB=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,yB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Sj="!",vB=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,d=0,h;for(let w=0;w<a.length;w++){let v=a[w];if(c===0){if(v===s&&(r||a.slice(w,w+i)===t)){l.push(a.slice(d,w)),d=w+i;continue}if(v==="/"){h=w;continue}}v==="["?c++:v==="]"&&c--}const p=l.length===0?a:a.substring(d),f=p.startsWith(Sj),b=f?p.substring(1):p,x=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:b,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},xB=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},bB=e=>({cache:yB(e.cacheSize),parseClassName:vB(e),...hB(e)}),wB=/\s+/,_B=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(wB);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=n(c);let b=!!f,x=r(b?p.substring(0,f):p);if(!x){if(!b){a=c+(a.length>0?" "+a:a);continue}if(x=r(p),!x){a=c+(a.length>0?" "+a:a);continue}b=!1}const w=xB(d).join(":"),v=h?w+Sj:w,_=v+x;if(i.includes(_))continue;i.push(_);const N=s(x,b);for(let R=0;R<N.length;++R){const O=N[R];i.push(v+O)}a=c+(a.length>0?" "+a:a)}return a};function SB(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Nj(t))&&(r&&(r+=" "),r+=n);return r}const Nj=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Nj(e[r]))&&(n&&(n+=" "),n+=t);return n};function NB(e,...t){let n,r,s,i=o;function o(l){const c=t.reduce((d,h)=>h(d),e());return n=bB(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=_B(l,n);return s(l,d),d}return function(){return i(SB.apply(null,arguments))}}const On=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Aj=/^\[(?:([a-z-]+):)?(.+)\]$/i,AB=/^\d+\/\d+$/,EB=new Set(["px","full","screen"]),TB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ga=e=>fh(e)||EB.has(e)||AB.test(e),Wl=e=>ff(e,"length",VB),fh=e=>!!e&&!Number.isNaN(Number(e)),N2=e=>ff(e,"number",fh),ip=e=>!!e&&Number.isInteger(Number(e)),IB=e=>e.endsWith("%")&&fh(e.slice(0,-1)),Bt=e=>Aj.test(e),Hl=e=>TB.test(e),RB=new Set(["length","size","percentage"]),LB=e=>ff(e,RB,Ej),DB=e=>ff(e,"position",Ej),MB=new Set(["image","url"]),OB=e=>ff(e,MB,UB),FB=e=>ff(e,"",BB),op=()=>!0,ff=(e,t,n)=>{const r=Aj.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},VB=e=>PB.test(e)&&!CB.test(e),Ej=()=>!1,BB=e=>kB.test(e),UB=e=>jB.test(e),zB=()=>{const e=On("colors"),t=On("spacing"),n=On("blur"),r=On("brightness"),s=On("borderColor"),i=On("borderRadius"),o=On("borderSpacing"),a=On("borderWidth"),l=On("contrast"),c=On("grayscale"),d=On("hueRotate"),h=On("invert"),p=On("gap"),f=On("gradientColorStops"),b=On("gradientColorStopPositions"),x=On("inset"),w=On("margin"),v=On("opacity"),_=On("padding"),N=On("saturate"),R=On("scale"),O=On("sepia"),z=On("skew"),k=On("space"),A=On("translate"),C=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Bt,t],I=()=>[Bt,t],E=()=>["",Ga,Wl],$=()=>["auto",fh,Bt],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",Bt],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[fh,Bt];return{cacheSize:500,separator:":",theme:{colors:[op],spacing:[Ga,Wl],blur:["none","",Hl,Bt],brightness:fe(),borderColor:[e],borderRadius:["none","","full",Hl,Bt],borderSpacing:I(),borderWidth:E(),contrast:fe(),grayscale:ne(),hueRotate:fe(),invert:ne(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[IB,Wl],inset:P(),margin:P(),opacity:fe(),padding:I(),saturate:fe(),scale:fe(),sepia:ne(),skew:fe(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Bt]}],container:["container"],columns:[{columns:[Hl]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Bt]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ip,Bt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Bt]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",ip,Bt]}],"grid-cols":[{"grid-cols":[op]}],"col-start-end":[{col:["auto",{span:["full",ip,Bt]},Bt]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[op]}],"row-start-end":[{row:["auto",{span:[ip,Bt]},Bt]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Bt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Bt,t]}],"min-w":[{"min-w":[Bt,t,"min","max","fit"]}],"max-w":[{"max-w":[Bt,t,"none","full","min","max","fit","prose",{screen:[Hl]},Hl]}],h:[{h:[Bt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Bt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hl,Wl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",N2]}],"font-family":[{font:[op]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Bt]}],"line-clamp":[{"line-clamp":["none",fh,N2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ga,Bt]}],"list-image":[{"list-image":["none",Bt]}],"list-style-type":[{list:["none","disc","decimal",Bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ga,Wl]}],"underline-offset":[{"underline-offset":["auto",Ga,Bt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),DB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OB]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ae()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[Ga,Bt]}],"outline-w":[{outline:[Ga,Wl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ga,Wl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hl,FB]}],"shadow-color":[{shadow:[op]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Hl,Bt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Bt]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",Bt]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[ip,Bt]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Bt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ga,Wl,N2]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$B=NB(zB);function io(...e){return $B(pj(e))}const qB=qV,Tj=L.forwardRef(({className:e,...t},n)=>u.jsx(aj,{ref:n,className:io("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Tj.displayName=aj.displayName;const WB=WV("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Pj=L.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(lj,{ref:r,className:io(WB({variant:t}),e),...n}));Pj.displayName=lj.displayName;const HB=L.forwardRef(({className:e,...t},n)=>u.jsx(dj,{ref:n,className:io("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));HB.displayName=dj.displayName;const Cj=L.forwardRef(({className:e,...t},n)=>u.jsx(hj,{ref:n,className:io("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(Vs,{className:"h-4 w-4"})}));Cj.displayName=hj.displayName;const kj=L.forwardRef(({className:e,...t},n)=>u.jsx(cj,{ref:n,className:io("text-sm font-semibold",e),...t}));kj.displayName=cj.displayName;const jj=L.forwardRef(({className:e,...t},n)=>u.jsx(uj,{ref:n,className:io("text-sm opacity-90",e),...t}));jj.displayName=uj.displayName;function GB(){const{toasts:e}=Z9();return u.jsxs(qB,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return u.jsxs(Pj,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(kj,{children:n}),r&&u.jsx(jj,{children:r})]}),s,u.jsx(Cj,{})]},t)}),u.jsx(Tj,{})]})}var m4=["light","dark"],KB="(prefers-color-scheme: dark)",YB=L.createContext(void 0),QB={setTheme:e=>{},themes:[]},XB=()=>{var e;return(e=L.useContext(YB))!=null?e:QB};L.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?m4.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,x=!1,w=!0)=>{let v=o?o[b]:b,_=x?b+"|| ''":`'${v}'`,N="";return s&&w&&!x&&m4.includes(b)&&(N+=`d.style.colorScheme = '${b}';`),n==="class"?x||v?N+=`c.add(${_})`:N+="null":v&&(N+=`d[s](n,${_})`),N},f=e?`!function(){${d}${p(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${KB}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return L.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var ZB=e=>{switch(e){case"success":return tU;case"info":return rU;case"warning":return nU;case"error":return sU;default:return null}},JB=Array(12).fill(0),eU=({visible:e,className:t})=>Ve.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ve.createElement("div",{className:"sonner-spinner"},JB.map((n,r)=>Ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),tU=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nU=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),rU=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sU=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iU=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oU=()=>{let[e,t]=Ve.useState(document.hidden);return Ve.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},qb=1,aU=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:qb++,o=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],Ve.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(cU(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||qb++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Xs=new aU,lU=(e,t)=>{let n=(t==null?void 0:t.id)||qb++;return Xs.addToast({title:e,...t,id:n}),n},cU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",uU=lU,dU=()=>Xs.toasts,hU=()=>Xs.getActiveToasts();Object.assign(uU,{success:Xs.success,info:Xs.info,warning:Xs.warning,error:Xs.error,custom:Xs.custom,message:Xs.message,promise:Xs.promise,dismiss:Xs.dismiss,loading:Xs.loading},{getHistory:dU,getToasts:hU});function fU(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}fU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function s0(e){return e.label!==void 0}var pU=3,mU="32px",gU="16px",g4=4e3,yU=356,vU=14,xU=20,bU=200;function go(...e){return e.filter(Boolean).join(" ")}function wU(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var _U=e=>{var t,n,r,s,i,o,a,l,c,d,h;let{invert:p,toast:f,unstyled:b,interacting:x,setHeights:w,visibleToasts:v,heights:_,index:N,toasts:R,expanded:O,removeToast:z,defaultRichColors:k,closeButton:A,style:C,cancelButtonStyle:M,actionButtonStyle:P,className:I="",descriptionClassName:E="",duration:$,position:Y,gap:ae,loadingIcon:ee,expandByDefault:H,classNames:ne,icons:oe,closeButtonAriaLabel:fe="Close toast",pauseWhenPageIsHidden:V}=e,[Q,Z]=Ve.useState(null),[le,ce]=Ve.useState(null),[he,ie]=Ve.useState(!1),[de,_e]=Ve.useState(!1),[Pe,Me]=Ve.useState(!1),[Oe,$e]=Ve.useState(!1),[J,Be]=Ve.useState(!1),[St,ot]=Ve.useState(0),[Ne,qe]=Ve.useState(0),ze=Ve.useRef(f.duration||$||g4),ht=Ve.useRef(null),Ye=Ve.useRef(null),Xt=N===0,jt=N+1<=v,lt=f.type,Pt=f.dismissible!==!1,Ot=f.className||"",et=f.descriptionClassName||"",bt=Ve.useMemo(()=>_.findIndex(ft=>ft.toastId===f.id)||0,[_,f.id]),tt=Ve.useMemo(()=>{var ft;return(ft=f.closeButton)!=null?ft:A},[f.closeButton,A]),xn=Ve.useMemo(()=>f.duration||$||g4,[f.duration,$]),Lt=Ve.useRef(0),xt=Ve.useRef(0),Et=Ve.useRef(0),Ut=Ve.useRef(null),[ct,tn]=Y.split("-"),mt=Ve.useMemo(()=>_.reduce((ft,Nt,qt)=>qt>=bt?ft:ft+Nt.height,0),[_,bt]),yt=oU(),un=f.invert||p,ut=lt==="loading";xt.current=Ve.useMemo(()=>bt*ae+mt,[bt,mt]),Ve.useEffect(()=>{ze.current=xn},[xn]),Ve.useEffect(()=>{ie(!0)},[]),Ve.useEffect(()=>{let ft=Ye.current;if(ft){let Nt=ft.getBoundingClientRect().height;return qe(Nt),w(qt=>[{toastId:f.id,height:Nt,position:f.position},...qt]),()=>w(qt=>qt.filter(dn=>dn.toastId!==f.id))}},[w,f.id]),Ve.useLayoutEffect(()=>{if(!he)return;let ft=Ye.current,Nt=ft.style.height;ft.style.height="auto";let qt=ft.getBoundingClientRect().height;ft.style.height=Nt,qe(qt),w(dn=>dn.find(Xe=>Xe.toastId===f.id)?dn.map(Xe=>Xe.toastId===f.id?{...Xe,height:qt}:Xe):[{toastId:f.id,height:qt,position:f.position},...dn])},[he,f.title,f.description,w,f.id]);let nt=Ve.useCallback(()=>{_e(!0),ot(xt.current),w(ft=>ft.filter(Nt=>Nt.toastId!==f.id)),setTimeout(()=>{z(f)},bU)},[f,z,w,xt]);Ve.useEffect(()=>{if(f.promise&&lt==="loading"||f.duration===1/0||f.type==="loading")return;let ft;return O||x||V&&yt?(()=>{if(Et.current<Lt.current){let Nt=new Date().getTime()-Lt.current;ze.current=ze.current-Nt}Et.current=new Date().getTime()})():ze.current!==1/0&&(Lt.current=new Date().getTime(),ft=setTimeout(()=>{var Nt;(Nt=f.onAutoClose)==null||Nt.call(f,f),nt()},ze.current)),()=>clearTimeout(ft)},[O,x,f,lt,V,yt,nt]),Ve.useEffect(()=>{f.delete&&nt()},[nt,f.delete]);function zt(){var ft,Nt,qt;return oe!=null&&oe.loading?Ve.createElement("div",{className:go(ne==null?void 0:ne.loader,(ft=f==null?void 0:f.classNames)==null?void 0:ft.loader,"sonner-loader"),"data-visible":lt==="loading"},oe.loading):ee?Ve.createElement("div",{className:go(ne==null?void 0:ne.loader,(Nt=f==null?void 0:f.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":lt==="loading"},ee):Ve.createElement(eU,{className:go(ne==null?void 0:ne.loader,(qt=f==null?void 0:f.classNames)==null?void 0:qt.loader),visible:lt==="loading"})}return Ve.createElement("li",{tabIndex:0,ref:Ye,className:go(I,Ot,ne==null?void 0:ne.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,ne==null?void 0:ne.default,ne==null?void 0:ne[lt],(n=f==null?void 0:f.classNames)==null?void 0:n[lt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:k,"data-styled":!(f.jsx||f.unstyled||b),"data-mounted":he,"data-promise":!!f.promise,"data-swiped":J,"data-removed":de,"data-visible":jt,"data-y-position":ct,"data-x-position":tn,"data-index":N,"data-front":Xt,"data-swiping":Pe,"data-dismissible":Pt,"data-type":lt,"data-invert":un,"data-swipe-out":Oe,"data-swipe-direction":le,"data-expanded":!!(O||H&&he),style:{"--index":N,"--toasts-before":N,"--z-index":R.length-N,"--offset":`${de?St:xt.current}px`,"--initial-height":H?"auto":`${Ne}px`,...C,...f.style},onDragEnd:()=>{Me(!1),Z(null),Ut.current=null},onPointerDown:ft=>{ut||!Pt||(ht.current=new Date,ot(xt.current),ft.target.setPointerCapture(ft.pointerId),ft.target.tagName!=="BUTTON"&&(Me(!0),Ut.current={x:ft.clientX,y:ft.clientY}))},onPointerUp:()=>{var ft,Nt,qt,dn;if(Oe||!Pt)return;Ut.current=null;let Xe=Number(((ft=Ye.current)==null?void 0:ft.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gr=Number(((Nt=Ye.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),er=new Date().getTime()-((qt=ht.current)==null?void 0:qt.getTime()),bn=Q==="x"?Xe:gr,$n=Math.abs(bn)/er;if(Math.abs(bn)>=xU||$n>.11){ot(xt.current),(dn=f.onDismiss)==null||dn.call(f,f),ce(Q==="x"?Xe>0?"right":"left":gr>0?"down":"up"),nt(),$e(!0),Be(!1);return}Me(!1),Z(null)},onPointerMove:ft=>{var Nt,qt,dn,Xe;if(!Ut.current||!Pt||((Nt=window.getSelection())==null?void 0:Nt.toString().length)>0)return;let gr=ft.clientY-Ut.current.y,er=ft.clientX-Ut.current.x,bn=(qt=e.swipeDirections)!=null?qt:wU(Y);!Q&&(Math.abs(er)>1||Math.abs(gr)>1)&&Z(Math.abs(er)>Math.abs(gr)?"x":"y");let $n={x:0,y:0};Q==="y"?(bn.includes("top")||bn.includes("bottom"))&&(bn.includes("top")&&gr<0||bn.includes("bottom")&&gr>0)&&($n.y=gr):Q==="x"&&(bn.includes("left")||bn.includes("right"))&&(bn.includes("left")&&er<0||bn.includes("right")&&er>0)&&($n.x=er),(Math.abs($n.x)>0||Math.abs($n.y)>0)&&Be(!0),(dn=Ye.current)==null||dn.style.setProperty("--swipe-amount-x",`${$n.x}px`),(Xe=Ye.current)==null||Xe.style.setProperty("--swipe-amount-y",`${$n.y}px`)}},tt&&!f.jsx?Ve.createElement("button",{"aria-label":fe,"data-disabled":ut,"data-close-button":!0,onClick:ut||!Pt?()=>{}:()=>{var ft;nt(),(ft=f.onDismiss)==null||ft.call(f,f)},className:go(ne==null?void 0:ne.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=oe==null?void 0:oe.close)!=null?i:iU):null,f.jsx||L.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Ve.createElement(Ve.Fragment,null,lt||f.icon||f.promise?Ve.createElement("div",{"data-icon":"",className:go(ne==null?void 0:ne.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||zt():null,f.type!=="loading"?f.icon||(oe==null?void 0:oe[lt])||ZB(lt):null):null,Ve.createElement("div",{"data-content":"",className:go(ne==null?void 0:ne.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},Ve.createElement("div",{"data-title":"",className:go(ne==null?void 0:ne.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?Ve.createElement("div",{"data-description":"",className:go(E,et,ne==null?void 0:ne.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),L.isValidElement(f.cancel)?f.cancel:f.cancel&&s0(f.cancel)?Ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||M,onClick:ft=>{var Nt,qt;s0(f.cancel)&&Pt&&((qt=(Nt=f.cancel).onClick)==null||qt.call(Nt,ft),nt())},className:go(ne==null?void 0:ne.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,L.isValidElement(f.action)?f.action:f.action&&s0(f.action)?Ve.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:ft=>{var Nt,qt;s0(f.action)&&((qt=(Nt=f.action).onClick)==null||qt.call(Nt,ft),!ft.defaultPrevented&&nt())},className:go(ne==null?void 0:ne.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function y4(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function SU(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?gU:mU;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var NU=L.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:b=pU,toastOptions:x,dir:w=y4(),gap:v=vU,loadingIcon:_,icons:N,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:O}=e,[z,k]=Ve.useState([]),A=Ve.useMemo(()=>Array.from(new Set([r].concat(z.filter(V=>V.position).map(V=>V.position)))),[z,r]),[C,M]=Ve.useState([]),[P,I]=Ve.useState(!1),[E,$]=Ve.useState(!1),[Y,ae]=Ve.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=Ve.useRef(null),H=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=Ve.useRef(null),oe=Ve.useRef(!1),fe=Ve.useCallback(V=>{k(Q=>{var Z;return(Z=Q.find(le=>le.id===V.id))!=null&&Z.delete||Xs.dismiss(V.id),Q.filter(({id:le})=>le!==V.id)})},[]);return Ve.useEffect(()=>Xs.subscribe(V=>{if(V.dismiss){k(Q=>Q.map(Z=>Z.id===V.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{Vk.flushSync(()=>{k(Q=>{let Z=Q.findIndex(le=>le.id===V.id);return Z!==-1?[...Q.slice(0,Z),{...Q[Z],...V},...Q.slice(Z+1)]:[V,...Q]})})})}),[]),Ve.useEffect(()=>{if(d!=="system"){ae(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:Q})=>{ae(Q?"dark":"light")})}catch{V.addListener(({matches:Z})=>{try{ae(Z?"dark":"light")}catch(le){console.error(le)}})}},[d]),Ve.useEffect(()=>{z.length<=1&&I(!1)},[z]),Ve.useEffect(()=>{let V=Q=>{var Z,le;s.every(ce=>Q[ce]||Q.code===ce)&&(I(!0),(Z=ee.current)==null||Z.focus()),Q.code==="Escape"&&(document.activeElement===ee.current||(le=ee.current)!=null&&le.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),Ve.useEffect(()=>{if(ee.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,oe.current=!1)}},[ee.current]),Ve.createElement("section",{ref:t,"aria-label":`${R} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((V,Q)=>{var Z;let[le,ce]=V.split("-");return z.length?Ve.createElement("ol",{key:V,dir:w==="auto"?y4():w,tabIndex:-1,ref:ee,className:a,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":le,"data-lifted":P&&z.length>1&&!i,"data-x-position":ce,style:{"--front-toast-height":`${((Z=C[0])==null?void 0:Z.height)||0}px`,"--width":`${yU}px`,"--gap":`${v}px`,...f,...SU(l,c)},onBlur:he=>{oe.current&&!he.currentTarget.contains(he.relatedTarget)&&(oe.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,ne.current=he.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{E||I(!1)},onDragEnd:()=>I(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},z.filter(he=>!he.position&&Q===0||he.position===V).map((he,ie)=>{var de,_e;return Ve.createElement(_U,{key:he.id,icons:N,index:ie,toast:he,defaultRichColors:h,duration:(de=x==null?void 0:x.duration)!=null?de:p,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:b,closeButton:(_e=x==null?void 0:x.closeButton)!=null?_e:o,interacting:E,position:V,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:fe,toasts:z.filter(Pe=>Pe.position==he.position),heights:C.filter(Pe=>Pe.position==he.position),setHeights:M,expandByDefault:i,gap:v,loadingIcon:_,expanded:P,pauseWhenPageIsHidden:O,swipeDirections:e.swipeDirections})})):null}))});const AU=({...e})=>{const{theme:t="system"}=XB();return u.jsx(NU,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var EU=y5[" useId ".trim().toString()]||(()=>{}),TU=0;function A2(e){const[t,n]=L.useState(EU());return ul(()=>{e||n(r=>r??String(TU++))},[e]),e||(t?`radix-${t}`:"")}const PU=["top","right","bottom","left"],Fc=Math.min,xi=Math.max,V1=Math.round,i0=Math.floor,ga=e=>({x:e,y:e}),CU={left:"right",right:"left",bottom:"top",top:"bottom"},kU={start:"end",end:"start"};function Wb(e,t,n){return xi(e,Fc(t,n))}function hl(e,t){return typeof e=="function"?e(t):e}function fl(e){return e.split("-")[0]}function pf(e){return e.split("-")[1]}function m_(e){return e==="x"?"y":"x"}function g_(e){return e==="y"?"height":"width"}const jU=new Set(["top","bottom"]);function da(e){return jU.has(fl(e))?"y":"x"}function y_(e){return m_(da(e))}function IU(e,t,n){n===void 0&&(n=!1);const r=pf(e),s=y_(e),i=g_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=B1(o)),[o,B1(o)]}function RU(e){const t=B1(e);return[Hb(e),t,Hb(t)]}function Hb(e){return e.replace(/start|end/g,t=>kU[t])}const v4=["left","right"],x4=["right","left"],LU=["top","bottom"],DU=["bottom","top"];function MU(e,t,n){switch(e){case"top":case"bottom":return n?t?x4:v4:t?v4:x4;case"left":case"right":return t?LU:DU;default:return[]}}function OU(e,t,n,r){const s=pf(e);let i=MU(fl(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Hb)))),i}function B1(e){return e.replace(/left|right|bottom|top/g,t=>CU[t])}function FU(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ij(e){return typeof e!="number"?FU(e):{top:e,right:e,bottom:e,left:e}}function U1(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function b4(e,t,n){let{reference:r,floating:s}=e;const i=da(t),o=y_(t),a=g_(o),l=fl(t),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let f;switch(l){case"top":f={x:d,y:r.y-s.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-s.width,y:h};break;default:f={x:r.x,y:r.y}}switch(pf(t)){case"start":f[o]-=p*(n&&c?-1:1);break;case"end":f[o]+=p*(n&&c?-1:1);break}return f}const VU=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=b4(c,r,l),p=r,f={},b=0;for(let x=0;x<a.length;x++){const{name:w,fn:v}=a[x],{x:_,y:N,data:R,reset:O}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});d=_??d,h=N??h,f={...f,[w]:{...f[w],...R}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):O.rects),{x:d,y:h}=b4(c,p,l)),x=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:f}};async function fm(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=hl(t,e),b=Ij(f),w=a[p?h==="floating"?"reference":"floating":h],v=U1(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},O=U1(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:N,strategy:l}):_);return{top:(v.top-O.top+b.top)/R.y,bottom:(O.bottom-v.bottom+b.bottom)/R.y,left:(v.left-O.left+b.left)/R.x,right:(O.right-v.right+b.right)/R.x}}const BU=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=hl(e,t)||{};if(c==null)return{};const h=Ij(d),p={x:n,y:r},f=y_(s),b=g_(f),x=await o.getDimensions(c),w=f==="y",v=w?"top":"left",_=w?"bottom":"right",N=w?"clientHeight":"clientWidth",R=i.reference[b]+i.reference[f]-p[f]-i.floating[b],O=p[f]-i.reference[f],z=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=z?z[N]:0;(!k||!await(o.isElement==null?void 0:o.isElement(z)))&&(k=a.floating[N]||i.floating[b]);const A=R/2-O/2,C=k/2-x[b]/2-1,M=Fc(h[v],C),P=Fc(h[_],C),I=M,E=k-x[b]-P,$=k/2-x[b]/2+A,Y=Wb(I,$,E),ae=!l.arrow&&pf(s)!=null&&$!==Y&&i.reference[b]/2-($<I?M:P)-x[b]/2<0,ee=ae?$<I?$-I:$-E:0;return{[f]:p[f]+ee,data:{[f]:Y,centerOffset:$-Y-ee,...ae&&{alignmentOffset:ee}},reset:ae}}}),UU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...w}=hl(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=fl(s),_=da(a),N=fl(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=p||(N||!x?[B1(a)]:RU(a)),z=b!=="none";!p&&z&&O.push(...OU(a,x,b,R));const k=[a,...O],A=await fm(t,w),C=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(A[v]),h){const $=IU(s,o,R);C.push(A[$[0]],A[$[1]])}if(M=[...M,{placement:s,overflows:C}],!C.every($=>$<=0)){var P,I;const $=(((P=i.flip)==null?void 0:P.index)||0)+1,Y=k[$];if(Y&&(!(h==="alignment"?_!==da(Y):!1)||M.every(H=>H.overflows[0]>0&&da(H.placement)===_)))return{data:{index:$,overflows:M},reset:{placement:Y}};let ae=(I=M.filter(ee=>ee.overflows[0]<=0).sort((ee,H)=>ee.overflows[1]-H.overflows[1])[0])==null?void 0:I.placement;if(!ae)switch(f){case"bestFit":{var E;const ee=(E=M.filter(H=>{if(z){const ne=da(H.placement);return ne===_||ne==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ne=>ne>0).reduce((ne,oe)=>ne+oe,0)]).sort((H,ne)=>H[1]-ne[1])[0])==null?void 0:E[0];ee&&(ae=ee);break}case"initialPlacement":ae=a;break}if(s!==ae)return{reset:{placement:ae}}}return{}}}};function w4(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _4(e){return PU.some(t=>e[t]>=0)}const zU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=hl(e,t);switch(r){case"referenceHidden":{const i=await fm(t,{...s,elementContext:"reference"}),o=w4(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_4(o)}}}case"escaped":{const i=await fm(t,{...s,altBoundary:!0}),o=w4(i,n.floating);return{data:{escapedOffsets:o,escaped:_4(o)}}}default:return{}}}}},Rj=new Set(["left","top"]);async function $U(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=fl(n),a=pf(n),l=da(n)==="y",c=Rj.has(o)?-1:1,d=i&&l?-1:1,h=hl(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(f=a==="end"?b*-1:b),l?{x:f*d,y:p*c}:{x:p*c,y:f*d}}const qU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await $U(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},WU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:v,y:_}=w;return{x:v,y:_}}},...l}=hl(e,t),c={x:n,y:r},d=await fm(t,l),h=da(fl(s)),p=m_(h);let f=c[p],b=c[h];if(i){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",_=f+d[w],N=f-d[v];f=Wb(_,f,N)}if(o){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",_=b+d[w],N=b-d[v];b=Wb(_,b,N)}const x=a.fn({...t,[p]:f,[h]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:i,[h]:o}}}}}},HU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=hl(e,t),d={x:n,y:r},h=da(s),p=m_(h);let f=d[p],b=d[h];const x=hl(a,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const N=p==="y"?"height":"width",R=i.reference[p]-i.floating[N]+w.mainAxis,O=i.reference[p]+i.reference[N]-w.mainAxis;f<R?f=R:f>O&&(f=O)}if(c){var v,_;const N=p==="y"?"width":"height",R=Rj.has(fl(s)),O=i.reference[h]-i.floating[N]+(R&&((v=o.offset)==null?void 0:v[h])||0)+(R?0:w.crossAxis),z=i.reference[h]+i.reference[N]+(R?0:((_=o.offset)==null?void 0:_[h])||0)-(R?w.crossAxis:0);b<O?b=O:b>z&&(b=z)}return{[p]:f,[h]:b}}}},GU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=hl(e,t),d=await fm(t,c),h=fl(s),p=pf(s),f=da(s)==="y",{width:b,height:x}=i.floating;let w,v;h==="top"||h==="bottom"?(w=h,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,w=p==="end"?"top":"bottom");const _=x-d.top-d.bottom,N=b-d.left-d.right,R=Fc(x-d[w],_),O=Fc(b-d[v],N),z=!t.middlewareData.shift;let k=R,A=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=_),z&&!p){const M=xi(d.left,0),P=xi(d.right,0),I=xi(d.top,0),E=xi(d.bottom,0);f?A=b-2*(M!==0||P!==0?M+P:xi(d.left,d.right)):k=x-2*(I!==0||E!==0?I+E:xi(d.top,d.bottom))}await l({...t,availableWidth:A,availableHeight:k});const C=await o.getDimensions(a.floating);return b!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function Gy(){return typeof window<"u"}function mf(e){return Lj(e)?(e.nodeName||"").toLowerCase():"#document"}function Ni(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ja(e){var t;return(t=(Lj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Lj(e){return Gy()?e instanceof Node||e instanceof Ni(e).Node:!1}function Lo(e){return Gy()?e instanceof Element||e instanceof Ni(e).Element:!1}function Aa(e){return Gy()?e instanceof HTMLElement||e instanceof Ni(e).HTMLElement:!1}function S4(e){return!Gy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ni(e).ShadowRoot}const KU=new Set(["inline","contents"]);function Zm(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Do(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!KU.has(s)}const YU=new Set(["table","td","th"]);function QU(e){return YU.has(mf(e))}const XU=[":popover-open",":modal"];function Ky(e){return XU.some(t=>{try{return e.matches(t)}catch{return!1}})}const ZU=["transform","translate","scale","rotate","perspective"],JU=["transform","translate","scale","rotate","perspective","filter"],ez=["paint","layout","strict","content"];function v_(e){const t=x_(),n=Lo(e)?Do(e):e;return ZU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||JU.some(r=>(n.willChange||"").includes(r))||ez.some(r=>(n.contain||"").includes(r))}function tz(e){let t=Vc(e);for(;Aa(t)&&!Kh(t);){if(v_(t))return t;if(Ky(t))return null;t=Vc(t)}return null}function x_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nz=new Set(["html","body","#document"]);function Kh(e){return nz.has(mf(e))}function Do(e){return Ni(e).getComputedStyle(e)}function Yy(e){return Lo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vc(e){if(mf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||S4(e)&&e.host||ja(e);return S4(t)?t.host:t}function Dj(e){const t=Vc(e);return Kh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Aa(t)&&Zm(t)?t:Dj(t)}function pm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Dj(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Ni(s);if(i){const a=Gb(o);return t.concat(o,o.visualViewport||[],Zm(s)?s:[],a&&n?pm(a):[])}return t.concat(s,pm(s,[],n))}function Gb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Mj(e){const t=Do(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Aa(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=V1(n)!==i||V1(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function b_(e){return Lo(e)?e:e.contextElement}function ph(e){const t=b_(e);if(!Aa(t))return ga(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=Mj(t);let o=(i?V1(n.width):n.width)/r,a=(i?V1(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const rz=ga(0);function Oj(e){const t=Ni(e);return!x_()||!t.visualViewport?rz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sz(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ni(e)?!1:t}function Yu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=b_(e);let o=ga(1);t&&(r?Lo(r)&&(o=ph(r)):o=ph(e));const a=sz(i,n,r)?Oj(i):ga(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=Ni(i),f=r&&Lo(r)?Ni(r):r;let b=p,x=Gb(b);for(;x&&r&&f!==b;){const w=ph(x),v=x.getBoundingClientRect(),_=Do(x),N=v.left+(x.clientLeft+parseFloat(_.paddingLeft))*w.x,R=v.top+(x.clientTop+parseFloat(_.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,h*=w.y,l+=N,c+=R,b=Ni(x),x=Gb(b)}}return U1({width:d,height:h,x:l,y:c})}function w_(e,t){const n=Yy(e).scrollLeft;return t?t.left+n:Yu(ja(e)).left+n}function Fj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:w_(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function iz(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=ja(r),a=t?Ky(t.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ga(1);const d=ga(0),h=Aa(r);if((h||!h&&!i)&&((mf(r)!=="body"||Zm(o))&&(l=Yy(r)),Aa(r))){const f=Yu(r);c=ph(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}const p=o&&!h&&!i?Fj(o,l,!0):ga(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function oz(e){return Array.from(e.getClientRects())}function az(e){const t=ja(e),n=Yy(e),r=e.ownerDocument.body,s=xi(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=xi(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+w_(e);const a=-n.scrollTop;return Do(r).direction==="rtl"&&(o+=xi(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function lz(e,t){const n=Ni(e),r=ja(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=x_();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const cz=new Set(["absolute","fixed"]);function uz(e,t){const n=Yu(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Aa(e)?ph(e):ga(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function N4(e,t,n){let r;if(t==="viewport")r=lz(e,n);else if(t==="document")r=az(ja(e));else if(Lo(t))r=uz(t,n);else{const s=Oj(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return U1(r)}function Vj(e,t){const n=Vc(e);return n===t||!Lo(n)||Kh(n)?!1:Do(n).position==="fixed"||Vj(n,t)}function dz(e,t){const n=t.get(e);if(n)return n;let r=pm(e,[],!1).filter(a=>Lo(a)&&mf(a)!=="body"),s=null;const i=Do(e).position==="fixed";let o=i?Vc(e):e;for(;Lo(o)&&!Kh(o);){const a=Do(o),l=v_(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&cz.has(s.position)||Zm(o)&&!l&&Vj(e,o))?r=r.filter(d=>d!==o):s=a,o=Vc(o)}return t.set(e,r),r}function hz(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Ky(t)?[]:dz(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=N4(t,d,s);return c.top=xi(h.top,c.top),c.right=Fc(h.right,c.right),c.bottom=Fc(h.bottom,c.bottom),c.left=xi(h.left,c.left),c},N4(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fz(e){const{width:t,height:n}=Mj(e);return{width:t,height:n}}function pz(e,t,n){const r=Aa(t),s=ja(t),i=n==="fixed",o=Yu(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=ga(0);function c(){l.x=w_(s)}if(r||!r&&!i)if((mf(t)!=="body"||Zm(s))&&(a=Yy(t)),r){const f=Yu(t,!0,i,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?Fj(s,a):ga(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function E2(e){return Do(e).position==="static"}function A4(e,t){if(!Aa(e)||Do(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ja(e)===n&&(n=n.ownerDocument.body),n}function Bj(e,t){const n=Ni(e);if(Ky(e))return n;if(!Aa(e)){let s=Vc(e);for(;s&&!Kh(s);){if(Lo(s)&&!E2(s))return s;s=Vc(s)}return n}let r=A4(e,t);for(;r&&QU(r)&&E2(r);)r=A4(r,t);return r&&Kh(r)&&E2(r)&&!v_(r)?n:r||tz(e)||n}const mz=async function(e){const t=this.getOffsetParent||Bj,n=this.getDimensions,r=await n(e.floating);return{reference:pz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gz(e){return Do(e).direction==="rtl"}const yz={convertOffsetParentRelativeRectToViewportRelativeRect:iz,getDocumentElement:ja,getClippingRect:hz,getOffsetParent:Bj,getElementRects:mz,getClientRects:oz,getDimensions:fz,getScale:ph,isElement:Lo,isRTL:gz};function Uj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vz(e,t){let n=null,r;const s=ja(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=c;if(a||t(),!p||!f)return;const b=i0(h),x=i0(s.clientWidth-(d+p)),w=i0(s.clientHeight-(h+f)),v=i0(d),N={rootMargin:-b+"px "+-x+"px "+-w+"px "+-v+"px",threshold:xi(0,Fc(1,l))||1};let R=!0;function O(z){const k=z[0].intersectionRatio;if(k!==l){if(!R)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!Uj(c,e.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(O,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,N)}n.observe(e)}return o(!0),i}function xz(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=b_(e),d=s||i?[...c?pm(c):[],...pm(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=c&&a?vz(c,n):null;let p=-1,f=null;o&&(f=new ResizeObserver(v=>{let[_]=v;_&&_.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=f)==null||N.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let b,x=l?Yu(e):null;l&&w();function w(){const v=Yu(e);x&&!Uj(x,v)&&n(),x=v,b=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(b)}}const bz=qU,wz=WU,_z=UU,Sz=GU,Nz=zU,E4=BU,Az=HU,Ez=(e,t,n)=>{const r=new Map,s={platform:yz,...n},i={...s.platform,_c:r};return VU(e,t,{...s,platform:i})};var Tz=typeof document<"u",Pz=function(){},H0=Tz?L.useLayoutEffect:Pz;function z1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!z1(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!z1(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function zj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function T4(e,t){const n=zj(e);return Math.round(t*n)/n}function T2(e){const t=L.useRef(e);return H0(()=>{t.current=e}),t}function Cz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,h]=L.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=L.useState(r);z1(p,r)||f(r);const[b,x]=L.useState(null),[w,v]=L.useState(null),_=L.useCallback(H=>{H!==z.current&&(z.current=H,x(H))},[]),N=L.useCallback(H=>{H!==k.current&&(k.current=H,v(H))},[]),R=i||b,O=o||w,z=L.useRef(null),k=L.useRef(null),A=L.useRef(d),C=l!=null,M=T2(l),P=T2(s),I=T2(c),E=L.useCallback(()=>{if(!z.current||!k.current)return;const H={placement:t,strategy:n,middleware:p};P.current&&(H.platform=P.current),Ez(z.current,k.current,H).then(ne=>{const oe={...ne,isPositioned:I.current!==!1};$.current&&!z1(A.current,oe)&&(A.current=oe,Km.flushSync(()=>{h(oe)}))})},[p,t,n,P,I]);H0(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(H=>({...H,isPositioned:!1})))},[c]);const $=L.useRef(!1);H0(()=>($.current=!0,()=>{$.current=!1}),[]),H0(()=>{if(R&&(z.current=R),O&&(k.current=O),R&&O){if(M.current)return M.current(R,O,E);E()}},[R,O,E,M,C]);const Y=L.useMemo(()=>({reference:z,floating:k,setReference:_,setFloating:N}),[_,N]),ae=L.useMemo(()=>({reference:R,floating:O}),[R,O]),ee=L.useMemo(()=>{const H={position:n,left:0,top:0};if(!ae.floating)return H;const ne=T4(ae.floating,d.x),oe=T4(ae.floating,d.y);return a?{...H,transform:"translate("+ne+"px, "+oe+"px)",...zj(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:oe}},[n,a,ae.floating,d.x,d.y]);return L.useMemo(()=>({...d,update:E,refs:Y,elements:ae,floatingStyles:ee}),[d,E,Y,ae,ee])}const kz=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?E4({element:r.current,padding:s}).fn(n):{}:r?E4({element:r,padding:s}).fn(n):{}}}},jz=(e,t)=>({...bz(e),options:[e,t]}),Iz=(e,t)=>({...wz(e),options:[e,t]}),Rz=(e,t)=>({...Az(e),options:[e,t]}),Lz=(e,t)=>({..._z(e),options:[e,t]}),Dz=(e,t)=>({...Sz(e),options:[e,t]}),Mz=(e,t)=>({...Nz(e),options:[e,t]}),Oz=(e,t)=>({...kz(e),options:[e,t]});var Fz="Arrow",$j=L.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return u.jsx(Sr.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});$j.displayName=Fz;var Vz=$j;function Bz(e){const[t,n]=L.useState(void 0);return ul(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var qj="Popper",[Wj,Hj]=Ym(qj),[Yle,Gj]=Wj(qj),Kj="PopperAnchor",Yj=L.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Gj(Kj,n),o=L.useRef(null),a=Ms(t,o);return L.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(Sr.div,{...s,ref:a})});Yj.displayName=Kj;var __="PopperContent",[Uz,zz]=Wj(__),Qj=L.forwardRef((e,t)=>{var he,ie,de,_e,Pe,Me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:b,...x}=e,w=Gj(__,n),[v,_]=L.useState(null),N=Ms(t,Oe=>_(Oe)),[R,O]=L.useState(null),z=Bz(R),k=(z==null?void 0:z.width)??0,A=(z==null?void 0:z.height)??0,C=r+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(c)?c:[c],I=P.length>0,E={padding:M,boundary:P.filter(qz),altBoundary:I},{refs:$,floatingStyles:Y,placement:ae,isPositioned:ee,middlewareData:H}=Cz({strategy:"fixed",placement:C,whileElementsMounted:(...Oe)=>xz(...Oe,{animationFrame:f==="always"}),elements:{reference:w.anchor},middleware:[jz({mainAxis:s+A,alignmentAxis:o}),l&&Iz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Rz():void 0,...E}),l&&Lz({...E}),Dz({...E,apply:({elements:Oe,rects:$e,availableWidth:J,availableHeight:Be})=>{const{width:St,height:ot}=$e.reference,Ne=Oe.floating.style;Ne.setProperty("--radix-popper-available-width",`${J}px`),Ne.setProperty("--radix-popper-available-height",`${Be}px`),Ne.setProperty("--radix-popper-anchor-width",`${St}px`),Ne.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),R&&Oz({element:R,padding:a}),Wz({arrowWidth:k,arrowHeight:A}),p&&Mz({strategy:"referenceHidden",...E})]}),[ne,oe]=Jj(ae),fe=Na(b);ul(()=>{ee&&(fe==null||fe())},[ee,fe]);const V=(he=H.arrow)==null?void 0:he.x,Q=(ie=H.arrow)==null?void 0:ie.y,Z=((de=H.arrow)==null?void 0:de.centerOffset)!==0,[le,ce]=L.useState();return ul(()=>{v&&ce(window.getComputedStyle(v).zIndex)},[v]),u.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:ee?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(_e=H.transformOrigin)==null?void 0:_e.x,(Pe=H.transformOrigin)==null?void 0:Pe.y].join(" "),...((Me=H.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(Uz,{scope:n,placedSide:ne,onArrowChange:O,arrowX:V,arrowY:Q,shouldHideArrow:Z,children:u.jsx(Sr.div,{"data-side":ne,"data-align":oe,...x,ref:N,style:{...x.style,animation:ee?void 0:"none"}})})})});Qj.displayName=__;var Xj="PopperArrow",$z={top:"bottom",right:"left",bottom:"top",left:"right"},Zj=L.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=zz(Xj,r),o=$z[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(Vz,{...s,ref:n,style:{...s.style,display:"block"}})})});Zj.displayName=Xj;function qz(e){return e!==null}var Wz=e=>({name:"transformOrigin",options:e,fn(t){var w,v,_;const{placement:n,rects:r,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=Jj(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,f=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let b="",x="";return c==="bottom"?(b=o?h:`${p}px`,x=`${-l}px`):c==="top"?(b=o?h:`${p}px`,x=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,x=o?h:`${f}px`):c==="left"&&(b=`${r.floating.width+l}px`,x=o?h:`${f}px`),{data:{x:b,y:x}}}});function Jj(e){const[t,n="center"]=e.split("-");return[t,n]}var Hz=Yj,Gz=Qj,Kz=Zj,[Qy,Qle]=Ym("Tooltip",[Hj]),S_=Hj(),eI="TooltipProvider",Yz=700,P4="tooltip.open",[Qz,tI]=Qy(eI),nI=e=>{const{__scopeTooltip:t,delayDuration:n=Yz,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=L.useRef(!0),a=L.useRef(!1),l=L.useRef(0);return L.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(Qz,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:L.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:L.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:L.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};nI.displayName=eI;var rI="Tooltip",[Xle,Xy]=Qy(rI),Kb="TooltipTrigger",Xz=L.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Xy(Kb,n),i=tI(Kb,n),o=S_(n),a=L.useRef(null),l=Ms(t,a,s.onTriggerChange),c=L.useRef(!1),d=L.useRef(!1),h=L.useCallback(()=>c.current=!1,[]);return L.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(Hz,{asChild:!0,...o,children:u.jsx(Sr.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Gn(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Gn(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Gn(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Gn(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:Gn(e.onBlur,s.onClose),onClick:Gn(e.onClick,s.onClose)})})});Xz.displayName=Kb;var Zz="TooltipPortal",[Zle,Jz]=Qy(Zz,{forceMount:void 0}),Yh="TooltipContent",sI=L.forwardRef((e,t)=>{const n=Jz(Yh,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=Xy(Yh,e.__scopeTooltip);return u.jsx(hf,{present:r||o.open,children:o.disableHoverableContent?u.jsx(iI,{side:s,...i,ref:t}):u.jsx(e$,{side:s,...i,ref:t})})}),e$=L.forwardRef((e,t)=>{const n=Xy(Yh,e.__scopeTooltip),r=tI(Yh,e.__scopeTooltip),s=L.useRef(null),i=Ms(t,s),[o,a]=L.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=L.useCallback(()=>{a(null),h(!1)},[h]),f=L.useCallback((b,x)=>{const w=b.currentTarget,v={x:b.clientX,y:b.clientY},_=i$(v,w.getBoundingClientRect()),N=o$(v,_),R=a$(x.getBoundingClientRect()),O=c$([...N,...R]);a(O),h(!0)},[h]);return L.useEffect(()=>()=>p(),[p]),L.useEffect(()=>{if(l&&d){const b=w=>f(w,d),x=w=>f(w,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",x)}}},[l,d,f,p]),L.useEffect(()=>{if(o){const b=x=>{const w=x.target,v={x:x.clientX,y:x.clientY},_=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),N=!l$(v,o);_?p():N&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,c,p]),u.jsx(iI,{...e,ref:i})}),[t$,n$]=Qy(rI,{isInside:!1}),r$=nV("TooltipContent"),iI=L.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,l=Xy(Yh,n),c=S_(n),{onClose:d}=l;return L.useEffect(()=>(document.addEventListener(P4,d),()=>document.removeEventListener(P4,d)),[d]),L.useEffect(()=>{if(l.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx($y,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(Gz,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(r$,{children:r}),u.jsx(t$,{scope:n,isInside:!0,children:u.jsx(EV,{id:l.contentId,role:"tooltip",children:s||r})})]})})});sI.displayName=Yh;var oI="TooltipArrow",s$=L.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=S_(n);return n$(oI,n).isInside?null:u.jsx(Kz,{...s,...r,ref:t})});s$.displayName=oI;function i$(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function o$(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function a$(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function l$(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],l=t[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function c$(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),u$(t)}function u$(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var d$=nI,aI=sI;const h$=d$,f$=L.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(aI,{ref:r,sideOffset:t,className:io("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));f$.displayName=aI.displayName;var Zy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jy=typeof window>"u"||"Deno"in globalThis;function wo(){}function p$(e,t){return typeof e=="function"?e(t):e}function m$(e){return typeof e=="number"&&e>=0&&e!==1/0}function g$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yb(e,t){return typeof e=="function"?e(t):e}function y$(e,t){return typeof e=="function"?e(t):e}function C4(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==N_(o,t.options))return!1}else if(!gm(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function k4(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(mm(t.options.mutationKey)!==mm(i))return!1}else if(!gm(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function N_(e,t){return((t==null?void 0:t.queryKeyHashFn)||mm)(e)}function mm(e){return JSON.stringify(e,(t,n)=>Qb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function gm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>gm(e[n],t[n])):!1}function lI(e,t){if(e===t)return e;const n=j4(e)&&j4(t);if(n||Qb(e)&&Qb(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,c++):(a[h]=lI(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&c++)}return s===o&&c===s?e:a}return t}function j4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qb(e){if(!I4(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!I4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function I4(e){return Object.prototype.toString.call(e)==="[object Object]"}function v$(e){return new Promise(t=>{setTimeout(t,e)})}function x$(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?lI(e,t):t}function b$(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function w$(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var A_=Symbol();function cI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===A_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Lu,sc,Ih,vC,_$=(vC=class extends Zy{constructor(){super();on(this,Lu);on(this,sc);on(this,Ih);Mt(this,Ih,t=>{if(!Jy&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ce(this,sc)||this.setEventListener(Ce(this,Ih))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,sc))==null||t.call(this),Mt(this,sc,void 0))}setEventListener(t){var n;Mt(this,Ih,t),(n=Ce(this,sc))==null||n.call(this),Mt(this,sc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Ce(this,Lu)!==t&&(Mt(this,Lu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Ce(this,Lu)=="boolean"?Ce(this,Lu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Lu=new WeakMap,sc=new WeakMap,Ih=new WeakMap,vC),uI=new _$,Rh,ic,Lh,xC,S$=(xC=class extends Zy{constructor(){super();on(this,Rh,!0);on(this,ic);on(this,Lh);Mt(this,Lh,t=>{if(!Jy&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ce(this,ic)||this.setEventListener(Ce(this,Lh))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,ic))==null||t.call(this),Mt(this,ic,void 0))}setEventListener(t){var n;Mt(this,Lh,t),(n=Ce(this,ic))==null||n.call(this),Mt(this,ic,t(this.setOnline.bind(this)))}setOnline(t){Ce(this,Rh)!==t&&(Mt(this,Rh,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Ce(this,Rh)}},Rh=new WeakMap,ic=new WeakMap,Lh=new WeakMap,xC),$1=new S$;function N$(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function A$(e){return Math.min(1e3*2**e,3e4)}function dI(e){return(e??"online")==="online"?$1.isOnline():!0}var hI=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function P2(e){return e instanceof hI}function fI(e){let t=!1,n=0,r=!1,s;const i=N$(),o=x=>{var w;r||(p(new hI(x)),(w=e.abort)==null||w.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>uI.isFocused()&&(e.networkMode==="always"||$1.isOnline())&&e.canRun(),d=()=>dI(e.networkMode)&&e.canRun(),h=x=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,x),s==null||s(),i.resolve(x))},p=x=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,x),s==null||s(),i.reject(x))},f=()=>new Promise(x=>{var w;s=v=>{(r||c())&&x(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var x;s=void 0,r||(x=e.onContinue)==null||x.call(e)}),b=()=>{if(r)return;let x;const w=n===0?e.initialPromise:void 0;try{x=w??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(h).catch(v=>{var z;if(r)return;const _=e.retry??(Jy?0:3),N=e.retryDelay??A$,R=typeof N=="function"?N(n,v):N,O=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(t||!O){p(v);return}n++,(z=e.onFail)==null||z.call(e,n,v),v$(R).then(()=>c()?void 0:f()).then(()=>{t?p(v):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():f().then(b),i)}}var E$=e=>setTimeout(e,0);function T$(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=E$;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ks=T$(),Du,bC,pI=(bC=class{constructor(){on(this,Du)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),m$(this.gcTime)&&Mt(this,Du,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jy?1/0:5*60*1e3))}clearGcTimeout(){Ce(this,Du)&&(clearTimeout(Ce(this,Du)),Mt(this,Du,void 0))}},Du=new WeakMap,bC),Dh,Mu,qi,Ou,ds,Um,Fu,_o,Qa,wC,P$=(wC=class extends pI{constructor(n){super();on(this,_o);on(this,Dh);on(this,Mu);on(this,qi);on(this,Ou);on(this,ds);on(this,Um);on(this,Fu);Mt(this,Fu,!1),Mt(this,Um,n.defaultOptions),this.setOptions(n.options),this.observers=[],Mt(this,Ou,n.client),Mt(this,qi,Ce(this,Ou).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Mt(this,Dh,k$(this.options)),this.state=n.state??Ce(this,Dh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Ce(this,ds))==null?void 0:n.promise}setOptions(n){this.options={...Ce(this,Um),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ce(this,qi).remove(this)}setData(n,r){const s=x$(this.state.data,n,this.options);return rs(this,_o,Qa).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){rs(this,_o,Qa).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=Ce(this,ds))==null?void 0:s.promise;return(i=Ce(this,ds))==null||i.cancel(n),r?r.then(wo).catch(wo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ce(this,Dh))}isActive(){return this.observers.some(n=>y$(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===A_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Yb(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!g$(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Ce(this,ds))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Ce(this,ds))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Ce(this,qi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Ce(this,ds)&&(Ce(this,Fu)?Ce(this,ds).cancel({revert:!0}):Ce(this,ds).cancelRetry()),this.scheduleGc()),Ce(this,qi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rs(this,_o,Qa).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ce(this,ds))return Ce(this,ds).continueRetry(),Ce(this,ds).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(b=>b.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Mt(this,Fu,!0),s.signal)})},o=()=>{const f=cI(this.options,r),x=(()=>{const w={client:Ce(this,Ou),queryKey:this.queryKey,meta:this.meta};return i(w),w})();return Mt(this,Fu,!1),this.options.persister?this.options.persister(f,x,this):f(x)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ce(this,Ou),state:this.state,fetchFn:o};return i(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),Mt(this,Mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&rs(this,_o,Qa).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=f=>{var b,x,w,v;P2(f)&&f.silent||rs(this,_o,Qa).call(this,{type:"error",error:f}),P2(f)||((x=(b=Ce(this,qi).config).onError)==null||x.call(b,f,this),(v=(w=Ce(this,qi).config).onSettled)==null||v.call(w,this.state.data,f,this)),this.scheduleGc()};return Mt(this,ds,fI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var b,x,w,v;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(_){c(_);return}(x=(b=Ce(this,qi).config).onSuccess)==null||x.call(b,f,this),(v=(w=Ce(this,qi).config).onSettled)==null||v.call(w,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,b)=>{rs(this,_o,Qa).call(this,{type:"failed",failureCount:f,error:b})},onPause:()=>{rs(this,_o,Qa).call(this,{type:"pause"})},onContinue:()=>{rs(this,_o,Qa).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Ce(this,ds).start()}},Dh=new WeakMap,Mu=new WeakMap,qi=new WeakMap,Ou=new WeakMap,ds=new WeakMap,Um=new WeakMap,Fu=new WeakMap,_o=new WeakSet,Qa=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...C$(s.data,this.options),fetchMeta:n.meta??null};case"success":return Mt(this,Mu,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return P2(i)&&i.revert&&Ce(this,Mu)?{...Ce(this,Mu),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),ks.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Ce(this,qi).notify({query:this,type:"updated",action:n})})},wC);function C$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function k$(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ia,_C,j$=(_C=class extends Zy{constructor(t={}){super();on(this,ia);this.config=t,Mt(this,ia,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??N_(s,n);let o=this.get(i);return o||(o=new P$({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Ce(this,ia).has(t.queryHash)||(Ce(this,ia).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Ce(this,ia).get(t.queryHash);n&&(t.destroy(),n===t&&Ce(this,ia).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ks.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ce(this,ia).get(t)}getAll(){return[...Ce(this,ia).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>C4(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>C4(t,r)):n}notify(t){ks.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ks.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ks.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ia=new WeakMap,_C),oa,Ps,Vu,aa,Yl,SC,I$=(SC=class extends pI{constructor(n){super();on(this,aa);on(this,oa);on(this,Ps);on(this,Vu);this.mutationId=n.mutationId,Mt(this,Ps,n.mutationCache),Mt(this,oa,[]),this.state=n.state||R$(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Ce(this,oa).includes(n)||(Ce(this,oa).push(n),this.clearGcTimeout(),Ce(this,Ps).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Mt(this,oa,Ce(this,oa).filter(r=>r!==n)),this.scheduleGc(),Ce(this,Ps).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Ce(this,oa).length||(this.state.status==="pending"?this.scheduleGc():Ce(this,Ps).remove(this))}continue(){var n;return((n=Ce(this,Vu))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,d,h,p,f,b,x,w,v,_,N,R,O,z,k,A,C;const r=()=>{rs(this,aa,Yl).call(this,{type:"continue"})};Mt(this,Vu,fI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(M,P)=>{rs(this,aa,Yl).call(this,{type:"failed",failureCount:M,error:P})},onPause:()=>{rs(this,aa,Yl).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ce(this,Ps).canRun(this)}));const s=this.state.status==="pending",i=!Ce(this,Vu).canStart();try{if(s)r();else{rs(this,aa,Yl).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=Ce(this,Ps).config).onMutate)==null?void 0:a.call(o,n,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));P!==this.state.context&&rs(this,aa,Yl).call(this,{type:"pending",context:P,variables:n,isPaused:i})}const M=await Ce(this,Vu).start();return await((h=(d=Ce(this,Ps).config).onSuccess)==null?void 0:h.call(d,M,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,M,n,this.state.context)),await((x=(b=Ce(this,Ps).config).onSettled)==null?void 0:x.call(b,M,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,M,null,n,this.state.context)),rs(this,aa,Yl).call(this,{type:"success",data:M}),M}catch(M){try{throw await((N=(_=Ce(this,Ps).config).onError)==null?void 0:N.call(_,M,n,this.state.context,this)),await((O=(R=this.options).onError)==null?void 0:O.call(R,M,n,this.state.context)),await((k=(z=Ce(this,Ps).config).onSettled)==null?void 0:k.call(z,void 0,M,this.state.variables,this.state.context,this)),await((C=(A=this.options).onSettled)==null?void 0:C.call(A,void 0,M,n,this.state.context)),M}finally{rs(this,aa,Yl).call(this,{type:"error",error:M})}}finally{Ce(this,Ps).runNext(this)}}},oa=new WeakMap,Ps=new WeakMap,Vu=new WeakMap,aa=new WeakSet,Yl=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ks.batch(()=>{Ce(this,oa).forEach(s=>{s.onMutationUpdate(n)}),Ce(this,Ps).notify({mutation:this,type:"updated",action:n})})},SC);function R$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tl,So,zm,NC,L$=(NC=class extends Zy{constructor(t={}){super();on(this,tl);on(this,So);on(this,zm);this.config=t,Mt(this,tl,new Set),Mt(this,So,new Map),Mt(this,zm,0)}build(t,n,r){const s=new I$({mutationCache:this,mutationId:++Og(this,zm)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){Ce(this,tl).add(t);const n=o0(t);if(typeof n=="string"){const r=Ce(this,So).get(n);r?r.push(t):Ce(this,So).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ce(this,tl).delete(t)){const n=o0(t);if(typeof n=="string"){const r=Ce(this,So).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&Ce(this,So).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=o0(t);if(typeof n=="string"){const r=Ce(this,So).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=o0(t);if(typeof n=="string"){const s=(r=Ce(this,So).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ks.batch(()=>{Ce(this,tl).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ce(this,tl).clear(),Ce(this,So).clear()})}getAll(){return Array.from(Ce(this,tl))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>k4(n,r))}findAll(t={}){return this.getAll().filter(n=>k4(t,n))}notify(t){ks.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ks.batch(()=>Promise.all(t.map(n=>n.continue().catch(wo))))}},tl=new WeakMap,So=new WeakMap,zm=new WeakMap,NC);function o0(e){var t;return(t=e.options.scope)==null?void 0:t.id}function R4(e){return{onFetch:(t,n)=>{var d,h,p,f,b;const r=t.options,s=(p=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const w=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},v=cI(t.options,t.fetchOptions),_=async(N,R,O)=>{if(x)return Promise.reject();if(R==null&&N.pages.length)return Promise.resolve(N);const k=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:R,direction:O?"backward":"forward",meta:t.options.meta};return w(P),P})(),A=await v(k),{maxPages:C}=t.options,M=O?w$:b$;return{pages:M(N.pages,A,C),pageParams:M(N.pageParams,R,C)}};if(s&&i.length){const N=s==="backward",R=N?D$:L4,O={pages:i,pageParams:o},z=R(r,O);a=await _(O,z,N)}else{const N=e??i.length;do{const R=l===0?o[0]??r.initialPageParam:L4(r,a);if(l>0&&R==null)break;a=await _(a,R),l++}while(l<N)}return a};t.options.persister?t.fetchFn=()=>{var x,w;return(w=(x=t.options).persister)==null?void 0:w.call(x,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function L4(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function D$(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var rr,oc,ac,Mh,Oh,lc,Fh,Vh,AC,M$=(AC=class{constructor(e={}){on(this,rr);on(this,oc);on(this,ac);on(this,Mh);on(this,Oh);on(this,lc);on(this,Fh);on(this,Vh);Mt(this,rr,e.queryCache||new j$),Mt(this,oc,e.mutationCache||new L$),Mt(this,ac,e.defaultOptions||{}),Mt(this,Mh,new Map),Mt(this,Oh,new Map),Mt(this,lc,0)}mount(){Og(this,lc)._++,Ce(this,lc)===1&&(Mt(this,Fh,uI.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,rr).onFocus())})),Mt(this,Vh,$1.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,rr).onOnline())})))}unmount(){var e,t;Og(this,lc)._--,Ce(this,lc)===0&&((e=Ce(this,Fh))==null||e.call(this),Mt(this,Fh,void 0),(t=Ce(this,Vh))==null||t.call(this),Mt(this,Vh,void 0))}isFetching(e){return Ce(this,rr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ce(this,oc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ce(this,rr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=Ce(this,rr).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Yb(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return Ce(this,rr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=Ce(this,rr).get(r.queryHash),i=s==null?void 0:s.state.data,o=p$(t,i);if(o!==void 0)return Ce(this,rr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ks.batch(()=>Ce(this,rr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Ce(this,rr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Ce(this,rr);ks.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Ce(this,rr);return ks.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ks.batch(()=>Ce(this,rr).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(wo).catch(wo)}invalidateQueries(e,t={}){return ks.batch(()=>(Ce(this,rr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ks.batch(()=>Ce(this,rr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(wo)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(wo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Ce(this,rr).build(this,t);return n.isStaleByTime(Yb(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wo).catch(wo)}fetchInfiniteQuery(e){return e.behavior=R4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wo).catch(wo)}ensureInfiniteQueryData(e){return e.behavior=R4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $1.isOnline()?Ce(this,oc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ce(this,rr)}getMutationCache(){return Ce(this,oc)}getDefaultOptions(){return Ce(this,ac)}setDefaultOptions(e){Mt(this,ac,e)}setQueryDefaults(e,t){Ce(this,Mh).set(mm(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ce(this,Mh).values()],n={};return t.forEach(r=>{gm(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){Ce(this,Oh).set(mm(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ce(this,Oh).values()],n={};return t.forEach(r=>{gm(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ce(this,ac).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=N_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===A_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ce(this,ac).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ce(this,rr).clear(),Ce(this,oc).clear()}},rr=new WeakMap,oc=new WeakMap,ac=new WeakMap,Mh=new WeakMap,Oh=new WeakMap,lc=new WeakMap,Fh=new WeakMap,Vh=new WeakMap,AC),O$=L.createContext(void 0),F$=({client:e,children:t})=>(L.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(O$.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ym.apply(this,arguments)}var dc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dc||(dc={}));const D4="popstate";function V$(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Xb("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:q1(s)}return U$(t,n,null,e)}function _r(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B$(){return Math.random().toString(36).substr(2,8)}function M4(e,t){return{usr:e.state,key:e.key,idx:t}}function Xb(e,t,n,r){return n===void 0&&(n=null),ym({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gf(t):t,{state:n,key:t&&t.key||r||B$()})}function q1(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function gf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function U$(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=dc.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ym({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=dc.Pop;let w=d(),v=w==null?null:w-c;c=w,l&&l({action:a,location:x.location,delta:v})}function p(w,v){a=dc.Push;let _=Xb(x.location,w,v);c=d()+1;let N=M4(_,c),R=x.createHref(_);try{o.pushState(N,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(R)}i&&l&&l({action:a,location:x.location,delta:1})}function f(w,v){a=dc.Replace;let _=Xb(x.location,w,v);c=d();let N=M4(_,c),R=x.createHref(_);o.replaceState(N,"",R),i&&l&&l({action:a,location:x.location,delta:0})}function b(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof w=="string"?w:q1(w);return _=_.replace(/ $/,"%20"),_r(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let x={get action(){return a},get location(){return e(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(D4,h),l=w,()=>{s.removeEventListener(D4,h),l=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let v=b(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:f,go(w){return o.go(w)}};return x}var O4;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(O4||(O4={}));function z$(e,t,n){return n===void 0&&(n="/"),$$(e,t,n,!1)}function $$(e,t,n,r){let s=typeof t=="string"?gf(t):t,i=E_(s.pathname||"/",n);if(i==null)return null;let o=gI(e);q$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=tq(i);a=J$(o[l],c,r)}return a}function gI(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(_r(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ac([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(_r(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),gI(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:X$(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of yI(i.path))s(i,o,l)}),t}function yI(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=yI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function q$(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Z$(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const W$=/^:[\w-]+$/,H$=3,G$=2,K$=1,Y$=10,Q$=-2,F4=e=>e==="*";function X$(e,t){let n=e.split("/"),r=n.length;return n.some(F4)&&(r+=Q$),t&&(r+=G$),n.filter(s=>!F4(s)).reduce((s,i)=>s+(W$.test(i)?H$:i===""?K$:Y$),r)}function Z$(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function J$(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=V4({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=V4({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ac([i,h.pathname]),pathnameBase:iq(Ac([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ac([i,h.pathnameBase]))}return o}function V4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=eq(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let x=a[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const b=a[h];return f&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function eq(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),mI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function tq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function E_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function nq(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?gf(e):e;return{pathname:n?n.startsWith("/")?n:rq(n,t):t,search:oq(r),hash:aq(s)}}function rq(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function C2(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sq(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vI(e,t){let n=sq(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xI(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=gf(e):(s=ym({},e),_r(!s.pathname||!s.pathname.includes("?"),C2("?","pathname","search",s)),_r(!s.pathname||!s.pathname.includes("#"),C2("#","pathname","hash",s)),_r(!s.search||!s.search.includes("#"),C2("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?t[h]:"/"}let l=nq(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ac=e=>e.join("/").replace(/\/\/+/g,"/"),iq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bI=["post","put","patch","delete"];new Set(bI);const cq=["get",...bI];new Set(cq);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vm.apply(this,arguments)}const T_=L.createContext(null),uq=L.createContext(null),ad=L.createContext(null),ev=L.createContext(null),ld=L.createContext({outlet:null,matches:[],isDataRoute:!1}),wI=L.createContext(null);function dq(e,t){let{relative:n}=t===void 0?{}:t;Jm()||_r(!1);let{basename:r,navigator:s}=L.useContext(ad),{hash:i,pathname:o,search:a}=SI(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ac([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Jm(){return L.useContext(ev)!=null}function yf(){return Jm()||_r(!1),L.useContext(ev).location}function _I(e){L.useContext(ad).static||L.useLayoutEffect(e)}function hq(){let{isDataRoute:e}=L.useContext(ld);return e?Aq():fq()}function fq(){Jm()||_r(!1);let e=L.useContext(T_),{basename:t,future:n,navigator:r}=L.useContext(ad),{matches:s}=L.useContext(ld),{pathname:i}=yf(),o=JSON.stringify(vI(s,n.v7_relativeSplatPath)),a=L.useRef(!1);return _I(()=>{a.current=!0}),L.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=xI(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ac([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function SI(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=L.useContext(ad),{matches:s}=L.useContext(ld),{pathname:i}=yf(),o=JSON.stringify(vI(s,r.v7_relativeSplatPath));return L.useMemo(()=>xI(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function pq(e,t){return mq(e,t)}function mq(e,t,n,r){Jm()||_r(!1);let{navigator:s}=L.useContext(ad),{matches:i}=L.useContext(ld),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=yf(),d;if(t){var h;let w=typeof t=="string"?gf(t):t;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||_r(!1),d=w}else d=c;let p=d.pathname||"/",f=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=z$(e,{pathname:f}),x=bq(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ac([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ac([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&x?L.createElement(ev.Provider,{value:{location:vm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:dc.Pop}},x):x}function gq(){let e=Nq(),t=lq(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),n?L.createElement("pre",{style:s},n):null,null)}const yq=L.createElement(gq,null);class vq extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?L.createElement(ld.Provider,{value:this.props.routeContext},L.createElement(wI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xq(e){let{routeContext:t,match:n,children:r}=e,s=L.useContext(T_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(ld.Provider,{value:t},r)}function bq(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||_r(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:f}=n,b=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,b=!1,x=null,w=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||yq,l&&(c<0&&p===0?(b=!0,w=null):c===p&&(b=!0,w=h.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,p+1)),_=()=>{let N;return f?N=x:b?N=w:h.route.Component?N=L.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=d,L.createElement(xq,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?L.createElement(vq,{location:n.location,revalidation:n.revalidation,component:x,error:f,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var NI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(NI||{}),W1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(W1||{});function wq(e){let t=L.useContext(T_);return t||_r(!1),t}function _q(e){let t=L.useContext(uq);return t||_r(!1),t}function Sq(e){let t=L.useContext(ld);return t||_r(!1),t}function AI(e){let t=Sq(),n=t.matches[t.matches.length-1];return n.route.id||_r(!1),n.route.id}function Nq(){var e;let t=L.useContext(wI),n=_q(W1.UseRouteError),r=AI(W1.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Aq(){let{router:e}=wq(NI.UseNavigateStable),t=AI(W1.UseNavigateStable),n=L.useRef(!1);return _I(()=>{n.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,vm({fromRouteId:t},i)))},[e,t])}function Eq(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ql(e){_r(!1)}function Tq(e){let{basename:t="/",children:n=null,location:r,navigationType:s=dc.Pop,navigator:i,static:o=!1,future:a}=e;Jm()&&_r(!1);let l=t.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:i,static:o,future:vm({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=gf(r));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:b="default"}=r,x=L.useMemo(()=>{let w=E_(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:f,key:b},navigationType:s}},[l,d,h,p,f,b,s]);return x==null?null:L.createElement(ad.Provider,{value:c},L.createElement(ev.Provider,{children:n,value:x}))}function Pq(e){let{children:t,location:n}=e;return pq(Zb(t),n)}new Promise(()=>{});function Zb(e,t){t===void 0&&(t=[]);let n=[];return L.Children.forEach(e,(r,s)=>{if(!L.isValidElement(r))return;let i=[...t,s];if(r.type===L.Fragment){n.push.apply(n,Zb(r.props.children,i));return}r.type!==Ql&&_r(!1),!r.props.index||!r.props.children||_r(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zb(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jb.apply(this,arguments)}function Cq(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function kq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jq(e,t){return e.button===0&&(!t||t==="_self")&&!kq(e)}const Iq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rq="6";try{window.__reactRouterVersion=Rq}catch{}const Lq="startTransition",B4=y5[Lq];function Dq(e){let{basename:t,children:n,future:r,window:s}=e,i=L.useRef();i.current==null&&(i.current=V$({window:s,v5Compat:!0}));let o=i.current,[a,l]=L.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=L.useCallback(h=>{c&&B4?B4(()=>l(h)):l(h)},[l,c]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.useEffect(()=>Eq(r),[r]),L.createElement(Tq,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Mq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fq=L.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=t,p=Cq(t,Iq),{basename:f}=L.useContext(ad),b,x=!1;if(typeof c=="string"&&Oq.test(c)&&(b=c,Mq))try{let N=new URL(window.location.href),R=c.startsWith("//")?new URL(N.protocol+c):new URL(c),O=E_(R.pathname,f);R.origin===N.origin&&O!=null?c=O+R.search+R.hash:x=!0}catch{}let w=dq(c,{relative:s}),v=Vq(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function _(N){r&&r(N),N.defaultPrevented||v(N)}return L.createElement("a",Jb({},p,{href:b||w,onClick:x||i?r:_,ref:n,target:l}))});var U4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(U4||(U4={}));var z4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(z4||(z4={}));function Vq(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=hq(),c=yf(),d=SI(e,{relative:o});return L.useCallback(h=>{if(jq(h,n)){h.preventDefault();let p=r!==void 0?r:q1(c)===q1(d);l(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,e,i,o,a])}const Bq=()=>{};var $4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},Uq=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},TI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(p=64)),r.push(n[d],n[h],n[p],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(EI(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Uq(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new zq;const p=i<<2|a>>4;if(r.push(p),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const b=c<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class zq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $q=function(e){const t=EI(e);return TI.encodeByteArray(t,!0)},H1=function(e){return $q(e).replace(/\./g,"")},qq=function(e){try{return TI.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq=()=>Wq().__FIREBASE_DEFAULTS__,Gq=()=>{if(typeof process>"u"||typeof $4>"u")return;const e=$4.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Kq=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&qq(e[1]);return t&&JSON.parse(t)},P_=()=>{try{return Bq()||Hq()||Gq()||Kq()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Yq=e=>{var t,n;return(n=(t=P_())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},PI=e=>{const t=Yq(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},CI=()=>{var e;return(e=P_())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kI(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[H1(JSON.stringify(n)),H1(JSON.stringify(o)),""].join(".")}const Mp={};function Xq(){const e={prod:[],emulator:[]};for(const t of Object.keys(Mp))Mp[t]?e.emulator.push(t):e.prod.push(t);return e}function Zq(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let q4=!1;function II(e,t){if(typeof window>"u"||typeof document>"u"||!tv(window.location.host)||Mp[e]===t||Mp[e]||q4)return;Mp[e]=t;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=Xq().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,f){p.setAttribute("width","24"),p.setAttribute("id",f),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{q4=!0,o()},p}function d(p,f){p.setAttribute("id",f),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=Zq(r),f=n("text"),b=document.getElementById(f)||document.createElement("span"),x=n("learnmore"),w=document.getElementById(x)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const N=p.element;a(N),d(w,x);const R=c();l(_,v),N.append(_,b,w,R),document.body.appendChild(N)}i?(b.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eW(){var t;const e=(t=P_())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tW(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function nW(){return!eW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RI(){try{return typeof indexedDB=="object"}catch{return!1}}function LI(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)==null?void 0:i.message)||"")}}catch(n){t(n)}})}function rW(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW="FirebaseError";class wl extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=sW,Object.setPrototypeOf(this,wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nv.prototype.create)}}class nv{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?iW(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new wl(s,a,r)}}function iW(e,t){return e.replace(oW,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const oW=/\{\$([^}]+)}/g;function xm(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(W4(i)&&W4(o)){if(!xm(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function W4(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=1e3,lW=2,cW=4*60*60*1e3,uW=.5;function H4(e,t=aW,n=lW){const r=t*Math.pow(n,e),s=Math.round(uW*r*(Math.random()-.5)*2);return Math.min(cW,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(e){return e&&e._delegate?e._delegate:e}class Ta{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Qq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fW(t))try{this.getOrInitializeService({instanceIdentifier:xu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=xu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xu){return this.instances.has(t)}getOptions(t=xu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hW(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=xu){return this.component?this.component.multipleInstances?t:xu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hW(e){return e===xu?void 0:e}function fW(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new dW(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(en||(en={}));const mW={debug:en.DEBUG,verbose:en.VERBOSE,info:en.INFO,warn:en.WARN,error:en.ERROR,silent:en.SILENT},gW=en.INFO,yW={[en.DEBUG]:"log",[en.VERBOSE]:"log",[en.INFO]:"info",[en.WARN]:"warn",[en.ERROR]:"error"},vW=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=yW[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class C_{constructor(t){this.name=t,this._logLevel=gW,this._logHandler=vW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in en))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mW[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,en.DEBUG,...t),this._logHandler(this,en.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,en.VERBOSE,...t),this._logHandler(this,en.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,en.INFO,...t),this._logHandler(this,en.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,en.WARN,...t),this._logHandler(this,en.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,en.ERROR,...t),this._logHandler(this,en.ERROR,...t)}}const xW=(e,t)=>t.some(n=>e instanceof n);let G4,K4;function bW(){return G4||(G4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wW(){return K4||(K4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DI=new WeakMap,ew=new WeakMap,MI=new WeakMap,k2=new WeakMap,k_=new WeakMap;function _W(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(Ec(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&DI.set(n,e)}).catch(()=>{}),k_.set(t,e),t}function SW(e){if(ew.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});ew.set(e,t)}let tw={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ew.get(e);if(t==="objectStoreNames")return e.objectStoreNames||MI.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ec(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function NW(e){tw=e(tw)}function AW(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(j2(this),t,...n);return MI.set(r,t.sort?t.sort():[t]),Ec(r)}:wW().includes(e)?function(...t){return e.apply(j2(this),t),Ec(DI.get(this))}:function(...t){return Ec(e.apply(j2(this),t))}}function EW(e){return typeof e=="function"?AW(e):(e instanceof IDBTransaction&&SW(e),xW(e,bW())?new Proxy(e,tw):e)}function Ec(e){if(e instanceof IDBRequest)return _W(e);if(k2.has(e))return k2.get(e);const t=EW(e);return t!==e&&(k2.set(e,t),k_.set(t,e)),t}const j2=e=>k_.get(e);function OI(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=Ec(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ec(o.result),l.oldVersion,l.newVersion,Ec(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const TW=["get","getKey","getAll","getAllKeys","count"],PW=["put","add","delete","clear"],I2=new Map;function Y4(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(I2.get(t))return I2.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=PW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||TW.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return I2.set(t,i),i}NW(e=>({...e,get:(t,n,r)=>Y4(t,n)||e.get(t,n,r),has:(t,n)=>!!Y4(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kW(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const nw="@firebase/app",Q4="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new C_("@firebase/app"),jW="@firebase/app-compat",IW="@firebase/analytics-compat",RW="@firebase/analytics",LW="@firebase/app-check-compat",DW="@firebase/app-check",MW="@firebase/auth",OW="@firebase/auth-compat",FW="@firebase/database",VW="@firebase/data-connect",BW="@firebase/database-compat",UW="@firebase/functions",zW="@firebase/functions-compat",$W="@firebase/installations",qW="@firebase/installations-compat",WW="@firebase/messaging",HW="@firebase/messaging-compat",GW="@firebase/performance",KW="@firebase/performance-compat",YW="@firebase/remote-config",QW="@firebase/remote-config-compat",XW="@firebase/storage",ZW="@firebase/storage-compat",JW="@firebase/firestore",eH="@firebase/ai",tH="@firebase/firestore-compat",nH="firebase",rH="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="[DEFAULT]",sH={[nw]:"fire-core",[jW]:"fire-core-compat",[RW]:"fire-analytics",[IW]:"fire-analytics-compat",[DW]:"fire-app-check",[LW]:"fire-app-check-compat",[MW]:"fire-auth",[OW]:"fire-auth-compat",[FW]:"fire-rtdb",[VW]:"fire-data-connect",[BW]:"fire-rtdb-compat",[UW]:"fire-fn",[zW]:"fire-fn-compat",[$W]:"fire-iid",[qW]:"fire-iid-compat",[WW]:"fire-fcm",[HW]:"fire-fcm-compat",[GW]:"fire-perf",[KW]:"fire-perf-compat",[YW]:"fire-rc",[QW]:"fire-rc-compat",[XW]:"fire-gcs",[ZW]:"fire-gcs-compat",[JW]:"fire-fst",[tH]:"fire-fst-compat",[eH]:"fire-vertex","fire-js":"fire-js",[nH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Map,iH=new Map,sw=new Map;function X4(e,t){try{e.container.addComponent(t)}catch(n){pl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ml(e){const t=e.name;if(sw.has(t))return pl.debug(`There were multiple attempts to register component ${t}.`),!1;sw.set(t,e);for(const n of G1.values())X4(n,e);for(const n of iH.values())X4(n,e);return!0}function vf(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function FI(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tc=new nv("app","Firebase",oH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Tc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=rH;function BI(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:rw,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw Tc.create("bad-app-name",{appName:String(s)});if(n||(n=CI()),!n)throw Tc.create("no-options");const i=G1.get(s);if(i){if(xm(n,i.options)&&xm(r,i.config))return i;throw Tc.create("duplicate-app",{appName:s})}const o=new pW(s);for(const l of sw.values())o.addComponent(l);const a=new aH(n,r,o);return G1.set(s,a),a}function j_(e=rw){const t=G1.get(e);if(!t&&e===rw&&CI())return BI();if(!t)throw Tc.create("no-app",{appName:e});return t}function eo(e,t,n){let r=sH[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${t}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pl.warn(o.join(" "));return}ml(new Ta(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH="firebase-heartbeat-database",cH=1,bm="firebase-heartbeat-store";let R2=null;function UI(){return R2||(R2=OI(lH,cH,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(bm)}catch(n){console.warn(n)}}}}).catch(e=>{throw Tc.create("idb-open",{originalErrorMessage:e.message})})),R2}async function uH(e){try{const n=(await UI()).transaction(bm),r=await n.objectStore(bm).get(zI(e));return await n.done,r}catch(t){if(t instanceof wl)pl.warn(t.message);else{const n=Tc.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pl.warn(n.message)}}}async function Z4(e,t){try{const r=(await UI()).transaction(bm,"readwrite");await r.objectStore(bm).put(t,zI(e)),await r.done}catch(n){if(n instanceof wl)pl.warn(n.message);else{const r=Tc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pl.warn(r.message)}}}function zI(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH=1024,hH=30;class fH{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=J4();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>hH){const o=gH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pl.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J4(),{heartbeatsToSend:r,unsentEntries:s}=pH(this._heartbeatsCache.heartbeats),i=H1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return pl.warn(n),""}}}function J4(){return new Date().toISOString().substring(0,10)}function pH(e,t=dH){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),e3(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),e3(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mH{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RI()?LI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z4(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z4(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function e3(e){return H1(JSON.stringify({version:2,heartbeats:e})).length}function gH(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(e){ml(new Ta("platform-logger",t=>new CW(t),"PRIVATE")),ml(new Ta("heartbeat",t=>new fH(t),"PRIVATE")),eo(nw,Q4,e),eo(nw,Q4,"esm2020"),eo("fire-js","")}yH("");var t3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pc,$I;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,A){function C(){}C.prototype=A.prototype,k.F=A.prototype,k.prototype=new C,k.prototype.constructor=k,k.D=function(M,P,I){for(var E=Array(arguments.length-2),$=2;$<arguments.length;$++)E[$-2]=arguments[$];return A.prototype[P].apply(M,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)M[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;P<16;++P)M[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=k.g[0],C=k.g[1],P=k.g[2];let I=k.g[3],E;E=A+(I^C&(P^I))+M[0]+3614090360&4294967295,A=C+(E<<7&4294967295|E>>>25),E=I+(P^A&(C^P))+M[1]+3905402710&4294967295,I=A+(E<<12&4294967295|E>>>20),E=P+(C^I&(A^C))+M[2]+606105819&4294967295,P=I+(E<<17&4294967295|E>>>15),E=C+(A^P&(I^A))+M[3]+3250441966&4294967295,C=P+(E<<22&4294967295|E>>>10),E=A+(I^C&(P^I))+M[4]+4118548399&4294967295,A=C+(E<<7&4294967295|E>>>25),E=I+(P^A&(C^P))+M[5]+1200080426&4294967295,I=A+(E<<12&4294967295|E>>>20),E=P+(C^I&(A^C))+M[6]+2821735955&4294967295,P=I+(E<<17&4294967295|E>>>15),E=C+(A^P&(I^A))+M[7]+4249261313&4294967295,C=P+(E<<22&4294967295|E>>>10),E=A+(I^C&(P^I))+M[8]+1770035416&4294967295,A=C+(E<<7&4294967295|E>>>25),E=I+(P^A&(C^P))+M[9]+2336552879&4294967295,I=A+(E<<12&4294967295|E>>>20),E=P+(C^I&(A^C))+M[10]+4294925233&4294967295,P=I+(E<<17&4294967295|E>>>15),E=C+(A^P&(I^A))+M[11]+2304563134&4294967295,C=P+(E<<22&4294967295|E>>>10),E=A+(I^C&(P^I))+M[12]+1804603682&4294967295,A=C+(E<<7&4294967295|E>>>25),E=I+(P^A&(C^P))+M[13]+4254626195&4294967295,I=A+(E<<12&4294967295|E>>>20),E=P+(C^I&(A^C))+M[14]+2792965006&4294967295,P=I+(E<<17&4294967295|E>>>15),E=C+(A^P&(I^A))+M[15]+1236535329&4294967295,C=P+(E<<22&4294967295|E>>>10),E=A+(P^I&(C^P))+M[1]+4129170786&4294967295,A=C+(E<<5&4294967295|E>>>27),E=I+(C^P&(A^C))+M[6]+3225465664&4294967295,I=A+(E<<9&4294967295|E>>>23),E=P+(A^C&(I^A))+M[11]+643717713&4294967295,P=I+(E<<14&4294967295|E>>>18),E=C+(I^A&(P^I))+M[0]+3921069994&4294967295,C=P+(E<<20&4294967295|E>>>12),E=A+(P^I&(C^P))+M[5]+3593408605&4294967295,A=C+(E<<5&4294967295|E>>>27),E=I+(C^P&(A^C))+M[10]+38016083&4294967295,I=A+(E<<9&4294967295|E>>>23),E=P+(A^C&(I^A))+M[15]+3634488961&4294967295,P=I+(E<<14&4294967295|E>>>18),E=C+(I^A&(P^I))+M[4]+3889429448&4294967295,C=P+(E<<20&4294967295|E>>>12),E=A+(P^I&(C^P))+M[9]+568446438&4294967295,A=C+(E<<5&4294967295|E>>>27),E=I+(C^P&(A^C))+M[14]+3275163606&4294967295,I=A+(E<<9&4294967295|E>>>23),E=P+(A^C&(I^A))+M[3]+4107603335&4294967295,P=I+(E<<14&4294967295|E>>>18),E=C+(I^A&(P^I))+M[8]+1163531501&4294967295,C=P+(E<<20&4294967295|E>>>12),E=A+(P^I&(C^P))+M[13]+2850285829&4294967295,A=C+(E<<5&4294967295|E>>>27),E=I+(C^P&(A^C))+M[2]+4243563512&4294967295,I=A+(E<<9&4294967295|E>>>23),E=P+(A^C&(I^A))+M[7]+1735328473&4294967295,P=I+(E<<14&4294967295|E>>>18),E=C+(I^A&(P^I))+M[12]+2368359562&4294967295,C=P+(E<<20&4294967295|E>>>12),E=A+(C^P^I)+M[5]+4294588738&4294967295,A=C+(E<<4&4294967295|E>>>28),E=I+(A^C^P)+M[8]+2272392833&4294967295,I=A+(E<<11&4294967295|E>>>21),E=P+(I^A^C)+M[11]+1839030562&4294967295,P=I+(E<<16&4294967295|E>>>16),E=C+(P^I^A)+M[14]+4259657740&4294967295,C=P+(E<<23&4294967295|E>>>9),E=A+(C^P^I)+M[1]+2763975236&4294967295,A=C+(E<<4&4294967295|E>>>28),E=I+(A^C^P)+M[4]+1272893353&4294967295,I=A+(E<<11&4294967295|E>>>21),E=P+(I^A^C)+M[7]+4139469664&4294967295,P=I+(E<<16&4294967295|E>>>16),E=C+(P^I^A)+M[10]+3200236656&4294967295,C=P+(E<<23&4294967295|E>>>9),E=A+(C^P^I)+M[13]+681279174&4294967295,A=C+(E<<4&4294967295|E>>>28),E=I+(A^C^P)+M[0]+3936430074&4294967295,I=A+(E<<11&4294967295|E>>>21),E=P+(I^A^C)+M[3]+3572445317&4294967295,P=I+(E<<16&4294967295|E>>>16),E=C+(P^I^A)+M[6]+76029189&4294967295,C=P+(E<<23&4294967295|E>>>9),E=A+(C^P^I)+M[9]+3654602809&4294967295,A=C+(E<<4&4294967295|E>>>28),E=I+(A^C^P)+M[12]+3873151461&4294967295,I=A+(E<<11&4294967295|E>>>21),E=P+(I^A^C)+M[15]+530742520&4294967295,P=I+(E<<16&4294967295|E>>>16),E=C+(P^I^A)+M[2]+3299628645&4294967295,C=P+(E<<23&4294967295|E>>>9),E=A+(P^(C|~I))+M[0]+4096336452&4294967295,A=C+(E<<6&4294967295|E>>>26),E=I+(C^(A|~P))+M[7]+1126891415&4294967295,I=A+(E<<10&4294967295|E>>>22),E=P+(A^(I|~C))+M[14]+2878612391&4294967295,P=I+(E<<15&4294967295|E>>>17),E=C+(I^(P|~A))+M[5]+4237533241&4294967295,C=P+(E<<21&4294967295|E>>>11),E=A+(P^(C|~I))+M[12]+1700485571&4294967295,A=C+(E<<6&4294967295|E>>>26),E=I+(C^(A|~P))+M[3]+2399980690&4294967295,I=A+(E<<10&4294967295|E>>>22),E=P+(A^(I|~C))+M[10]+4293915773&4294967295,P=I+(E<<15&4294967295|E>>>17),E=C+(I^(P|~A))+M[1]+2240044497&4294967295,C=P+(E<<21&4294967295|E>>>11),E=A+(P^(C|~I))+M[8]+1873313359&4294967295,A=C+(E<<6&4294967295|E>>>26),E=I+(C^(A|~P))+M[15]+4264355552&4294967295,I=A+(E<<10&4294967295|E>>>22),E=P+(A^(I|~C))+M[6]+2734768916&4294967295,P=I+(E<<15&4294967295|E>>>17),E=C+(I^(P|~A))+M[13]+1309151649&4294967295,C=P+(E<<21&4294967295|E>>>11),E=A+(P^(C|~I))+M[4]+4149444226&4294967295,A=C+(E<<6&4294967295|E>>>26),E=I+(C^(A|~P))+M[11]+3174756917&4294967295,I=A+(E<<10&4294967295|E>>>22),E=P+(A^(I|~C))+M[2]+718787259&4294967295,P=I+(E<<15&4294967295|E>>>17),E=C+(I^(P|~A))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(P+(E<<21&4294967295|E>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+I&4294967295}r.prototype.v=function(k,A){A===void 0&&(A=k.length);const C=A-this.blockSize,M=this.C;let P=this.h,I=0;for(;I<A;){if(P==0)for(;I<=C;)s(this,k,I),I+=this.blockSize;if(typeof k=="string"){for(;I<A;)if(M[P++]=k.charCodeAt(I++),P==this.blockSize){s(this,M),P=0;break}}else for(;I<A;)if(M[P++]=k[I++],P==this.blockSize){s(this,M),P=0;break}}this.h=P,this.o+=A},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;A=this.o*8;for(var C=k.length-8;C<k.length;++C)k[C]=A&255,A/=256;for(this.v(k),k=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)k[A++]=this.g[C]>>>M&255;return k};function i(k,A){var C=a;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=A(k)}function o(k,A){this.h=A;const C=[];let M=!0;for(let P=k.length-1;P>=0;P--){const I=k[P]|0;M&&I==A||(C[P]=I,M=!1)}this.g=C}var a={};function l(k){return-128<=k&&k<128?i(k,function(A){return new o([A|0],A<0?-1:0)}):new o([k|0],k<0?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return h;if(k<0)return w(c(-k));const A=[];let C=1;for(let M=0;k>=C;M++)A[M]=k/C|0,C*=4294967296;return new o(A,0)}function d(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return w(d(k.substring(1),A));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(A,8));let M=h;for(let I=0;I<k.length;I+=8){var P=Math.min(8,k.length-I);const E=parseInt(k.substring(I,I+P),A);P<8?(P=c(Math.pow(A,P)),M=M.j(P).add(c(E))):(M=M.j(C),M=M.add(c(E)))}return M}var h=l(0),p=l(1),f=l(16777216);e=o.prototype,e.m=function(){if(x(this))return-w(this).m();let k=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);k+=(M>=0?M:4294967296+M)*A,A*=4294967296}return k},e.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(b(this))return"0";if(x(this))return"-"+w(this).toString(k);const A=c(Math.pow(k,6));var C=this;let M="";for(;;){const P=R(C,A).g;C=v(C,P.j(A));let I=((C.g.length>0?C.g[0]:C.h)>>>0).toString(k);if(C=P,b(C))return I+M;for(;I.length<6;)I="0"+I;M=I+M}},e.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function b(k){if(k.h!=0)return!1;for(let A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function x(k){return k.h==-1}e.l=function(k){return k=v(this,k),x(k)?-1:b(k)?0:1};function w(k){const A=k.g.length,C=[];for(let M=0;M<A;M++)C[M]=~k.g[M];return new o(C,~k.h).add(p)}e.abs=function(){return x(this)?w(this):this},e.add=function(k){const A=Math.max(this.g.length,k.g.length),C=[];let M=0;for(let P=0;P<=A;P++){let I=M+(this.i(P)&65535)+(k.i(P)&65535),E=(I>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);M=E>>>16,I&=65535,E&=65535,C[P]=E<<16|I}return new o(C,C[C.length-1]&-2147483648?-1:0)};function v(k,A){return k.add(w(A))}e.j=function(k){if(b(this)||b(k))return h;if(x(this))return x(k)?w(this).j(w(k)):w(w(this).j(k));if(x(k))return w(this.j(w(k)));if(this.l(f)<0&&k.l(f)<0)return c(this.m()*k.m());const A=this.g.length+k.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let P=0;P<k.g.length;P++){const I=this.i(M)>>>16,E=this.i(M)&65535,$=k.i(P)>>>16,Y=k.i(P)&65535;C[2*M+2*P]+=E*Y,_(C,2*M+2*P),C[2*M+2*P+1]+=I*Y,_(C,2*M+2*P+1),C[2*M+2*P+1]+=E*$,_(C,2*M+2*P+1),C[2*M+2*P+2]+=I*$,_(C,2*M+2*P+2)}for(k=0;k<A;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=A;k<2*A;k++)C[k]=0;return new o(C,0)};function _(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function N(k,A){this.g=k,this.h=A}function R(k,A){if(b(A))throw Error("division by zero");if(b(k))return new N(h,h);if(x(k))return A=R(w(k),A),new N(w(A.g),w(A.h));if(x(A))return A=R(k,w(A)),new N(w(A.g),A.h);if(k.g.length>30){if(x(k)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var C=p,M=A;M.l(k)<=0;)C=O(C),M=O(M);var P=z(C,1),I=z(M,1);for(M=z(M,2),C=z(C,2);!b(M);){var E=I.add(M);E.l(k)<=0&&(P=P.add(C),I=E),M=z(M,1),C=z(C,1)}return A=v(k,P.j(A)),new N(P,A)}for(P=h;k.l(A)>=0;){for(C=Math.max(1,Math.floor(k.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),I=c(C),E=I.j(A);x(E)||E.l(k)>0;)C-=M,I=c(C),E=I.j(A);b(I)&&(I=p),P=P.add(I),k=v(k,E)}return new N(P,k)}e.B=function(k){return R(this,k).h},e.and=function(k){const A=Math.max(this.g.length,k.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&k.i(M);return new o(C,this.h&k.h)},e.or=function(k){const A=Math.max(this.g.length,k.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|k.i(M);return new o(C,this.h|k.h)},e.xor=function(k){const A=Math.max(this.g.length,k.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^k.i(M);return new o(C,this.h^k.h)};function O(k){const A=k.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=k.i(M)<<1|k.i(M-1)>>>31;return new o(C,k.h)}function z(k,A){const C=A>>5;A%=32;const M=k.g.length-C,P=[];for(let I=0;I<M;I++)P[I]=A>0?k.i(I+C)>>>A|k.i(I+C+1)<<32-A:k.i(I+C);return new o(P,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$I=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Pc=o}).apply(typeof t3<"u"?t3:typeof self<"u"?self:typeof window<"u"?window:{});var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qI,yp,WI,G0,iw,HI,GI,KI;(function(){var e,t=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof a0=="object"&&a0];for(var j=0;j<g.length;++j){var F=g[j];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=n(this);function s(g,j){if(j)e:{var F=r;g=g.split(".");for(var K=0;K<g.length-1;K++){var ye=g[K];if(!(ye in F))break e;F=F[ye]}g=g[g.length-1],K=F[g],j=j(K),j!=K&&j!=null&&t(F,g,{configurable:!0,writable:!0,value:j})}}s("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(g){return g||function(j){var F=[],K;for(K in j)Object.prototype.hasOwnProperty.call(j,K)&&F.push([K,j[K]]);return F}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(g){var j=typeof g;return j=="object"&&g!=null||j=="function"}function l(g,j,F){return g.call.apply(g.bind,arguments)}function c(g,j,F){return c=l,c.apply(null,arguments)}function d(g,j){var F=Array.prototype.slice.call(arguments,1);return function(){var K=F.slice();return K.push.apply(K,arguments),g.apply(this,K)}}function h(g,j){function F(){}F.prototype=j.prototype,g.Z=j.prototype,g.prototype=new F,g.prototype.constructor=g,g.Ob=function(K,ye,we){for(var Fe=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)Fe[Tt-2]=arguments[Tt];return j.prototype[ye].apply(K,Fe)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function f(g){const j=g.length;if(j>0){const F=Array(j);for(let K=0;K<j;K++)F[K]=g[K];return F}return[]}function b(g,j){for(let K=1;K<arguments.length;K++){const ye=arguments[K];var F=typeof ye;if(F=F!="object"?F:ye?Array.isArray(ye)?"array":F:"null",F=="array"||F=="object"&&typeof ye.length=="number"){F=g.length||0;const we=ye.length||0;g.length=F+we;for(let Fe=0;Fe<we;Fe++)g[F+Fe]=ye[Fe]}else g.push(ye)}}class x{constructor(j,F){this.i=j,this.j=F,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function w(g){o.setTimeout(()=>{throw g},0)}function v(){var g=k;let j=null;return g.g&&(j=g.g,g.g=g.g.next,g.g||(g.h=null),j.next=null),j}class _{constructor(){this.h=this.g=null}add(j,F){const K=N.get();K.set(j,F),this.h?this.h.next=K:this.g=K,this.h=K}}var N=new x(()=>new R,g=>g.reset());class R{constructor(){this.next=this.g=this.h=null}set(j,F){this.h=j,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let O,z=!1,k=new _,A=()=>{const g=Promise.resolve(void 0);O=()=>{g.then(C)}};function C(){for(var g;g=v();){try{g.h.call(g.g)}catch(F){w(F)}var j=N;j.j(g),j.h<100&&(j.h++,g.next=j.g,j.g=g)}z=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(g,j){this.type=g,this.g=this.target=j,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,j=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const F=()=>{};o.addEventListener("test",F,j),o.removeEventListener("test",F,j)}catch{}return g}();function E(g){return/^[\s\xa0]*$/.test(g)}function $(g,j){P.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,j)}h($,P),$.prototype.init=function(g,j){const F=this.type=g.type,K=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=j,j=g.relatedTarget,j||(F=="mouseover"?j=g.fromElement:F=="mouseout"&&(j=g.toElement)),this.relatedTarget=j,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),ae=0;function ee(g,j,F,K,ye){this.listener=g,this.proxy=null,this.src=j,this.type=F,this.capture=!!K,this.ha=ye,this.key=++ae,this.da=this.fa=!1}function H(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ne(g,j,F){for(const K in g)j.call(F,g[K],K,g)}function oe(g,j){for(const F in g)j.call(void 0,g[F],F,g)}function fe(g){const j={};for(const F in g)j[F]=g[F];return j}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(g,j){let F,K;for(let ye=1;ye<arguments.length;ye++){K=arguments[ye];for(F in K)g[F]=K[F];for(let we=0;we<V.length;we++)F=V[we],Object.prototype.hasOwnProperty.call(K,F)&&(g[F]=K[F])}}function Z(g){this.src=g,this.g={},this.h=0}Z.prototype.add=function(g,j,F,K,ye){const we=g.toString();g=this.g[we],g||(g=this.g[we]=[],this.h++);const Fe=ce(g,j,K,ye);return Fe>-1?(j=g[Fe],F||(j.fa=!1)):(j=new ee(j,this.src,we,!!K,ye),j.fa=F,g.push(j)),j};function le(g,j){const F=j.type;if(F in g.g){var K=g.g[F],ye=Array.prototype.indexOf.call(K,j,void 0),we;(we=ye>=0)&&Array.prototype.splice.call(K,ye,1),we&&(H(j),g.g[F].length==0&&(delete g.g[F],g.h--))}}function ce(g,j,F,K){for(let ye=0;ye<g.length;++ye){const we=g[ye];if(!we.da&&we.listener==j&&we.capture==!!F&&we.ha==K)return ye}return-1}var he="closure_lm_"+(Math.random()*1e6|0),ie={};function de(g,j,F,K,ye){if(Array.isArray(j)){for(let we=0;we<j.length;we++)de(g,j[we],F,K,ye);return null}return F=ot(F),g&&g[Y]?g.J(j,F,a(K)?!!K.capture:!!K,ye):_e(g,j,F,!1,K,ye)}function _e(g,j,F,K,ye,we){if(!j)throw Error("Invalid event type");const Fe=a(ye)?!!ye.capture:!!ye;let Tt=Be(g);if(Tt||(g[he]=Tt=new Z(g)),F=Tt.add(j,F,K,Fe,we),F.proxy)return F;if(K=Pe(),F.proxy=K,K.src=g,K.listener=F,g.addEventListener)I||(ye=Fe),ye===void 0&&(ye=!1),g.addEventListener(j.toString(),K,ye);else if(g.attachEvent)g.attachEvent($e(j.toString()),K);else if(g.addListener&&g.removeListener)g.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Pe(){function g(F){return j.call(g.src,g.listener,F)}const j=J;return g}function Me(g,j,F,K,ye){if(Array.isArray(j))for(var we=0;we<j.length;we++)Me(g,j[we],F,K,ye);else K=a(K)?!!K.capture:!!K,F=ot(F),g&&g[Y]?(g=g.i,we=String(j).toString(),we in g.g&&(j=g.g[we],F=ce(j,F,K,ye),F>-1&&(H(j[F]),Array.prototype.splice.call(j,F,1),j.length==0&&(delete g.g[we],g.h--)))):g&&(g=Be(g))&&(j=g.g[j.toString()],g=-1,j&&(g=ce(j,F,K,ye)),(F=g>-1?j[g]:null)&&Oe(F))}function Oe(g){if(typeof g!="number"&&g&&!g.da){var j=g.src;if(j&&j[Y])le(j.i,g);else{var F=g.type,K=g.proxy;j.removeEventListener?j.removeEventListener(F,K,g.capture):j.detachEvent?j.detachEvent($e(F),K):j.addListener&&j.removeListener&&j.removeListener(K),(F=Be(j))?(le(F,g),F.h==0&&(F.src=null,j[he]=null)):H(g)}}}function $e(g){return g in ie?ie[g]:ie[g]="on"+g}function J(g,j){if(g.da)g=!0;else{j=new $(j,this);const F=g.listener,K=g.ha||g.src;g.fa&&Oe(g),g=F.call(K,j)}return g}function Be(g){return g=g[he],g instanceof Z?g:null}var St="__closure_events_fn_"+(Math.random()*1e9>>>0);function ot(g){return typeof g=="function"?g:(g[St]||(g[St]=function(j){return g.handleEvent(j)}),g[St])}function Ne(){M.call(this),this.i=new Z(this),this.M=this,this.G=null}h(Ne,M),Ne.prototype[Y]=!0,Ne.prototype.removeEventListener=function(g,j,F,K){Me(this,g,j,F,K)};function qe(g,j){var F,K=g.G;if(K)for(F=[];K;K=K.G)F.push(K);if(g=g.M,K=j.type||j,typeof j=="string")j=new P(j,g);else if(j instanceof P)j.target=j.target||g;else{var ye=j;j=new P(K,g),Q(j,ye)}ye=!0;let we,Fe;if(F)for(Fe=F.length-1;Fe>=0;Fe--)we=j.g=F[Fe],ye=ze(we,K,!0,j)&&ye;if(we=j.g=g,ye=ze(we,K,!0,j)&&ye,ye=ze(we,K,!1,j)&&ye,F)for(Fe=0;Fe<F.length;Fe++)we=j.g=F[Fe],ye=ze(we,K,!1,j)&&ye}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var g=this.i;for(const j in g.g){const F=g.g[j];for(let K=0;K<F.length;K++)H(F[K]);delete g.g[j],g.h--}}this.G=null},Ne.prototype.J=function(g,j,F,K){return this.i.add(String(g),j,!1,F,K)},Ne.prototype.K=function(g,j,F,K){return this.i.add(String(g),j,!0,F,K)};function ze(g,j,F,K){if(j=g.i.g[String(j)],!j)return!0;j=j.concat();let ye=!0;for(let we=0;we<j.length;++we){const Fe=j[we];if(Fe&&!Fe.da&&Fe.capture==F){const Tt=Fe.listener,Cn=Fe.ha||Fe.src;Fe.fa&&le(g.i,Fe),ye=Tt.call(Cn,K)!==!1&&ye}}return ye&&!K.defaultPrevented}function ht(g,j){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=c(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:o.setTimeout(g,j||0)}function Ye(g){g.g=ht(()=>{g.g=null,g.i&&(g.i=!1,Ye(g))},g.l);const j=g.h;g.h=null,g.m.apply(null,j)}class Xt extends M{constructor(j,F){super(),this.m=j,this.l=F,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Ye(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jt(g){M.call(this),this.h=g,this.g={}}h(jt,M);var lt=[];function Pt(g){ne(g.g,function(j,F){this.g.hasOwnProperty(F)&&Oe(j)},g),g.g={}}jt.prototype.N=function(){jt.Z.N.call(this),Pt(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ot=o.JSON.stringify,et=o.JSON.parse,bt=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function tt(){}function xn(){}var Lt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){P.call(this,"d")}h(xt,P);function Et(){P.call(this,"c")}h(Et,P);var Ut={},ct=null;function tn(){return ct=ct||new Ne}Ut.Ia="serverreachability";function mt(g){P.call(this,Ut.Ia,g)}h(mt,P);function yt(g){const j=tn();qe(j,new mt(j))}Ut.STAT_EVENT="statevent";function un(g,j){P.call(this,Ut.STAT_EVENT,g),this.stat=j}h(un,P);function ut(g){const j=tn();qe(j,new un(j,g))}Ut.Ja="timingevent";function nt(g,j){P.call(this,Ut.Ja,g),this.size=j}h(nt,P);function zt(g,j){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},j)}function ft(){this.g=!0}ft.prototype.ua=function(){this.g=!1};function Nt(g,j,F,K,ye,we){g.info(function(){if(g.g)if(we){var Fe="",Tt=we.split("&");for(let Ht=0;Ht<Tt.length;Ht++){var Cn=Tt[Ht].split("=");if(Cn.length>1){const kn=Cn[0];Cn=Cn[1];const Mr=kn.split("_");Fe=Mr.length>=2&&Mr[1]=="type"?Fe+(kn+"="+Cn+"&"):Fe+(kn+"=redacted&")}}}else Fe=null;else Fe=we;return"XMLHTTP REQ ("+K+") [attempt "+ye+"]: "+j+`
`+F+`
`+Fe})}function qt(g,j,F,K,ye,we,Fe){g.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ye+"]: "+j+`
`+F+`
`+we+" "+Fe})}function dn(g,j,F,K){g.info(function(){return"XMLHTTP TEXT ("+j+"): "+gr(g,F)+(K?" "+K:"")})}function Xe(g,j){g.info(function(){return"TIMEOUT: "+j})}ft.prototype.info=function(){};function gr(g,j){if(!g.g)return j;if(!j)return null;try{const we=JSON.parse(j);if(we){for(g=0;g<we.length;g++)if(Array.isArray(we[g])){var F=we[g];if(!(F.length<2)){var K=F[1];if(Array.isArray(K)&&!(K.length<1)){var ye=K[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(let Fe=1;Fe<K.length;Fe++)K[Fe]=""}}}}return Ot(we)}catch{return j}}var er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$n;function An(){}h(An,tt),An.prototype.g=function(){return new XMLHttpRequest},$n=new An;function qn(g){return encodeURIComponent(String(g))}function Nr(g){var j=1;g=g.split(":");const F=[];for(;j>0&&g.length;)F.push(g.shift()),j--;return g.length&&F.push(g.join(":")),F}function Jr(g,j,F,K){this.j=g,this.i=j,this.l=F,this.S=K||1,this.V=new jt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oo}function oo(){this.i=null,this.g="",this.h=!1}var Bs={},Us={};function vs(g,j,F){g.M=1,g.A=Oa(qs(j)),g.u=F,g.R=!0,zs(g,null)}function zs(g,j){g.F=Date.now(),ji(g),g.B=qs(g.A);var F=g.B,K=g.S;Array.isArray(K)||(K=[String(K)]),bd(F.i,"t",K),g.C=0,F=g.j.L,g.h=new oo,g.g=Ge(g.j,F?j:null,!g.u),g.P>0&&(g.O=new Xt(c(g.Y,g,g.g),g.P)),j=g.V,F=g.g,K=g.ba;var ye="readystatechange";Array.isArray(ye)||(ye&&(lt[0]=ye.toString()),ye=lt);for(let we=0;we<ye.length;we++){const Fe=de(F,ye[we],K||j.handleEvent,!1,j.h||j);if(!Fe)break;j.g[Fe.key]=Fe}j=g.J?fe(g.J):{},g.u?(g.v||(g.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,j)):(g.v="GET",g.g.ea(g.B,g.v,null,j)),yt(),Nt(g.i,g.v,g.B,g.l,g.S,g.u)}Jr.prototype.ba=function(g){g=g.target;const j=this.O;j&&Ks(g)==3?j.j():this.Y(g)},Jr.prototype.Y=function(g){try{if(g==this.g)e:{const Tt=Ks(this.g),Cn=this.g.ya(),Ht=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Pl(this.g)))){this.K||Tt!=4||Cn==7||(Cn==8||Ht<=0?yt(3):yt(2)),zo(this);var j=this.g.ca();this.X=j;var F=$s(this);if(this.o=j==200,qt(this.i,this.v,this.B,this.l,this.S,Tt,j),this.o){if(this.U&&!this.L){t:{if(this.g){var K,ye=this.g;if((K=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(K)){var we=K;break t}}we=null}if(g=we)dn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Da(this,g);else{this.o=!1,this.m=3,ut(12),ao(this),Ii(this);break e}}if(this.R){g=!0;let kn;for(;!this.K&&this.C<F.length;)if(kn=ki(this,F),kn==Us){Tt==4&&(this.m=4,ut(14),g=!1),dn(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==Bs){this.m=4,ut(15),dn(this.i,this.l,F,"[Invalid Chunk]"),g=!1;break}else dn(this.i,this.l,kn,null),Da(this,kn);if(Uo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||F.length!=0||this.h.h||(this.m=1,ut(16),g=!1),this.o=this.o&&g,!g)dn(this.i,this.l,F,"[Invalid Chunked Response]"),ao(this),Ii(this);else if(F.length>0&&!this.W){this.W=!0;var Fe=this.j;Fe.g==this&&Fe.aa&&!Fe.P&&(Fe.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),kl(Fe),Fe.P=!0,ut(11))}}else dn(this.i,this.l,F,null),Da(this,F);Tt==4&&ao(this),this.o&&!this.K&&(Tt==4?te(this.j,this):(this.o=!1,ji(this)))}else Sd(this.g),j==400&&F.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),ao(this),Ii(this)}}}catch{}finally{}};function $s(g){if(!Uo(g))return g.g.la();const j=Pl(g.g);if(j==="")return"";let F="";const K=j.length,ye=Ks(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return ao(g),Ii(g),"";g.h.i=new o.TextDecoder}for(let we=0;we<K;we++)g.h.h=!0,F+=g.h.i.decode(j[we],{stream:!(ye&&we==K-1)});return j.length=0,g.h.g+=F,g.C=0,g.h.g}function Uo(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function ki(g,j){var F=g.C,K=j.indexOf(`
`,F);return K==-1?Us:(F=Number(j.substring(F,K)),isNaN(F)?Bs:(K+=1,K+F>j.length?Us:(j=j.slice(K,K+F),g.C=K+F,j)))}Jr.prototype.cancel=function(){this.K=!0,ao(this)};function ji(g){g.T=Date.now()+g.H,La(g,g.H)}function La(g,j){if(g.D!=null)throw Error("WatchDog timer not null");g.D=zt(c(g.aa,g),j)}function zo(g){g.D&&(o.clearTimeout(g.D),g.D=null)}Jr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Xe(this.i,this.B),this.M!=2&&(yt(),ut(17)),ao(this),this.m=2,Ii(this)):La(this,this.T-g)};function Ii(g){g.j.I==0||g.K||te(g.j,g)}function ao(g){zo(g);var j=g.O;j&&typeof j.dispose=="function"&&j.dispose(),g.O=null,Pt(g.V),g.g&&(j=g.g,g.g=null,j.abort(),j.dispose())}function Da(g,j){try{var F=g.j;if(F.I!=0&&(F.g==g||Sl(F.h,g))){if(!g.L&&Sl(F.h,g)&&F.I==3){try{var K=F.Ba.g.parse(j)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ye=K;if(ye[0]==0){e:if(!F.v){if(F.g)if(F.g.F+3e3<g.F)B(F),Ko(F);else break e;uo(F),ut(18)}}else F.xa=ye[1],0<F.xa-F.K&&ye[2]<37500&&F.F&&F.A==0&&!F.C&&(F.C=zt(c(F.Va,F),6e3));_l(F.h)<=1&&F.ta&&(F.ta=void 0)}else ge(F,11)}else if((g.L||F.g==g)&&B(F),!E(j))for(ye=F.Ba.g.parse(j),j=0;j<ye.length;j++){let Ht=ye[j];const kn=Ht[0];if(!(kn<=F.K))if(F.K=kn,Ht=Ht[1],F.I==2)if(Ht[0]=="c"){F.M=Ht[1],F.ba=Ht[2];const Mr=Ht[3];Mr!=null&&(F.ka=Mr,F.j.info("VER="+F.ka));const es=Ht[4];es!=null&&(F.za=es,F.j.info("SVER="+F.za));const jn=Ht[5];jn!=null&&typeof jn=="number"&&jn>0&&(K=1.5*jn,F.O=K,F.j.info("backChannelRequestTimeoutMs_="+K)),K=F;const ts=g.g;if(ts){const Fi=ts.g?ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var we=K.h;we.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(Ma(we,we.h),we.h=null))}if(K.G){const Ba=ts.g?ts.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(K.wa=Ba,sn(K.J,K.G,Ba))}}F.I=3,F.l&&F.l.ra(),F.aa&&(F.T=Date.now()-g.F,F.j.info("Handshake RTT: "+F.T+"ms")),K=F;var Fe=g;if(K.na=Ie(K,K.L?K.ba:null,K.W),Fe.L){tu(K.h,Fe);var Tt=Fe,Cn=K.O;Cn&&(Tt.H=Cn),Tt.D&&(zo(Tt),ji(Tt)),K.g=Fe}else lu(K);F.i.length>0&&Qo(F)}else Ht[0]!="stop"&&Ht[0]!="close"||ge(F,7);else F.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?ge(F,7):Go(F):Ht[0]!="noop"&&F.l&&F.l.qa(Ht),F.A=0)}}yt(4)}catch{}}var gd=class{constructor(g,j){this.g=g,this.map=j}};function eu(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xs(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function _l(g){return g.h?1:g.g?g.g.size:0}function Sl(g,j){return g.h?g.h==j:g.g?g.g.has(j):!1}function Ma(g,j){g.g?g.g.add(j):g.h=j}function tu(g,j){g.h&&g.h==j?g.h=null:g.g&&g.g.has(j)&&g.g.delete(j)}eu.prototype.cancel=function(){if(this.i=nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function nu(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let j=g.i;for(const F of g.g.values())j=j.concat(F.G);return j}return f(g.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ri(g,j){if(g){g=g.split("&");for(let F=0;F<g.length;F++){const K=g[F].indexOf("=");let ye,we=null;K>=0?(ye=g[F].substring(0,K),we=g[F].substring(K+1)):ye=g[F],j(ye,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function bs(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;g instanceof bs?(this.l=g.l,En(this,g.j),this.o=g.o,this.g=g.g,$o(this,g.u),this.h=g.h,Ws(this,Nl(g.i)),this.m=g.m):g&&(j=String(g).match(ru))?(this.l=!1,En(this,j[1]||"",!0),this.o=Dr(j[2]||""),this.g=Dr(j[3]||"",!0),$o(this,j[4]),this.h=Dr(j[5]||"",!0),Ws(this,j[6]||"",!0),this.m=Dr(j[7]||"")):(this.l=!1,this.i=new qo(null,this.l))}bs.prototype.toString=function(){const g=[];var j=this.j;j&&g.push(Dn(j,su,!0),":");var F=this.g;return(F||j=="file")&&(g.push("//"),(j=this.o)&&g.push(Dn(j,su,!0),"@"),g.push(qn(F).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.u,F!=null&&g.push(":",String(F))),(F=this.h)&&(this.g&&F.charAt(0)!="/"&&g.push("/"),g.push(Dn(F,F.charAt(0)=="/"?Rf:If,!0))),(F=this.i.toString())&&g.push("?",F),(F=this.m)&&g.push("#",Dn(F,yd)),g.join("")},bs.prototype.resolve=function(g){const j=qs(this);let F=!!g.j;F?En(j,g.j):F=!!g.o,F?j.o=g.o:F=!!g.g,F?j.g=g.g:F=g.u!=null;var K=g.h;if(F)$o(j,g.u);else if(F=!!g.h){if(K.charAt(0)!="/")if(this.g&&!this.h)K="/"+K;else{var ye=j.h.lastIndexOf("/");ye!=-1&&(K=j.h.slice(0,ye+1)+K)}if(ye=K,ye==".."||ye==".")K="";else if(ye.indexOf("./")!=-1||ye.indexOf("/.")!=-1){K=ye.lastIndexOf("/",0)==0,ye=ye.split("/");const we=[];for(let Fe=0;Fe<ye.length;){const Tt=ye[Fe++];Tt=="."?K&&Fe==ye.length&&we.push(""):Tt==".."?((we.length>1||we.length==1&&we[0]!="")&&we.pop(),K&&Fe==ye.length&&we.push("")):(we.push(Tt),K=!0)}K=we.join("/")}else K=ye}return F?j.h=K:F=g.i.toString()!=="",F?Ws(j,Nl(g.i)):F=!!g.m,F&&(j.m=g.m),j};function qs(g){return new bs(g)}function En(g,j,F){g.j=F?Dr(j,!0):j,g.j&&(g.j=g.j.replace(/:$/,""))}function $o(g,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);g.u=j}else g.u=null}function Ws(g,j,F){j instanceof qo?(g.i=j,ai(g.i,g.l)):(F||(j=Dn(j,Li)),g.i=new qo(j,g.l))}function sn(g,j,F){g.i.set(j,F)}function Oa(g){return sn(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Dr(g,j){return g?j?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Dn(g,j,F){return typeof g=="string"?(g=encodeURI(g).replace(j,lo),F&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function lo(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var su=/[#\/\?@]/g,If=/[#\?:]/g,Rf=/[#\?]/g,Li=/[#\?@]/g,yd=/#/g;function qo(g,j){this.h=this.g=null,this.i=g||null,this.j=!!j}function Hs(g){g.g||(g.g=new Map,g.h=0,g.i&&Ri(g.i,function(j,F){g.add(decodeURIComponent(j.replace(/\+/g," ")),F)}))}e=qo.prototype,e.add=function(g,j){Hs(this),this.i=null,g=co(this,g);let F=this.g.get(g);return F||this.g.set(g,F=[]),F.push(j),this.h+=1,this};function Wo(g,j){Hs(g),j=co(g,j),g.g.has(j)&&(g.i=null,g.h-=g.g.get(j).length,g.g.delete(j))}function vd(g,j){return Hs(g),j=co(g,j),g.g.has(j)}e.forEach=function(g,j){Hs(this),this.g.forEach(function(F,K){F.forEach(function(ye){g.call(j,ye,K,this)},this)},this)};function xd(g,j){Hs(g);let F=[];if(typeof j=="string")vd(g,j)&&(F=F.concat(g.g.get(co(g,j))));else for(g=Array.from(g.g.values()),j=0;j<g.length;j++)F=F.concat(g[j]);return F}e.set=function(g,j){return Hs(this),this.i=null,g=co(this,g),vd(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[j]),this.h+=1,this},e.get=function(g,j){return g?(g=xd(this,g),g.length>0?String(g[0]):j):j};function bd(g,j,F){Wo(g,j),F.length>0&&(g.i=null,g.g.set(co(g,j),f(F)),g.h+=F.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],j=Array.from(this.g.keys());for(let K=0;K<j.length;K++){var F=j[K];const ye=qn(F);F=xd(this,F);for(let we=0;we<F.length;we++){let Fe=ye;F[we]!==""&&(Fe+="="+qn(F[we])),g.push(Fe)}}return this.i=g.join("&")};function Nl(g){const j=new qo;return j.i=g.i,g.g&&(j.g=new Map(g.g),j.h=g.h),j}function co(g,j){return j=String(j),g.j&&(j=j.toLowerCase()),j}function ai(g,j){j&&!g.j&&(Hs(g),g.i=null,g.g.forEach(function(F,K){const ye=K.toLowerCase();K!=ye&&(Wo(this,K),bd(this,ye,F))},g)),g.j=j}function Lf(g,j){const F=new ft;if(o.Image){const K=new Image;K.onload=d(Gs,F,"TestLoadImage: loaded",!0,j,K),K.onerror=d(Gs,F,"TestLoadImage: error",!1,j,K),K.onabort=d(Gs,F,"TestLoadImage: abort",!1,j,K),K.ontimeout=d(Gs,F,"TestLoadImage: timeout",!1,j,K),o.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=g}else j(!1)}function Fa(g,j){const F=new ft,K=new AbortController,ye=setTimeout(()=>{K.abort(),Gs(F,"TestPingServer: timeout",!1,j)},1e4);fetch(g,{signal:K.signal}).then(we=>{clearTimeout(ye),we.ok?Gs(F,"TestPingServer: ok",!0,j):Gs(F,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(ye),Gs(F,"TestPingServer: error",!1,j)})}function Gs(g,j,F,K,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),K(F)}catch{}}function Df(){this.g=new bt}function wt(g){this.i=g.Sb||null,this.h=g.ab||!1}h(wt,tt),wt.prototype.g=function(){return new Al(this.i,this.h)};function Al(g,j){Ne.call(this),this.H=g,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Al,Ne),e=Al.prototype,e.open=function(g,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=j,this.readyState=1,ws(this)},e.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(j.body=g),(this.H||o).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},e.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wd(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function wd(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}e.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var j=g.value?g.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!g.done}))&&(this.response=this.responseText+=j)}g.done?Va(this):ws(this),this.readyState==3&&wd(this)}},e.Oa=function(g){this.g&&(this.response=this.responseText=g,Va(this))},e.Na=function(g){this.g&&(this.response=g,Va(this))},e.ga=function(){this.g&&Va(this)};function Va(g){g.readyState=4,g.l=null,g.j=null,g.B=null,ws(g)}e.setRequestHeader=function(g,j){this.A.append(g,j)},e.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],j=this.h.entries();for(var F=j.next();!F.done;)F=F.value,g.push(F[0]+": "+F[1]),F=j.next();return g.join(`\r
`)};function ws(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Di(g){let j="";return ne(g,function(F,K){j+=K,j+=":",j+=F,j+=`\r
`}),j}function iu(g,j,F){e:{for(K in F){var K=!1;break e}K=!0}K||(F=Di(F),typeof g=="string"?F!=null&&qn(F):sn(g,j,F))}function Tn(g){Ne.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Tn,Ne);var El=/^https?$/i,ou=["POST","PUT"];e=Tn.prototype,e.Fa=function(g){this.H=g},e.ea=function(g,j,F,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);j=j?j.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$n.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(j,String(g),!0),this.B=!1}catch(we){Ho(this,we);return}if(g=F||"",F=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ye in K)F.set(ye,K[ye]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const we of K.keys())F.set(we,K.get(we));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(F.keys()).find(we=>we.toLowerCase()=="content-type"),ye=o.FormData&&g instanceof o.FormData,!(Array.prototype.indexOf.call(ou,j,void 0)>=0)||K||ye||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,Fe]of F)this.g.setRequestHeader(we,Fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(we){Ho(this,we)}};function Ho(g,j){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=j,g.o=5,_d(g),Tl(g)}function _d(g){g.A||(g.A=!0,qe(g,"complete"),qe(g,"error"))}e.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,qe(this,"complete"),qe(this,"abort"),Tl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tl(this,!0)),Tn.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Mi(this):this.Xa())},e.Xa=function(){Mi(this)};function Mi(g){if(g.h&&typeof i<"u"){if(g.v&&Ks(g)==4)setTimeout(g.Ca.bind(g),0);else if(qe(g,"readystatechange"),Ks(g)==4){g.h=!1;try{const we=g.ca();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var F;if(!(F=j)){var K;if(K=we===0){let Fe=String(g.D).match(ru)[1]||null;!Fe&&o.self&&o.self.location&&(Fe=o.self.location.protocol.slice(0,-1)),K=!El.test(Fe?Fe.toLowerCase():"")}F=K}if(F)qe(g,"complete"),qe(g,"success");else{g.o=6;try{var ye=Ks(g)>2?g.g.statusText:""}catch{ye=""}g.l=ye+" ["+g.ca()+"]",_d(g)}}finally{Tl(g)}}}}function Tl(g,j){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const F=g.g;g.g=null,j||qe(g,"ready");try{F.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Ks(g){return g.g?g.g.readyState:0}e.ca=function(){try{return Ks(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(g){if(this.g){var j=this.g.responseText;return g&&j.indexOf(g)==0&&(j=j.substring(g.length)),et(j)}};function Pl(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Sd(g){const j={};g=(g.g&&Ks(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<g.length;K++){if(E(g[K]))continue;var F=Nr(g[K]);const ye=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const we=j[ye]||[];j[ye]=we,we.push(F)}oe(j,function(K){return K.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(g,j,F){return F&&F.internalChannelParams&&F.internalChannelParams[g]||j}function Cl(g){this.za=0,this.i=[],this.j=new ft,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_s("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_s("baseRetryDelayMs",5e3,g),this.Za=_s("retryDelaySeedMs",1e4,g),this.Ta=_s("forwardChannelMaxRetries",2,g),this.va=_s("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new eu(g&&g.concurrentRequestLimit),this.Ba=new Df,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Cl.prototype,e.ka=8,e.I=1,e.connect=function(g,j,F,K){ut(0),this.W=g,this.H=j||{},F&&K!==void 0&&(this.H.OSID=F,this.H.OAID=K),this.F=this.X,this.J=Ie(this,null,this.W),Qo(this)};function Go(g){if(Yo(g),g.I==3){var j=g.V++,F=qs(g.J);if(sn(F,"SID",g.M),sn(F,"RID",j),sn(F,"TYPE","terminate"),Ss(g,F),j=new Jr(g,g.j,j),j.M=2,j.A=Oa(qs(F)),F=!1,o.navigator&&o.navigator.sendBeacon)try{F=o.navigator.sendBeacon(j.A.toString(),"")}catch{}!F&&o.Image&&(new Image().src=j.A,F=!0),F||(j.g=Ge(j.j,null),j.g.ea(j.A)),j.F=Date.now(),ji(j)}Ae(g)}function Ko(g){g.g&&(kl(g),g.g.cancel(),g.g=null)}function Yo(g){Ko(g),g.v&&(o.clearTimeout(g.v),g.v=null),B(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&o.clearTimeout(g.m),g.m=null)}function Qo(g){if(!xs(g.h)&&!g.m){g.m=!0;var j=g.Ea;O||A(),z||(O(),z=!0),k.add(j,g),g.D=0}}function Nd(g,j){return _l(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=j.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=zt(c(g.Ea,g,j),ue(g,g.D)),g.D++,!0)}e.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const ye=new Jr(this,this.j,g);let we=this.o;if(this.U&&(we?(we=fe(we),Q(we,this.U)):we=this.U),this.u!==null||this.R||(ye.J=we,we=null),this.S)e:{for(var j=0,F=0;F<this.i.length;F++){t:{var K=this.i[F];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(j+=K,j>4096){j=F;break e}if(j===4096||F===this.i.length-1){j=F+1;break e}}j=1e3}else j=1e3;j=Oi(this,ye,j),F=qs(this.J),sn(F,"RID",g),sn(F,"CVER",22),this.G&&sn(F,"X-HTTP-Session-Id",this.G),Ss(this,F),we&&(this.R?j="headers="+qn(Di(we))+"&"+j:this.u&&iu(F,this.u,we)),Ma(this.h,ye),this.Ra&&sn(F,"TYPE","init"),this.S?(sn(F,"$req",j),sn(F,"SID","null"),ye.U=!0,vs(ye,F,null)):vs(ye,F,j),this.I=2}}else this.I==3&&(g?au(this,g):this.i.length==0||xs(this.h)||au(this))};function au(g,j){var F;j?F=j.l:F=g.V++;const K=qs(g.J);sn(K,"SID",g.M),sn(K,"RID",F),sn(K,"AID",g.K),Ss(g,K),g.u&&g.o&&iu(K,g.u,g.o),F=new Jr(g,g.j,F,g.D+1),g.u===null&&(F.J=g.o),j&&(g.i=j.G.concat(g.i)),j=Oi(g,F,1e3),F.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Ma(g.h,F),vs(F,K,j)}function Ss(g,j){g.H&&ne(g.H,function(F,K){sn(j,K,F)}),g.l&&ne({},function(F,K){sn(j,K,F)})}function Oi(g,j,F){F=Math.min(g.i.length,F);const K=g.l?c(g.l.Ka,g.l,g):null;e:{var ye=g.i;let Tt=-1;for(;;){const Cn=["count="+F];Tt==-1?F>0?(Tt=ye[0].g,Cn.push("ofs="+Tt)):Tt=0:Cn.push("ofs="+Tt);let Ht=!0;for(let kn=0;kn<F;kn++){var we=ye[kn].g;const Mr=ye[kn].map;if(we-=Tt,we<0)Tt=Math.max(0,ye[kn].g-100),Ht=!1;else try{we="req"+we+"_"||"";try{var Fe=Mr instanceof Map?Mr:Object.entries(Mr);for(const[es,jn]of Fe){let ts=jn;a(jn)&&(ts=Ot(jn)),Cn.push(we+es+"="+encodeURIComponent(ts))}}catch(es){throw Cn.push(we+"type="+encodeURIComponent("_badmap")),es}}catch{K&&K(Mr)}}if(Ht){Fe=Cn.join("&");break e}}Fe=void 0}return g=g.i.splice(0,F),j.G=g,Fe}function lu(g){if(!g.g&&!g.v){g.Y=1;var j=g.Da;O||A(),z||(O(),z=!0),k.add(j,g),g.A=0}}function uo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=zt(c(g.Da,g),ue(g,g.A)),g.A++,!0)}e.Da=function(){if(this.v=null,S(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=zt(c(this.Wa,this),g)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),Ko(this),S(this))};function kl(g){g.B!=null&&(o.clearTimeout(g.B),g.B=null)}function S(g){g.g=new Jr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var j=qs(g.na);sn(j,"RID","rpc"),sn(j,"SID",g.M),sn(j,"AID",g.K),sn(j,"CI",g.F?"0":"1"),!g.F&&g.ia&&sn(j,"TO",g.ia),sn(j,"TYPE","xmlhttp"),Ss(g,j),g.u&&g.o&&iu(j,g.u,g.o),g.O&&(g.g.H=g.O);var F=g.g;g=g.ba,F.M=1,F.A=Oa(qs(j)),F.u=null,F.R=!0,zs(F,g)}e.Va=function(){this.C!=null&&(this.C=null,Ko(this),uo(this),ut(19))};function B(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function te(g,j){var F=null;if(g.g==j){B(g),kl(g),g.g=null;var K=2}else if(Sl(g.h,j))F=j.G,tu(g.h,j),K=1;else return;if(g.I!=0){if(j.o)if(K==1){F=j.u?j.u.length:0,j=Date.now()-j.F;var ye=g.D;K=tn(),qe(K,new nt(K,F)),Qo(g)}else lu(g);else if(ye=j.m,ye==3||ye==0&&j.X>0||!(K==1&&Nd(g,j)||K==2&&uo(g)))switch(F&&F.length>0&&(j=g.h,j.i=j.i.concat(F)),ye){case 1:ge(g,5);break;case 4:ge(g,10);break;case 3:ge(g,6);break;default:ge(g,2)}}}function ue(g,j){let F=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(F*=2),F*j}function ge(g,j){if(g.j.info("Error code "+j),j==2){var F=c(g.bb,g),K=g.Ua;const ye=!K;K=new bs(K||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||En(K,"https"),Oa(K),ye?Lf(K.toString(),F):Fa(K.toString(),F)}else ut(2);g.I=0,g.l&&g.l.pa(j),Ae(g),Yo(g)}e.bb=function(g){g?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Ae(g){if(g.I=0,g.ja=[],g.l){const j=nu(g.h);(j.length!=0||g.i.length!=0)&&(b(g.ja,j),b(g.ja,g.i),g.h.i.length=0,f(g.i),g.i.length=0),g.l.oa()}}function Ie(g,j,F){var K=F instanceof bs?qs(F):new bs(F);if(K.g!="")j&&(K.g=j+"."+K.g),$o(K,K.u);else{var ye=o.location;K=ye.protocol,j=j?j+"."+ye.hostname:ye.hostname,ye=+ye.port;const we=new bs(null);K&&En(we,K),j&&(we.g=j),ye&&$o(we,ye),F&&(we.h=F),K=we}return F=g.G,j=g.wa,F&&j&&sn(K,F,j),sn(K,"VER",g.ka),Ss(g,K),K}function Ge(g,j,F){if(j&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=g.Aa&&!g.ma?new Tn(new wt({ab:F})):new Tn(g.ma),j.Fa(g.L),j}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function rt(){}e=rt.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function vt(){}vt.prototype.g=function(g,j){return new pt(g,j)};function pt(g,j){Ne.call(this),this.g=new Cl(j),this.l=g,this.h=j&&j.messageUrlParams||null,g=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(g?g["X-WebChannel-Content-Type"]=j.messageContentType:g={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(g?g["X-WebChannel-Client-Profile"]=j.sa:g={"X-WebChannel-Client-Profile":j.sa}),this.g.U=g,(g=j&&j.Qb)&&!E(g)&&(this.g.u=g),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!E(j)&&(this.g.G=j,g=this.h,g!==null&&j in g&&(g=this.h,j in g&&delete g[j])),this.j=new wn(this)}h(pt,Ne),pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pt.prototype.close=function(){Go(this.g)},pt.prototype.o=function(g){var j=this.g;if(typeof g=="string"){var F={};F.__data__=g,g=F}else this.v&&(F={},F.__data__=Ot(g),g=F);j.i.push(new gd(j.Ya++,g)),j.I==3&&Qo(j)},pt.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,pt.Z.N.call(this)};function Wt(g){xt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var j=g.__sm__;if(j){e:{for(const F in j){g=F;break e}g=void 0}(this.i=g)&&(g=this.i,j=j!==null&&g in j?j[g]:void 0),this.data=j}else this.data=g}h(Wt,xt);function Pn(){Et.call(this),this.status=1}h(Pn,Et);function wn(g){this.g=g}h(wn,rt),wn.prototype.ra=function(){qe(this.g,"a")},wn.prototype.qa=function(g){qe(this.g,new Wt(g))},wn.prototype.pa=function(g){qe(this.g,new Pn)},wn.prototype.oa=function(){qe(this.g,"b")},vt.prototype.createWebChannel=vt.prototype.g,pt.prototype.send=pt.prototype.o,pt.prototype.open=pt.prototype.m,pt.prototype.close=pt.prototype.close,KI=function(){return new vt},GI=function(){return tn()},HI=Ut,iw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,G0=er,bn.COMPLETE="complete",WI=bn,xn.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,yp=xn,Tn.prototype.listenOnce=Tn.prototype.K,Tn.prototype.getLastError=Tn.prototype.Ha,Tn.prototype.getLastErrorCode=Tn.prototype.ya,Tn.prototype.getStatus=Tn.prototype.ca,Tn.prototype.getResponseJson=Tn.prototype.La,Tn.prototype.getResponseText=Tn.prototype.la,Tn.prototype.send=Tn.prototype.ea,Tn.prototype.setWithCredentials=Tn.prototype.Fa,qI=Tn}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hs.UNAUTHENTICATED=new hs(null),hs.GOOGLE_CREDENTIALS=new hs("google-credentials-uid"),hs.FIRST_PARTY=new hs("first-party-uid"),hs.MOCK_USER=new hs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf="12.8.0";function vH(e){xf=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new C_("@firebase/firestore");function Fd(){return Qu.logLevel}function He(e,...t){if(Qu.logLevel<=en.DEBUG){const n=t.map(I_);Qu.debug(`Firestore (${xf}): ${e}`,...n)}}function gl(e,...t){if(Qu.logLevel<=en.ERROR){const n=t.map(I_);Qu.error(`Firestore (${xf}): ${e}`,...n)}}function Qh(e,...t){if(Qu.logLevel<=en.WARN){const n=t.map(I_);Qu.warn(`Firestore (${xf}): ${e}`,...n)}}function I_(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,YI(e,r,n)}function YI(e,t,n){let r=`FIRESTORE (${xf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gl(r),new Error(r)}function cn(e,t,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,e||YI(t,s,r)}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends wl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(hs.UNAUTHENTICATED))}shutdown(){}}class bH{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wH{constructor(t){this.t=t,this.currentUser=hs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){cn(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Cc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cc,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cc)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cn(typeof r.accessToken=="string",31837,{l:r}),new QI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return cn(t===null||typeof t=="string",2055,{h:t}),new hs(t)}}class _H{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=hs.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class SH{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new _H(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(hs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NH{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,FI(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){cn(this.o===void 0,3512);const r=i=>{i.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,He("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new n3(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(cn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=AH(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%62))}return r}}function Gt(e,t){return e<t?-1:e>t?1:0}function ow(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=e.charAt(r),i=t.charAt(r);if(s!==i)return L2(s)===L2(i)?Gt(s,i):L2(s)?1:-1}return Gt(e.length,t.length)}const EH=55296,TH=57343;function L2(e){const t=e.charCodeAt(0);return t>=EH&&t<=TH}function Xh(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="__name__";class sa{constructor(t,n,r){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&_t(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return sa.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof sa?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=sa.compareSegments(t.get(s),n.get(s));if(i!==0)return i}return Gt(t.length,n.length)}static compareSegments(t,n){const r=sa.isNumericId(t),s=sa.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?sa.extractNumericId(t).compare(sa.extractNumericId(n)):ow(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pc.fromString(t.substring(4,t.length-2))}}class Rn extends sa{construct(t,n,r){return new Rn(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new We(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Rn(n)}static emptyPath(){return new Rn([])}}const PH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yr extends sa{construct(t,n,r){return new Yr(t,n,r)}static isValidIdentifier(t){return PH.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r3}static keyField(){return new Yr([r3])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new We(ke.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new We(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new We(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new We(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yr(n)}static emptyPath(){return new Yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(Rn.fromString(t))}static fromName(t){return new gt(Rn.fromString(t).popFirst(5))}static empty(){return new gt(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Rn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Rn.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new Rn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(e,t,n){if(!n)throw new We(ke.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function CH(e,t,n,r){if(t===!0&&r===!0)throw new We(ke.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function s3(e){if(!gt.isDocumentKey(e))throw new We(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function i3(e){if(gt.isDocumentKey(e))throw new We(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ZI(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function rv(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":_t(12329,{type:typeof e})}function Xu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new We(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rv(e);throw new We(ke.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(e,t){const n={typeString:e};return t&&(n.value=t),n}function eg(e,t){if(!ZI(e))throw new We(ke.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new We(ke.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=-62135596800,a3=1e6;class Vn{static now(){return Vn.fromMillis(Date.now())}static fromDate(t){return Vn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*a3);return new Vn(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new We(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<o3)throw new We(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new We(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a3}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(eg(t,Vn._jsonSchema))return new Vn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-o3;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vn._jsonSchemaVersion="firestore/timestamp/1.0",Vn._jsonSchema={type:wr("string",Vn._jsonSchemaVersion),seconds:wr("number"),nanoseconds:wr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new Vn(0,0))}static max(){return new Ct(new Vn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=-1;function kH(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Ct.fromTimestamp(r===1e9?new Vn(n+1,0):new Vn(n,r));return new Bc(s,gt.empty(),t)}function jH(e){return new Bc(e.readTime,e.key,wm)}class Bc{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Bc(Ct.min(),gt.empty(),wm)}static max(){return new Bc(Ct.max(),gt.empty(),wm)}}function IH(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(e.documentKey,t.documentKey),n!==0?n:Gt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bf(e){if(e.code!==ke.FAILED_PRECONDITION||e.message!==RH)throw e;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new je((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):je.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):je.reject(n)}static resolve(t){return new je((n,r)=>{n(t)})}static reject(t){return new je((n,r)=>{r(t)})}static waitFor(t){return new je((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(t){let n=je.resolve(!1);for(const r of t)n=n.next(s=>s?je.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new je((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(t[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(t,n){return new je((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}function DH(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wf(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=-1;function iv(e){return e==null}function K1(e){return e===0&&1/e==-1/0}function MH(e){return typeof e=="number"&&Number.isInteger(e)&&!K1(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="";function OH(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=l3(t)),t=FH(e.get(n),t);return l3(t)}function FH(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const i=e.charAt(s);switch(i){case"\0":n+="";break;case JI:n+="";break;default:n+=i}}return n}function l3(e){return e+JI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t,n){this.comparator=t,this.root=n||Kr.EMPTY}insert(t,n){return new Jn(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(t){return new Jn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new l0(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new l0(this.root,t,this.comparator,!1)}getReverseIterator(){return new l0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new l0(this.root,t,this.comparator,!0)}}class l0{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kr{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Kr.RED,this.left=s??Kr.EMPTY,this.right=i??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Kr(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Kr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1;Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,r,s,i){return this}insert(t,n,r){return new Kr(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this.comparator=t,this.data=new Jn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new u3(this.data.getIterator())}getIteratorFrom(t){return new u3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Lr)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Lr(this.comparator);return n.data=t,n}}class u3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this.fields=t,t.sort(Yr.comparator)}static empty(){return new To([])}unionWith(t){let n=new Lr(Yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new To(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Xh(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new tR("Invalid base64 string: "+i):i}}(t);return new Zr(n)}static fromUint8Array(t){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new Zr(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const VH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uc(e){if(cn(!!e,39018),typeof e=="string"){let t=0;const n=VH.exec(e);if(cn(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:dr(e.seconds),nanos:dr(e.nanos)}}function dr(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function zc(e){return typeof e=="string"?Zr.fromBase64String(e):Zr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="server_timestamp",rR="__type__",sR="__previous_value__",iR="__local_write_time__";function D_(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[rR])==null?void 0:r.stringValue)===nR}function ov(e){const t=e.mapValue.fields[sR];return D_(t)?ov(t):t}function _m(e){const t=Uc(e.mapValue.fields[iR].timestampValue);return new Vn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(t,n,r,s,i,o,a,l,c,d,h){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d,this.apiKey=h}}const Y1="(default)";class Sm{constructor(t,n){this.projectId=t,this.database=n||Y1}static empty(){return new Sm("","")}get isDefaultDatabase(){return this.database===Y1}isEqual(t){return t instanceof Sm&&t.projectId===this.projectId&&t.database===this.database}}function UH(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new We(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sm(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="__type__",aR="__max__",c0={mapValue:{fields:{__type__:{stringValue:aR}}}},lR="__vector__",Q1="value";function $c(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?D_(e)?4:$H(e)?9007199254740991:zH(e)?10:11:_t(28295,{value:e})}function Pa(e,t){if(e===t)return!0;const n=$c(e);if(n!==$c(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _m(e).isEqual(_m(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Uc(s.timestampValue),a=Uc(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return zc(s.bytesValue).isEqual(zc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return dr(s.geoPointValue.latitude)===dr(i.geoPointValue.latitude)&&dr(s.geoPointValue.longitude)===dr(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return dr(s.integerValue)===dr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=dr(s.doubleValue),a=dr(i.doubleValue);return o===a?K1(o)===K1(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Xh(e.arrayValue.values||[],t.arrayValue.values||[],Pa);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(c3(o)!==c3(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Pa(o[l],a[l])))return!1;return!0}(e,t);default:return _t(52216,{left:e})}}function Nm(e,t){return(e.values||[]).find(n=>Pa(n,t))!==void 0}function Zh(e,t){if(e===t)return 0;const n=$c(e),r=$c(t);if(n!==r)return Gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gt(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=dr(i.integerValue||i.doubleValue),l=dr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return d3(e.timestampValue,t.timestampValue);case 4:return d3(_m(e),_m(t));case 5:return ow(e.stringValue,t.stringValue);case 6:return function(i,o){const a=zc(i),l=zc(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Gt(a[c],l[c]);if(d!==0)return d}return Gt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=Gt(dr(i.latitude),dr(o.latitude));return a!==0?a:Gt(dr(i.longitude),dr(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return h3(e.arrayValue,t.arrayValue);case 10:return function(i,o){var p,f,b,x;const a=i.fields||{},l=o.fields||{},c=(p=a[Q1])==null?void 0:p.arrayValue,d=(f=l[Q1])==null?void 0:f.arrayValue,h=Gt(((b=c==null?void 0:c.values)==null?void 0:b.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return h!==0?h:h3(c,d)}(e.mapValue,t.mapValue);case 11:return function(i,o){if(i===c0.mapValue&&o===c0.mapValue)return 0;if(i===c0.mapValue)return 1;if(o===c0.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=ow(l[h],d[h]);if(p!==0)return p;const f=Zh(a[l[h]],c[d[h]]);if(f!==0)return f}return Gt(l.length,d.length)}(e.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function d3(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Gt(e,t);const n=Uc(e),r=Uc(t),s=Gt(n.seconds,r.seconds);return s!==0?s:Gt(n.nanos,r.nanos)}function h3(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Zh(n[s],r[s]);if(i)return i}return Gt(n.length,r.length)}function Jh(e){return aw(e)}function aw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Uc(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return zc(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return gt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=aw(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${aw(n.fields[o])}`;return s+"}"}(e.mapValue):_t(61005,{value:e})}function K0(e){switch($c(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ov(e);return t?16+K0(t):16;case 5:return 2*e.stringValue.length;case 6:return zc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+K0(i),0)}(e.arrayValue);case 10:case 11:return function(r){let s=0;return cd(r.fields,(i,o)=>{s+=i.length+K0(o)}),s}(e.mapValue);default:throw _t(13486,{value:e})}}function f3(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lw(e){return!!e&&"integerValue"in e}function M_(e){return!!e&&"arrayValue"in e}function p3(e){return!!e&&"nullValue"in e}function m3(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Y0(e){return!!e&&"mapValue"in e}function zH(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[oR])==null?void 0:r.stringValue)===lR}function Op(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return cd(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Op(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Op(e.arrayValue.values[n]);return t}return{...e}}function $H(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===aR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t){this.value=t}static empty(){return new Ki({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Y0(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Op(n)}setAll(t){let n=Yr.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Op(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());Y0(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Pa(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];Y0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){cd(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new Ki(Op(this.value))}}function cR(e){const t=[];return cd(e.fields,(n,r)=>{const s=new Yr([n]);if(Y0(r)){const i=cR(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new To(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,n,r,s,i,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ps(t,0,Ct.min(),Ct.min(),Ct.min(),Ki.empty(),0)}static newFoundDocument(t,n,r,s){return new ps(t,1,n,Ct.min(),r,s,0)}static newNoDocument(t,n){return new ps(t,2,n,Ct.min(),Ct.min(),Ki.empty(),0)}static newUnknownDocument(t,n){return new ps(t,3,n,Ct.min(),Ct.min(),Ki.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ps&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ps(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t,n){this.position=t,this.inclusive=n}}function g3(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=gt.comparator(gt.fromName(o.referenceValue),n.key):r=Zh(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function y3(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Pa(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n="asc"){this.field=t,this.dir=n}}function qH(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{}class br extends uR{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new HH(t,n,r):n==="array-contains"?new YH(t,r):n==="in"?new QH(t,r):n==="not-in"?new XH(t,r):n==="array-contains-any"?new ZH(t,r):new br(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new GH(t,r):new KH(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zh(n,this.value)):n!==null&&$c(this.value)===$c(n)&&this.matchesComparison(Zh(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mo extends uR{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Mo(t,n)}matches(t){return dR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dR(e){return e.op==="and"}function hR(e){return WH(e)&&dR(e)}function WH(e){for(const t of e.filters)if(t instanceof Mo)return!1;return!0}function cw(e){if(e instanceof br)return e.field.canonicalString()+e.op.toString()+Jh(e.value);if(hR(e))return e.filters.map(t=>cw(t)).join(",");{const t=e.filters.map(n=>cw(n)).join(",");return`${e.op}(${t})`}}function fR(e,t){return e instanceof br?function(r,s){return s instanceof br&&r.op===s.op&&r.field.isEqual(s.field)&&Pa(r.value,s.value)}(e,t):e instanceof Mo?function(r,s){return s instanceof Mo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&fR(o,s.filters[a]),!0):!1}(e,t):void _t(19439)}function pR(e){return e instanceof br?function(n){return`${n.field.canonicalString()} ${n.op} ${Jh(n.value)}`}(e):e instanceof Mo?function(n){return n.op.toString()+" {"+n.getFilters().map(pR).join(" ,")+"}"}(e):"Filter"}class HH extends br{constructor(t,n,r){super(t,n,r),this.key=gt.fromName(r.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class GH extends br{constructor(t,n){super(t,"in",n),this.keys=mR("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class KH extends br{constructor(t,n){super(t,"not-in",n),this.keys=mR("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function mR(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(r=>gt.fromName(r.referenceValue))}class YH extends br{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return M_(n)&&Nm(n.arrayValue,this.value)}}class QH extends br{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Nm(this.value.arrayValue,n)}}class XH extends br{constructor(t,n){super(t,"not-in",n)}matches(t){if(Nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nm(this.value.arrayValue,n)}}class ZH extends br{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!M_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function v3(e,t=null,n=[],r=[],s=null,i=null,o=null){return new JH(e,t,n,r,s,i,o)}function O_(e){const t=Rt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>cw(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),iv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Jh(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Jh(r)).join(",")),t.Te=n}return t.Te}function F_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qH(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!fR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!y3(e.startAt,t.startAt)&&y3(e.endAt,t.endAt)}function uw(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function eG(e,t,n,r,s,i,o,a){return new _f(e,t,n,r,s,i,o,a)}function gR(e){return new _f(e)}function x3(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function tG(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function yR(e){return e.collectionGroup!==null}function Fp(e){const t=Rt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lr(Yr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new Am(i,r))}),n.has(Yr.keyField().canonicalString())||t.Ie.push(new Am(Yr.keyField(),r))}return t.Ie}function ya(e){const t=Rt(e);return t.Ee||(t.Ee=nG(t,Fp(e))),t.Ee}function nG(e,t){if(e.limitType==="F")return v3(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Am(s.field,i)});const n=e.endAt?new X1(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new X1(e.startAt.position,e.startAt.inclusive):null;return v3(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function dw(e,t){const n=e.filters.concat([t]);return new _f(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function rG(e,t){const n=e.explicitOrderBy.concat([t]);return new _f(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function hw(e,t,n){return new _f(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function av(e,t){return F_(ya(e),ya(t))&&e.limitType===t.limitType}function vR(e){return`${O_(ya(e))}|lt:${e.limitType}`}function Vd(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>pR(s)).join(", ")}]`),iv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Jh(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Jh(s)).join(",")),`Target(${r})`}(ya(e))}; limitType=${e.limitType})`}function lv(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):gt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of Fp(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=g3(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Fp(r),s)||r.endAt&&!function(o,a,l){const c=g3(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Fp(r),s))}(e,t)}function sG(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xR(e){return(t,n)=>{let r=!1;for(const s of Fp(e)){const i=iG(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function iG(e,t,n){const r=e.field.isKeyField()?gt.comparator(t.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Zh(l,c):_t(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){cd(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return eR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG=new Jn(gt.comparator);function yl(){return oG}const bR=new Jn(gt.comparator);function vp(...e){let t=bR;for(const n of e)t=t.insert(n.key,n);return t}function wR(e){let t=bR;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Tu(){return Vp()}function _R(){return Vp()}function Vp(){return new ud(e=>e.toString(),(e,t)=>e.isEqual(t))}const aG=new Jn(gt.comparator),lG=new Lr(gt.comparator);function Kt(...e){let t=lG;for(const n of e)t=t.add(n);return t}const cG=new Lr(Gt);function uG(){return cG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K1(t)?"-0":t}}function SR(e){return{integerValue:""+e}}function dG(e,t){return MH(t)?SR(t):V_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this._=void 0}}function hG(e,t,n){return e instanceof Z1?function(s,i){const o={fields:{[rR]:{stringValue:nR},[iR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&D_(i)&&(i=ov(i)),i&&(o.fields[sR]=i),{mapValue:o}}(n,t):e instanceof Em?AR(e,t):e instanceof Tm?ER(e,t):function(s,i){const o=NR(s,i),a=b3(o)+b3(s.Ae);return lw(o)&&lw(s.Ae)?SR(a):V_(s.serializer,a)}(e,t)}function fG(e,t,n){return e instanceof Em?AR(e,t):e instanceof Tm?ER(e,t):n}function NR(e,t){return e instanceof J1?function(r){return lw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class Z1 extends cv{}class Em extends cv{constructor(t){super(),this.elements=t}}function AR(e,t){const n=TR(t);for(const r of e.elements)n.some(s=>Pa(s,r))||n.push(r);return{arrayValue:{values:n}}}class Tm extends cv{constructor(t){super(),this.elements=t}}function ER(e,t){let n=TR(t);for(const r of e.elements)n=n.filter(s=>!Pa(s,r));return{arrayValue:{values:n}}}class J1 extends cv{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function b3(e){return dr(e.integerValue||e.doubleValue)}function TR(e){return M_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function pG(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof Em&&s instanceof Em||r instanceof Tm&&s instanceof Tm?Xh(r.elements,s.elements,Pa):r instanceof J1&&s instanceof J1?Pa(r.Ae,s.Ae):r instanceof Z1&&s instanceof Z1}(e.transform,t.transform)}class mG{constructor(t,n){this.version=t,this.transformResults=n}}class jo{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new jo}static exists(t){return new jo(void 0,t)}static updateTime(t){return new jo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Q0(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class uv{}function PR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new B_(e.key,jo.none()):new tg(e.key,e.data,jo.none());{const n=e.data,r=Ki.empty();let s=new Lr(Yr.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new dd(e.key,r,new To(s.toArray()),jo.none())}}function gG(e,t,n){e instanceof tg?function(s,i,o){const a=s.value.clone(),l=_3(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof dd?function(s,i,o){if(!Q0(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=_3(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(CR(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Bp(e,t,n,r){return e instanceof tg?function(i,o,a,l){if(!Q0(i.precondition,o))return a;const c=i.value.clone(),d=S3(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof dd?function(i,o,a,l){if(!Q0(i.precondition,o))return a;const c=S3(i.fieldTransforms,l,o),d=o.data;return d.setAll(CR(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(i,o,a){return Q0(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function yG(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=NR(r.transform,s||null);i!=null&&(n===null&&(n=Ki.empty()),n.set(r.field,i))}return n||null}function w3(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xh(r,s,(i,o)=>pG(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class tg extends uv{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class dd extends uv{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function CR(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function _3(e,t,n){const r=new Map;cn(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,fG(o,a,n[s]))}return r}function S3(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,hG(i,o,t))}return r}class B_ extends uv{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vG extends uv{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&gG(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Bp(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Bp(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=_R();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=PR(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Kt())}isEqual(t){return this.batchId===t.batchId&&Xh(this.mutations,t.mutations,(n,r)=>w3(n,r))&&Xh(this.baseMutations,t.baseMutations,(n,r)=>w3(n,r))}}class U_{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){cn(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=function(){return aG}();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new U_(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bG=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr,Jt;function _G(e){switch(e){case ke.OK:return _t(64938);case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0;default:return _t(15467,{code:e})}}function kR(e){if(e===void 0)return gl("GRPC error has no .code"),ke.UNKNOWN;switch(e){case yr.OK:return ke.OK;case yr.CANCELLED:return ke.CANCELLED;case yr.UNKNOWN:return ke.UNKNOWN;case yr.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case yr.INTERNAL:return ke.INTERNAL;case yr.UNAVAILABLE:return ke.UNAVAILABLE;case yr.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case yr.NOT_FOUND:return ke.NOT_FOUND;case yr.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case yr.ABORTED:return ke.ABORTED;case yr.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case yr.DATA_LOSS:return ke.DATA_LOSS;default:return _t(39323,{code:e})}}(Jt=yr||(yr={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG=new Pc([4294967295,4294967295],0);function N3(e){const t=SG().encode(e),n=new $I;return n.update(t),new Uint8Array(n.digest())}function A3(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Pc([n,r],0),new Pc([s,i],0)]}class z_{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xp(`Invalid padding: ${n}`);if(r<0)throw new xp(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new xp(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new xp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Pc.fromNumber(this.ge)}ye(t,n,r){let s=t.add(n.multiply(Pc.fromNumber(r)));return s.compare(NG)===1&&(s=new Pc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=N3(t),[r,s]=A3(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new z_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.ge===0)return;const n=N3(t),[r,s]=A3(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class xp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,ng.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new dv(Ct.min(),s,new Jn(Gt),yl(),Kt())}}class ng{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new ng(r,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n,r,s){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=s}}class jR{constructor(t,n){this.targetId=t,this.Ce=n}}class IR{constructor(t,n,r=Zr.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class E3{constructor(){this.ve=0,this.Fe=T3(),this.Me=Zr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Kt(),n=Kt(),r=Kt();return this.Fe.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:_t(38017,{changeType:i})}}),new ng(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=T3()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,cn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class AG{constructor(t){this.Ge=t,this.ze=new Map,this.je=yl(),this.He=u0(),this.Je=u0(),this.Ze=new Jn(Gt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,r=t.Ce.count,s=this.ot(n);if(s){const i=s.target;if(uw(i))if(r===0){const o=new gt(i.path);this.et(n,o,ps.newNoDocument(o,Ct.min()))}else cn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(t),l=a?this.ct(a,t,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=zc(r).toUint8Array()}catch(l){if(l instanceof tR)return Qh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new z_(o,s,i)}catch(l){return Qh(l instanceof xp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&uw(a.target)){const l=new gt(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,ps.newNoDocument(l,t))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=Kt();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(t));const s=new dv(t,n,this.Ze,this.je,r);return this.je=yl(),this.He=u0(),this.Je=u0(),this.Ze=new Jn(Gt),s}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new E3,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Lr(Gt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Lr(Gt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||He("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new E3),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function u0(){return new Jn(gt.comparator)}function T3(){return new Jn(gt.comparator)}const EG={asc:"ASCENDING",desc:"DESCENDING"},TG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PG={and:"AND",or:"OR"};class CG{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function fw(e,t){return e.useProto3Json||iv(t)?t:{value:t}}function ey(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function kG(e,t){return ey(e,t.toTimestamp())}function va(e){return cn(!!e,49232),Ct.fromTimestamp(function(n){const r=Uc(n);return new Vn(r.seconds,r.nanos)}(e))}function $_(e,t){return pw(e,t).canonicalString()}function pw(e,t){const n=function(s){return new Rn(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function LR(e){const t=Rn.fromString(e);return cn(VR(t),10190,{key:t.toString()}),t}function mw(e,t){return $_(e.databaseId,t.path)}function D2(e,t){const n=LR(t);if(n.get(1)!==e.databaseId.projectId)throw new We(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new We(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gt(MR(n))}function DR(e,t){return $_(e.databaseId,t)}function jG(e){const t=LR(e);return t.length===4?Rn.emptyPath():MR(t)}function gw(e){return new Rn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function MR(e){return cn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function P3(e,t,n){return{name:mw(e,t),fields:n.value.mapValue.fields}}function IG(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_t(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(cn(d===void 0||typeof d=="string",58123),Zr.fromBase64String(d||"")):(cn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Zr.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const d=c.code===void 0?ke.UNKNOWN:kR(c.code);return new We(d,c.message||"")}(o);n=new IR(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=D2(e,r.document.name),i=va(r.document.updateTime),o=r.document.createTime?va(r.document.createTime):Ct.min(),a=new Ki({mapValue:{fields:r.document.fields}}),l=ps.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new X0(c,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=D2(e,r.document),i=r.readTime?va(r.readTime):Ct.min(),o=ps.newNoDocument(s,i),a=r.removedTargetIds||[];n=new X0([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=D2(e,r.document),i=r.removedTargetIds||[];n=new X0([],i,s,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new wG(s,i),a=r.targetId;n=new jR(a,o)}}return n}function RG(e,t){let n;if(t instanceof tg)n={update:P3(e,t.key,t.value)};else if(t instanceof B_)n={delete:mw(e,t.key)};else if(t instanceof dd)n={update:P3(e,t.key,t.data),updateMask:zG(t.fieldMask)};else{if(!(t instanceof vG))return _t(16599,{dt:t.type});n={verify:mw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Z1)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Em)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof J1)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw _t(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:kG(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_t(27497)}(e,t.precondition)),n}function LG(e,t){return e&&e.length>0?(cn(t!==void 0,14353),e.map(n=>function(s,i){let o=s.updateTime?va(s.updateTime):va(i);return o.isEqual(Ct.min())&&(o=va(i)),new mG(o,s.transformResults||[])}(n,t))):[]}function DG(e,t){return{documents:[DR(e,t.path)]}}function MG(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DR(e,s);const i=function(c){if(c.length!==0)return FR(Mo.create(c,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Bd(p.field),direction:VG(p.dir)}}(d))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=fw(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:s}}function OG(e){let t=jG(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){cn(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:t=t.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=OR(h);return p instanceof Mo&&hR(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(b){return new Am(Ud(b.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,iv(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new X1(f,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,f=h.values||[];return new X1(f,p)}(n.endAt)),eG(t,s,o,i,a,"F",l,c)}function FG(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function OR(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ud(n.unaryFilter.field);return br.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ud(n.unaryFilter.field);return br.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ud(n.unaryFilter.field);return br.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ud(n.unaryFilter.field);return br.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(e):e.fieldFilter!==void 0?function(n){return br.create(Ud(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Mo.create(n.compositeFilter.filters.map(r=>OR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(n.compositeFilter.op))}(e):_t(30097,{filter:e})}function VG(e){return EG[e]}function BG(e){return TG[e]}function UG(e){return PG[e]}function Bd(e){return{fieldPath:e.canonicalString()}}function Ud(e){return Yr.fromServerFormat(e.fieldPath)}function FR(e){return e instanceof br?function(n){if(n.op==="=="){if(m3(n.value))return{unaryFilter:{field:Bd(n.field),op:"IS_NAN"}};if(p3(n.value))return{unaryFilter:{field:Bd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m3(n.value))return{unaryFilter:{field:Bd(n.field),op:"IS_NOT_NAN"}};if(p3(n.value))return{unaryFilter:{field:Bd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bd(n.field),op:BG(n.op),value:n.value}}}(e):e instanceof Mo?function(n){const r=n.getFilters().map(s=>FR(s));return r.length===1?r[0]:{compositeFilter:{op:UG(n.op),filters:r}}}(e):_t(54877,{filter:e})}function zG(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function VR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function BR(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,n,r,s,i=Ct.min(),o=Ct.min(),a=Zr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new hc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(t){this.yt=t}}function qG(e){const t=OG({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hw(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this.Sn=new HG}addToCollectionParentIndex(t,n){return this.Sn.add(n),je.resolve()}getCollectionParents(t,n){return je.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return je.resolve()}deleteFieldIndex(t,n){return je.resolve()}deleteAllFieldIndexes(t){return je.resolve()}createTargetIndexes(t,n){return je.resolve()}getDocumentsMatchingTarget(t,n){return je.resolve(null)}getIndexType(t,n){return je.resolve(0)}getFieldIndexes(t,n){return je.resolve([])}getNextCollectionGroupToUpdate(t){return je.resolve(null)}getMinOffset(t,n){return je.resolve(Bc.min())}getMinOffsetFromCollectionGroup(t,n){return je.resolve(Bc.min())}updateCollectionGroup(t,n,r){return je.resolve()}updateIndexEntries(t,n){return je.resolve()}}class HG{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Lr(Rn.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Lr(Rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UR=41943040;class Zs{static withCacheSize(t){return new Zs(t,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs.DEFAULT_COLLECTION_PERCENTILE=10,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zs.DEFAULT=new Zs(UR,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zs.DISABLED=new Zs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ef(0)}static ar(){return new ef(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="LruGarbageCollector",GG=1048576;function j3([e,t],[n,r]){const s=Gt(e,n);return s===0?Gt(t,r):s}class KG{constructor(t){this.Pr=t,this.buffer=new Lr(j3),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();j3(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YG{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){He(k3,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wf(n)?He(k3,"Ignoring IndexedDB error during garbage collection: ",n):await bf(n)}await this.Ar(3e5)})}}class QG{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return je.resolve(sv.ce);const r=new KG(n);return this.Vr.forEachTarget(t,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(t,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(C3)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C3):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(t,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(t,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(h=>(c=Date.now(),Fd()<=en.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function XG(e,t){return new QG(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(){this.changes=new ud(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ps.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&Bp(r.mutation,s,To.empty(),Vn.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Kt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Kt()){const s=Tu();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=vp();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Tu();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Kt()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=yl();const o=Vp(),a=function(){return Vp()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof dd)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Bp(d.mutation,c,d.mutation.getFieldMask(),Vn.now())):o.set(c.key,To.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new JG(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(t,n){const r=Vp();let s=new Jn((o,a)=>o-a),i=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||To.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||Kt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=_R();d.forEach(p=>{if(!i.has(p)){const f=PR(n.get(p),r.get(p));f!==null&&h.set(p,f),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return je.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return tG(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):yR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):je.resolve(Tu());let a=wm,l=i;return o.next(c=>je.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?je.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Kt())).next(d=>({batchId:a,changes:wR(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(r=>{let s=vp();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=vp();return this.indexManager.getCollectionParents(t,i).next(a=>je.forEach(a,l=>{const c=function(h,p){return new _f(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,ps.newInvalidDocument(d)))});let a=vp();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Bp(d.mutation,c,To.empty(),Vn.now()),lv(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return je.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:va(s.createTime)}}(n)),je.resolve()}getNamedQuery(t,n){return je.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(s){return{name:s.name,query:qG(s.bundledQuery),readTime:va(s.readTime)}}(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(){this.overlays=new Jn(gt.comparator),this.Lr=new Map}getOverlay(t,n){return je.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Tu();return je.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.bt(t,n,i)}),je.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),je.resolve()}getOverlaysForCollection(t,n,r){const s=Tu(),i=n.length+1,o=new gt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return je.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Jn((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Tu(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Tu(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return je.resolve(a)}bt(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bG(n,r));let i=this.Lr.get(n);i===void 0&&(i=Kt(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(){this.sessionToken=Zr.EMPTY_BYTE_STRING}getSessionToken(t){return je.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.kr=new Lr(Fr.Kr),this.qr=new Lr(Fr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new Fr(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Wr(new Fr(t,n))}Qr(t,n){t.forEach(r=>this.removeReference(r,n))}Gr(t){const n=new gt(new Rn([])),r=new Fr(n,t),s=new Fr(n,t+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new gt(new Rn([])),r=new Fr(n,t),s=new Fr(n,t+1);let i=Kt();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new Fr(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Fr{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return gt.comparator(t.key,n.key)||Gt(t.Hr,n.Hr)}static Ur(t,n){return Gt(t.Hr,n.Hr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lr(Fr.Kr)}checkEmpty(t){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xG(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new Fr(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return je.resolve(o)}lookupMutationBatch(t,n){return je.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return je.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?L_:this.Yn-1)}getAllMutationBatches(t){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Fr(n,0),s=new Fr(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),je.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Lr(Gt);return n.forEach(s=>{const i=new Fr(s,0),o=new Fr(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),je.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;gt.isDocumentKey(i)||(i=i.child(""));const o=new Fr(new gt(i),0);let a=new Lr(Gt);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),je.resolve(this.Yr(a))}Yr(t){const n=[];return t.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){cn(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return je.forEach(n.mutations,s=>{const i=new Fr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Jr=r})}nr(t){}containsKey(t,n){const r=new Fr(n,0),s=this.Jr.firstAfterOrEqual(r);return je.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,je.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(t){this.ti=t,this.docs=function(){return new Jn(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():ps.newInvalidDocument(n))}getEntries(t,n){let r=yl();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ps.newInvalidDocument(s))}),je.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=yl();const o=n.path,a=new gt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||IH(jH(d),r)<=0||(s.has(d.key)||lv(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return je.resolve(i)}getAllFromCollectionGroup(t,n,r,s){_t(9500)}ni(t,n){return je.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new oK(this)}getSize(t){return je.resolve(this.size)}}class oK extends ZG{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(t,s)):this.Mr.removeEntry(r)}),je.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(t){this.persistence=t,this.ri=new ud(n=>O_(n),F_),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.ii=0,this.si=new q_,this.targetCount=0,this.oi=ef._r()}forEachTarget(t,n){return this.ri.forEach((r,s)=>n(s)),je.resolve()}getLastRemoteSnapshotVersion(t){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return je.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),je.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new ef(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,je.resolve()}updateTargetData(t,n){return this.lr(n),je.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),je.waitFor(i).next(()=>s)}getTargetCount(t){return je.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return je.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),je.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),je.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),je.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return je.resolve(r)}containsKey(t,n){return je.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,n){this._i={},this.overlays={},this.ai=new sv(0),this.ui=!1,this.ui=!0,this.ci=new rK,this.referenceDelegate=t(this),this.li=new aK(this),this.indexManager=new WG,this.remoteDocumentCache=function(s){return new iK(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new $G(n),this.Pi=new tK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new nK,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new sK(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){He("MemoryPersistence","Starting transaction:",t);const s=new lK(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(t,n){return je.or(Object.values(this._i).map(r=>()=>r.containsKey(t,n)))}}class lK extends LH{constructor(t){super(),this.currentSequenceNumber=t}}class W_{constructor(t){this.persistence=t,this.Ri=new q_,this.Ai=null}static Vi(t){return new W_(t)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),je.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),je.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),je.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.di,r=>{const s=gt.fromPath(r);return this.mi(t,s).next(i=>{i||n.removeEntry(s,Ct.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return je.or([()=>je.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class ty{constructor(t,n){this.persistence=t,this.fi=new ud(r=>OH(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=XG(this,n)}static Vi(t,n){return new ty(t,n)}Ti(){}Ii(t){return je.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(s=>r+s))}pr(t){let n=0;return this.mr(t,r=>{n++}).next(()=>n)}mr(t,n){return je.forEach(this.fi,(r,s)=>this.wr(t,r,s).next(i=>i?je.resolve():n(s)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(t,o=>this.wr(t,o,n).next(a=>{a||(r++,i.removeEntry(o,Ct.min()))})).next(()=>i.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),je.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),je.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),je.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),je.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=K0(t.data.value)),n}wr(t,n,r){return je.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.fi.get(n);return je.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=s}static Es(t,n){let r=Kt(),s=Kt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new H_(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return nW()?8:DH(Jq())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.gs(t,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(t,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new cK;return this.ys(t,n,o).next(a=>{if(i.result=a,this.As)return this.ws(t,n,o,a.size)})}).next(()=>i.result)}ws(t,n,r,s){return r.documentReadCount<this.Vs?(Fd()<=en.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",Vd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),je.resolve()):(Fd()<=en.DEBUG&&He("QueryEngine","Query:",Vd(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Fd()<=en.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",Vd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ya(n))):je.resolve())}gs(t,n){if(x3(n))return je.resolve(null);let r=ya(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=hw(n,null,"F"),r=ya(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const o=Kt(...i);return this.fs.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.bs(n,a);return this.Ss(n,c,o,l.readTime)?this.gs(t,hw(n,null,"F")):this.Ds(t,c,n,l)}))})))}ps(t,n,r,s){return x3(n)||s.isEqual(Ct.min())?je.resolve(null):this.fs.getDocuments(t,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?je.resolve(null):(Fd()<=en.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vd(n)),this.Ds(t,o,n,kH(s,wm)).next(a=>a))})}bs(t,n){let r=new Lr(xR(t));return n.forEach((s,i)=>{lv(t,i)&&(r=r.add(i))}),r}Ss(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(t,n,r){return Fd()<=en.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Vd(n)),this.fs.getDocumentsMatchingQuery(t,n,Bc.min(),r)}Ds(t,n,r,s){return this.fs.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="LocalStore",dK=3e8;class hK{constructor(t,n,r,s){this.persistence=t,this.Cs=n,this.serializer=s,this.vs=new Jn(Gt),this.Fs=new ud(i=>O_(i),F_),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eK(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function fK(e,t,n,r){return new hK(e,t,n,r)}async function $R(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Kt();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function pK(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let f=je.resolve();return p.forEach(b=>{f=f.next(()=>d.getEntry(l,b)).next(x=>{const w=c.docVersions.get(b);cn(w!==null,48541),x.version.compareTo(w)<0&&(h.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),d.addEntry(x)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Kt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function qR(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function mK(e,t){const n=Rt(e),r=t.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];t.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.li.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.li.addMatchingKeys(i,d.addedDocuments,h)));let f=p.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(h)!==null?f=f.withResumeToken(Zr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):d.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(d.resumeToken,r)),s=s.insert(h,f),function(x,w,v){return x.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=dK?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,f,d)&&a.push(n.li.updateTargetData(i,f))});let l=yl(),c=Kt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(gK(i,o,t.documentUpdates).next(d=>{l=d.Bs,c=d.Ls})),!r.isEqual(Ct.min())){const d=n.li.getLastRemoteSnapshotVersion(i).next(h=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return je.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.vs=s,i))}function gK(e,t,n){let r=Kt(),s=Kt();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=yl();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ct.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):He(G_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Bs:o,Ls:s}})}function yK(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=L_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function vK(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,t).next(i=>i?(s=i,je.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new hc(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r})}async function yw(e,t,n){const r=Rt(e),s=r.vs.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!wf(o))throw o;He(G_,`Failed to update sequence numbers for target ${t}: ${o}`)}r.vs=r.vs.remove(t),r.Fs.delete(s.target)}function I3(e,t,n){const r=Rt(e);let s=Ct.min(),i=Kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=Rt(l),p=h.Fs.get(d);return p!==void 0?je.resolve(h.vs.get(p)):h.li.getTargetData(c,d)}(r,o,ya(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,t,n?s:Ct.min(),n?i:Kt())).next(a=>(xK(r,sG(t),a),{documents:a,ks:i})))}function xK(e,t,n){let r=e.Ms.get(t)||Ct.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.Ms.set(t,r)}class R3{constructor(){this.activeTargetIds=uG()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bK{constructor(){this.vo=new R3,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new R3,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="ConnectivityMonitor";class D3{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){He(L3,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){He(L3,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0=null;function vw(){return d0===null?d0=function(){return 268435456+Math.round(2147483648*Math.random())}():d0++,"0x"+d0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="RestConnection",_K={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class SK{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Y1?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(t,n,r,s,i){const o=vw(),a=this.Qo(t,n.toUriEncodedString());He(M2,`Sending RPC '${t}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:c}=new URL(a),d=tv(c);return this.zo(t,a,l,r,d).then(h=>(He(M2,`Received RPC '${t}' ${o}: `,h),h),h=>{throw Qh(M2,`RPC '${t}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}jo(t,n,r,s,i,o){return this.Wo(t,n,r,s,i)}Go(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xf}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>t[i]=s),r&&r.headers.forEach((s,i)=>t[i]=s)}Qo(t,n){const r=_K[t];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="WebChannelConnection",ap=(e,t,n)=>{e.listen(t,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class mh extends SK{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!mh.c_){const t=GI();ap(t,HI.STAT_EVENT,n=>{n.stat===iw.PROXY?He(os,"STAT_EVENT: detected buffering proxy"):n.stat===iw.NOPROXY&&He(os,"STAT_EVENT: detected no buffering proxy")}),mh.c_=!0}}zo(t,n,r,s,i){const o=vw();return new Promise((a,l)=>{const c=new qI;c.setWithCredentials(!0),c.listenOnce(WI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case G0.NO_ERROR:const h=c.getResponseJson();He(os,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),a(h);break;case G0.TIMEOUT:He(os,`RPC '${t}' ${o} timed out`),l(new We(ke.DEADLINE_EXCEEDED,"Request time out"));break;case G0.HTTP_ERROR:const p=c.getStatus();if(He(os,`RPC '${t}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const b=f==null?void 0:f.error;if(b&&b.status&&b.message){const x=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(_)>=0?_:ke.UNKNOWN}(b.status);l(new We(x,b.message))}else l(new We(ke.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new We(ke.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{He(os,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(s);He(os,`RPC '${t}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(t,n,r){const s=vw(),i=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=i.join("");He(os,`Creating RPC '${t}' stream ${s}: ${c}`,a);const d=o.createWebChannel(c,a);this.I_(d);let h=!1,p=!1;const f=new NK({Ho:b=>{p?He(os,`Not sending because RPC '${t}' stream ${s} is closed:`,b):(h||(He(os,`Opening RPC '${t}' stream ${s} transport.`),d.open(),h=!0),He(os,`RPC '${t}' stream ${s} sending:`,b),d.send(b))},Jo:()=>d.close()});return ap(d,yp.EventType.OPEN,()=>{p||(He(os,`RPC '${t}' stream ${s} transport opened.`),f.i_())}),ap(d,yp.EventType.CLOSE,()=>{p||(p=!0,He(os,`RPC '${t}' stream ${s} transport closed`),f.o_(),this.E_(d))}),ap(d,yp.EventType.ERROR,b=>{p||(p=!0,Qh(os,`RPC '${t}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),f.o_(new We(ke.UNAVAILABLE,"The operation could not be completed")))}),ap(d,yp.EventType.MESSAGE,b=>{var x;if(!p){const w=b.data[0];cn(!!w,16349);const v=w,_=(v==null?void 0:v.error)||((x=v[0])==null?void 0:x.error);if(_){He(os,`RPC '${t}' stream ${s} received error:`,_);const N=_.status;let R=function(k){const A=yr[k];if(A!==void 0)return kR(A)}(N),O=_.message;R===void 0&&(R=ke.INTERNAL,O="Unknown error status: "+N+" with message "+_.message),p=!0,f.o_(new We(R,O)),d.close()}else He(os,`RPC '${t}' stream ${s} received:`,w),f.__(w)}}),mh.u_(),setTimeout(()=>{f.s_()},0),f}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KI()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AK(e){return new mh(e)}function O2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(e){return new CG(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mh.c_=!1;class WR{constructor(t,n,r=1e3,s=1.5,i=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&He("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="PersistentStream";class HR{constructor(t,n,r,s,i,o,a,l){this.Ci=t,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WR(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(gl(n.toString()),gl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{t(()=>{const s=new We(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return He(M3,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(He(M3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EK extends HR{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=IG(this.serializer,t),r=function(i){if(!("targetChange"in i))return Ct.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ct.min():o.readTime?va(o.readTime):Ct.min()}(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=gw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=uw(l)?{documents:DG(i,l)}:{query:MG(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RR(i,o.resumeToken);const c=fw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ct.min())>0){a.readTime=ey(i,o.snapshotVersion.toTimestamp());const c=fw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=FG(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=gw(this.serializer),n.removeTarget=t,this.K_(n)}}class TK extends HR{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return cn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,cn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){cn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=LG(t.writeResults,t.commitTime),r=va(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=gw(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>RG(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{}class CK extends PK{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new We(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(t,pw(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new We(ke.UNKNOWN,i.toString())})}jo(t,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(t,pw(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(ke.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function kK(e,t,n,r){return new CK(e,t,n,r)}class jK{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gl(n),this.aa=!1):He("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="RemoteStore";class IK{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{hd(this)&&(He(Zu,"Restarting streams for network reachability change."),await async function(l){const c=Rt(l);c.Ea.add(4),await rg(c),c.Va.set("Unknown"),c.Ea.delete(4),await fv(c)}(this))})}),this.Va=new jK(r,s)}}async function fv(e){if(hd(e))for(const t of e.Ra)await t(!0)}async function rg(e){for(const t of e.Ra)await t(!1)}function GR(e,t){const n=Rt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),X_(n)?Q_(n):Sf(n).O_()&&Y_(n,t))}function K_(e,t){const n=Rt(e),r=Sf(n);n.Ia.delete(t),r.O_()&&KR(n,t),n.Ia.size===0&&(r.O_()?r.L_():hd(n)&&n.Va.set("Unknown"))}function Y_(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sf(e).Z_(t)}function KR(e,t){e.da.$e(t),Sf(e).X_(t)}function Q_(e){e.da=new AG({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Sf(e).start(),e.Va.ua()}function X_(e){return hd(e)&&!Sf(e).x_()&&e.Ia.size>0}function hd(e){return Rt(e).Ea.size===0}function YR(e){e.da=void 0}async function RK(e){e.Va.set("Online")}async function LK(e){e.Ia.forEach((t,n)=>{Y_(e,t)})}async function DK(e,t){YR(e),X_(e)?(e.Va.ha(t),Q_(e)):e.Va.set("Unknown")}async function MK(e,t,n){if(e.Va.set("Online"),t instanceof IR&&t.state===2&&t.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(e,t)}catch(r){He(Zu,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ny(e,r)}else if(t instanceof X0?e.da.Xe(t):t instanceof jR?e.da.st(t):e.da.tt(t),!n.isEqual(Ct.min()))try{const r=await qR(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Zr.EMPTY_BYTE_STRING,d.snapshotVersion)),KR(i,l);const h=new hc(d.target,l,c,d.sequenceNumber);Y_(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){He(Zu,"Failed to raise snapshot:",r),await ny(e,r)}}async function ny(e,t,n){if(!wf(t))throw t;e.Ea.add(1),await rg(e),e.Va.set("Offline"),n||(n=()=>qR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{He(Zu,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await fv(e)})}function QR(e,t){return t().catch(n=>ny(e,n,t))}async function pv(e){const t=Rt(e),n=qc(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:L_;for(;OK(t);)try{const s=await yK(t.localStore,r);if(s===null){t.Ta.length===0&&n.L_();break}r=s.batchId,FK(t,s)}catch(s){await ny(t,s)}XR(t)&&ZR(t)}function OK(e){return hd(e)&&e.Ta.length<10}function FK(e,t){e.Ta.push(t);const n=qc(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function XR(e){return hd(e)&&!qc(e).x_()&&e.Ta.length>0}function ZR(e){qc(e).start()}async function VK(e){qc(e).ra()}async function BK(e){const t=qc(e);for(const n of e.Ta)t.ea(n.mutations)}async function UK(e,t,n){const r=e.Ta.shift(),s=U_.from(r,t,n);await QR(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await pv(e)}async function zK(e,t){t&&qc(e).Y_&&await async function(r,s){if(function(o){return _G(o)&&o!==ke.ABORTED}(s.code)){const i=r.Ta.shift();qc(r).B_(),await QR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await pv(r)}}(e,t),XR(e)&&ZR(e)}async function O3(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),He(Zu,"RemoteStore received new credentials");const r=hd(n);n.Ea.add(3),await rg(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await fv(n)}async function $K(e,t){const n=Rt(e);t?(n.Ea.delete(2),await fv(n)):t||(n.Ea.add(2),await rg(n),n.Va.set("Unknown"))}function Sf(e){return e.ma||(e.ma=function(n,r,s){const i=Rt(n);return i.sa(),new EK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{Zo:RK.bind(null,e),Yo:LK.bind(null,e),t_:DK.bind(null,e),J_:MK.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),X_(e)?Q_(e):e.Va.set("Unknown")):(await e.ma.stop(),YR(e))})),e.ma}function qc(e){return e.fa||(e.fa=function(n,r,s){const i=Rt(n);return i.sa(),new TK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:VK.bind(null,e),t_:zK.bind(null,e),ta:BK.bind(null,e),na:UK.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await pv(e)):(await e.fa.stop(),e.Ta.length>0&&(He(Zu,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Cc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new Z_(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(ke.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J_(e,t){if(gl("AsyncQueue",`${t}: ${e}`),wf(e))return new We(ke.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{static emptySet(t){return new gh(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=vp(),this.sortedSet=new Jn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof gh)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new gh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.ga=new Jn(gt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class tf{constructor(t,n,r,s,i,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new tf(t,n,gh.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&av(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class WK{constructor(){this.queries=V3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Rt(n),i=s.queries;s.queries=V3(),i.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new We(ke.ABORTED,"Firestore shutting down"))}}function V3(){return new ud(e=>vR(e),av)}async function HK(e,t){const n=Rt(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.Sa()&&t.Da()&&(r=2):(i=new qK,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=J_(o,`Initialization of query '${Vd(t.query)}' failed`);return void t.onError(a)}n.queries.set(s,i),i.ba.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&eS(n)}async function GK(e,t){const n=Rt(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(t);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=t.Da()?0:1:!i.Sa()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KK(e,t){const n=Rt(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&eS(n)}function YK(e,t,n){const r=Rt(e),s=r.queries.get(t);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(t)}function eS(e){e.Ca.forEach(t=>{t.next()})}var xw,B3;(B3=xw||(xw={})).Ma="default",B3.Cache="cache";class QK{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new tf(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=tf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==xw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.key=t}}class eL{constructor(t){this.key=t}}class XK{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Kt(),this.mutatedKeys=Kt(),this.eu=xR(t),this.tu=new gh(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new F3,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((d,h)=>{const p=s.get(d),f=lv(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),x=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;p&&f?p.data.isEqual(f.data)?b!==x&&(r.track({type:3,doc:f}),w=!0):this.su(p,f)||(r.track({type:2,doc:f}),w=!0,(l&&this.eu(f,l)>0||c&&this.eu(f,c)<0)&&(a=!0)):!p&&f?(r.track({type:0,doc:f}),w=!0):p&&!f&&(r.track({type:1,doc:p}),w=!0,(l||c)&&(a=!0)),w&&(f?(o=o.add(f),i=x?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((d,h)=>function(f,b){const x=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:w})}};return x(f)-x(b)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,c=l!==this.Xa;return this.Xa=l,o.length!==0||c?{snapshot:new tf(this.query,t.tu,i,o,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F3,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Kt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return t.forEach(r=>{this.Ya.has(r)||n.push(new eL(r))}),this.Ya.forEach(r=>{t.has(r)||n.push(new JR(r))}),n}cu(t){this.Za=t.ks,this.Ya=Kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return tf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tS="SyncEngine";class ZK{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class JK{constructor(t){this.key=t,this.hu=!1}}class eY{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ud(a=>vR(a),av),this.Iu=new Map,this.Eu=new Set,this.Ru=new Jn(gt.comparator),this.Au=new Map,this.Vu=new q_,this.du={},this.mu=new Map,this.fu=ef.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tY(e,t,n=!0){const r=oL(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await tL(r,t,n,!0),s}async function nY(e,t){const n=oL(e);await tL(n,t,!0,!1)}async function tL(e,t,n,r){const s=await vK(e.localStore,ya(t)),i=s.targetId,o=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await rY(e,t,i,o==="current",s.resumeToken)),e.isPrimaryClient&&n&&GR(e.remoteStore,s),a}async function rY(e,t,n,r,s){e.pu=(h,p,f)=>async function(x,w,v,_){let N=w.view.ru(v);N.Ss&&(N=await I3(x.localStore,w.query,!1).then(({documents:k})=>w.view.ru(k,N)));const R=_&&_.targetChanges.get(w.targetId),O=_&&_.targetMismatches.get(w.targetId)!=null,z=w.view.applyChanges(N,x.isPrimaryClient,R,O);return z3(x,w.targetId,z.au),z.snapshot}(e,h,p,f);const i=await I3(e.localStore,t,!0),o=new XK(t,i.ks),a=o.ru(i.documents),l=ng.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);z3(e,n,c.au);const d=new ZK(t,n,o);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function sY(e,t,n){const r=Rt(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!av(o,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await yw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&K_(r.remoteStore,s.targetId),bw(r,s.targetId)}).catch(bf)):(bw(r,s.targetId),await yw(r.localStore,s.targetId,!0))}async function iY(e,t){const n=Rt(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),K_(n.remoteStore,r.targetId))}async function oY(e,t,n){const r=fY(e);try{const s=await function(o,a){const l=Rt(o),c=Vn.now(),d=a.reduce((f,b)=>f.add(b.key),Kt());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let b=yl(),x=Kt();return l.xs.getEntries(f,d).next(w=>{b=w,b.forEach((v,_)=>{_.isValidDocument()||(x=x.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,b)).next(w=>{h=w;const v=[];for(const _ of a){const N=yG(_,h.get(_.key).overlayedDocument);N!=null&&v.push(new dd(_.key,N,cR(N.value.mapValue),jo.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(w=>{p=w;const v=w.applyToLocalDocumentSet(h,x);return l.documentOverlayCache.saveOverlays(f,w.batchId,v)})}).then(()=>({batchId:p.batchId,changes:wR(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.du[o.currentUser.toKey()];c||(c=new Jn(Gt)),c=c.insert(a,l),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await sg(r,s.changes),await pv(r.remoteStore)}catch(s){const i=J_(s,"Failed to persist write");n.reject(i)}}async function nL(e,t){const n=Rt(e);try{const r=await mK(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(cn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?cn(o.hu,14607):s.removedDocuments.size>0&&(cn(o.hu,42227),o.hu=!1))}),await sg(n,r,t)}catch(r){await bf(r)}}function U3(e,t,n){const r=Rt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Rt(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.ba)p.va(a)&&(c=!0)}),c&&eS(l)}(r.eventManager,t),s.length&&r.Pu.J_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function aY(e,t,n){const r=Rt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let o=new Jn(gt.comparator);o=o.insert(i,ps.newNoDocument(i,Ct.min()));const a=Kt().add(i),l=new dv(Ct.min(),new Map,new Jn(Gt),o,a);await nL(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(t),nS(r)}else await yw(r.localStore,t,!1).then(()=>bw(r,t,n)).catch(bf)}async function lY(e,t){const n=Rt(e),r=t.batch.batchId;try{const s=await pK(n.localStore,t);sL(n,r,null),rL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sg(n,s)}catch(s){await bf(s)}}async function cY(e,t,n){const r=Rt(e);try{const s=await function(o,a){const l=Rt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(cn(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,t);sL(r,t,n),rL(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await sg(r,s)}catch(s){await bf(s)}}function rL(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function sL(e,t,n){const r=Rt(e);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.du[r.currentUser.toKey()]=s}}function bw(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(r=>{e.Vu.containsKey(r)||iL(e,r)})}function iL(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(K_(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),nS(e))}function z3(e,t,n){for(const r of n)r instanceof JR?(e.Vu.addReference(r.key,t),uY(e,r)):r instanceof eL?(He(tS,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||iL(e,r.key)):_t(19791,{wu:r})}function uY(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(He(tS,"New document in limbo: "+n),e.Eu.add(r),nS(e))}function nS(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new gt(Rn.fromString(t)),r=e.fu.next();e.Au.set(r,new JK(n)),e.Ru=e.Ru.insert(n,r),GR(e.remoteStore,new hc(ya(gR(n.path)),r,"TargetPurposeLimboResolution",sv.ce))}}async function sg(e,t,n){const r=Rt(e),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,t,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=H_.Es(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(l,c){const d=Rt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>je.forEach(c,p=>je.forEach(p.Ts,f=>d.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>je.forEach(p.Is,f=>d.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!wf(h))throw h;He(G_,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const f=d.vs.get(p),b=f.snapshotVersion,x=f.withLastLimboFreeSnapshotVersion(b);d.vs=d.vs.insert(p,x)}}}(r.localStore,i))}async function dY(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){He(tS,"User change. New user:",t.toKey());const r=await $R(n.localStore,t);n.currentUser=t,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new We(ke.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await sg(n,r.Ns)}}function hY(e,t){const n=Rt(e),r=n.Au.get(t);if(r&&r.hu)return Kt().add(r.key);{let s=Kt();const i=n.Iu.get(t);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function oL(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nL.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aY.bind(null,t),t.Pu.J_=KK.bind(null,t.eventManager),t.Pu.yu=YK.bind(null,t.eventManager),t}function fY(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cY.bind(null,t),t}class ry{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hv(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return fK(this.persistence,new uK,t.initialUser,this.serializer)}Cu(t){return new zR(W_.Vi,this.serializer)}Du(t){return new bK}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ry.provider={build:()=>new ry};class pY extends ry{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){cn(this.persistence.referenceDelegate instanceof ty,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YG(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Zs.withCacheSize(this.cacheSizeBytes):Zs.DEFAULT;return new zR(r=>ty.Vi(r,n),this.serializer)}}class ww{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dY.bind(null,this.syncEngine),await $K(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new WK}()}createDatastore(t){const n=hv(t.databaseInfo.databaseId),r=AK(t.databaseInfo);return kK(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,o,a){return new IK(r,s,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>U3(this.syncEngine,n,0),function(){return D3.v()?new D3:new wK}())}createSyncEngine(t,n){return function(s,i,o,a,l,c,d){const h=new eY(s,i,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const i=Rt(s);He(Zu,"RemoteStore shutting down."),i.Ea.add(5),await rg(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}ww.provider={build:()=>new ww};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="FirestoreClient";class gY{constructor(t,n,r,s,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=hs.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{He(Wc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(He(Wc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=J_(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function F2(e,t){e.asyncQueue.verifyOperationInProgress(),He(Wc,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $R(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function $3(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yY(e);He(Wc,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>O3(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>O3(t.remoteStore,s)),e._onlineComponents=t}async function yY(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){He(Wc,"Using user provided OfflineComponentProvider");try{await F2(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===ke.FAILED_PRECONDITION||s.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Qh("Error using user provided cache. Falling back to memory cache: "+n),await F2(e,new ry)}}else He(Wc,"Using default OfflineComponentProvider"),await F2(e,new pY(void 0));return e._offlineComponents}async function aL(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(He(Wc,"Using user provided OnlineComponentProvider"),await $3(e,e._uninitializedComponentsProvider._online)):(He(Wc,"Using default OnlineComponentProvider"),await $3(e,new ww))),e._onlineComponents}function vY(e){return aL(e).then(t=>t.syncEngine)}async function xY(e){const t=await aL(e),n=t.eventManager;return n.onListen=tY.bind(null,t.syncEngine),n.onUnlisten=sY.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nY.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=iY.bind(null,t.syncEngine),n}function bY(e,t,n={}){const r=new Cc;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new mY({next:p=>{d.Nu(),o.enqueueAndForget(()=>GK(i,h)),p.fromCache&&l.source==="server"?c.reject(new We(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new QK(a,d,{includeMetadataChanges:!0,Ka:!0});return HK(i,h)}(await xY(e),e.asyncQueue,t,n,r)),r.promise}function wY(e,t){const n=new Cc;return e.asyncQueue.enqueueAndForget(async()=>oY(await vY(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Y="ComponentProvider",q3=new Map;function SY(e,t,n,r,s){return new BH(e,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,lL(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="firestore.googleapis.com",W3=!0;class H3{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new We(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cL,this.ssl=W3}else this.host=t.host,this.ssl=t.ssl??W3;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GG)throw new We(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lL(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new We(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new We(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new We(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mv{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new We(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H3(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xH;switch(r.type){case"firstParty":return new SH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new We(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=q3.get(n);r&&(He(_Y,"Removing Datastore"),q3.delete(n),r.terminate())}(this),Promise.resolve()}}function NY(e,t,n,r={}){var c;e=Xu(e,mv);const s=tv(t),i=e._getSettings(),o={...i,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;s&&(kI(`https://${a}`),II("Firestore",!0)),i.host!==cL&&i.host!==a&&Qh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!xm(l,o)&&(e._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=hs.MOCK_USER;else{d=jI(r.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new We(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new hs(p)}e._authCredentials=new bH(new QI(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new fd(this.firestore,t,this._query)}}class Ir{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ir(this.firestore,t,this._key)}toJSON(){return{type:Ir._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(eg(n,Ir._jsonSchema))return new Ir(t,r||null,new gt(Rn.fromString(n.referencePath)))}}Ir._jsonSchemaVersion="firestore/documentReference/1.0",Ir._jsonSchema={type:wr("string",Ir._jsonSchemaVersion),referencePath:wr("string")};class kc extends fd{constructor(t,n,r){super(t,n,gR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ir(this.firestore,null,new gt(t))}withConverter(t){return new kc(this.firestore,t,this._path)}}function Gi(e,t,...n){if(e=Ea(e),XI("collection","path",t),e instanceof mv){const r=Rn.fromString(t,...n);return i3(r),new kc(e,null,r)}{if(!(e instanceof Ir||e instanceof kc))throw new We(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Rn.fromString(t,...n));return i3(r),new kc(e.firestore,null,r)}}function Eo(e,t,...n){if(e=Ea(e),arguments.length===1&&(t=R_.newId()),XI("doc","path",t),e instanceof mv){const r=Rn.fromString(t,...n);return s3(r),new Ir(e,null,new gt(r))}{if(!(e instanceof Ir||e instanceof kc))throw new We(ke.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Rn.fromString(t,...n));return s3(r),new Ir(e.firestore,e instanceof kc?e.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="AsyncQueue";class K3{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WR(this,"async_queue_retry"),this._c=()=>{const r=O2();r&&He(G3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=O2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=O2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Cc;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!wf(t))throw t;He(G3,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,gl("INTERNAL UNHANDLED ERROR: ",Y3(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Z_.createAndSchedule(this,t,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&_t(47125,{Pc:Y3(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Y3(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class ig extends mv{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=new K3,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new K3(t),this._firestoreClient=void 0,await t}}}function AY(e,t){const n=typeof e=="object"?e:j_(),r=typeof e=="string"?e:Y1,s=vf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=PI("firestore");i&&NY(s,...i)}return s}function uL(e){if(e._terminated)throw new We(ke.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||EY(e),e._firestoreClient}function EY(e){var r,s,i,o;const t=e._freezeSettings(),n=SY(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,(s=e._app)==null?void 0:s.options.apiKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((o=t.localCache)!=null&&o._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new gY(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yi(Zr.fromBase64String(t))}catch(n){throw new We(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Yi(Zr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(eg(t,Yi._jsonSchema))return Yi.fromBase64String(t.bytes)}}Yi._jsonSchemaVersion="firestore/bytes/1.0",Yi._jsonSchema={type:wr("string",Yi._jsonSchemaVersion),bytes:wr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new We(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new We(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new We(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xa._jsonSchemaVersion}}static fromJSON(t){if(eg(t,xa._jsonSchema))return new xa(t.latitude,t.longitude)}}xa._jsonSchemaVersion="firestore/geoPoint/1.0",xa._jsonSchema={type:wr("string",xa._jsonSchemaVersion),latitude:wr("number"),longitude:wr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Io._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(eg(t,Io._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Io(t.vectorValues);throw new We(ke.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Io._jsonSchemaVersion="firestore/vectorValue/1.0",Io._jsonSchema={type:wr("string",Io._jsonSchemaVersion),vectorValues:wr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=/^__.*__$/;class PY{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new dd(t,this.data,this.fieldMask,n,this.fieldTransforms):new tg(t,this.data,n,this.fieldTransforms)}}function fL(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:e})}}class rS{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new rS({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var s;const n=(s=this.path)==null?void 0:s.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var s;const n=(s=this.path)==null?void 0:s.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return sy(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(fL(this.dataSource)&&TY.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class CY{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||hv(t)}createContext(t,n,r,s=!1){return new rS({dataSource:t,methodName:n,targetDoc:r,path:Yr.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sS(e){const t=e._freezeSettings(),n=hv(e._databaseId);return new CY(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pL(e,t,n,r,s,i={}){const o=e.createContext(i.merge||i.mergeFields?2:0,t,n,s);yL("Data must be an object, but it was:",o,r);const a=mL(r,o);let l,c;if(i.merge)l=new To(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=gv(t,h,n);if(!o.contains(p))throw new We(ke.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);RY(d,p)||d.push(p)}l=new To(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new PY(new Ki(a),l,c)}function kY(e,t,n,r=!1){return iS(n,e.createContext(r?4:3,t))}function iS(e,t){if(gL(e=Ea(e)))return yL("Unsupported field value:",t,e),mL(e,t);if(e instanceof hL)return function(r,s){if(!fL(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=iS(a,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(e,t)}return function(r,s){if((r=Ea(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dG(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Vn.fromDate(r);return{timestampValue:ey(s.serializer,i)}}if(r instanceof Vn){const i=new Vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ey(s.serializer,i)}}if(r instanceof xa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:RR(s.serializer,r._byteString)};if(r instanceof Ir){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:$_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Io)return function(o,a){const l=o instanceof Io?o.toArray():o;return{mapValue:{fields:{[oR]:{stringValue:lR},[Q1]:{arrayValue:{values:l.map(d=>{if(typeof d!="number")throw a.createError("VectorValues must only contain numeric values.");return V_(a.serializer,d)})}}}}}}(r,s);if(BR(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${rv(r)}`)}(e,t)}function mL(e,t){const n={};return eR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cd(e,(r,s)=>{const i=iS(s,t.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function gL(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Vn||e instanceof xa||e instanceof Yi||e instanceof Ir||e instanceof hL||e instanceof Io||BR(e))}function yL(e,t,n){if(!gL(n)||!ZI(n)){const r=rv(n);throw r==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function gv(e,t,n){if((t=Ea(t))instanceof dL)return t._internalPath;if(typeof t=="string")return IY(e,t);throw sy("Field path arguments must be of type string or ",e,!1,void 0,n)}const jY=new RegExp("[~\\*/\\[\\]]");function IY(e,t,n){if(t.search(jY)>=0)throw sy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dL(...t.split("."))._internalPath}catch{throw sy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function sy(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new We(ke.INVALID_ARGUMENT,a+e+l)}function RY(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{convertValue(t,n="none"){switch($c(t)){case 0:return null;case 1:return t.booleanValue;case 2:return dr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(zc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return cd(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(t){var r,s,i;const n=(i=(s=(r=t.fields)==null?void 0:r[Q1].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>dr(o.doubleValue));return new Io(n)}convertGeoPoint(t){return new xa(dr(t.latitude),dr(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ov(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_m(t));default:return null}}convertTimestamp(t){const n=Uc(t);return new Vn(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Rn.fromString(t);cn(VR(r),9688,{name:t});const s=new Sm(r.get(1),r.get(3)),i=new gt(r.popFirst(5));return s.isEqual(n)||gl(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY extends LY{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ir(this.firestore,null,n)}}const Q3="@firebase/firestore",X3="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(gv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MY extends vL{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new We(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oS{}class xL extends oS{}function yh(e,t,...n){let r=[];t instanceof oS&&r.push(t),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof lS).length,a=i.filter(l=>l instanceof aS).length;if(o>1||o>0&&a>0)throw new We(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class aS extends xL{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new aS(t,n,r)}_apply(t){const n=this._parse(t);return bL(t._query,n),new fd(t.firestore,t.converter,dw(t._query,n))}_parse(t){const n=sS(t.firestore);return function(i,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new We(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){J3(h,d);const b=[];for(const x of h)b.push(Z3(l,i,x));p={arrayValue:{values:b}}}else p=Z3(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||J3(h,d),p=kY(a,o,h,d==="in"||d==="not-in");return br.create(c,d,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class lS extends oS{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new lS(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mo.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)bL(o,l),o=dw(o,l)}(t._query,n),new fd(t.firestore,t.converter,dw(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cS extends xL{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new cS(t,n)}_apply(t){const n=function(s,i,o){if(s.startAt!==null)throw new We(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new We(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Am(i,o)}(t._query,this._field,this._direction);return new fd(t.firestore,t.converter,rG(t._query,n))}}function vh(e,t="asc"){const n=t,r=gv("orderBy",e);return cS._create(r,n)}function Z3(e,t,n){if(typeof(n=Ea(n))=="string"){if(n==="")throw new We(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yR(t)&&n.indexOf("/")!==-1)throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Rn.fromString(n));if(!gt.isDocumentKey(r))throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return f3(e,new gt(r))}if(n instanceof Ir)return f3(e,n._key);throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rv(n)}.`)}function J3(e,t){if(!Array.isArray(e)||e.length===0)throw new We(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function bL(e,t){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new We(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new We(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function wL(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class h0{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xh extends vL{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Z0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(gv("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new We(ke.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=xh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xh._jsonSchemaVersion="firestore/documentSnapshot/1.0",xh._jsonSchema={type:wr("string",xh._jsonSchemaVersion),bundleSource:wr("string","DocumentSnapshot"),bundleName:wr("string"),bundle:wr("string")};class Z0 extends xh{data(t={}){return super.data(t)}}class bh{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new h0(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Z0(this._firestore,this._userDataWriter,r.key,r,new h0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Z0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new h0(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Z0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new h0(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:FY(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new We(ke.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=bh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=R_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function FY(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bh._jsonSchemaVersion="firestore/querySnapshot/1.0",bh._jsonSchema={type:wr("string",bh._jsonSchemaVersion),bundleSource:wr("string","QuerySnapshot"),bundleName:wr("string"),bundle:wr("string")};function wh(e){e=Xu(e,fd);const t=Xu(e.firestore,ig),n=uL(t),r=new DY(t);return OY(e._query),bY(n,e._query).then(s=>new bh(t,r,e,s))}function _u(e,t,n){e=Xu(e,Ir);const r=Xu(e.firestore,ig),s=wL(e.converter,t,n),i=sS(r);return uS(r,[pL(i,"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,jo.none())])}function V2(e){return uS(Xu(e.firestore,ig),[new B_(e._key,jo.none())])}function _h(e,t){const n=Xu(e.firestore,ig),r=Eo(e),s=wL(e.converter,t),i=sS(e.firestore);return uS(n,[pL(i,"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,jo.exists(!1))]).then(()=>r)}function uS(e,t){const n=uL(e);return wY(n,t)}(function(t,n=!0){vH(VI),ml(new Ta("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ig(new wH(r.getProvider("auth-internal")),new NH(o,r.getProvider("app-check-internal")),UH(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),eo(Q3,X3,t),eo(Q3,X3,"esm2020")})();var VY="firebase",BY="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(VY,BY,"app");const _L="@firebase/installations",dS="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=1e4,NL=`w:${dS}`,AL="FIS_v2",UY="https://firebaseinstallations.googleapis.com/v1",zY=60*60*1e3,$Y="installations",qY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ju=new nv($Y,qY,WY);function EL(e){return e instanceof wl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL({projectId:e}){return`${UY}/projects/${e}/installations`}function PL(e){return{token:e.token,requestStatus:2,expiresIn:GY(e.expiresIn),creationTime:Date.now()}}async function CL(e,t){const r=(await t.json()).error;return Ju.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kL({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function HY(e,{refreshToken:t}){const n=kL(e);return n.append("Authorization",KY(t)),n}async function jL(e){const t=await e();return t.status>=500&&t.status<600?e():t}function GY(e){return Number(e.replace("s","000"))}function KY(e){return`${AL} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YY({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=TL(e),s=kL(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:AL,appId:e.appId,sdkVersion:NL},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await jL(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:PL(c.authToken)}}else throw await CL("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QY(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=/^[cdef][\w-]{21}$/,_w="";function ZY(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=JY(e);return XY.test(n)?n:_w}catch{return _w}}function JY(e){return QY(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new Map;function LL(e,t){const n=yv(e);DL(n,t),eQ(n,t)}function DL(e,t){const n=RL.get(e);if(n)for(const r of n)r(t)}function eQ(e,t){const n=tQ();n&&n.postMessage({key:e,fid:t}),nQ()}let Pu=null;function tQ(){return!Pu&&"BroadcastChannel"in self&&(Pu=new BroadcastChannel("[Firebase] FID Change"),Pu.onmessage=e=>{DL(e.data.key,e.data.fid)}),Pu}function nQ(){RL.size===0&&Pu&&(Pu.close(),Pu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ="firebase-installations-database",sQ=1,ed="firebase-installations-store";let B2=null;function hS(){return B2||(B2=OI(rQ,sQ,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ed)}}})),B2}async function iy(e,t){const n=yv(e),s=(await hS()).transaction(ed,"readwrite"),i=s.objectStore(ed),o=await i.get(n);return await i.put(t,n),await s.done,(!o||o.fid!==t.fid)&&LL(e,t.fid),t}async function ML(e){const t=yv(e),r=(await hS()).transaction(ed,"readwrite");await r.objectStore(ed).delete(t),await r.done}async function vv(e,t){const n=yv(e),s=(await hS()).transaction(ed,"readwrite"),i=s.objectStore(ed),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&LL(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(e){let t;const n=await vv(e.appConfig,r=>{const s=iQ(r),i=oQ(e,s);return t=i.registrationPromise,i.installationEntry});return n.fid===_w?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function iQ(e){const t=e||{fid:ZY(),registrationStatus:0};return OL(t)}function oQ(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ju.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=aQ(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:lQ(e)}:{installationEntry:t}}async function aQ(e,t){try{const n=await YY(e,t);return iy(e.appConfig,n)}catch(n){throw EL(n)&&n.customData.serverCode===409?await ML(e.appConfig):await iy(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function lQ(e){let t=await eE(e.appConfig);for(;t.registrationStatus===1;)await IL(100),t=await eE(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await fS(e);return r||n}return t}function eE(e){return vv(e,t=>{if(!t)throw Ju.create("installation-not-found");return OL(t)})}function OL(e){return cQ(e)?{fid:e.fid,registrationStatus:0}:e}function cQ(e){return e.registrationStatus===1&&e.registrationTime+SL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uQ({appConfig:e,heartbeatServiceProvider:t},n){const r=dQ(e,n),s=HY(e,n),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:NL,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await jL(()=>fetch(r,a));if(l.ok){const c=await l.json();return PL(c)}else throw await CL("Generate Auth Token",l)}function dQ(e,{fid:t}){return`${TL(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(e,t=!1){let n;const r=await vv(e.appConfig,i=>{if(!FL(i))throw Ju.create("not-registered");const o=i.authToken;if(!t&&pQ(o))return i;if(o.requestStatus===1)return n=hQ(e,t),i;{if(!navigator.onLine)throw Ju.create("app-offline");const a=gQ(i);return n=fQ(e,a),a}});return n?await n:r.authToken}async function hQ(e,t){let n=await tE(e.appConfig);for(;n.authToken.requestStatus===1;)await IL(100),n=await tE(e.appConfig);const r=n.authToken;return r.requestStatus===0?pS(e,t):r}function tE(e){return vv(e,t=>{if(!FL(t))throw Ju.create("not-registered");const n=t.authToken;return yQ(n)?{...t,authToken:{requestStatus:0}}:t})}async function fQ(e,t){try{const n=await uQ(e,t),r={...t,authToken:n};return await iy(e.appConfig,r),n}catch(n){if(EL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ML(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await iy(e.appConfig,r)}throw n}}function FL(e){return e!==void 0&&e.registrationStatus===2}function pQ(e){return e.requestStatus===2&&!mQ(e)}function mQ(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+zY}function gQ(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function yQ(e){return e.requestStatus===1&&e.requestTime+SL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vQ(e){const t=e,{installationEntry:n,registrationPromise:r}=await fS(t);return r?r.catch(console.error):pS(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xQ(e,t=!1){const n=e;return await bQ(n),(await pS(n,t)).token}async function bQ(e){const{registrationPromise:t}=await fS(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wQ(e){if(!e||!e.options)throw U2("App Configuration");if(!e.name)throw U2("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw U2(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function U2(e){return Ju.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="installations",_Q="installations-internal",SQ=e=>{const t=e.getProvider("app").getImmediate(),n=wQ(t),r=vf(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},NQ=e=>{const t=e.getProvider("app").getImmediate(),n=vf(t,VL).getImmediate();return{getId:()=>vQ(n),getToken:s=>xQ(n,s)}};function AQ(){ml(new Ta(VL,SQ,"PUBLIC")),ml(new Ta(_Q,NQ,"PRIVATE"))}AQ();eo(_L,dS);eo(_L,dS,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="analytics",EQ="firebase_id",TQ="origin",PQ=60*1e3,CQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new C_("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ai=new nv("analytics","Analytics",kQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(e){if(!e.startsWith(mS)){const t=Ai.create("invalid-gtag-resource",{gtagURL:e});return Ds.warn(t.message),""}return e}function BL(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function IQ(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function RQ(e,t){const n=IQ("firebase-js-sdk-policy",{createScriptURL:jQ}),r=document.createElement("script"),s=`${mS}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function LQ(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function DQ(e,t,n,r,s,i){const o=r[s];try{if(o)await t[o];else{const l=(await BL(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(a){Ds.error(a)}e("config",s,i)}async function MQ(e,t,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await BL(n);for(const l of o){const c=a.find(h=>h.measurementId===l),d=c&&t[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",r,s||{})}catch(i){Ds.error(i)}}function OQ(e,t,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await MQ(e,t,n,a,l)}else if(i==="config"){const[a,l]=o;await DQ(e,t,n,r,a,l)}else if(i==="consent"){const[a,l]=o;e("consent",a,l)}else if(i==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(i==="set"){const[a]=o;e("set",a)}else e(i,...o)}catch(a){Ds.error(a)}}return s}function FQ(e,t,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=OQ(i,e,t,n),{gtagCore:i,wrappedGtag:window[s]}}function VQ(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(mS)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ=30,UQ=1e3;class zQ{constructor(t={},n=UQ){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const UL=new zQ;function $Q(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function qQ(e){var o;const{appId:t,apiKey:n}=e,r={method:"GET",headers:$Q(n)},s=CQ.replace("{app-id}",t),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Ai.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function WQ(e,t=UL,n){const{appId:r,apiKey:s,measurementId:i}=e.options;if(!r)throw Ai.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Ai.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new KQ;return setTimeout(async()=>{a.abort()},PQ),zL({appId:r,apiKey:s,measurementId:i},o,a,t)}async function zL(e,{throttleEndTimeMillis:t,backoffCount:n},r,s=UL){var a;const{appId:i,measurementId:o}=e;try{await HQ(r,t)}catch(l){if(o)return Ds.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await qQ(e);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!GQ(c)){if(s.deleteThrottleMetadata(i),o)return Ds.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const d=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?H4(n,s.intervalMillis,BQ):H4(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,h),Ds.debug(`Calling attemptFetch again in ${d} millis`),zL(e,h,r,s)}}function HQ(e,t){return new Promise((n,r)=>{const s=Math.max(t-Date.now(),0),i=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(i),r(Ai.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function GQ(e){if(!(e instanceof wl)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class KQ{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function YQ(e,t,n,r,s){if(s&&s.global){e("event",n,r);return}else{const i=await t,o={...r,send_to:i};e("event",n,o)}}async function QQ(e,t,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return e("set",s),Promise.resolve()}else{const s=await t;e("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XQ(){if(RI())try{await LI()}catch(e){return Ds.warn(Ai.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ds.warn(Ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZQ(e,t,n,r,s,i,o){const a=WQ(e);a.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&Ds.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ds.error(p)),t.push(a);const l=XQ().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([a,l]);VQ(i)||RQ(i,c.measurementId),s("js",new Date);const h=(o==null?void 0:o.config)??{};return h[TQ]="firebase",h.update=!0,d!=null&&(h[EQ]=d),s("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{constructor(t){this.app=t}_delete(){return delete Sh[this.app.options.appId],Promise.resolve()}}let Sh={},nE=[];const rE={};let z2="dataLayer",eX="gtag",sE,gS,iE=!1;function tX(){const e=[];if(tW()&&e.push("This is a browser extension environment."),rW()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Ai.create("invalid-analytics-context",{errorInfo:t});Ds.warn(n.message)}}function nX(e,t,n){tX();const r=e.options.appId;if(!r)throw Ai.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ds.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ai.create("no-api-key");if(Sh[r]!=null)throw Ai.create("already-exists",{id:r});if(!iE){LQ(z2);const{wrappedGtag:i,gtagCore:o}=FQ(Sh,nE,rE,z2,eX);gS=i,sE=o,iE=!0}return Sh[r]=ZQ(e,nE,rE,t,sE,z2,n),new JQ(e)}function rX(e=j_()){e=Ea(e);const t=vf(e,oy);return t.isInitialized()?t.getImmediate():sX(e)}function sX(e,t={}){const n=vf(e,oy);if(n.isInitialized()){const s=n.getImmediate();if(xm(t,n.getOptions()))return s;throw Ai.create("already-initialized")}return n.initialize({options:t})}function iX(e,t,n){e=Ea(e),QQ(gS,Sh[e.app.options.appId],t,n).catch(r=>Ds.error(r))}function oX(e,t,n,r){e=Ea(e),YQ(gS,Sh[e.app.options.appId],t,n,r).catch(s=>Ds.error(s))}const oE="@firebase/analytics",aE="0.10.19";function aX(){ml(new Ta(oy,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return nX(r,s,n)},"PUBLIC")),ml(new Ta("analytics-internal",e,"PRIVATE")),eo(oE,aE),eo(oE,aE,"esm2020");function e(t){try{const n=t.getProvider(oy).getImmediate();return{logEvent:(r,s,i)=>oX(n,r,s,i),setUserProperties:(r,s)=>iX(n,r,s)}}catch(n){throw Ai.create("interop-component-reg-failed",{reason:n})}}}aX();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="firebasestorage.googleapis.com",lX="storageBucket",cX=2*60*1e3,uX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends wl{constructor(t,n,r=0){super($2(t),`Firebase Storage: ${n} (${$2(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ia.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $2(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ca;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ca||(Ca={}));function $2(e){return"storage/"+e}function dX(){const e="An unknown error occurred, please check the error payload for server response.";return new Ia(Ca.UNKNOWN,e)}function hX(){return new Ia(Ca.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fX(){return new Ia(Ca.CANCELED,"User canceled the upload/download.")}function pX(e){return new Ia(Ca.INVALID_URL,"Invalid URL '"+e+"'.")}function mX(e){return new Ia(Ca.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function lE(e){return new Ia(Ca.INVALID_ARGUMENT,e)}function qL(){return new Ia(Ca.APP_DELETED,"The Firebase app was deleted.")}function gX(e){return new Ia(Ca.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Po.makeFromUrl(t,n)}catch{return new Po(t,"")}if(r.path==="")return r;throw mX(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},x=n===$L?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${x}/${s}/${w}`,"i"),N=[{regex:a,indices:l,postModify:i},{regex:f,indices:b,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<N.length;R++){const O=N[R],z=O.regex.exec(t);if(z){const k=z[O.indices.bucket];let A=z[O.indices.path];A||(A=""),r=new Po(k,A),O.postModify(r);break}}if(r==null)throw pX(t);return r}}class yX{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(e,t,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...w){c||(c=!0,t.apply(null,w))}function h(w){s=setTimeout(()=>{s=null,e(f,l())},w)}function p(){i&&clearTimeout(i)}function f(w,...v){if(c){p();return}if(w){p(),d.call(null,w,...v);return}if(l()||o){p(),d.call(null,w,...v);return}r<64&&(r*=2);let N;a===1?(a=2,N=0):N=(r+Math.random())*1e3,h(N)}let b=!1;function x(w){b||(b=!0,p(),!c&&(s!==null?(w||(a=2),clearTimeout(s),h(0)):w||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,x(!0)},n),x}function xX(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(e){return e!==void 0}function cE(e,t,n,r){if(r<t)throw lE(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw lE(`Invalid value for '${e}'. Expected ${n} or less.`)}function wX(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ay;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ay||(ay={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(t,n,r,s,i,o,a,l,c,d,h,p=!0,f=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new f0(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ay.NO_ERROR,l=i.getStatus();if(!a||_X(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===ay.ABORT;r(!1,new f0(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new f0(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());bX(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=dX();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?qL():fX();o(l)}else{const l=hX();o(l)}};this.canceled_?n(!1,new f0(!1,null,!0)):this.backoffId_=vX(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&xX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class f0{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function NX(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function AX(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function EX(e,t){t&&(e["X-Firebase-GMPID"]=t)}function TX(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function PX(e,t,n,r,s,i,o=!0,a=!1){const l=wX(e.urlParams),c=e.url+l,d=Object.assign({},e.headers);return EX(d,t),NX(d,n),AX(d,i),TX(d,r),new SX(c,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CX(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function kX(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(t,n){this._service=t,n instanceof Po?this._location=n:this._location=Po.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ly(t,n)}get root(){const t=new Po(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kX(this._location.path)}get storage(){return this._service}get parent(){const t=CX(this._location.path);if(t===null)return null;const n=new Po(this._location.bucket,t);return new ly(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw gX(t)}}function uE(e,t){const n=t==null?void 0:t[lX];return n==null?null:Po.makeFromBucketSpec(n,e)}function jX(e,t,n,r={}){e.host=`${t}:${n}`;const s=tv(t);s&&(kI(`https://${e.host}/b`),II("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:jI(i,e.app.options.projectId))}class IX{constructor(t,n,r,s,i,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=$L,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cX,this._maxUploadRetryTime=uX,this._requests=new Set,s!=null?this._bucket=Po.makeFromBucketSpec(s,this._host):this._bucket=uE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Po.makeFromBucketSpec(this._url,t):this._bucket=uE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){cE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){cE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(FI(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ly(this,t)}_makeRequest(t,n,r,s,i=!0){if(this._deleted)return new yX(qL());{const o=PX(t,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const dE="@firebase/storage",hE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="storage";function RX(e=j_(),t){e=Ea(e);const r=vf(e,WL).getImmediate({identifier:t}),s=PI("storage");return s&&LX(r,...s),r}function LX(e,t,n,r={}){jX(e,t,n,r)}function DX(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new IX(n,r,s,t,VI)}function MX(){ml(new Ta(WL,DX,"PUBLIC").setMultipleInstances(!0)),eo(dE,hE,""),eo(dE,hE,"esm2020")}MX();const OX={apiKey:"AIzaSyBBUf1eOJCpiTFq-8z_Ch-MqHN6A99KrfY",authDomain:"food-suppliers-cd833.firebaseapp.com",projectId:"food-suppliers-cd833",storageBucket:"food-suppliers-cd833.firebasestorage.app",messagingSenderId:"913195417907",appId:"1:913195417907:web:9d30a9127b365980967e46",measurementId:"G-VZET3K4VBC"},yS=BI(OX);rX(yS);const ir=AY(yS);RX(yS);const fE=()=>new Date().toISOString().split("T")[0],HL=L.createContext(void 0),FX=({children:e})=>{const[t,n]=L.useState([]),[r,s]=L.useState([]),[i,o]=L.useState([]),[a,l]=L.useState(!0);L.useEffect(()=>{(async()=>{try{console.log(" Loading data from Firestore...");const k=performance.now(),[A,C,M]=await Promise.all([wh(yh(Gi(ir,"purchases"),vh("date","desc"))),wh(yh(Gi(ir,"sales"),vh("date","desc"))),wh(yh(Gi(ir,"expenses"),vh("date","desc")))]),P=A.docs.map(Y=>({id:Y.id,...Y.data()})),I=C.docs.map(Y=>({id:Y.id,...Y.data()})),E=M.docs.map(Y=>({id:Y.id,...Y.data()}));n(P),s(I),o(E);const $=performance.now();console.log(` Data loaded in ${($-k).toFixed(2)}ms`),console.log(` Loaded: ${P.length} purchases, ${I.length} sales, ${E.length} expenses`),l(!1)}catch(k){console.error(" Error loading data from Firestore:",k),l(!1)}})()},[]);const c=L.useCallback(async z=>{try{const k=await _h(Gi(ir,"purchases"),z),A={...z,id:k.id};return n(C=>[A,...C]),A}catch(k){throw console.error("Error adding purchase to Firestore:",k),k}},[]),d=L.useCallback(async(z,k)=>{const A={...k,id:z};try{const C=Eo(ir,"purchases",z);return await _u(C,{...k},{merge:!0}),n(M=>M.map(P=>P.id===z?A:P)),A}catch(C){throw console.error("Error updating purchase in Firestore:",C),C}},[]),h=L.useCallback(async z=>{try{const k={...z},A=await _h(Gi(ir,"sales"),k),C={...k,id:A.id};return s(M=>[C,...M]),C}catch(k){throw console.error("Error adding sale to Firestore:",k),k}},[]),p=L.useCallback(async(z,k)=>{try{const A=Eo(ir,"sales",z);await _u(A,{...k},{merge:!0}),s(C=>C.map(M=>M.id===z?{...k,id:z}:M))}catch(A){throw console.error("Error updating sale in Firestore:",A),A}},[]),f=L.useCallback(async z=>{try{const k=await _h(Gi(ir,"expenses"),z),A={...z,id:k.id};return o(C=>[A,...C]),A}catch(k){throw console.error("Error adding expense to Firestore:",k),k}},[]),b=L.useCallback(async z=>{try{const k=Eo(ir,"purchases",z);await _u(k,{deleted:!0},{merge:!0}),n(A=>A.filter(C=>C.id!==z))}catch(k){throw console.error("Error deleting purchase from Firestore:",k),k}},[]),x=L.useCallback(async z=>{try{const k=Eo(ir,"sales",z);await _u(k,{deleted:!0},{merge:!0}),s(A=>A.filter(C=>C.id!==z))}catch(k){throw console.error("Error deleting sale from Firestore:",k),k}},[]),w=L.useCallback(async z=>{try{const k=Eo(ir,"expenses",z);await _u(k,{deleted:!0},{merge:!0}),o(A=>A.filter(C=>C.id!==z))}catch(k){throw console.error("Error deleting expense from Firestore:",k),k}},[]),v=L.useCallback(z=>{const k=t.filter(Y=>Y.date===z),A=r.filter(Y=>Y.date===z),C=i.filter(Y=>Y.date===z),M=k.reduce((Y,ae)=>Y+ae.totalAmount,0),P=A.reduce((Y,ae)=>Y+ae.totalAmount,0),I=C.reduce((Y,ae)=>Y+ae.amount,0),E=P-M,$=E-I;return{date:z,totalPurchases:M,totalSales:P,totalExpenses:I,grossProfit:E,netProfit:$,purchaseCount:k.length,saleCount:A.length}},[t,r,i]),_=L.useMemo(()=>v(fE()),[v]),N=L.useCallback(z=>{const k=z||fE(),A=t.filter(E=>E.date===k).map(E=>({id:`purchase-${E.id}`,type:"purchase",date:E.date,description:`Grapes from ${E.farmer.name}`,amount:E.totalAmount,paymentMethod:E.paymentMethod,details:`${E.items.length} lots | ${E.items.reduce(($,Y)=>$+Y.totalWeight,0).toFixed(1)} kg total`,originalData:E})),C=r.filter(E=>E.date===k).map(E=>{const $=E,Y=E.buyer?`Invoice to ${E.buyer.name}`:`${$.itemName||"Item"} to ${$.customerName||"Customer"}`,ae=E.items?`${E.items.length} items | ${E.totalAmount.toLocaleString()}`:`${$.quantity||0} tons @ ${($.pricePerTon||0).toLocaleString()}/ton`;return{id:`sale-${E.id}`,type:"sale",date:E.date,description:Y,amount:E.totalAmount,paymentMethod:E.paymentMethod,details:ae,originalData:E}}),M=i.filter(E=>E.date===k).map(E=>({id:`expense-${E.id}`,type:"expense",date:E.date,description:E.description,amount:E.amount,paymentMethod:E.paymentMethod,details:E.type.charAt(0).toUpperCase()+E.type.slice(1),originalData:E})),P=[...A,...C,...M];return Array.from(new Map(P.map(E=>[E.id,E])).values())},[t,r,i]),R=L.useMemo(()=>N(),[N]),O={purchases:t,sales:r,expenses:i,addPurchase:c,updatePurchase:d,deletePurchase:b,addSale:h,updateSale:p,deleteSale:x,addExpense:f,deleteExpense:w,getDailySummary:v,todaySummary:_,getTransactions:N,todayTransactions:R,loading:a};return u.jsx(HL.Provider,{value:O,children:e})},og=()=>{const e=L.useContext(HL);if(e===void 0)throw new Error("useStore must be used within a StoreProvider");return e},GL=L.createContext(void 0),VX=({children:e})=>{const[t,n]=L.useState([]),[r,s]=L.useState([]),[i,o]=L.useState([]),[a,l]=L.useState(!0);L.useEffect(()=>{(async()=>{try{console.log(" Loading watermelon data from Firestore...");const N=performance.now(),[R,O,z]=await Promise.all([wh(yh(Gi(ir,"watermelon_purchases"),vh("date","desc"))),wh(yh(Gi(ir,"watermelon_sales"),vh("date","desc"))),wh(yh(Gi(ir,"partner_payments"),vh("date","desc")))]),k=R.docs.map(P=>({id:P.id,...P.data()})),A=O.docs.map(P=>({id:P.id,...P.data()})),C=z.docs.map(P=>({id:P.id,...P.data()}));n(k),s(A),o(C);const M=performance.now();console.log(` Watermelon data loaded in ${(M-N).toFixed(2)}ms`),l(!1)}catch(N){console.error(" Error loading watermelon data from Firestore:",N),l(!1)}})()},[]);const c=L.useCallback(async _=>{try{const N=await _h(Gi(ir,"watermelon_purchases"),_),R={..._,id:N.id};return n(O=>[R,...O]),R}catch(N){throw console.error("Error adding watermelon purchase to Firestore:",N),N}},[]),d=L.useCallback(async(_,N)=>{const R={...N,id:_};try{const O=Eo(ir,"watermelon_purchases",_);return await _u(O,{...N},{merge:!0}),n(z=>z.map(k=>k.id===_?R:k)),R}catch(O){throw console.error("Error updating watermelon purchase in Firestore:",O),O}},[]),h=L.useCallback(async _=>{try{const N=Eo(ir,"watermelon_purchases",_);await V2(N),n(R=>R.filter(O=>O.id!==_))}catch(N){throw console.error("Error deleting watermelon purchase from Firestore:",N),N}},[]),p=L.useCallback(async _=>{try{const N=await _h(Gi(ir,"watermelon_sales"),_),R={..._,id:N.id};return s(O=>[R,...O]),R}catch(N){throw console.error("Error adding watermelon sale to Firestore:",N),N}},[]),f=L.useCallback(async(_,N)=>{const R={...N,id:_};try{const O=Eo(ir,"watermelon_sales",_);return await _u(O,{...N},{merge:!0}),s(z=>z.map(k=>k.id===_?R:k)),R}catch(O){throw console.error("Error updating watermelon sale in Firestore:",O),O}},[]),b=L.useCallback(async _=>{try{const N=Eo(ir,"watermelon_sales",_);await V2(N),s(R=>R.filter(O=>O.id!==_))}catch(N){throw console.error("Error deleting watermelon sale from Firestore:",N),N}},[]),x=L.useCallback(async _=>{try{const N=await _h(Gi(ir,"partner_payments"),_),R={..._,id:N.id};return o(O=>[R,...O]),R}catch(N){throw console.error("Error adding partner payment to Firestore:",N),N}},[]),w=L.useCallback(async _=>{try{const N=Eo(ir,"partner_payments",_);await V2(N),o(R=>R.filter(O=>O.id!==_))}catch(N){throw console.error("Error deleting partner payment from Firestore:",N),N}},[]),v={purchases:t,sales:r,partnerPayments:i,addPurchase:c,updatePurchase:d,deletePurchase:h,addSale:p,updateSale:f,deleteSale:b,addPartnerPayment:x,deletePartnerPayment:w,loading:a};return u.jsx(GL.Provider,{value:v,children:e})},vS=()=>{const e=L.useContext(GL);if(e===void 0)throw new Error("useWatermelonStore must be used within a WatermelonStoreProvider");return e},xS=L.createContext({});function bS(e){const t=L.useRef(null);return t.current===null&&(t.current=e()),t.current}const KL=typeof window<"u",YL=KL?L.useLayoutEffect:L.useEffect,xv=L.createContext(null);function wS(e,t){e.indexOf(t)===-1&&e.push(t)}function _S(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ka=(e,t,n)=>n>t?t:n<e?e:n;let bv=()=>{},nf=()=>{};const vl={},QL=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function XL(e){return typeof e=="object"&&e!==null}const ZL=e=>/^0[^.\s]+$/u.test(e);function SS(e){let t;return()=>(t===void 0&&(t=e()),t)}const to=e=>e,BX=(e,t)=>n=>t(e(n)),ag=(...e)=>e.reduce(BX),Pm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class NS{constructor(){this.subscriptions=[]}add(t){return wS(this.subscriptions,t),()=>_S(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ba=e=>e*1e3,Zi=e=>e/1e3;function JL(e,t){return t?e*(1e3/t):0}const e8=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,UX=1e-7,zX=12;function $X(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=e8(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>UX&&++a<zX);return o}function lg(e,t,n,r){if(e===t&&n===r)return to;const s=i=>$X(i,0,1,e,n);return i=>i===0||i===1?i:e8(s(i),t,r)}const t8=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,n8=e=>t=>1-e(1-t),r8=lg(.33,1.53,.69,.99),AS=n8(r8),s8=t8(AS),i8=e=>(e*=2)<1?.5*AS(e):.5*(2-Math.pow(2,-10*(e-1))),ES=e=>1-Math.sin(Math.acos(e)),o8=n8(ES),a8=t8(ES),qX=lg(.42,0,1,1),WX=lg(0,0,.58,1),l8=lg(.42,0,.58,1),HX=e=>Array.isArray(e)&&typeof e[0]!="number",c8=e=>Array.isArray(e)&&typeof e[0]=="number",pE={linear:to,easeIn:qX,easeInOut:l8,easeOut:WX,circIn:ES,circInOut:a8,circOut:o8,backIn:AS,backInOut:s8,backOut:r8,anticipate:i8},GX=e=>typeof e=="string",mE=e=>{if(c8(e)){nf(e.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,s]=e;return lg(t,n,r,s)}else if(GX(e))return nf(pE[e]!==void 0,`Invalid easing type '${e}'`,"invalid-easing-type"),pE[e];return e},p0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],gE={value:null,addProjectionMetrics:null};function KX(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),e()),l++,h(a)}const d={schedule:(h,p=!1,f=!1)=>{const x=f&&s?n:r;return p&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),t&&gE.value&&gE.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const YX=40;function u8(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=p0.reduce((N,R)=>(N[R]=KX(i,t?R:void 0),N),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:p,render:f,postRender:b}=o,x=()=>{const N=vl.useManualTiming?s.timestamp:performance.now();n=!1,vl.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,YX),1)),s.timestamp=N,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),p.process(s),f.process(s),b.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(x))},w=()=>{n=!0,r=!0,s.isProcessing||e(x)};return{schedule:p0.reduce((N,R)=>{const O=o[R];return N[R]=(z,k=!1,A=!1)=>(n||w(),O.schedule(z,k,A)),N},{}),cancel:N=>{for(let R=0;R<p0.length;R++)o[p0[R]].cancel(N)},state:s,steps:o}}const{schedule:zn,cancel:Hc,state:Gr,steps:q2}=u8(typeof requestAnimationFrame<"u"?requestAnimationFrame:to,!0);let J0;function QX(){J0=void 0}const js={now:()=>(J0===void 0&&js.set(Gr.isProcessing||vl.useManualTiming?Gr.timestamp:performance.now()),J0),set:e=>{J0=e,queueMicrotask(QX)}},d8=e=>t=>typeof t=="string"&&t.startsWith(e),h8=d8("--"),XX=d8("var(--"),TS=e=>XX(e)?ZX.test(e.split("/*")[0].trim()):!1,ZX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function yE(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Nf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Cm={...Nf,transform:e=>ka(0,1,e)},m0={...Nf,default:1},Up=e=>Math.round(e*1e5)/1e5,PS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JX(e){return e==null}const eZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,CS=(e,t)=>n=>!!(typeof n=="string"&&eZ.test(n)&&n.startsWith(e)||t&&!JX(n)&&Object.prototype.hasOwnProperty.call(n,t)),f8=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(PS);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},tZ=e=>ka(0,255,e),W2={...Nf,transform:e=>Math.round(tZ(e))},Cu={test:CS("rgb","red"),parse:f8("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+W2.transform(e)+", "+W2.transform(t)+", "+W2.transform(n)+", "+Up(Cm.transform(r))+")"};function nZ(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Sw={test:CS("#"),parse:nZ,transform:Cu.transform},cg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xl=cg("deg"),wa=cg("%"),Ze=cg("px"),rZ=cg("vh"),sZ=cg("vw"),vE={...wa,parse:e=>wa.parse(e)/100,transform:e=>wa.transform(e*100)},nh={test:CS("hsl","hue"),parse:f8("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+wa.transform(Up(t))+", "+wa.transform(Up(n))+", "+Up(Cm.transform(r))+")"},vr={test:e=>Cu.test(e)||Sw.test(e)||nh.test(e),parse:e=>Cu.test(e)?Cu.parse(e):nh.test(e)?nh.parse(e):Sw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cu.transform(e):nh.transform(e),getAnimatableNone:e=>{const t=vr.parse(e);return t.alpha=0,vr.transform(t)}},iZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oZ(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(PS))==null?void 0:t.length)||0)+(((n=e.match(iZ))==null?void 0:n.length)||0)>0}const p8="number",m8="color",aZ="var",lZ="var(",xE="${}",cZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function km(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(cZ,l=>(vr.test(l)?(r.color.push(i),s.push(m8),n.push(vr.parse(l))):l.startsWith(lZ)?(r.var.push(i),s.push(aZ),n.push(l)):(r.number.push(i),s.push(p8),n.push(parseFloat(l))),++i,xE)).split(xE);return{values:n,split:a,indexes:r,types:s}}function g8(e){return km(e).values}function y8(e){const{split:t,types:n}=km(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===p8?i+=Up(s[o]):a===m8?i+=vr.transform(s[o]):i+=s[o]}return i}}const uZ=e=>typeof e=="number"?0:vr.test(e)?vr.getAnimatableNone(e):e;function dZ(e){const t=g8(e);return y8(e)(t.map(uZ))}const Gc={test:oZ,parse:g8,createTransformer:y8,getAnimatableNone:dZ};function H2(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hZ({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=H2(l,a,e+1/3),i=H2(l,a,e),o=H2(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function cy(e,t){return n=>n>0?t:e}const Qn=(e,t,n)=>e+(t-e)*n,G2=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},fZ=[Sw,Cu,nh],pZ=e=>fZ.find(t=>t.test(e));function bE(e){const t=pZ(e);if(bv(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===nh&&(n=hZ(n)),n}const wE=(e,t)=>{const n=bE(e),r=bE(t);if(!n||!r)return cy(e,t);const s={...n};return i=>(s.red=G2(n.red,r.red,i),s.green=G2(n.green,r.green,i),s.blue=G2(n.blue,r.blue,i),s.alpha=Qn(n.alpha,r.alpha,i),Cu.transform(s))},Nw=new Set(["none","hidden"]);function mZ(e,t){return Nw.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function gZ(e,t){return n=>Qn(e,t,n)}function kS(e){return typeof e=="number"?gZ:typeof e=="string"?TS(e)?cy:vr.test(e)?wE:xZ:Array.isArray(e)?v8:typeof e=="object"?vr.test(e)?wE:yZ:cy}function v8(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>kS(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function yZ(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=kS(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function vZ(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const xZ=(e,t)=>{const n=Gc.createTransformer(t),r=km(e),s=km(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Nw.has(e)&&!s.values.length||Nw.has(t)&&!r.values.length?mZ(e,t):ag(v8(vZ(r,s),s.values),n):(bv(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),cy(e,t))};function x8(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Qn(e,t,n):kS(e)(e,t)}const bZ=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>zn.update(t,n),stop:()=>Hc(t),now:()=>Gr.isProcessing?Gr.timestamp:js.now()}},b8=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},uy=2e4;function jS(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<uy;)t+=n,r=e.next(t);return t>=uy?1/0:t}function wZ(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(jS(r),uy);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Zi(s)}}const _Z=5;function w8(e,t,n){const r=Math.max(t-_Z,0);return JL(n-e(r),t-r)}const Kn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},K2=.001;function SZ({duration:e=Kn.duration,bounce:t=Kn.bounce,velocity:n=Kn.velocity,mass:r=Kn.mass}){let s,i;bv(e<=ba(Kn.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-t;o=ka(Kn.minDamping,Kn.maxDamping,o),e=ka(Kn.minDuration,Kn.maxDuration,Zi(e)),o<1?(s=c=>{const d=c*o,h=d*e,p=d-n,f=Aw(c,o),b=Math.exp(-h);return K2-p/f*b},i=c=>{const h=c*o*e,p=h*n+n,f=Math.pow(o,2)*Math.pow(c,2)*e,b=Math.exp(-h),x=Aw(Math.pow(c,2),o);return(-s(c)+K2>0?-1:1)*((p-f)*b)/x}):(s=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-K2+d*h},i=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const a=5/e,l=AZ(s,i,a);if(e=ba(e),isNaN(l))return{stiffness:Kn.stiffness,damping:Kn.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const NZ=12;function AZ(e,t,n){let r=n;for(let s=1;s<NZ;s++)r=r-e(r)/t(r);return r}function Aw(e,t){return e*Math.sqrt(1-t*t)}const EZ=["duration","bounce"],TZ=["stiffness","damping","mass"];function _E(e,t){return t.some(n=>e[n]!==void 0)}function PZ(e){let t={velocity:Kn.velocity,stiffness:Kn.stiffness,damping:Kn.damping,mass:Kn.mass,isResolvedFromDuration:!1,...e};if(!_E(e,TZ)&&_E(e,EZ))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ka(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Kn.mass,stiffness:s,damping:i}}else{const n=SZ(e);t={...t,...n,mass:Kn.mass},t.isResolvedFromDuration=!0}return t}function dy(e=Kn.visualDuration,t=Kn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:f}=PZ({...n,velocity:-Zi(n.velocity||0)}),b=p||0,x=c/(2*Math.sqrt(l*d)),w=o-i,v=Zi(Math.sqrt(l/d)),_=Math.abs(w)<5;r||(r=_?Kn.restSpeed.granular:Kn.restSpeed.default),s||(s=_?Kn.restDelta.granular:Kn.restDelta.default);let N;if(x<1){const O=Aw(v,x);N=z=>{const k=Math.exp(-x*v*z);return o-k*((b+x*v*w)/O*Math.sin(O*z)+w*Math.cos(O*z))}}else if(x===1)N=O=>o-Math.exp(-v*O)*(w+(b+v*w)*O);else{const O=v*Math.sqrt(x*x-1);N=z=>{const k=Math.exp(-x*v*z),A=Math.min(O*z,300);return o-k*((b+x*v*w)*Math.sinh(A)+O*w*Math.cosh(A))/O}}const R={calculatedDuration:f&&h||null,next:O=>{const z=N(O);if(f)a.done=O>=h;else{let k=O===0?b:0;x<1&&(k=O===0?ba(b):w8(N,O,z));const A=Math.abs(k)<=r,C=Math.abs(o-z)<=s;a.done=A&&C}return a.value=a.done?o:z,a},toString:()=>{const O=Math.min(jS(R),uy),z=b8(k=>R.next(O*k).value,O,30);return O+"ms "+z},toTransition:()=>{}};return R}dy.applyToOptions=e=>{const t=wZ(e,100,dy);return e.ease=t.ease,e.duration=ba(t.duration),e.type="keyframes",e};function Ew({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],p={done:!1,value:h},f=A=>a!==void 0&&A<a||l!==void 0&&A>l,b=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let x=n*t;const w=h+x,v=o===void 0?w:o(w);v!==w&&(x=v-h);const _=A=>-x*Math.exp(-A/r),N=A=>v+_(A),R=A=>{const C=_(A),M=N(A);p.done=Math.abs(C)<=c,p.value=p.done?v:M};let O,z;const k=A=>{f(p.value)&&(O=A,z=dy({keyframes:[p.value,b(p.value)],velocity:w8(N,A,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:A=>{let C=!1;return!z&&O===void 0&&(C=!0,R(A),k(A)),O!==void 0&&A>=O?z.next(A-O):(!C&&R(A),p)}}}function CZ(e,t,n){const r=[],s=n||vl.mix||x8,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||to:t;a=ag(l,a)}r.push(a)}return r}function kZ(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(nf(i===t.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=CZ(t,r,s),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const p=Pm(e[h],e[h+1],d);return a[h](p)};return n?d=>c(ka(e[0],e[i-1],d)):c}function jZ(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Pm(0,t,r);e.push(Qn(n,1,s))}}function IZ(e){const t=[0];return jZ(t,e.length-1),t}function RZ(e,t){return e.map(n=>n*t)}function LZ(e,t){return e.map(()=>t||l8).splice(0,e.length-1)}function zp({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=HX(r)?r.map(mE):mE(r),i={done:!1,value:t[0]},o=RZ(n&&n.length===t.length?n:IZ(t),e),a=kZ(o,t,{ease:Array.isArray(s)?s:LZ(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const DZ=e=>e!==null;function IS(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(DZ),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const MZ={decay:Ew,inertia:Ew,tween:zp,keyframes:zp,spring:dy};function _8(e){typeof e.type=="string"&&(e.type=MZ[e.type])}class RS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const OZ=e=>e/100;class LS extends RS{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==js.now()&&this.tick(js.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;_8(t);const{type:n=zp,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||zp;l!==zp&&typeof a[0]!="number"&&(this.mixKeyframes=ag(OZ,x8(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=jS(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:f,type:b,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let N=this.currentTime,R=r;if(h){const A=Math.min(this.currentTime,s)/a;let C=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(p==="reverse"?(M=1-M,f&&(M-=f/a)):p==="mirror"&&(R=o)),N=ka(0,1,M)*a}const O=_?{done:!1,value:d[0]}:R.next(N);i&&(O.value=i(O.value));let{done:z}=O;!_&&l!==null&&(z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return k&&b!==Ew&&(O.value=IS(d,this.options,w,this.speed)),x&&x(O.value),k&&this.finish(),O}then(t,n){return this.finished.then(t,n)}get duration(){return Zi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Zi(t)}get time(){return Zi(this.currentTime)}set time(t){var n;t=ba(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(js.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Zi(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=bZ,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(js.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function FZ(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ku=e=>e*180/Math.PI,Tw=e=>{const t=ku(Math.atan2(e[1],e[0]));return Pw(t)},VZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Tw,rotateZ:Tw,skewX:e=>ku(Math.atan(e[1])),skewY:e=>ku(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Pw=e=>(e=e%360,e<0&&(e+=360),e),SE=Tw,NE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),AE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),BZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:NE,scaleY:AE,scale:e=>(NE(e)+AE(e))/2,rotateX:e=>Pw(ku(Math.atan2(e[6],e[5]))),rotateY:e=>Pw(ku(Math.atan2(-e[2],e[0]))),rotateZ:SE,rotate:SE,skewX:e=>ku(Math.atan(e[4])),skewY:e=>ku(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Cw(e){return e.includes("scale")?1:0}function kw(e,t){if(!e||e==="none")return Cw(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=BZ,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=VZ,s=a}if(!s)return Cw(t);const i=r[t],o=s[1].split(",").map(zZ);return typeof i=="function"?i(o):o[i]}const UZ=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return kw(n,t)};function zZ(e){return parseFloat(e.trim())}const Af=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ef=new Set(Af),EE=e=>e===Nf||e===Ze,$Z=new Set(["x","y","z"]),qZ=Af.filter(e=>!$Z.has(e));function WZ(e){const t=[];return qZ.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const fc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>kw(t,"x"),y:(e,{transform:t})=>kw(t,"y")};fc.translateX=fc.x;fc.translateY=fc.y;const zu=new Set;let jw=!1,Iw=!1,Rw=!1;function S8(){if(Iw){const e=Array.from(zu).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=WZ(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Iw=!1,jw=!1,zu.forEach(e=>e.complete(Rw)),zu.clear()}function N8(){zu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Iw=!0)})}function HZ(){Rw=!0,N8(),S8(),Rw=!1}class DS{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(zu.add(this),jw||(jw=!0,zn.read(N8),zn.resolveKeyframes(S8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}FZ(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),zu.delete(this)}cancel(){this.state==="scheduled"&&(zu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GZ=e=>e.startsWith("--");function KZ(e,t,n){GZ(t)?e.style.setProperty(t,n):e.style[t]=n}const YZ=SS(()=>window.ScrollTimeline!==void 0),QZ={};function XZ(e,t){const n=SS(e);return()=>QZ[t]??n()}const A8=XZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bp=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,TE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bp([0,.65,.55,1]),circOut:bp([.55,0,1,.45]),backIn:bp([.31,.01,.66,-.59]),backOut:bp([.33,1.53,.69,.99])};function E8(e,t){if(e)return typeof e=="function"?A8()?b8(e,t):"ease-out":c8(e)?bp(e):Array.isArray(e)?e.map(n=>E8(n,t)||TE.easeOut):TE[e]}function ZZ(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const h=E8(a,s);Array.isArray(h)&&(d.easing=h);const p={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),e.animate(d,p)}function T8(e){return typeof e=="function"&&"applyToOptions"in e}function JZ({type:e,...t}){return T8(e)&&A8()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class eJ extends RS{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,nf(typeof t.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=JZ(t);this.animation=ZZ(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=IS(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):KZ(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Zi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Zi(t)}get time(){return Zi(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ba(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&YZ()?(this.animation.timeline=t,to):n(this)}}const P8={anticipate:i8,backInOut:s8,circInOut:a8};function tJ(e){return e in P8}function nJ(e){typeof e.ease=="string"&&tJ(e.ease)&&(e.ease=P8[e.ease])}const Y2=10;class rJ extends eJ{constructor(t){nJ(t),_8(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new LS({...o,autoplay:!1}),l=Math.max(Y2,js.now()-this.startTime),c=ka(0,Y2,l-Y2);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const PE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Gc.test(e)||e==="0")&&!e.startsWith("url("));function sJ(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function iJ(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=PE(s,t),a=PE(i,t);return bv(o===a,`You are trying to animate ${t} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:sJ(e)||(n==="spring"||T8(n))&&r}function Lw(e){e.duration=0,e.type="keyframes"}const oJ=new Set(["opacity","clipPath","filter","transform"]),aJ=SS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lJ(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return aJ()&&n&&oJ.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const cJ=40;class uJ extends RS{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var b;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=js.now();const p={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},f=(d==null?void 0:d.KeyframeResolver)||DS;this.keyframeResolver=new f(a,(x,w,v)=>this.onKeyframesResolved(x,w,p,!v),l,c,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,r,s){var w,v;this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=js.now(),iJ(t,i,o,a)||((vl.instantAnimations||!l)&&(d==null||d(IS(t,r,n))),t[0]=t[t.length-1],Lw(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>cJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},f=!c&&lJ(p),b=(v=(w=p.motionValue)==null?void 0:w.owner)==null?void 0:v.current,x=f?new rJ({...p,element:b}):new LS(p);x.finished.then(()=>{this.notifyFinished()}).catch(to),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),HZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function C8(e,t,n,r=0,s=1){const i=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}const dJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hJ(e){const t=dJ.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}const fJ=4;function k8(e,t,n=1){nf(n<=fJ,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=hJ(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return QL(o)?parseFloat(o):o}return TS(s)?k8(s,t,n+1):s}const pJ={type:"spring",stiffness:500,damping:25,restSpeed:10},mJ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gJ={type:"keyframes",duration:.8},yJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vJ=(e,{keyframes:t})=>t.length>2?gJ:Ef.has(e)?e.startsWith("scale")?mJ(t[1]):pJ:yJ,xJ=e=>e!==null;function bJ(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(xJ),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}function MS(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function wJ({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const OS=(e,t,n,r={},s,i)=>o=>{const a=MS(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ba(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};wJ(a)||Object.assign(d,vJ(e,d)),d.duration&&(d.duration=ba(d.duration)),d.repeatDelay&&(d.repeatDelay=ba(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Lw(d),d.delay===0&&(h=!0)),(vl.instantAnimations||vl.skipAnimations)&&(h=!0,Lw(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const p=bJ(d.keyframes,a);if(p!==void 0){zn.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new LS(d):new uJ(d)};function CE(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function FS(e,t,n,r){if(typeof t=="function"){const[s,i]=CE(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=CE(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Nh(e,t,n){const r=e.getProps();return FS(r,t,n!==void 0?n:r.custom,e)}const j8=new Set(["width","height","top","left","right","bottom",...Af]),kE=30,_J=e=>!isNaN(parseFloat(e));class SJ{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=js.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=js.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_J(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new NS);const r=this.events[t].add(n);return t==="change"?()=>{r(),zn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kE);return JL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rf(e,t){return new SJ(e,t)}const Dw=e=>Array.isArray(e);function NJ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,rf(n))}function AJ(e){return Dw(e)?e[e.length-1]||0:e}function EJ(e,t){const n=Nh(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=AJ(i[o]);NJ(e,o,a)}}const gs=e=>!!(e&&e.getVelocity);function TJ(e){return!!(gs(e)&&e.add)}function Mw(e,t){const n=e.getValue("willChange");if(TJ(n))return n.add(t);if(!n&&vl.WillChange){const r=new vl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function VS(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const PJ="framerAppearId",I8="data-"+VS(PJ);function R8(e){return e.props[I8]}function CJ({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function L8(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;const l=i==null?void 0:i.reduceMotion;r&&(i=r);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in a){const p=e.getValue(h,e.latestValues[h]??null),f=a[h];if(f===void 0||d&&CJ(d,h))continue;const b={delay:n,...MS(i||{},h)},x=p.get();if(x!==void 0&&!p.isAnimating&&!Array.isArray(f)&&f===x&&!b.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=R8(e);if(N){const R=window.MotionHandoffAnimation(N,h,zn);R!==null&&(b.startTime=R,w=!0)}}Mw(e,h);const v=l??e.shouldReduceMotion;p.start(OS(h,p,f,v&&j8.has(h)?{type:!1}:b,e,w));const _=p.animation;_&&c.push(_)}return o&&Promise.all(c).then(()=>{zn.update(()=>{o&&EJ(e,o)})}),c}function Ow(e,t,n={}){var l;const r=Nh(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(L8(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return kJ(e,t,c,d,h,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function kJ(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Ow(l,t,{...o,delay:n+(typeof r=="function"?0:r)+C8(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function jJ(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Ow(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Ow(e,t,n);else{const s=typeof t=="function"?Nh(e,t,n.custom):t;r=Promise.all(L8(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const IJ={test:e=>e==="auto",parse:e=>e},D8=e=>t=>t.test(e),M8=[Nf,Ze,wa,Xl,sZ,rZ,IJ],jE=e=>M8.find(D8(e));function RJ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ZL(e):!0}const LJ=new Set(["brightness","contrast","saturate","opacity"]);function DJ(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(PS)||[];if(!r)return e;const s=n.replace(r,"");let i=LJ.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const MJ=/\b([a-z-]*)\(.*?\)/gu,Fw={...Gc,getAnimatableNone:e=>{const t=e.match(MJ);return t?t.map(DJ).join(" "):e}},IE={...Nf,transform:Math.round},OJ={rotate:Xl,rotateX:Xl,rotateY:Xl,rotateZ:Xl,scale:m0,scaleX:m0,scaleY:m0,scaleZ:m0,skew:Xl,skewX:Xl,skewY:Xl,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:Cm,originX:vE,originY:vE,originZ:Ze},BS={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,inset:Ze,insetBlock:Ze,insetBlockStart:Ze,insetBlockEnd:Ze,insetInline:Ze,insetInlineStart:Ze,insetInlineEnd:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,paddingBlock:Ze,paddingBlockStart:Ze,paddingBlockEnd:Ze,paddingInline:Ze,paddingInlineStart:Ze,paddingInlineEnd:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,marginBlock:Ze,marginBlockStart:Ze,marginBlockEnd:Ze,marginInline:Ze,marginInlineStart:Ze,marginInlineEnd:Ze,fontSize:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...OJ,zIndex:IE,fillOpacity:Cm,strokeOpacity:Cm,numOctaves:IE},FJ={...BS,color:vr,backgroundColor:vr,outlineColor:vr,fill:vr,stroke:vr,borderColor:vr,borderTopColor:vr,borderRightColor:vr,borderBottomColor:vr,borderLeftColor:vr,filter:Fw,WebkitFilter:Fw},O8=e=>FJ[e];function F8(e,t){let n=O8(e);return n!==Fw&&(n=Gc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const VJ=new Set(["auto","none","0"]);function BJ(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!VJ.has(i)&&km(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=F8(n,s)}class UJ extends DS{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),TS(h))){const p=k8(h,n.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!j8.has(r)||t.length!==2)return;const[s,i]=t,o=jE(s),a=jE(i),l=yE(s),c=yE(i);if(l!==c&&fc[r]){this.needsMeasurement=!0;return}if(o!==a)if(EE(o)&&EE(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else fc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||RJ(t[s]))&&r.push(s);r.length&&BJ(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=fc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function zJ(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e).filter(r=>r!=null)}const V8=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Vw(e){return XL(e)&&"offsetHeight"in e}const{schedule:US,cancel:rce}=u8(queueMicrotask,!1),xo={x:!1,y:!1};function B8(){return xo.x||xo.y}function $J(e){return e==="x"||e==="y"?xo[e]?null:(xo[e]=!0,()=>{xo[e]=!1}):xo.x||xo.y?null:(xo.x=xo.y=!0,()=>{xo.x=xo.y=!1})}function U8(e,t){const n=zJ(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function RE(e){return!(e.pointerType==="touch"||B8())}function qJ(e,t,n={}){const[r,s,i]=U8(e,n),o=a=>{if(!RE(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const d=h=>{RE(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const z8=(e,t)=>t?e===t?!0:z8(e,t.parentElement):!1,zS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,WJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $8(e){return WJ.has(e.tagName)||e.isContentEditable===!0}const e1=new WeakSet;function LE(e){return t=>{t.key==="Enter"&&e(t)}}function Q2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const HJ=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=LE(()=>{if(e1.has(n))return;Q2(n,"down");const s=LE(()=>{Q2(n,"up")}),i=()=>Q2(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function DE(e){return zS(e)&&!B8()}function GJ(e,t,n={}){const[r,s,i]=U8(e,n),o=a=>{const l=a.currentTarget;if(!DE(a))return;e1.add(l);const c=t(l,a),d=(f,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),e1.has(l)&&e1.delete(l),DE(f)&&typeof c=="function"&&c(f,{success:b})},h=f=>{d(f,l===window||l===document||n.useGlobalTarget||z8(l,f.target))},p=f=>{d(f,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Vw(a)&&(a.addEventListener("focus",c=>HJ(c,s)),!$8(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function q8(e){return XL(e)&&"ownerSVGElement"in e}function KJ(e){return q8(e)&&e.tagName==="svg"}const YJ=[...M8,vr,Gc],QJ=e=>YJ.find(D8(e)),ME=()=>({translate:0,scale:1,origin:0,originPoint:0}),rh=()=>({x:ME(),y:ME()}),OE=()=>({min:0,max:0}),Cr=()=>({x:OE(),y:OE()}),Bw={current:null},W8={current:!1},XJ=typeof window<"u";function ZJ(){if(W8.current=!0,!!XJ)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Bw.current=e.matches;e.addEventListener("change",t),t()}else Bw.current=!1}const JJ=new WeakMap;function wv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function jm(e){return typeof e=="string"||Array.isArray(e)}const $S=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qS=["initial",...$S];function _v(e){return wv(e.animate)||qS.some(t=>jm(e[t]))}function H8(e){return!!(_v(e)||e.variants)}function eee(e,t,n){for(const r in t){const s=t[r],i=n[r];if(gs(s))e.addValue(r,s);else if(gs(i))e.addValue(r,rf(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,rf(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const FE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let hy={};function G8(e){hy=e}function tee(){return hy}class nee{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=DS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=js.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,zn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=_v(n),this.isVariantNode=H8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const f=h[p];l[p]!==void 0&&gs(f)&&f.set(l[p])}}mount(t){var n;this.current=t,JJ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(W8.current||ZJ(),this.shouldReduceMotion=Bw.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Hc(this.notifyUpdate),Hc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ef.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&zn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hy){const n=hy[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<FE.length;r++){const s=FE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=eee(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=rf(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(QL(r)||ZL(r))?r=parseFloat(r):!QJ(r)&&Gc.test(n)&&(r=F8(t,n)),this.setBaseTarget(t,gs(r)?r.get():r)),gs(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=FS(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!gs(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new NS),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){US.render(this.render)}}class K8 extends nee{constructor(){super(...arguments),this.KeyframeResolver=UJ}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Jc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Y8({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function ree({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function see(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function X2(e){return e===void 0||e===1}function Uw({scale:e,scaleX:t,scaleY:n}){return!X2(e)||!X2(t)||!X2(n)}function bu(e){return Uw(e)||Q8(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Q8(e){return VE(e.x)||VE(e.y)}function VE(e){return e&&e!=="0%"}function fy(e,t,n){const r=e-n,s=t*r;return n+s}function BE(e,t,n,r,s){return s!==void 0&&(e=fy(e,s,r)),fy(e,n,r)+t}function zw(e,t=0,n=1,r,s){e.min=BE(e.min,t,n,r,s),e.max=BE(e.max,t,n,r,s)}function X8(e,{x:t,y:n}){zw(e.x,t.translate,t.scale,t.originPoint),zw(e.y,n.translate,n.scale,n.originPoint)}const UE=.999999999999,zE=1.0000000000001;function iee(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ih(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,X8(e,o)),r&&bu(i.latestValues)&&ih(e,i.latestValues))}t.x<zE&&t.x>UE&&(t.x=1),t.y<zE&&t.y>UE&&(t.y=1)}function sh(e,t){e.min=e.min+t,e.max=e.max+t}function $E(e,t,n,r,s=.5){const i=Qn(e.min,e.max,s);zw(e,t,n,i,r)}function ih(e,t){$E(e.x,t.x,t.scaleX,t.scale,t.originX),$E(e.y,t.y,t.scaleY,t.scale,t.originY)}function Z8(e,t){return Y8(see(e.getBoundingClientRect(),t))}function oee(e,t,n){const r=Z8(e,n),{scroll:s}=t;return s&&(sh(r.x,s.offset.x),sh(r.y,s.offset.y)),r}const aee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lee=Af.length;function cee(e,t,n){let r="",s=!0;for(let i=0;i<lee;i++){const o=Af[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const c=parseFloat(a);l=o.startsWith("scale")?c===1:c===0}if(!l||n){const c=V8(a,BS[o]);if(!l){s=!1;const d=aee[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function WS(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Ef.has(l)){o=!0;continue}else if(h8(l)){s[l]=c;continue}else{const d=V8(c,BS[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=cee(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}function J8(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function qE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ze.test(e))e=parseFloat(e);else return e;const n=qE(e,t.target.x),r=qE(e,t.target.y);return`${n}% ${r}%`}},uee={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Gc.parse(e);if(s.length>5)return r;const i=Gc.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=Qn(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},$w={borderRadius:{...lp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lp,borderTopRightRadius:lp,borderBottomLeftRadius:lp,borderBottomRightRadius:lp,boxShadow:uee};function eD(e,{layout:t,layoutId:n}){return Ef.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$w[e]||e==="opacity")}function HS(e,t,n){var o;const r=e.style,s=t==null?void 0:t.style,i={};if(!r)return i;for(const a in r)(gs(r[a])||s&&gs(s[a])||eD(a,e)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function dee(e){return window.getComputedStyle(e)}class hee extends K8{constructor(){super(...arguments),this.type="html",this.renderInstance=J8}readValueFromInstance(t,n){var r;if(Ef.has(n))return(r=this.projection)!=null&&r.isProjecting?Cw(n):UZ(t,n);{const s=dee(t),i=(h8(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Z8(t,n)}build(t,n,r){WS(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return HS(t,n,r)}}const fee={offset:"stroke-dashoffset",array:"stroke-dasharray"},pee={offset:"strokeDashoffset",array:"strokeDasharray"};function mee(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?fee:pee;e[i.offset]=`${-r}`,e[i.array]=`${t} ${n}`}const gee=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function tD(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(WS(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const f of gee)h[f]!==void 0&&(p[f]=h[f],delete h[f]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&mee(h,s,i,o,!1)}const nD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),rD=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yee(e,t,n,r){J8(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(nD.has(s)?s:VS(s),t.attrs[s])}function sD(e,t,n){const r=HS(e,t,n);for(const s in e)if(gs(e[s])||gs(t[s])){const i=Af.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}class vee extends K8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ef.has(n)){const r=O8(n);return r&&r.default||0}return n=nD.has(n)?n:VS(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return sD(t,n,r)}build(t,n,r){tD(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){yee(t,n,r,s)}mount(t){this.isSVGTag=rD(t.tagName),super.mount(t)}}const xee=qS.length;function iD(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?iD(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<xee;n++){const r=qS[n],s=e.props[r];(jm(s)||s===!1)&&(t[r]=s)}return t}function oD(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const bee=[...$S].reverse(),wee=$S.length;function _ee(e){return t=>Promise.all(t.map(({animation:n,options:r})=>jJ(e,n,r)))}function See(e){let t=_ee(e),n=WE(),r=!0;const s=l=>(c,d)=>{var p;const h=Nh(e,d,l==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:f,transitionEnd:b,...x}=h;c={...c,...x,...b}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,d=iD(e.parent)||{},h=[],p=new Set;let f={},b=1/0;for(let w=0;w<wee;w++){const v=bee[w],_=n[v],N=c[v]!==void 0?c[v]:d[v],R=jm(N),O=v===l?_.isActive:null;O===!1&&(b=w);let z=N===d[v]&&N!==c[v]&&R;if(z&&r&&e.manuallyAnimateOnMount&&(z=!1),_.protectedKeys={...f},!_.isActive&&O===null||!N&&!_.prevProp||wv(N)||typeof N=="boolean")continue;const k=Nee(_.prevProp,N);let A=k||v===l&&_.isActive&&!z&&R||w>b&&R,C=!1;const M=Array.isArray(N)?N:[N];let P=M.reduce(s(v),{});O===!1&&(P={});const{prevResolvedValues:I={}}=_,E={...I,...P},$=ee=>{A=!0,p.has(ee)&&(C=!0,p.delete(ee)),_.needsAnimating[ee]=!0;const H=e.getValue(ee);H&&(H.liveStyle=!1)};for(const ee in E){const H=P[ee],ne=I[ee];if(f.hasOwnProperty(ee))continue;let oe=!1;Dw(H)&&Dw(ne)?oe=!oD(H,ne):oe=H!==ne,oe?H!=null?$(ee):p.add(ee):H!==void 0&&p.has(ee)?$(ee):_.protectedKeys[ee]=!0}_.prevProp=N,_.prevResolvedValues=P,_.isActive&&(f={...f,...P}),r&&e.blockInitialAnimation&&(A=!1);const Y=z&&k;A&&(!Y||C)&&h.push(...M.map(ee=>{const H={type:v};if(typeof ee=="string"&&r&&!Y&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,oe=Nh(ne,ee);if(ne.enteringChildren&&oe){const{delayChildren:fe}=oe.transition||{};H.delay=C8(ne.enteringChildren,e,fe)}}return{animation:ee,options:H}}))}if(p.size){const w={};if(typeof c.initial!="boolean"){const v=Nh(e,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(w.transition=v.transition)}p.forEach(v=>{const _=e.getBaseTarget(v),N=e.getValue(v);N&&(N.liveStyle=!0),w[v]=_??null}),h.push({animation:w})}let x=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(p=>{var f;return(f=p.animationState)==null?void 0:f.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=WE()}}}function Nee(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oD(t,e):!1}function pu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WE(){return{animate:pu(!0),whileInView:pu(),whileHover:pu(),whileTap:pu(),whileDrag:pu(),whileFocus:pu(),exit:pu()}}function HE(e,t){e.min=t.min,e.max=t.max}function yo(e,t){HE(e.x,t.x),HE(e.y,t.y)}function GE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const aD=1e-4,Aee=1-aD,Eee=1+aD,lD=.01,Tee=0-lD,Pee=0+lD;function Is(e){return e.max-e.min}function Cee(e,t,n){return Math.abs(e-t)<=n}function KE(e,t,n,r=.5){e.origin=r,e.originPoint=Qn(t.min,t.max,e.origin),e.scale=Is(n)/Is(t),e.translate=Qn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Aee&&e.scale<=Eee||isNaN(e.scale))&&(e.scale=1),(e.translate>=Tee&&e.translate<=Pee||isNaN(e.translate))&&(e.translate=0)}function $p(e,t,n,r){KE(e.x,t.x,n.x,r?r.originX:void 0),KE(e.y,t.y,n.y,r?r.originY:void 0)}function YE(e,t,n){e.min=n.min+t.min,e.max=e.min+Is(t)}function kee(e,t,n){YE(e.x,t.x,n.x),YE(e.y,t.y,n.y)}function QE(e,t,n){e.min=t.min-n.min,e.max=e.min+Is(t)}function py(e,t,n){QE(e.x,t.x,n.x),QE(e.y,t.y,n.y)}function XE(e,t,n,r,s){return e-=t,e=fy(e,1/n,r),s!==void 0&&(e=fy(e,1/s,r)),e}function jee(e,t=0,n=1,r=.5,s,i=e,o=e){if(wa.test(t)&&(t=parseFloat(t),t=Qn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Qn(i.min,i.max,r);e===i&&(a-=t),e.min=XE(e.min,t,n,a,s),e.max=XE(e.max,t,n,a,s)}function ZE(e,t,[n,r,s],i,o){jee(e,t[n],t[r],t[s],t.scale,i,o)}const Iee=["x","scaleX","originX"],Ree=["y","scaleY","originY"];function JE(e,t,n,r){ZE(e.x,t,Iee,n?n.x:void 0,r?r.x:void 0),ZE(e.y,t,Ree,n?n.y:void 0,r?r.y:void 0)}function eT(e){return e.translate===0&&e.scale===1}function cD(e){return eT(e.x)&&eT(e.y)}function tT(e,t){return e.min===t.min&&e.max===t.max}function Lee(e,t){return tT(e.x,t.x)&&tT(e.y,t.y)}function nT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uD(e,t){return nT(e.x,t.x)&&nT(e.y,t.y)}function rT(e){return Is(e.x)/Is(e.y)}function sT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function $i(e){return[e("x"),e("y")]}function Dee(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:f,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),f&&(r+=`skewX(${f}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const dD=["TopLeft","TopRight","BottomLeft","BottomRight"],Mee=dD.length,iT=e=>typeof e=="string"?parseFloat(e):e,oT=e=>typeof e=="number"||Ze.test(e);function Oee(e,t,n,r,s,i){s?(e.opacity=Qn(0,n.opacity??1,Fee(r)),e.opacityExit=Qn(t.opacity??1,0,Vee(r))):i&&(e.opacity=Qn(t.opacity??1,n.opacity??1,r));for(let o=0;o<Mee;o++){const a=`border${dD[o]}Radius`;let l=aT(t,a),c=aT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||oT(l)===oT(c)?(e[a]=Math.max(Qn(iT(l),iT(c),r),0),(wa.test(c)||wa.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Qn(t.rotate||0,n.rotate||0,r))}function aT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Fee=hD(0,.5,o8),Vee=hD(.5,.95,to);function hD(e,t,n){return r=>r<e?0:r>t?1:n(Pm(e,t,r))}function Bee(e,t,n){const r=gs(e)?e:rf(e);return r.start(OS("",r,t,n)),r.animation}function Im(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Uee=(e,t)=>e.depth-t.depth;class zee{constructor(){this.children=[],this.isDirty=!1}add(t){wS(this.children,t),this.isDirty=!0}remove(t){_S(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Uee),this.isDirty=!1,this.children.forEach(t)}}function $ee(e,t){const n=js.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Hc(r),e(i-t))};return zn.setup(r,!0),()=>Hc(r)}function t1(e){return gs(e)?e.get():e}class qee{constructor(){this.members=[]}add(t){wS(this.members,t),t.scheduleRender()}remove(t){if(_S(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const s=r.options.layoutDependency,i=t.options.layoutDependency;s!==void 0&&i!==void 0&&s===i||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const n1={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Z2=["","X","Y","Z"],Wee=1e3;let Hee=0;function J2(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function fD(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=R8(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",zn,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&fD(r)}function pD({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Hee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Yee),this.nodes.forEach(Jee),this.nodes.forEach(ete),this.nodes.forEach(Qee)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new zee)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new NS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=q8(o)&&!KJ(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,h=0;const p=()=>this.root.updateBlockedByResize=!1;zn.read(()=>{h=window.innerWidth}),e(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,d&&d(),d=$ee(p,250),n1.hasAnimatedSinceResize&&(n1.hasAnimatedSinceResize=!1,this.nodes.forEach(uT)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||ite,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=c.getProps(),v=!this.targetLayout||!uD(this.targetLayout,f),_=!h&&p;if(this.options.layoutRoot||this.resumeFrom||_||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...MS(b,"layout"),onPlay:x,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(d,_)}else h||uT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tte),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Zee),this.nodes.forEach(Gee),this.nodes.forEach(Kee)):this.nodes.forEach(cT),this.clearAllSnapshots();const a=js.now();Gr.delta=ka(0,1e3/60,a-Gr.timestamp),Gr.timestamp=a,Gr.isProcessing=!0,q2.update.process(Gr),q2.preRender.process(Gr),q2.render.process(Gr),Gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,US.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xee),this.sharedNodes.forEach(nte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Is(this.snapshot.measuredBox.x)&&!Is(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Cr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!cD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||bu(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),ote(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Cr();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(ate))){const{scroll:d}=this.root;d&&(sh(a.x,d.offset.x),sh(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Cr();if(yo(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&yo(a,o),sh(a.x,h.offset.x),sh(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Cr();yo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ih(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),bu(d.latestValues)&&ih(l,d.latestValues)}return bu(this.latestValues)&&ih(l,this.latestValues),l}removeTransform(o){const a=Cr();yo(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!bu(c.latestValues))continue;Uw(c.latestValues)&&c.updateSnapshot();const d=Cr(),h=c.measurePageBox();yo(d,h),JE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return bu(this.latestValues)&&JE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Gr.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cr(),this.targetWithTransforms=Cr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yo(this.target,this.layout.layoutBox),X8(this.target,this.targetDelta)):yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Uw(this.parent.latestValues)||Q8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cr(),this.relativeTargetOrigin=Cr(),py(this.relativeTargetOrigin,a,l),yo(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Gr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;yo(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;iee(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Cr());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GE(this.prevProjectionDelta.x,this.projectionDelta.x),GE(this.prevProjectionDelta.y,this.projectionDelta.y)),$p(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!sT(this.projectionDelta.x,this.prevProjectionDelta.x)||!sT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rh(),this.projectionDelta=rh(),this.projectionDeltaWithTransform=rh()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=rh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Cr(),f=l?l.source:void 0,b=this.layout?this.layout.source:void 0,x=f!==b,w=this.getStack(),v=!w||w.members.length<=1,_=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(ste));this.animationProgress=0;let N;this.mixTargetDelta=R=>{const O=R/1e3;dT(h.x,o.x,O),dT(h.y,o.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(py(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rte(this.relativeTarget,this.relativeTargetOrigin,p,O),N&&Lee(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Cr()),yo(N,this.relativeTarget)),x&&(this.animationValues=d,Oee(d,c,this.latestValues,O,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Hc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zn.update(()=>{n1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=rf(0)),this.currentAnimation=Bee(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Wee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&mD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Cr();const h=Is(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Is(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}yo(a,l),ih(a,d),$p(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qee),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&J2("z",o,c,this.animationValues);for(let d=0;d<Z2.length;d++)J2(`rotate${Z2[d]}`,o,c,this.animationValues),J2(`skew${Z2[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=t1(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=t1(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!bu(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Dee(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:p,y:f}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in $w){if(d[b]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:v}=$w[b],_=h==="none"?d[b]:x(d[b],c);if(w){const N=w.length;for(let R=0;R<N;R++)o[w[R]]=_}else v?this.options.visualElement.renderState.vars[b]=_:o[b]=_}this.options.layoutId&&(o.pointerEvents=c===this?t1(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(lT),this.root.sharedNodes.clear()}}}function Gee(e){e.updateLayout()}function Kee(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?$i(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],f=Is(p);p.min=r[h].min,p.max=p.min+f}):mD(i,t.layoutBox,r)&&$i(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],f=Is(r[h]);p.max=p.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const a=rh();$p(a,r,t.layoutBox);const l=rh();o?$p(l,e.applyTransform(s,!0),t.measuredBox):$p(l,r,t.layoutBox);const c=!cD(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:f}=h;if(p&&f){const b=Cr();py(b,t.layoutBox,p.layoutBox);const x=Cr();py(x,r,f.layoutBox),uD(b,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=b,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Yee(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Qee(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xee(e){e.clearSnapshot()}function lT(e){e.clearMeasurements()}function cT(e){e.isLayoutDirty=!1}function Zee(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function uT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Jee(e){e.resolveTargetDelta()}function ete(e){e.calcProjection()}function tte(e){e.resetSkewAndRotation()}function nte(e){e.removeLeadSnapshot()}function dT(e,t,n){e.translate=Qn(t.translate,0,n),e.scale=Qn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hT(e,t,n,r){e.min=Qn(t.min,n.min,r),e.max=Qn(t.max,n.max,r)}function rte(e,t,n,r){hT(e.x,t.x,n.x,r),hT(e.y,t.y,n.y,r)}function ste(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ite={duration:.45,ease:[.4,0,.1,1]},fT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),pT=fT("applewebkit/")&&!fT("chrome/")?Math.round:to;function mT(e){e.min=pT(e.min),e.max=pT(e.max)}function ote(e){mT(e.x),mT(e.y)}function mD(e,t,n){return e==="position"||e==="preserve-aspect"&&!Cee(rT(t),rT(n),.2)}function ate(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const lte=pD({attachResizeListener:(e,t)=>Im(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),ex={current:void 0},gD=pD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ex.current){const e=new lte({});e.mount(window),e.setOptions({layoutScroll:!0}),ex.current=e}return ex.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),GS=L.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function gT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cte(...e){return t=>{let n=!1;const r=e.map(s=>{const i=gT(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():gT(e[s],null)}}}}function ute(...e){return L.useCallback(cte(...e),e)}class dte extends L.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Vw(r)&&r.offsetWidth||0,i=Vw(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left,o.bottom=i-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function hte({children:e,isPresent:t,anchorX:n,anchorY:r,root:s}){var h;const i=L.useId(),o=L.useRef(null),a=L.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=L.useContext(GS),c=((h=e.props)==null?void 0:h.ref)??(e==null?void 0:e.ref),d=ute(o,c);return L.useInsertionEffect(()=>{const{width:p,height:f,top:b,left:x,right:w,bottom:v}=a.current;if(t||!o.current||!p||!f)return;const _=n==="left"?`left: ${x}`:`right: ${w}`,N=r==="bottom"?`bottom: ${v}`:`top: ${b}`;o.current.dataset.motionPopId=i;const R=document.createElement("style");l&&(R.nonce=l);const O=s??document.head;return O.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${f}px !important;
            ${_}px !important;
            ${N}px !important;
          }
        `),()=>{O.contains(R)&&O.removeChild(R)}},[t]),u.jsx(dte,{isPresent:t,childRef:o,sizeRef:a,children:L.cloneElement(e,{ref:d})})}const fte=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,anchorY:l,root:c})=>{const d=bS(pte),h=L.useId();let p=!0,f=L.useMemo(()=>(p=!1,{id:h,initial:t,isPresent:n,custom:s,onExitComplete:b=>{d.set(b,!0);for(const x of d.values())if(!x)return;r&&r()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[n,d,r]);return i&&p&&(f={...f}),L.useMemo(()=>{d.forEach((b,x)=>d.set(x,!1))},[n]),L.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(e=u.jsx(hte,{isPresent:n,anchorX:a,anchorY:l,root:c,children:e})),u.jsx(xv.Provider,{value:f,children:e})};function pte(){return new Map}function yD(e=!0){const t=L.useContext(xv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=L.useId();L.useEffect(()=>{if(e)return s(i)},[e]);const o=L.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const g0=e=>e.key||"";function yT(e){const t=[];return L.Children.forEach(e,n=>{L.isValidElement(n)&&t.push(n)}),t}const ii=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",anchorY:l="top",root:c})=>{const[d,h]=yD(o),p=L.useMemo(()=>yT(e),[e]),f=o&&!d?[]:p.map(g0),b=L.useRef(!0),x=L.useRef(p),w=bS(()=>new Map),v=L.useRef(new Set),[_,N]=L.useState(p),[R,O]=L.useState(p);YL(()=>{b.current=!1,x.current=p;for(let A=0;A<R.length;A++){const C=g0(R[A]);f.includes(C)?(w.delete(C),v.current.delete(C)):w.get(C)!==!0&&w.set(C,!1)}},[R,f.length,f.join("-")]);const z=[];if(p!==_){let A=[...p];for(let C=0;C<R.length;C++){const M=R[C],P=g0(M);f.includes(P)||(A.splice(C,0,M),z.push(M))}return i==="wait"&&z.length&&(A=z),O(yT(A)),N(p),null}const{forceRender:k}=L.useContext(xS);return u.jsx(u.Fragment,{children:R.map(A=>{const C=g0(A),M=o&&!d?!1:p===R||f.includes(C),P=()=>{if(v.current.has(C))return;if(v.current.add(C),w.has(C))w.set(C,!0);else return;let I=!0;w.forEach(E=>{E||(I=!1)}),I&&(k==null||k(),O(x.current),o&&(h==null||h()),r&&r())};return u.jsx(fte,{isPresent:M,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:M?void 0:P,anchorX:a,anchorY:l,children:A},C)})})},vD=L.createContext({strict:!1}),vT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let xT=!1;function mte(){if(xT)return;const e={};for(const t in vT)e[t]={isEnabled:n=>vT[t].some(r=>!!n[r])};G8(e),xT=!0}function xD(){return mte(),tee()}function gte(e){const t=xD();for(const n in e)t[n]={...t[n],...e[n]};G8(t)}const yte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function my(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yte.has(e)}let bD=e=>!my(e);function vte(e){typeof e=="function"&&(bD=t=>t.startsWith("on")?!my(t):e(t))}try{vte(require("@emotion/is-prop-valid").default)}catch{}function xte(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(bD(s)||n===!0&&my(s)||!t&&!my(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Sv=L.createContext({});function bte(e,t){if(_v(e)){const{initial:n,animate:r}=e;return{initial:n===!1||jm(n)?n:void 0,animate:jm(r)?r:void 0}}return e.inherit!==!1?t:{}}function wte(e){const{initial:t,animate:n}=bte(e,L.useContext(Sv));return L.useMemo(()=>({initial:t,animate:n}),[bT(t),bT(n)])}function bT(e){return Array.isArray(e)?e.join(" "):e}const KS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wD(e,t,n){for(const r in t)!gs(t[r])&&!eD(r,n)&&(e[r]=t[r])}function _te({transformTemplate:e},t){return L.useMemo(()=>{const n=KS();return WS(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Ste(e,t){const n=e.style||{},r={};return wD(r,n,e),Object.assign(r,_te(e,t)),r}function Nte(e,t){const n={},r=Ste(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const _D=()=>({...KS(),attrs:{}});function Ate(e,t,n,r){const s=L.useMemo(()=>{const i=_D();return tD(i,t,rD(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};wD(i,e.style,e),s.style={...i,...s.style}}return s}const Ete=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function YS(e){return typeof e!="string"||e.includes("-")?!1:!!(Ete.indexOf(e)>-1||/[A-Z]/u.test(e))}function Tte(e,t,n,{latestValues:r},s,i=!1,o){const l=(o??YS(e)?Ate:Nte)(t,r,s,e),c=xte(t,typeof e=="string",i),d=e!==L.Fragment?{...c,...l,ref:n}:{},{children:h}=t,p=L.useMemo(()=>gs(h)?h.get():h,[h]);return L.createElement(e,{...d,children:p})}function Pte({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:Cte(n,r,s,e),renderState:t()}}function Cte(e,t,n,r){const s={},i=r(e,{});for(const p in i)s[p]=t1(i[p]);let{initial:o,animate:a}=e;const l=_v(e),c=H8(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!wv(h)){const p=Array.isArray(h)?h:[h];for(let f=0;f<p.length;f++){const b=FS(e,p[f]);if(b){const{transitionEnd:x,transition:w,...v}=b;for(const _ in v){let N=v[_];if(Array.isArray(N)){const R=d?N.length-1:0;N=N[R]}N!==null&&(s[_]=N)}for(const _ in x)s[_]=x[_]}}}return s}const SD=e=>(t,n)=>{const r=L.useContext(Sv),s=L.useContext(xv),i=()=>Pte(e,t,r,s);return n?i():bS(i)},kte=SD({scrapeMotionValuesFromProps:HS,createRenderState:KS}),jte=SD({scrapeMotionValuesFromProps:sD,createRenderState:_D}),Ite=Symbol.for("motionComponentSymbol");function Rte(e,t,n){const r=L.useRef(n);L.useInsertionEffect(()=>{r.current=n});const s=L.useRef(null);return L.useCallback(i=>{var a;i&&((a=e.onMount)==null||a.call(e,i)),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const ND=L.createContext({});function wp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Lte(e,t,n,r,s,i){var v,_;const{visualElement:o}=L.useContext(Sv),a=L.useContext(vD),l=L.useContext(xv),c=L.useContext(GS).reducedMotion,d=L.useRef(null),h=L.useRef(!1);r=r||a.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}),h.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const p=d.current,f=L.useContext(ND);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&Dte(d.current,n,s,f);const b=L.useRef(!1);L.useInsertionEffect(()=>{p&&b.current&&p.update(n,l)});const x=n[I8],w=L.useRef(!!x&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,x))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,x)));return YL(()=>{h.current=!0,p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),w.current&&p.animationState&&p.animationState.animateChanges())}),L.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,x)}),w.current=!1),p.enteringChildren=void 0)}),p}function Dte(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:AD(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&wp(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function AD(e){if(e)return e.options.allowProjection!==!1?e.projection:AD(e.parent)}function tx(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&gte(r);const i=n?n==="svg":YS(e),o=i?jte:kte;function a(c,d){let h;const p={...L.useContext(GS),...c,layoutId:Mte(c)},{isStatic:f}=p,b=wte(c),x=o(c,f);if(!f&&KL){Ote();const w=Fte(p);h=w.MeasureLayout,b.visualElement=Lte(e,x,p,s,w.ProjectionNode,i)}return u.jsxs(Sv.Provider,{value:b,children:[h&&b.visualElement?u.jsx(h,{visualElement:b.visualElement,...p}):null,Tte(e,c,Rte(x,b.visualElement,d),x,f,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=L.forwardRef(a);return l[Ite]=e,l}function Mte({layoutId:e}){const t=L.useContext(xS).id;return t&&e!==void 0?t+"-"+e:e}function Ote(e,t){L.useContext(vD).strict}function Fte(e){const t=xD(),{drag:n,layout:r}=t;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Vte(e,t){if(typeof Proxy>"u")return tx;const n=new Map,r=(i,o)=>tx(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,tx(o,void 0,e,t)),n.get(o))})}const Bte=(e,t)=>t.isSVG??YS(e)?new vee(t):new hee(t,{allowProjection:e!==L.Fragment});class Ute extends Jc{constructor(t){super(t),t.animationState||(t.animationState=See(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();wv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let zte=0;class $te extends Jc{constructor(){super(...arguments),this.id=zte++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const qte={animation:{Feature:Ute},exit:{Feature:$te}};function ug(e){return{point:{x:e.pageX,y:e.pageY}}}const Wte=e=>t=>zS(t)&&e(t,ug(t));function qp(e,t,n,r){return Im(e,t,Wte(n),r)}const ED=({current:e})=>e?e.ownerDocument.defaultView:null,wT=(e,t)=>Math.abs(e-t);function Hte(e,t){const n=wT(e.x,t.x),r=wT(e.y,t.y);return Math.sqrt(n**2+r**2)}const _T=new Set(["auto","scroll"]);class TD{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=f=>{this.handleScroll(f.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=rx(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=Hte(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!x)return;const{point:w}=f,{timestamp:v}=Gr;this.history.push({...w,timestamp:v});const{onStart:_,onMove:N}=this.handlers;b||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,f)},this.handlePointerMove=(f,b)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=nx(b,this.transformPagePoint),zn.update(this.updatePoint,!0)},this.handlePointerUp=(f,b)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=rx(f.type==="pointercancel"?this.lastMoveEventInfo:nx(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,_),w&&w(f,_)},!zS(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=ug(t),c=nx(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Gr;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=n;p&&p(t,rx(c,this.history)),this.removeListeners=ag(qp(this.contextWindow,"pointermove",this.handlePointerMove),qp(this.contextWindow,"pointerup",this.handlePointerUp),qp(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(_T.has(r.overflowX)||_T.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),zn.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Hc(this.updatePoint)}}function nx(e,t){return t?{point:t(e.point)}:e}function ST(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rx({point:e},t){return{point:e,delta:ST(e,PD(t)),offset:ST(e,Gte(t)),velocity:Kte(t,.1)}}function Gte(e){return e[0]}function PD(e){return e[e.length-1]}function Kte(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=PD(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>ba(t)));)n--;if(!r)return{x:0,y:0};const i=Zi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Yte(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Qn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Qn(n,e,r.max):Math.min(e,n)),e}function NT(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Qte(e,{top:t,left:n,bottom:r,right:s}){return{x:NT(e.x,n,s),y:NT(e.y,t,r)}}function AT(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Xte(e,t){return{x:AT(e.x,t.x),y:AT(e.y,t.y)}}function Zte(e,t){let n=.5;const r=Is(e),s=Is(t);return s>r?n=Pm(t.min,t.max-r,e.min):r>s&&(n=Pm(e.min,e.max-s,t.min)),ka(0,1,n)}function Jte(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const qw=.35;function ene(e=qw){return e===!1?e=0:e===!0&&(e=qw),{x:ET(e,"left","right"),y:ET(e,"top","bottom")}}function ET(e,t,n){return{min:TT(e,t),max:TT(e,n)}}function TT(e,t){return typeof e=="number"?e:e[t]||0}const tne=new WeakMap;class nne{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(ug(h).point)):this.pauseAnimation()},o=(h,p)=>{this.stopAnimation();const{drag:f,dragPropagation:b,onDragStart:x}=this.getProps();if(f&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$J(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$i(v=>{let _=this.getAxisMotionValue(v).get()||0;if(wa.test(_)){const{projection:N}=this.visualElement;if(N&&N.layout){const R=N.layout.layoutBox[v];R&&(_=Is(R)*(parseFloat(_)/100))}}this.originPoint[v]=_}),x&&zn.postRender(()=>x(h,p)),Mw(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:f,dragDirectionLock:b,onDirectionLock:x,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=p;if(b&&this.currentDirection===null){this.currentDirection=rne(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,v),this.updateAxis("y",p.point,v),this.visualElement.render(),w&&w(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>$i(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new TD(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:ED(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&zn.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!y0(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Yte(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&wp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Qte(r.layoutBox,t):this.constraints=!1,this.elastic=ene(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&$i(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Jte(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!wp(t))return!1;const r=t.current;nf(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=oee(r,s.root,this.visualElement.getTransformPagePoint());let o=Xte(s.layout.layoutBox,i);if(n){const a=n(ree(o));this.hasMutatedConstraints=!!a,a&&(o=Y8(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=$i(d=>{if(!y0(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=s?200:1e6,f=s?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Mw(this.visualElement,t),r.start(OS(t,r,0,n,this.visualElement,!1))}stopAnimation(){$i(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$i(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){$i(n=>{const{drag:r}=this.getProps();if(!y0(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(t[n]-Qn(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wp(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};$i(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Zte({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$i(o=>{if(!y0(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Qn(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;tne.set(this.visualElement,this);const t=this.visualElement.current,n=qp(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps(),h=l.target,p=h!==t&&$8(h);c&&d&&!p&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();wp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),zn.read(r);const o=Im(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&($i(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=qw,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function y0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function rne(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class sne extends Jc{constructor(t){super(t),this.removeGroupControls=to,this.removeListeners=to,this.controls=new nne(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||to}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const PT=e=>(t,n)=>{e&&zn.postRender(()=>e(t,n))};class ine extends Jc{constructor(){super(...arguments),this.removePointerDownListener=to}onPointerDown(t){this.session=new TD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ED(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:PT(t),onStart:PT(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&zn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=qp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let sx=!1;class one extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),sx&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),n1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,t.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),sx=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||zn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),US.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;sx=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function CD(e){const[t,n]=yD(),r=L.useContext(xS);return u.jsx(one,{...e,layoutGroup:r,switchLayoutGroup:L.useContext(ND),isPresent:t,safeToRemove:n})}const ane={pan:{Feature:ine},drag:{Feature:sne,ProjectionNode:gD,MeasureLayout:CD}};function CT(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&zn.postRender(()=>i(t,ug(t)))}class lne extends Jc{mount(){const{current:t}=this.node;t&&(this.unmount=qJ(t,(n,r)=>(CT(this.node,r,"Start"),s=>CT(this.node,s,"End"))))}unmount(){}}class cne extends Jc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ag(Im(this.node.current,"focus",()=>this.onFocus()),Im(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kT(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&zn.postRender(()=>i(t,ug(t)))}class une extends Jc{mount(){const{current:t}=this.node;t&&(this.unmount=GJ(t,(n,r)=>(kT(this.node,r,"Start"),(s,{success:i})=>kT(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ww=new WeakMap,ix=new WeakMap,dne=e=>{const t=Ww.get(e.target);t&&t(e)},hne=e=>{e.forEach(dne)};function fne({root:e,...t}){const n=e||document;ix.has(n)||ix.set(n,{});const r=ix.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(hne,{root:e,...t})),r[s]}function pne(e,t,n){const r=fne(t);return Ww.set(e,n),r.observe(e),()=>{Ww.delete(e),r.unobserve(e)}}const mne={some:0,all:1};class gne extends Jc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:mne[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return pne(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yne(t,n))&&this.startObserver()}unmount(){}}function yne({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const vne={inView:{Feature:gne},tap:{Feature:une},focus:{Feature:cne},hover:{Feature:lne}},xne={layout:{ProjectionNode:gD,MeasureLayout:CD}},bne={...qte,...vne,...ane,...xne},vn=Vte(bne,Bte),Tf=()=>{const e=new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return u.jsx("header",{className:"bg-white border-b border-slate-100 sticky top-0 z-30",children:u.jsx("div",{className:"container mx-auto px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden border border-slate-100 shadow-sm",children:u.jsx("img",{src:"/sp-logo.jpg",alt:"SP Logo",className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold tracking-tight text-slate-800",children:"Shree Ganesh Fruit Suppliers"}),u.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-semibold text-slate-400 mt-0.5 uppercase tracking-wider",children:[u.jsx(XV,{size:12}),u.jsx("span",{children:e})]})]})]}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-slate-50 rounded-xl border border-slate-100",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-600 flex items-center justify-center text-white text-xs font-bold",children:"A"}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs font-bold text-slate-800",children:"Suhas Patil"}),u.jsx("p",{className:"text-[10px] text-emerald-600 font-bold uppercase tracking-tighter",children:"System Online"})]})]})})]})})})},jT={date:"",quality:"",unitCount:0,weightPerUnit:0,pricePerKg:0,advance:0},kD=({isOpen:e,onClose:t,onAdd:n,onUpdate:r,purchaseToEdit:s})=>{const[i,o]=L.useState({name:"",mobile:"",address:""}),[a,l]=L.useState([]),[c,d]=L.useState(jT),[h,p]=L.useState("cash"),[f,b]=L.useState(0),[x,w]=L.useState(new Date().toISOString().split("T")[0]),[v,_]=L.useState(!1);L.useEffect(()=>{s?(o({name:s.farmer.name,mobile:s.farmer.mobile,address:s.farmer.address}),l(s.items.map(I=>({date:I.date||s.date,quality:I.quality,unitCount:I.unitCount,weightPerUnit:I.weightPerUnit,totalWeight:I.totalWeight,pricePerKg:I.pricePerKg,totalAmount:I.totalAmount,advance:I.advance||0}))),p(s.paymentMethod),b(s.advanceAmount||0),w(s.date)):(o({name:"",mobile:"",address:""}),l([]),b(0),p("cash"),w(new Date().toISOString().split("T")[0]))},[s,e]);const N=c.unitCount*c.weightPerUnit,R=N*c.pricePerKg,O=()=>{!c.quality||c.unitCount<=0||c.weightPerUnit<=0||c.pricePerKg<=0||(l(I=>[...I,{...c,date:c.date||x,totalWeight:N,totalAmount:R,advance:c.advance||0}]),d(jT))},z=I=>{l(E=>E.filter(($,Y)=>Y!==I))},k=L.useMemo(()=>a.reduce((I,E)=>I+E.totalAmount,0),[a]),A=L.useMemo(()=>a.reduce((I,E)=>I+(E.advance||0),0),[a]),C=L.useMemo(()=>f+A,[f,A]),M=L.useMemo(()=>k-C,[k,C]),P=async I=>{if(I.preventDefault(),!(a.length===0||v)){_(!0);try{const E={date:x,farmer:{id:(s==null?void 0:s.farmer.id)||Math.random().toString(36).substr(2,9),...i},items:a.map($=>({...$,id:Math.random().toString(36).substr(2,9)})),totalAmount:k,advanceAmount:C,pendingAmount:M,paymentMethod:h};s&&r?await r(s.id,E):await n(E),t()}catch(E){console.error("Error saving purchase:",E),alert("Failed to save purchase.")}finally{_(!1)}}};return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm transition-opacity",children:u.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-2xl border border-slate-200",children:[u.jsxs("div",{className:"sticky top-0 bg-white z-10 p-6 border-b border-slate-100 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2.5 rounded-xl bg-amber-50 text-amber-600",children:u.jsx(Hy,{className:"w-5 h-5"})}),u.jsx("h2",{className:"text-xl font-bold text-slate-800",children:s?"Edit Purchase Lot":"New Farmer Purchase"})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:u.jsx(Vs,{size:20,className:"text-slate-400"})})]}),u.jsxs("form",{onSubmit:P,className:"p-6 space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1.5 block",children:"Purchase Date"}),u.jsx("input",{required:!0,type:"date",value:x,onChange:I=>w(I.target.value),className:"input-premium"})]}),u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1.5 block",children:"Farmer Name"}),u.jsx("input",{required:!0,type:"text",value:i.name,onChange:I=>o(E=>({...E,name:I.target.value})),className:"input-premium",placeholder:"e.g. Rajesh Kumar"})]}),u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1.5 block",children:"Mobile"}),u.jsx("input",{required:!0,type:"tel",value:i.mobile,onChange:I=>o(E=>({...E,mobile:I.target.value})),className:"input-premium",placeholder:"9876543210"})]}),u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1.5 block",children:"Address"}),u.jsx("input",{required:!0,type:"text",value:i.address,onChange:I=>o(E=>({...E,address:I.target.value})),className:"input-premium",placeholder:"Village/City"})]})]}),u.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[u.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4",children:"Add Items to Lot"}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-3 mb-2",children:[u.jsx("input",{type:"text",placeholder:"Quality",value:c.quality,onChange:I=>d(E=>({...E,quality:I.target.value})),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Unit Count",value:c.unitCount||"",onChange:I=>d(E=>({...E,unitCount:parseFloat(I.target.value)||0})),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Crate Wt",value:c.weightPerUnit||"",onChange:I=>d(E=>({...E,weightPerUnit:parseFloat(I.target.value)||0})),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Price/Kg",value:c.pricePerKg||"",onChange:I=>d(E=>({...E,pricePerKg:parseFloat(I.target.value)||0})),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Advance",value:c.advance||"",onChange:I=>d(E=>({...E,advance:parseFloat(I.target.value)||0})),className:"input-premium text-sm"}),u.jsxs("button",{type:"button",onClick:O,className:"bg-emerald-600 text-white rounded-lg flex items-center justify-center hover:bg-emerald-700 transition-all font-bold",children:[u.jsx(Rr,{size:20})," Add"]})]})]}),u.jsx("div",{className:"border border-slate-100 rounded-xl overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold uppercase text-[10px]",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3",children:"Item"}),u.jsx("th",{className:"p-3",children:"Qty"}),u.jsx("th",{className:"p-3",children:"Wt"}),u.jsx("th",{className:"p-3",children:"Rate"}),u.jsx("th",{className:"p-3 text-right",children:"Total"}),u.jsx("th",{className:"p-3 text-right",children:"Adv"}),u.jsx("th",{className:"p-3 w-10"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map((I,E)=>u.jsxs("tr",{children:[u.jsx("td",{className:"p-3 font-bold text-slate-800",children:I.quality}),u.jsx("td",{className:"p-3 text-slate-600",children:I.unitCount}),u.jsxs("td",{className:"p-3 text-slate-600",children:[I.weightPerUnit," kg"]}),u.jsxs("td",{className:"p-3 text-slate-600",children:["",I.pricePerKg]}),u.jsxs("td",{className:"p-3 text-right font-bold text-slate-900",children:["",I.totalAmount.toLocaleString()]}),u.jsxs("td",{className:"p-3 text-right text-amber-600",children:["",I.advance.toLocaleString()]}),u.jsx("td",{className:"p-3",children:u.jsx("button",{type:"button",onClick:()=>z(E),className:"text-rose-500 hover:bg-rose-50 p-1.5 rounded-lg transition-colors",children:u.jsx(ms,{size:16})})})]},E))})]})}),u.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between p-6 bg-slate-50 rounded-2xl border border-slate-100 gap-6",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("label",{className:`cursor-pointer px-6 py-2 rounded-xl text-sm font-bold border-2 transition-all ${h==="cash"?"bg-emerald-600 border-emerald-600 text-white shadow-lg":"bg-white border-slate-200 text-slate-400"}`,children:[u.jsx("input",{type:"radio",className:"hidden",name:"pay",checked:h==="cash",onChange:()=>p("cash")})," Cash"]}),u.jsxs("label",{className:`cursor-pointer px-6 py-2 rounded-xl text-sm font-bold border-2 transition-all ${h==="online"?"bg-emerald-600 border-emerald-600 text-white shadow-lg":"bg-white border-slate-200 text-slate-400"}`,children:[u.jsx("input",{type:"radio",className:"hidden",name:"pay",checked:h==="online",onChange:()=>p("online")})," Online"]})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Grand Total"}),u.jsxs("p",{className:"text-4xl font-black text-slate-900 tracking-tight",children:["",k.toLocaleString()]})]})]}),u.jsx("button",{type:"submit",disabled:a.length===0||v,className:"w-full btn-primary py-4 text-xl shadow-xl hover:shadow-emerald-500/20",children:v?"Processing...":s?"Update Lot":"Confirm Purchase"})]})]})}):null},ox={quality:"",unitCount:0,weightPerUnit:0,pricePerKg:0,itemCharge:0},v0=[{type:"labour",label:"Labour",defaultRate:50},{type:"paper",label:"Paper",defaultRate:250},{type:"rassi",label:"Rassi (Rope)",defaultRate:50},{type:"tape",label:"Tape",defaultRate:30},{type:"crate",label:"Crate",defaultRate:50},{type:"commission",label:"Commission",defaultRate:20}],jD=({isOpen:e,onClose:t,onAdd:n,onUpdate:r,saleToEdit:s,sales:i=[]})=>{var ce,he;const[o,a]=L.useState(new Date().toISOString().split("T")[0]),[l,c]=L.useState({name:"",mobile:"",address:""}),[d,h]=L.useState([]),[p,f]=L.useState(ox),[b,x]=L.useState(v0.map(ie=>({type:ie.type,label:ie.label,quantity:0,rate:ie.defaultRate,totalAmount:0}))),[w,v]=L.useState(0),[_,N]=L.useState("cash"),[R,O]=L.useState(!1),[z,k]=L.useState(!1),[A,C]=L.useState(!0);L.useEffect(()=>{e&&s?(C(!1),a(s.date),c(s.buyer||{name:s.customerName||"",mobile:"",address:""}),s.items&&s.items.length>0?h(s.items.map(ie=>({...ie,itemCharge:ie.itemCharge||0}))):h([]),s.additions&&s.additions.length>0?x(s.additions):x(v0.map(ie=>({type:ie.type,label:ie.label,quantity:0,rate:ie.defaultRate,totalAmount:0}))),v(s.receivedAmount||0),N(s.paymentMethod)):e&&!s&&(C(!0),a(new Date().toISOString().split("T")[0]),c({name:"",mobile:"",address:""}),h([]),f(ox),v(0),x(v0.map(ie=>({type:ie.type,label:ie.label,quantity:0,rate:ie.defaultRate,totalAmount:0}))))},[e,s]);const M=L.useMemo(()=>!l.mobile||l.mobile.length<10?[]:i.filter(ie=>{var de;return((de=ie.buyer)==null?void 0:de.mobile)===l.mobile&&ie.id!==(s==null?void 0:s.id)}).sort((ie,de)=>new Date(de.date).getTime()-new Date(ie.date).getTime()),[l.mobile,i,s]),P=L.useMemo(()=>{if(s){const ie=b.reduce((Pe,Me)=>Pe+Me.totalAmount,0),_e=d.reduce((Pe,Me)=>Pe+Me.totalAmount,0)+ie;return{date:o,items:d,additions:b,totalAdditions:ie,totalAmount:_e,receivedAmount:w,pendingAmount:_e-w,role:"current"}}else if(M.length>0){const ie=M[0];return{date:ie.date,items:ie.items,additions:ie.additions,totalAdditions:ie.totalAdditions,totalAmount:ie.totalAmount,receivedAmount:ie.receivedAmount||0,pendingAmount:ie.pendingAmount||0,role:"history"}}return null},[s,M,d,b,o,w]),I=L.useMemo(()=>M.reduce((ie,de)=>ie+(de.pendingAmount||0),0),[M]);L.useEffect(()=>{if(!s&&l.mobile.length>=10&&M.length>0){const ie=M[0];ie.buyer&&(c(de=>({...de,name:ie.buyer.name||de.name,address:ie.buyer.address||de.address})),C(!1),k(!0))}},[l.mobile,M,s]);const E=p.unitCount*p.weightPerUnit,$=p.itemCharge||0,Y=E*p.pricePerKg+$,ae=()=>{!p.quality||p.unitCount<=0||p.weightPerUnit<=0||p.pricePerKg<=0||(h(ie=>[...ie,{...p,itemCharge:$,totalWeight:E,totalAmount:Y}]),f(ox))},ee=ie=>{h(de=>de.filter((_e,Pe)=>Pe!==ie))},H=(ie,de,_e)=>{x(Pe=>Pe.map((Me,Oe)=>{if(Oe!==ie)return Me;const $e={...Me,[de]:_e};return{...$e,totalAmount:$e.quantity*$e.rate}}))},ne=()=>{!A&&!s&&(h([]),x(v0.map(ie=>({type:ie.type,label:ie.label,quantity:0,rate:ie.defaultRate,totalAmount:0}))),v(0)),C(!0)},oe=L.useMemo(()=>d.reduce((ie,de)=>ie+de.totalAmount,0),[d]),fe=L.useMemo(()=>b.reduce((ie,de)=>ie+de.totalAmount,0),[b]),V=oe+fe,Q=V-w,Z=I+Q,le=async ie=>{if(ie.preventDefault(),!(d.length===0&&A||R)){O(!0);try{const de={date:o,buyer:l,items:d.map(_e=>({..._e,id:_e.id||Math.random().toString(36).substr(2,9)})),additions:b.map(_e=>({..._e,id:_e.id||Math.random().toString(36).substr(2,9)})),totalItemAmount:oe,totalAdditions:fe,totalAmount:V,receivedAmount:w,pendingAmount:Q,paymentMethod:_};s&&r?await r(s.id,de):await n(de),t()}catch(de){console.error("Error saving sale:",de),alert("Failed to save sale. Please try again.")}finally{O(!1)}}};return u.jsx(ii,{children:e&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx(vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-foreground/20 backdrop-blur-sm"}),u.jsx(vn.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"glass-card p-4 sm:p-6 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-xl bg-success/10 text-success",children:u.jsx(Dp,{className:"w-5 h-5"})}),u.jsx("h2",{className:"text-xl font-display font-bold text-foreground",children:s?"Edit Sale":"New Sale"})]}),!A&&u.jsxs(vn.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},type:"button",onClick:ne,className:"ml-auto mr-4 flex items-center gap-2 bg-primary text-primary-foreground py-2 px-4 rounded-lg font-bold shadow-lg hover:bg-primary/90 transition-all active:scale-95",children:[s?u.jsx(cB,{className:"w-4 h-4"}):u.jsx(tB,{className:"w-5 h-5"}),s?"Edit Items & Charges":"Create New Invoice"]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:u.jsx(Vs,{className:"w-5 h-5 text-muted-foreground"})})]}),u.jsxs("form",{onSubmit:le,className:"space-y-6",children:[u.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl space-y-4",children:[u.jsxs("h3",{className:"font-semibold flex items-center justify-between gap-2",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(bj,{className:"w-4 h-4"})," Buyer / Businessman Profile"]}),M.length>0&&u.jsxs("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full font-medium",children:[M.length," Past Visits"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Mobile Number (Check History)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Oc,{className:"w-3.5 h-3.5 absolute left-3 top-3 text-muted-foreground"}),u.jsx("input",{required:!0,type:"tel",value:l.mobile,onChange:ie=>c(de=>({...de,mobile:ie.target.value})),className:"input-premium py-2 pl-9",placeholder:"Enter to Search..."})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs font-medium text-muted-foreground mb-1 flex items-center gap-1",children:[u.jsx(Ti,{className:"w-3.5 h-3.5"}),"Sale Date"]}),u.jsx("input",{required:!0,type:"date",value:o,onChange:ie=>a(ie.target.value),className:"input-premium py-2 w-full",disabled:!A})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Full Name"}),u.jsx("input",{required:!0,type:"text",value:l.name,onChange:ie=>c(de=>({...de,name:ie.target.value})),className:"input-premium py-2",placeholder:"Buyer Name",readOnly:!A})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Mc,{className:"w-3.5 h-3.5 absolute left-3 top-3 text-muted-foreground"}),u.jsx("input",{required:!0,type:"text",value:l.address,onChange:ie=>c(de=>({...de,address:ie.target.value})),className:"input-premium py-2 pl-9",placeholder:"Location",readOnly:!A})]})]})]}),!A&&P&&u.jsxs(vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border rounded-xl p-4 bg-muted/10",children:[u.jsxs("h4",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground mb-3 flex items-center gap-2",children:[u.jsx(Xm,{className:"w-4 h-4"}),P.role==="current"?"Current Invoice Preview":`Last Sale (${new Date(P.date).toLocaleDateString()}) Reference`]}),u.jsx("div",{className:"bg-card rounded-lg border border-border overflow-hidden mb-3",children:u.jsxs("table",{className:"w-full text-xs text-left",children:[u.jsx("thead",{className:"bg-muted text-muted-foreground font-semibold",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-2",children:"Quality"}),u.jsx("th",{className:"p-2 text-right",children:"Total Kg"}),u.jsx("th",{className:"p-2 text-right",children:"Rate"}),u.jsx("th",{className:"p-2 text-right text-warning",children:"Add. Charge"}),u.jsx("th",{className:"p-2 text-right",children:"Amount"})]})}),u.jsxs("tbody",{className:"divide-y divide-border/50",children:[P.items&&P.items.map((ie,de)=>{const Pe=P.items.length===1?P.totalAdditions:0,Oe=(ie.itemCharge||0)+Pe,$e=ie.totalAmount+Pe;return u.jsxs("tr",{children:[u.jsx("td",{className:"p-2",children:ie.quality}),u.jsxs("td",{className:"p-2 text-right",children:[ie.totalWeight," kg"]}),u.jsxs("td",{className:"p-2 text-right",children:["",ie.pricePerKg]}),u.jsx("td",{className:"p-2 text-right text-warning font-medium",children:Oe>0?`${Oe.toLocaleString()}`:"-"}),u.jsxs("td",{className:"p-2 text-right font-medium",children:["",$e.toLocaleString()]})]},de)}),u.jsxs("tr",{className:"bg-muted/10 font-bold border-t border-border",children:[u.jsx("td",{className:"p-2",children:"Total"}),u.jsxs("td",{className:"p-2 text-right",children:[(ce=P.items)==null?void 0:ce.reduce((ie,de)=>ie+(de.totalWeight||0),0)," kg"]}),u.jsx("td",{className:"p-2 text-right",children:"-"}),u.jsxs("td",{className:"p-2 text-right text-warning",children:["",(P.totalAdditions+(((he=P.items)==null?void 0:he.reduce((ie,de)=>ie+(de.itemCharge||0),0))||0)).toLocaleString()]}),u.jsxs("td",{className:"p-2 text-right text-lg",children:["",P.totalAmount.toLocaleString()]})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-3 bg-card rounded-lg border border-border mt-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-wider flex items-center gap-1",children:[u.jsx(wj,{className:"w-3 h-3 text-success"})," Advance/Paid"]}),u.jsxs("div",{className:"text-sm font-bold text-success",children:["",(P.receivedAmount||0).toLocaleString()]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-wider flex items-center gap-1",children:[u.jsx(dl,{className:"w-3 h-3 text-destructive"})," Current Pending"]}),u.jsxs("div",{className:"text-sm font-bold text-destructive",children:["",(P.pendingAmount||0).toLocaleString()]})]}),P.role==="current"&&I>0&&u.jsxs("div",{className:"col-span-2 space-y-1 bg-destructive/5 p-1 px-2 rounded border border-destructive/10",children:[u.jsxs("span",{className:"text-[10px] text-destructive uppercase font-black tracking-wider flex items-center gap-1",children:[u.jsx(YV,{className:"w-3 h-3"})," Total Outstanding Balance"]}),u.jsxs("div",{className:"text-base font-black text-destructive",children:["",(P.pendingAmount+I).toLocaleString()]})]})]})]}),!A&&M.length>0&&u.jsxs("div",{className:"border-t border-border pt-4 mt-2",children:[u.jsxs("button",{type:"button",onClick:()=>k(!z),className:"flex items-center gap-2 text-sm font-medium text-primary w-full justify-between mb-2 group",children:[u.jsxs("span",{className:"flex items-center gap-2 group-hover:underline",children:[z?u.jsx(sB,{className:"w-4 h-4"}):u.jsx(iB,{className:"w-4 h-4"}),z?"Hide":"Show"," Full History Ledger"]}),u.jsxs("span",{className:"text-destructive font-bold",children:["Outstanding: ",I.toLocaleString()]})]}),z&&u.jsx("div",{className:"mt-2 bg-card rounded-lg border border-border overflow-hidden shadow-sm",children:u.jsxs("table",{className:"w-full text-xs text-left text-muted-foreground",children:[u.jsx("thead",{className:"bg-muted text-foreground font-semibold",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3",children:"Date"}),u.jsx("th",{className:"p-3 text-right",children:"Items (Kg)"}),u.jsx("th",{className:"p-3 text-right",children:"Add. Charges"}),u.jsx("th",{className:"p-3 text-right",children:"Bill Total"}),u.jsx("th",{className:"p-3 text-right",children:"Pending"})]})}),u.jsx("tbody",{className:"divide-y divide-border/50",children:M.map(ie=>{var Me;const de=ie.totalItemAmount||ie.totalAmount,_e=ie.totalAdditions||0,Pe=((Me=ie.items)==null?void 0:Me.reduce((Oe,$e)=>Oe+($e.totalWeight||0),0))||0;return u.jsxs("tr",{className:"hover:bg-muted/10 transition-colors",children:[u.jsx("td",{className:"p-3 font-medium text-foreground",children:new Date(ie.date).toLocaleDateString()}),u.jsxs("td",{className:"p-3 text-right",children:[Pe>0?`${Pe} kg`:"-"," (",de.toLocaleString(),")"]}),u.jsxs("td",{className:"p-3 text-right text-warning font-semibold",children:["",_e.toLocaleString()]}),u.jsxs("td",{className:"p-3 text-right font-bold text-foreground",children:["",ie.totalAmount.toLocaleString()]}),u.jsxs("td",{className:"p-3 text-right text-destructive font-bold",children:["",ie.pendingAmount.toLocaleString()]})]},ie.id)})})]})})]})]}),u.jsx(ii,{children:A&&u.jsxs(vn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-6 overflow-hidden",children:[u.jsxs("div",{className:"bg-card/50 rounded-xl border border-border overflow-hidden",children:[u.jsxs("div",{className:"p-4 border-b border-border font-semibold flex items-center justify-between",children:[u.jsx("span",{children:"Items (Grapes)"}),u.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Total: ",oe.toLocaleString()]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"bg-muted/50 text-muted-foreground font-medium",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3",children:"Quality"}),u.jsx("th",{className:"p-3",children:"Unit"}),u.jsx("th",{className:"p-3",children:"Wt/Unit"}),u.jsx("th",{className:"p-3",children:"Total Kg"}),u.jsx("th",{className:"p-3",children:"Rate/Kg"}),u.jsx("th",{className:"p-3 text-right text-warning",children:"Add. Charge"}),u.jsx("th",{className:"p-3 text-right",children:"Amount"}),u.jsx("th",{className:"p-3 w-10"})]})}),u.jsxs("tbody",{className:"divide-y divide-border",children:[d.map((ie,de)=>u.jsxs("tr",{className:"bg-card/50",children:[u.jsx("td",{className:"p-3 font-medium",children:ie.quality}),u.jsx("td",{className:"p-3",children:ie.unitCount}),u.jsxs("td",{className:"p-3",children:[ie.weightPerUnit," kg"]}),u.jsxs("td",{className:"p-3",children:[ie.totalWeight," kg"]}),u.jsxs("td",{className:"p-3",children:["",ie.pricePerKg]}),u.jsx("td",{className:"p-3 text-right text-warning",children:ie.itemCharge?`${ie.itemCharge}`:"-"}),u.jsxs("td",{className:"p-3 text-right font-bold",children:["",ie.totalAmount.toLocaleString()]}),u.jsx("td",{className:"p-3 text-center",children:u.jsx("button",{type:"button",onClick:()=>ee(de),className:"text-destructive hover:opacity-80",children:u.jsx(ms,{className:"w-4 h-4"})})})]},de)),u.jsxs("tr",{className:"bg-primary/5",children:[u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"text",placeholder:"Quality",className:"w-full bg-transparent border-b border-border focus:border-primary focus:outline-none p-1",value:p.quality,onChange:ie=>f(de=>({...de,quality:ie.target.value}))})}),u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-transparent border-b border-border focus:border-primary focus:outline-none p-1",value:p.unitCount||"",onChange:ie=>f(de=>({...de,unitCount:parseFloat(ie.target.value)||0}))})}),u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-transparent border-b border-border focus:border-primary focus:outline-none p-1",value:p.weightPerUnit||"",onChange:ie=>f(de=>({...de,weightPerUnit:parseFloat(ie.target.value)||0}))})}),u.jsx("td",{className:"p-3 text-muted-foreground",children:E>0?`${E} kg`:"-"}),u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-transparent border-b border-border focus:border-primary focus:outline-none p-1",value:p.pricePerKg||"",onChange:ie=>f(de=>({...de,pricePerKg:parseFloat(ie.target.value)||0}))})}),u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-transparent border-b border-border focus:border-primary focus:outline-none p-1 text-right text-warning font-medium placeholder:text-warning/30",value:p.itemCharge||"",onChange:ie=>f(de=>({...de,itemCharge:parseFloat(ie.target.value)||0}))})}),u.jsx("td",{className:"p-3 text-right font-medium text-primary",children:Y>0?`${Y.toLocaleString()}`:"-"}),u.jsx("td",{className:"p-2 text-center",children:u.jsx("button",{type:"button",onClick:ae,disabled:!p.quality||p.unitCount<=0,className:"p-1.5 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50",children:u.jsx(Rr,{className:"w-4 h-4"})})})]})]})]})})]}),u.jsxs("div",{className:"bg-warning/5 rounded-xl border border-warning/10 overflow-hidden",children:[u.jsxs("div",{className:"p-4 border-b border-warning/10 font-semibold flex items-center justify-between text-warning-foreground",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(QV,{className:"w-4 h-4"})," Additional Charges (Global)"]}),u.jsxs("span",{children:["Total: ",fe.toLocaleString()]})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-medium text-muted-foreground uppercase mb-2 px-2",children:[u.jsx("div",{className:"col-span-4",children:"Type"}),u.jsx("div",{className:"col-span-3 text-center",children:"Qty"}),u.jsx("div",{className:"col-span-3 text-center",children:"Rate"}),u.jsx("div",{className:"col-span-2 text-right",children:"Total"})]}),b.map((ie,de)=>u.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center px-2 py-1 rounded hover:bg-white/50",children:[u.jsx("div",{className:"col-span-4 font-medium",children:ie.label}),u.jsx("div",{className:"col-span-3",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-white border border-border rounded px-2 py-1 text-center",value:ie.quantity||"",onChange:_e=>H(de,"quantity",parseFloat(_e.target.value)||0)})}),u.jsx("div",{className:"col-span-3",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-white border border-border rounded px-2 py-1 text-center",value:ie.rate||"",onChange:_e=>H(de,"rate",parseFloat(_e.target.value)||0)})}),u.jsx("div",{className:"col-span-2 text-right font-medium",children:ie.totalAmount>0?`${ie.totalAmount}`:"-"})]},ie.type))]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex gap-2 p-1 bg-muted rounded-lg",children:[u.jsx("button",{type:"button",onClick:()=>N("cash"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${_==="cash"?"bg-background shadow text-foreground":"text-muted-foreground"}`,children:"Cash"}),u.jsx("button",{type:"button",onClick:()=>N("online"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${_==="online"?"bg-background shadow text-foreground":"text-muted-foreground"}`,children:"Online"})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-card p-4 rounded-xl border border-border space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Items Total (Incl. Item Charges)"}),u.jsxs("span",{className:"font-medium",children:["",oe.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Additional Charges (Global)"}),u.jsxs("span",{className:"font-medium text-warning-foreground",children:["+ ",fe.toLocaleString()]})]}),u.jsx("div",{className:"h-px bg-border my-2"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-bold",children:"Current Bill Total"}),u.jsxs("span",{className:"text-xl font-bold font-display",children:["",V.toLocaleString()]})]}),I>0&&u.jsxs("div",{className:"flex justify-between items-center pt-2 mt-2 border-t border-dashed border-border text-destructive",children:[u.jsx("span",{className:"text-sm font-medium",children:"Previous Balance (Old)"}),u.jsxs("span",{className:"font-semibold",children:["+ ",I.toLocaleString()]})]}),I>0&&u.jsxs("div",{className:"flex justify-between items-center bg-destructive/5 p-2 rounded",children:[u.jsx("span",{className:"font-bold text-destructive",children:"Total Outstanding"}),u.jsxs("span",{className:"text-xl font-bold text-destructive",children:["",(V+I).toLocaleString()]})]})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-primary/5 border border-primary/20 space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium block mb-1",children:"Received Amount (For current bill)"}),u.jsxs("div",{className:"relative",children:[u.jsx(dl,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"}),u.jsx("input",{type:"number",value:w||"",onChange:ie=>v(parseFloat(ie.target.value)||0),className:"input-premium pl-9 w-full",placeholder:"Amount Received"})]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-primary/10",children:[u.jsx("span",{className:"text-sm font-semibold",children:"Net Balance Carry Forward"}),u.jsxs("span",{className:"text-lg font-bold text-destructive",children:["",Z.toLocaleString()]})]})]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsxs("button",{type:"submit",disabled:d.length===0||R,className:"w-full btn-primary py-3 text-lg flex items-center justify-center gap-2",children:[R?u.jsx("span",{className:"animate-spin",children:"..."}):u.jsx(ma,{className:"w-5 h-5"}),R?s?"Updating...":"Saving...":s?"Update Sale Invoice":"Create Sale Invoice"]})})]})})]})]})})]})})},ID=({isOpen:e,onClose:t,onAdd:n})=>{const[r,s]=L.useState({type:"labour",description:"",amount:"",paymentMethod:"cash"}),[i,o]=L.useState(!1),a=async c=>{if(c.preventDefault(),!i){o(!0);try{await n({...r,date:new Date().toISOString().split("T")[0],amount:parseFloat(r.amount)}),s({type:"labour",description:"",amount:"",paymentMethod:"cash"}),t()}catch(d){console.error("Error saving expense:",d),alert("Failed to save expense. Please try again.")}finally{o(!1)}}},l=[{value:"labour",label:"Labour",icon:Gh,color:"text-primary"},{value:"petrol",label:"Petrol",icon:oB,color:"text-warning"},{value:"other",label:"Other",icon:rB,color:"text-muted-foreground"}];return u.jsx(ii,{children:e&&u.jsxs(u.Fragment,{children:[u.jsx(vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-foreground/20 backdrop-blur-sm z-50"}),u.jsx(vn.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100%-2rem)] sm:w-full max-w-lg z-50 max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"glass-card p-4 sm:p-6 m-2 sm:m-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[u.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg sm:rounded-xl bg-destructive/10 text-destructive flex-shrink-0",children:u.jsx(Nc,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),u.jsx("h2",{className:"text-lg sm:text-xl font-display font-bold text-foreground truncate",children:"Add Expense"})]}),u.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 rounded-lg hover:bg-muted transition-colors flex-shrink-0",children:u.jsx(Vs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-muted-foreground"})})]}),u.jsxs("form",{onSubmit:a,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Expense Type"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.map(c=>{const d=c.icon;return u.jsxs("button",{type:"button",onClick:()=>s(h=>({...h,type:c.value})),className:`flex flex-col items-center gap-2 px-4 py-3 rounded-xl border-2 transition-all ${r.type===c.value?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:[u.jsx(d,{className:`w-5 h-5 ${r.type===c.value?c.color:"text-muted-foreground"}`}),u.jsx("span",{className:`text-sm font-medium ${r.type===c.value?"text-foreground":"text-muted-foreground"}`,children:c.label})]},c.value)})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),u.jsx("input",{type:"text",required:!0,value:r.description,onChange:c=>s(d=>({...d,description:c.target.value})),className:"input-premium",placeholder:"Enter description"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Amount ()"}),u.jsx("input",{type:"number",required:!0,min:"1",value:r.amount,onChange:c=>s(d=>({...d,amount:c.target.value})),className:"input-premium",placeholder:"3500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Payment Method"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:()=>s(c=>({...c,paymentMethod:"cash"})),className:`flex-1 px-4 py-3 rounded-xl border-2 transition-all ${r.paymentMethod==="cash"?"border-success bg-success/10 text-success":"border-border text-muted-foreground hover:border-success/50"}`,children:" Cash"}),u.jsx("button",{type:"button",onClick:()=>s(c=>({...c,paymentMethod:"online"})),className:`flex-1 px-4 py-3 rounded-xl border-2 transition-all ${r.paymentMethod==="online"?"border-primary bg-primary/10 text-primary":"border-border text-muted-foreground hover:border-primary/50"}`,children:" Online"})]})]}),u.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full",children:i?"Saving...":"Add Expense"})]})]})})]})})},wne=({isOpen:e,onClose:t,purchase:n,onEdit:r})=>n?u.jsx(ii,{children:e&&u.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[u.jsx(vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-foreground/20 backdrop-blur-sm"}),u.jsx(vn.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"glass-card p-4 sm:p-8 flex flex-col h-full overflow-hidden",children:[u.jsxs("div",{className:"flex items-start justify-between mb-8",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-display font-bold text-foreground flex items-center gap-2",children:[u.jsx(Nc,{className:"w-6 h-6 text-primary"}),"Purchase Invoice"]}),u.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 border border-primary/20",children:[u.jsx(Ti,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-semibold text-primary",children:new Date(n.date).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})]}),u.jsxs("div",{className:"flex gap-2",children:[r&&u.jsx("button",{onClick:()=>r(n),className:"p-2 rounded-lg bg-primary/10 hover:bg-primary/20 transition-colors text-primary",title:"Edit Purchase",children:u.jsx(f_,{className:"w-5 h-5"})}),u.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",title:"Download PDF",children:u.jsx(Zc,{className:"w-5 h-5"})}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",children:u.jsx(Vs,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"bg-muted/30 p-5 rounded-2xl mb-8 border border-border/50",children:[u.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-4 flex items-center gap-2",children:[u.jsx(bj,{className:"w-4 h-4"})," Farmer Details"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Name"}),u.jsx("span",{className:"font-semibold text-lg text-foreground",children:n.farmer.name})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Contact"}),u.jsxs("div",{className:"flex items-center gap-2 text-foreground font-medium",children:[u.jsx(Oc,{className:"w-3.5 h-3.5 opacity-50"}),n.farmer.mobile]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Address"}),u.jsxs("div",{className:"flex items-center gap-2 text-foreground font-medium",children:[u.jsx(Mc,{className:"w-3.5 h-3.5 opacity-50"}),n.farmer.address]})]})]})]}),u.jsx("div",{className:"border border-border rounded-xl overflow-hidden mb-8",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"bg-muted/50 text-muted-foreground font-medium uppercase text-xs",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4",children:"Date"}),u.jsx("th",{className:"p-4",children:"Quality"}),u.jsx("th",{className:"p-4 text-center",children:"Units"}),u.jsx("th",{className:"p-4 text-center",children:"Wt/Unit"}),u.jsx("th",{className:"p-4 text-center",children:"Total Kg"}),u.jsx("th",{className:"p-4 text-right",children:"Rate/Kg"}),u.jsx("th",{className:"p-4 text-right",children:"Amount"}),u.jsx("th",{className:"p-4 text-right",children:"Advance"})]})}),u.jsx("tbody",{className:"divide-y divide-border/50",children:n.items.map((s,i)=>u.jsxs("tr",{className:"hover:bg-muted/10 transition-colors",children:[u.jsx("td",{className:"p-4 text-muted-foreground whitespace-nowrap",children:new Date(s.date||n.date).toLocaleDateString(void 0,{day:"numeric",month:"short"})}),u.jsx("td",{className:"p-4 font-semibold text-foreground",children:s.quality}),u.jsx("td",{className:"p-4 text-center",children:s.unitCount}),u.jsxs("td",{className:"p-4 text-center text-muted-foreground",children:[s.weightPerUnit," kg"]}),u.jsxs("td",{className:"p-4 text-center font-medium",children:[s.totalWeight.toLocaleString()," kg"]}),u.jsxs("td",{className:"p-4 text-right tabular-nums",children:["",s.pricePerKg]}),u.jsxs("td",{className:"p-4 text-right font-bold tabular-nums text-foreground",children:["",s.totalAmount.toLocaleString()]}),u.jsxs("td",{className:"p-4 text-right tabular-nums text-success",children:["",(s.advance||0).toLocaleString()]})]},i))}),u.jsx("tfoot",{className:"bg-primary/5 font-semibold text-foreground",children:u.jsxs("tr",{children:[u.jsx("td",{colSpan:4,className:"p-4 text-right text-muted-foreground",children:"Totals"}),u.jsxs("td",{className:"p-4 text-center",children:[n.items.reduce((s,i)=>s+i.totalWeight,0).toLocaleString()," kg"]}),u.jsx("td",{className:"p-4"}),u.jsxs("td",{className:"p-4 text-right text-primary text-lg",children:["",n.totalAmount.toLocaleString()]}),u.jsxs("td",{className:"p-4 text-right text-success text-lg",children:["",n.items.reduce((s,i)=>s+(i.advance||0),0).toLocaleString()]})]})})]})})}),u.jsxs("div",{className:"space-y-4 pt-4 border-t border-border",children:[(n.advanceAmount>0||n.pendingAmount>0)&&u.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 rounded-xl bg-warning/5 border border-warning/20",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Advance Paid"}),u.jsxs("span",{className:"text-lg font-bold text-success",children:["",(n.advanceAmount||0).toLocaleString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Pending Amount"}),u.jsxs("span",{className:"text-lg font-bold text-warning",children:["",(n.pendingAmount||0).toLocaleString()]})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-muted-foreground",children:"Payment Status"}),u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize
                        ${n.paymentMethod==="cash"?"bg-success/10 text-success":"bg-primary/10 text-primary"}`,children:n.paymentMethod})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-muted-foreground block text-xs mb-1",children:"Transaction ID"}),u.jsxs("span",{className:"font-mono text-xs opacity-70",children:["#",n.id]})]})]})]})]})})]})}):null,_ne=()=>{const[e,t]=L.useState(!1),n=yf(),r=[{name:"Dashboard",icon:lB,path:"/"},{name:"Sales (Scale)",icon:F1,path:"/sales"},{name:"Purchases",icon:Hy,path:"/purchases"},{name:"Watermelon",icon:Lp,path:"/watermelon"},{name:"Expenses",icon:Nc,path:"/expenses"},{name:"History",icon:Xm,path:"/history"}],s=e?"80px":"260px";return u.jsxs("aside",{style:{width:s,transition:"width 0.2s ease-in-out"},className:"relative flex flex-col h-screen bg-white z-50 border-r border-slate-200 shadow-sm",children:[u.jsx("button",{onClick:()=>t(!e),className:"absolute -right-3 top-10 w-6 h-6 bg-white text-slate-400 border border-slate-200 rounded-full flex items-center justify-center shadow-sm hover:text-emerald-600 transition-colors z-[60]",children:e?u.jsx(JV,{size:14}):u.jsx(ZV,{size:14})}),u.jsx("div",{className:`p-6 mb-2 ${e?"flex justify-center":""}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden shadow-sm shrink-0",children:u.jsx("img",{src:"/sp-logo.jpg",alt:"SP Logo",className:"w-full h-full object-cover"})}),!e&&u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:"text-slate-900 font-black text-lg leading-none tracking-tight",children:["Shree ",u.jsx("span",{className:"text-emerald-600",children:"Ganesh"})]}),u.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase mt-1",children:"Fruit Suppliers"})]})]})}),u.jsx("nav",{className:"flex-1 px-3 space-y-1 mt-4",children:r.map(i=>{const o=n.pathname===i.path,a=i.icon;return u.jsxs(Fq,{to:i.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${o?"bg-emerald-50 text-emerald-700 font-bold":"text-slate-500 hover:bg-slate-50 hover:text-emerald-600"}`,children:[u.jsx(a,{size:20,className:o?"text-emerald-600":"text-slate-400 group-hover:text-emerald-600"}),!e&&u.jsx("span",{className:"text-sm",children:i.name}),e&&u.jsx("div",{className:"absolute left-full ml-4 px-3 py-2 bg-slate-800 text-white text-[11px] font-bold rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all whitespace-nowrap shadow-xl z-[70]",children:i.name})]},i.name)})}),u.jsx("div",{className:"p-4 border-t border-slate-100",children:u.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-xl bg-slate-50 ${e?"justify-center":""}`,children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-600 flex items-center justify-center font-bold text-white shrink-0",children:"A"}),!e&&u.jsxs("div",{className:"flex flex-col overflow-hidden",children:[u.jsx("span",{className:"text-xs font-bold text-slate-900 truncate",children:"Suhas Patil"}),u.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase",children:"Online"})]})]})})]})},Pf=({children:e})=>u.jsxs("div",{className:"flex bg-[#f8fafc] min-h-screen overflow-hidden",children:[u.jsx(_ne,{}),u.jsx("main",{className:"flex-1 h-screen overflow-y-auto relative scroll-smooth bg-white",children:u.jsx("div",{className:"relative z-10 w-full",children:e})})]}),Sne=()=>{var Q,Z,le;const{addPurchase:e,updatePurchase:t,addSale:n,updateSale:r,addExpense:s,loading:i,sales:o,purchases:a}=og(),{purchases:l,sales:c,partnerPayments:d,addPartnerPayment:h,deletePartnerPayment:p,loading:f}=vS(),[b,x]=L.useState(!1),[w,v]=L.useState(!1),[_,N]=L.useState(!1),[R,O]=L.useState(null),[z,k]=L.useState(null),[A,C]=L.useState(null),M=ce=>{k(ce),O(null),x(!0)},P=L.useMemo(()=>{const ce=a.reduce((ie,de)=>ie+de.totalAmount,0),he=o.reduce((ie,de)=>ie+de.totalAmount,0);return{totalPurchases:ce,totalSales:he}},[a,o]),I=L.useMemo(()=>{const ce=l.reduce((ie,de)=>ie+de.totalAmount,0),he=c.reduce((ie,de)=>ie+de.totalAmount,0);return{totalPurchases:ce,totalSales:he}},[l,c]),E=[{id:"pankaj",name:"Pankaj",color:"from-orange-500 to-amber-600",bg:"bg-orange-50",border:"border-orange-200"},{id:"sanju",name:"Sanju",color:"from-pink-500 to-rose-600",bg:"bg-pink-50",border:"border-pink-200"},{id:"sharad",name:"Sharad",color:"from-violet-500 to-purple-600",bg:"bg-violet-50",border:"border-violet-200"}],[$,Y]=L.useState(null),[ae,ee]=L.useState(!1),[H,ne]=L.useState(""),[oe,fe]=L.useState(""),V=async()=>{!$||!H||(await h({partner:$,amount:Number(H),date:new Date().toISOString(),comment:oe}),ne(""),fe(""),ee(!1))};return i||f?null:u.jsxs(Pf,{children:[u.jsx(Tf,{}),u.jsxs("main",{className:"container mx-auto px-6 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Business Dashboard"}),u.jsx("p",{className:"text-slate-400 font-semibold text-sm",children:"Trading Summary & Partner Tracking"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-slate-900 text-white rounded-xl text-xs font-bold hover:bg-slate-800 transition-colors",children:"New Purchase"}),u.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-500 transition-colors",children:"New Sale"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[u.jsxs("div",{className:"bg-white border-2 border-purple-100 rounded-3xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center text-purple-600",children:u.jsx(aB,{size:24})}),u.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Grapes Summary"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-orange-50/50 p-4 rounded-2xl border border-orange-100",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-orange-600 mb-1",children:"Total Purchases"}),u.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["",P.totalPurchases.toLocaleString()]})]}),u.jsxs("div",{className:"bg-emerald-50/50 p-4 rounded-2xl border border-emerald-100",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-emerald-600 mb-1",children:"Total Sales"}),u.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["",P.totalSales.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"bg-white border-2 border-emerald-100 rounded-3xl p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-2xl flex items-center justify-center text-emerald-600",children:u.jsx(Lp,{size:24})}),u.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Watermelon Summary"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-orange-50/50 p-4 rounded-2xl border border-orange-100",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-orange-600 mb-1",children:"Total Purchases"}),u.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["",I.totalPurchases.toLocaleString()]})]}),u.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-2xl border border-blue-100",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-blue-600 mb-1",children:"Total Sales"}),u.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["",I.totalSales.toLocaleString()]})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[u.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-600",children:u.jsx(Gh,{size:20})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"Partner Payments"}),u.jsx("p",{className:"text-slate-400 font-semibold text-xs text-uppercase tracking-wider",children:"Track money given to Pankaj, Sanju & Sharad"})]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:E.map(ce=>{const he=d.filter(de=>de.partner===ce.id),ie=he.reduce((de,_e)=>de+_e.amount,0);return u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs(vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`${ce.bg} border-2 ${ce.border} rounded-[2rem] p-6 shadow-sm relative overflow-hidden`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${ce.color} opacity-5 -mr-12 -mt-12 rounded-full`}),u.jsxs("div",{className:"flex items-center justify-between mb-6 relative z-10",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${ce.color} flex items-center justify-center text-white shadow-lg`,children:u.jsx(Gh,{size:28})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-black text-slate-800",children:ce.name}),u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-widest",children:"Business Partner"})]})]}),u.jsx("button",{onClick:()=>{Y(ce.id),ee(!0)},className:"p-3 bg-white hover:bg-slate-50 text-slate-800 rounded-2xl shadow-sm border border-slate-100 transition-all active:scale-95",children:u.jsx(uB,{size:20})})]}),u.jsxs("div",{className:"relative z-10 bg-white/60 backdrop-blur-sm rounded-2xl p-4 border border-white",children:[u.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-500 mb-1",children:"Total Amount Paid"}),u.jsxs("p",{className:"text-3xl font-black text-slate-900",children:["",ie.toLocaleString()]})]})]}),u.jsxs("div",{className:"flex-1 bg-white border-2 border-slate-100 rounded-[2rem] p-6 min-h-[300px] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h5",{className:"font-bold text-slate-700 flex items-center gap-2",children:[u.jsx(Xm,{size:16,className:"text-slate-400"}),"Recent Payments"]}),u.jsxs("span",{className:"text-[10px] font-black bg-slate-100 px-2 py-1 rounded-full text-slate-500",children:[he.length," Entries"]})]}),u.jsx("div",{className:"space-y-3 flex-1 overflow-y-auto max-h-[400px] pr-2 custom-scrollbar",children:he.length===0?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 opacity-50 py-12",children:[u.jsx(h4,{size:32,className:"mb-2"}),u.jsx("p",{className:"text-xs font-bold text-center",children:"No payment history yet"})]}):he.map(de=>u.jsxs("div",{className:"group p-4 bg-slate-50/50 hover:bg-white border border-transparent hover:border-slate-100 rounded-2xl transition-all relative",children:[u.jsx("button",{onClick:()=>p(de.id),className:"absolute top-2 right-2 p-1.5 text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-all rounded-lg",children:u.jsx(ms,{size:14})}),u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("p",{className:"text-lg font-black text-slate-800",children:["",de.amount.toLocaleString()]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase",children:new Date(de.date).toLocaleDateString()}),u.jsxs("div",{className:"flex items-center justify-end gap-1 text-[9px] font-bold text-slate-400 uppercase",children:[u.jsx(nB,{size:10}),new Date(de.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),de.comment&&u.jsxs("div",{className:"flex gap-2 items-start bg-white/50 p-2 rounded-xl mt-1",children:[u.jsx(h4,{size:10,className:"mt-0.5 text-slate-400 shrink-0"}),u.jsx("p",{className:"text-[11px] text-slate-600 leading-tight font-medium italic",children:de.comment})]})]},de.id))})]})]},ce.id)})})]}),u.jsx(ii,{children:ae&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx(vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ee(!1),className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm"}),u.jsxs(vn.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"bg-white rounded-[2.5rem] p-8 shadow-2xl w-full max-w-md relative z-10 border border-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl bg-gradient-to-br ${(Q=E.find(ce=>ce.id===$))==null?void 0:Q.color} flex items-center justify-center text-white shadow-lg`,children:u.jsx(dl,{size:24})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-black text-slate-800",children:"Add Payment"}),u.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider",children:["Money for ",(Z=E.find(ce=>ce.id===$))==null?void 0:Z.name]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] uppercase font-black text-slate-400 mb-2 block ml-1 tracking-widest",children:"Amount to Pay"}),u.jsxs("div",{className:"relative",children:[u.jsx(dl,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300"}),u.jsx("input",{type:"number",placeholder:"0.00",value:H,onChange:ce=>ne(ce.target.value),className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl py-4 pl-12 pr-4 text-2xl font-black focus:border-slate-300 focus:bg-white outline-none transition-all"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] uppercase font-black text-slate-400 mb-2 block ml-1 tracking-widest",children:"Add a Comment"}),u.jsx("textarea",{placeholder:"What is this payment for?",value:oe,onChange:ce=>fe(ce.target.value),className:"w-full bg-slate-50 border-2 border-slate-100 rounded-2xl p-4 text-sm font-semibold focus:border-slate-300 focus:bg-white outline-none transition-all min-h-[100px] resize-none"})]}),u.jsxs("div",{className:"flex gap-3 pt-2",children:[u.jsx("button",{onClick:()=>ee(!1),className:"flex-1 py-4 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-2xl font-black text-sm transition-all",children:"Cancel"}),u.jsx("button",{onClick:V,className:`flex-[2] py-4 bg-gradient-to-r ${(le=E.find(ce=>ce.id===$))==null?void 0:le.color} text-white rounded-2xl font-black text-sm shadow-xl hover:shadow-2xl transition-all active:scale-95`,children:"Confirm Payment"})]})]})]})]})}),u.jsx(kD,{isOpen:b,onClose:()=>{x(!1),k(null)},onAdd:e,onUpdate:t,purchaseToEdit:z}),u.jsx(jD,{isOpen:w,onClose:()=>{v(!1),C(null)},onAdd:n,onUpdate:r,saleToEdit:A,sales:o}),u.jsx(ID,{isOpen:_,onClose:()=>N(!1),onAdd:s}),u.jsx(wne,{isOpen:!!R,onClose:()=>O(null),purchase:R,onEdit:M})]})};var ax="focusScope.autoFocusOnMount",lx="focusScope.autoFocusOnUnmount",IT={bubbles:!1,cancelable:!0},Nne="FocusScope",RD=L.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=L.useState(null),c=Na(s),d=Na(i),h=L.useRef(null),p=Ms(t,x=>l(x)),f=L.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;L.useEffect(()=>{if(r){let x=function(N){if(f.paused||!a)return;const R=N.target;a.contains(R)?h.current=R:Zl(h.current,{select:!0})},w=function(N){if(f.paused||!a)return;const R=N.relatedTarget;R!==null&&(a.contains(R)||Zl(h.current,{select:!0}))},v=function(N){if(document.activeElement===document.body)for(const O of N)O.removedNodes.length>0&&Zl(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const _=new MutationObserver(v);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,f.paused]),L.useEffect(()=>{if(a){LT.add(f);const x=document.activeElement;if(!a.contains(x)){const v=new CustomEvent(ax,IT);a.addEventListener(ax,c),a.dispatchEvent(v),v.defaultPrevented||(Ane(kne(LD(a)),{select:!0}),document.activeElement===x&&Zl(a))}return()=>{a.removeEventListener(ax,c),setTimeout(()=>{const v=new CustomEvent(lx,IT);a.addEventListener(lx,d),a.dispatchEvent(v),v.defaultPrevented||Zl(x??document.body,{select:!0}),a.removeEventListener(lx,d),LT.remove(f)},0)}}},[a,c,d,f]);const b=L.useCallback(x=>{if(!n&&!r||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(w&&v){const _=x.currentTarget,[N,R]=Ene(_);N&&R?!x.shiftKey&&v===R?(x.preventDefault(),n&&Zl(N,{select:!0})):x.shiftKey&&v===N&&(x.preventDefault(),n&&Zl(R,{select:!0})):v===_&&x.preventDefault()}},[n,r,f.paused]);return u.jsx(Sr.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});RD.displayName=Nne;function Ane(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Zl(r,{select:t}),document.activeElement!==n)return}function Ene(e){const t=LD(e),n=RT(t,e),r=RT(t.reverse(),e);return[n,r]}function LD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function RT(e,t){for(const n of e)if(!Tne(n,{upTo:t}))return n}function Tne(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Pne(e){return e instanceof HTMLInputElement&&"select"in e}function Zl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Pne(e)&&t&&e.select()}}var LT=Cne();function Cne(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=DT(e,t),e.unshift(t)},remove(t){var n;e=DT(e,t),(n=e[0])==null||n.resume()}}}function DT(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function kne(e){return e.filter(t=>t.tagName!=="A")}var cx=0;function jne(){L.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??MT()),document.body.insertAdjacentElement("beforeend",e[1]??MT()),cx++,()=>{cx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cx--}},[])}function MT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ca=function(){return ca=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ca.apply(this,arguments)};function DD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Ine(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var r1="right-scroll-bar-position",s1="width-before-scroll-bar",Rne="with-scroll-bars-hidden",Lne="--removed-body-scroll-bar-size";function ux(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Dne(e,t){var n=L.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Mne=typeof window<"u"?L.useLayoutEffect:L.useEffect,OT=new WeakMap;function One(e,t){var n=Dne(null,function(r){return e.forEach(function(s){return ux(s,r)})});return Mne(function(){var r=OT.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||ux(a,null)}),i.forEach(function(a){s.has(a)||ux(a,o)})}OT.set(n,e)},[e]),n}function Fne(e){return e}function Vne(e,t){t===void 0&&(t=Fne);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function Bne(e){e===void 0&&(e={});var t=Vne(null);return t.options=ca({async:!0,ssr:!1},e),t}var MD=function(e){var t=e.sideCar,n=DD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return L.createElement(r,ca({},n))};MD.isSideCarExport=!0;function Une(e,t){return e.useMedium(t),MD}var OD=Bne(),dx=function(){},Nv=L.forwardRef(function(e,t){var n=L.useRef(null),r=L.useState({onScrollCapture:dx,onWheelCapture:dx,onTouchMoveCapture:dx}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,b=e.noIsolation,x=e.inert,w=e.allowPinchZoom,v=e.as,_=v===void 0?"div":v,N=e.gapMode,R=DD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,z=One([n,t]),k=ca(ca({},R),s);return L.createElement(L.Fragment,null,d&&L.createElement(O,{sideCar:OD,removeScrollBar:c,shards:h,noRelative:f,noIsolation:b,inert:x,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:N}),o?L.cloneElement(L.Children.only(a),ca(ca({},k),{ref:z})):L.createElement(_,ca({},k,{className:l,ref:z}),a))});Nv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nv.classNames={fullWidth:s1,zeroRight:r1};var zne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $ne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zne();return t&&e.setAttribute("nonce",t),e}function qne(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Wne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Hne=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$ne())&&(qne(t,n),Wne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Gne=function(){var e=Hne();return function(t,n){L.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},FD=function(){var e=Gne(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Kne={left:0,top:0,right:0,gap:0},hx=function(e){return parseInt(e||"",10)||0},Yne=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[hx(n),hx(r),hx(s)]},Qne=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Kne;var t=Yne(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Xne=FD(),Ah="data-scroll-locked",Zne=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Rne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ah,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(r1,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(s1,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(r1," .").concat(r1,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(s1," .").concat(s1,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ah,`] {
    `).concat(Lne,": ").concat(a,`px;
  }
`)},FT=function(){var e=parseInt(document.body.getAttribute(Ah)||"0",10);return isFinite(e)?e:0},Jne=function(){L.useEffect(function(){return document.body.setAttribute(Ah,(FT()+1).toString()),function(){var e=FT()-1;e<=0?document.body.removeAttribute(Ah):document.body.setAttribute(Ah,e.toString())}},[])},ere=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Jne();var i=L.useMemo(function(){return Qne(s)},[s]);return L.createElement(Xne,{styles:Zne(i,!t,s,n?"":"!important")})},Hw=!1;if(typeof window<"u")try{var x0=Object.defineProperty({},"passive",{get:function(){return Hw=!0,!0}});window.addEventListener("test",x0,x0),window.removeEventListener("test",x0,x0)}catch{Hw=!1}var kd=Hw?{passive:!1}:!1,tre=function(e){return e.tagName==="TEXTAREA"},VD=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!tre(e)&&n[t]==="visible")},nre=function(e){return VD(e,"overflowY")},rre=function(e){return VD(e,"overflowX")},VT=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=BD(e,r);if(s){var i=UD(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sre=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ire=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},BD=function(e,t){return e==="v"?nre(t):rre(t)},UD=function(e,t){return e==="v"?sre(t):ire(t)},ore=function(e,t){return e==="h"&&t==="rtl"?-1:1},are=function(e,t,n,r,s){var i=ore(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,l=t.contains(a),c=!1,d=o>0,h=0,p=0;do{if(!a)break;var f=UD(e,a),b=f[0],x=f[1],w=f[2],v=x-w-i*b;(b||v)&&BD(e,a)&&(h+=v,p+=b);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},b0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},BT=function(e){return[e.deltaX,e.deltaY]},UT=function(e){return e&&"current"in e?e.current:e},lre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ure=0,jd=[];function dre(e){var t=L.useRef([]),n=L.useRef([0,0]),r=L.useRef(),s=L.useState(ure++)[0],i=L.useState(FD)[0],o=L.useRef(e);L.useEffect(function(){o.current=e},[e]),L.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=Ine([e.lockRef.current],(e.shards||[]).map(UT),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=L.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var v=b0(x),_=n.current,N="deltaX"in x?x.deltaX:_[0]-v[0],R="deltaY"in x?x.deltaY:_[1]-v[1],O,z=x.target,k=Math.abs(N)>Math.abs(R)?"h":"v";if("touches"in x&&k==="h"&&z.type==="range")return!1;var A=VT(k,z);if(!A)return!0;if(A?O=k:(O=k==="v"?"h":"v",A=VT(k,z)),!A)return!1;if(!r.current&&"changedTouches"in x&&(N||R)&&(r.current=O),!O)return!0;var C=r.current||O;return are(C,w,x,C==="h"?N:R,!0)},[]),l=L.useCallback(function(x){var w=x;if(!(!jd.length||jd[jd.length-1]!==i)){var v="deltaY"in w?BT(w):b0(w),_=t.current.filter(function(O){return O.name===w.type&&(O.target===w.target||w.target===O.shadowParent)&&lre(O.delta,v)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var N=(o.current.shards||[]).map(UT).filter(Boolean).filter(function(O){return O.contains(w.target)}),R=N.length>0?a(w,N[0]):!o.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),c=L.useCallback(function(x,w,v,_){var N={name:x,delta:w,target:v,should:_,shadowParent:hre(v)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(R){return R!==N})},1)},[]),d=L.useCallback(function(x){n.current=b0(x),r.current=void 0},[]),h=L.useCallback(function(x){c(x.type,BT(x),x.target,a(x,e.lockRef.current))},[]),p=L.useCallback(function(x){c(x.type,b0(x),x.target,a(x,e.lockRef.current))},[]);L.useEffect(function(){return jd.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,kd),document.addEventListener("touchmove",l,kd),document.addEventListener("touchstart",d,kd),function(){jd=jd.filter(function(x){return x!==i}),document.removeEventListener("wheel",l,kd),document.removeEventListener("touchmove",l,kd),document.removeEventListener("touchstart",d,kd)}},[]);var f=e.removeScrollBar,b=e.inert;return L.createElement(L.Fragment,null,b?L.createElement(i,{styles:cre(s)}):null,f?L.createElement(ere,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function hre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fre=Une(OD,dre);var zD=L.forwardRef(function(e,t){return L.createElement(Nv,ca({},e,{ref:t,sideCar:fre}))});zD.classNames=Nv.classNames;var pre=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Id=new WeakMap,w0=new WeakMap,_0={},fx=0,$D=function(e){return e&&(e.host||$D(e.parentNode))},mre=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=$D(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},gre=function(e,t,n,r){var s=mre(t,Array.isArray(e)?e:[e]);_0[n]||(_0[n]=new WeakMap);var i=_0[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var f=p.getAttribute(r),b=f!==null&&f!=="false",x=(Id.get(p)||0)+1,w=(i.get(p)||0)+1;Id.set(p,x),i.set(p,w),o.push(p),x===1&&b&&w0.set(p,!0),w===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(t),a.clear(),fx++,function(){o.forEach(function(h){var p=Id.get(h)-1,f=i.get(h)-1;Id.set(h,p),i.set(h,f),p||(w0.has(h)||h.removeAttribute(r),w0.delete(h)),f||h.removeAttribute(n)}),fx--,fx||(Id=new WeakMap,Id=new WeakMap,w0=new WeakMap,_0={})}},yre=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=pre(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),gre(r,s,n,"aria-hidden")):function(){return null}},Av="Dialog",[qD,ice]=Ym(Av),[vre,Fo]=qD(Av),WD=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=L.useRef(null),l=L.useRef(null),[c,d]=Gk({prop:r,defaultProp:s??!1,onChange:i,caller:Av});return u.jsx(vre,{scope:t,triggerRef:a,contentRef:l,contentId:A2(),titleId:A2(),descriptionId:A2(),open:c,onOpenChange:d,onOpenToggle:L.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};WD.displayName=Av;var HD="DialogTrigger",xre=L.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fo(HD,n),i=Ms(t,s.triggerRef);return u.jsx(Sr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ZS(s.open),...r,ref:i,onClick:Gn(e.onClick,s.onOpenToggle)})});xre.displayName=HD;var QS="DialogPortal",[bre,GD]=qD(QS,{forceMount:void 0}),KD=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Fo(QS,t);return u.jsx(bre,{scope:t,forceMount:n,children:L.Children.map(r,o=>u.jsx(hf,{present:n||i.open,children:u.jsx(l_,{asChild:!0,container:s,children:o})}))})};KD.displayName=QS;var gy="DialogOverlay",YD=L.forwardRef((e,t)=>{const n=GD(gy,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Fo(gy,e.__scopeDialog);return i.modal?u.jsx(hf,{present:r||i.open,children:u.jsx(_re,{...s,ref:t})}):null});YD.displayName=gy;var wre=M1("DialogOverlay.RemoveScroll"),_re=L.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fo(gy,n);return u.jsx(zD,{as:wre,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(Sr.div,{"data-state":ZS(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),td="DialogContent",QD=L.forwardRef((e,t)=>{const n=GD(td,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Fo(td,e.__scopeDialog);return u.jsx(hf,{present:r||i.open,children:i.modal?u.jsx(Sre,{...s,ref:t}):u.jsx(Nre,{...s,ref:t})})});QD.displayName=td;var Sre=L.forwardRef((e,t)=>{const n=Fo(td,e.__scopeDialog),r=L.useRef(null),s=Ms(t,n.contentRef,r);return L.useEffect(()=>{const i=r.current;if(i)return yre(i)},[]),u.jsx(XD,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Gn(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Gn(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Gn(e.onFocusOutside,i=>i.preventDefault())})}),Nre=L.forwardRef((e,t)=>{const n=Fo(td,e.__scopeDialog),r=L.useRef(!1),s=L.useRef(!1);return u.jsx(XD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),XD=L.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Fo(td,n),l=L.useRef(null),c=Ms(t,l);return jne(),u.jsxs(u.Fragment,{children:[u.jsx(RD,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx($y,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ZS(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Are,{titleId:a.titleId}),u.jsx(Tre,{contentRef:l,descriptionId:a.descriptionId})]})]})}),XS="DialogTitle",ZD=L.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fo(XS,n);return u.jsx(Sr.h2,{id:s.titleId,...r,ref:t})});ZD.displayName=XS;var JD="DialogDescription",e7=L.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fo(JD,n);return u.jsx(Sr.p,{id:s.descriptionId,...r,ref:t})});e7.displayName=JD;var t7="DialogClose",n7=L.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fo(t7,n);return u.jsx(Sr.button,{type:"button",...r,ref:t,onClick:Gn(e.onClick,()=>s.onOpenChange(!1))})});n7.displayName=t7;function ZS(e){return e?"open":"closed"}var r7="DialogTitleWarning",[oce,s7]=J9(r7,{contentName:td,titleName:XS,docsSlug:"dialog"}),Are=({titleId:e})=>{const t=s7(r7),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return L.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Ere="DialogDescriptionWarning",Tre=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s7(Ere).contentName}}.`;return L.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Pre=WD,Cre=KD,i7=YD,o7=QD,a7=ZD,l7=e7,kre=n7;const Ev=Pre,jre=Cre,c7=L.forwardRef(({className:e,...t},n)=>u.jsx(i7,{ref:n,className:io("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c7.displayName=i7.displayName;const dg=L.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(jre,{children:[u.jsx(c7,{}),u.jsxs(o7,{ref:r,className:io("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(kre,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(Vs,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dg.displayName=o7.displayName;const hg=({className:e,...t})=>u.jsx("div",{className:io("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hg.displayName="DialogHeader";const fg=L.forwardRef(({className:e,...t},n)=>u.jsx(a7,{ref:n,className:io("text-lg font-semibold leading-none tracking-tight",e),...t}));fg.displayName=a7.displayName;const Ire=L.forwardRef(({className:e,...t},n)=>u.jsx(l7,{ref:n,className:io("text-sm text-muted-foreground",e),...t}));Ire.displayName=l7.displayName;const Rre="modulepreload",Lre=function(e){return"/"+e},zT={},px=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Lre(l),l in zT)return;zT[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Rre,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};function mn(e){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(e)}var Oo=Uint8Array,wi=Uint16Array,JS=Int32Array,eN=new Oo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tN=new Oo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$T=new Oo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u7=function(e,t){for(var n=new wi(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var s=new JS(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},d7=u7(eN,2),Dre=d7.b,Gw=d7.r;Dre[28]=258,Gw[258]=28;var Mre=u7(tN,0),qT=Mre.r,Kw=new wi(32768);for(var Bn=0;Bn<32768;++Bn){var Gl=(Bn&43690)>>1|(Bn&21845)<<1;Gl=(Gl&52428)>>2|(Gl&13107)<<2,Gl=(Gl&61680)>>4|(Gl&3855)<<4,Kw[Bn]=((Gl&65280)>>8|(Gl&255)<<8)>>1}var Wp=function(e,t,n){for(var r=e.length,s=0,i=new wi(t);s<r;++s)e[s]&&++i[e[s]-1];var o=new wi(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(n){a=new wi(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var c=s<<4|e[s],d=t-e[s],h=o[e[s]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)a[Kw[h]>>l]=c}else for(a=new wi(r),s=0;s<r;++s)e[s]&&(a[s]=Kw[o[e[s]-1]++]>>15-e[s]);return a},nd=new Oo(288);for(var Bn=0;Bn<144;++Bn)nd[Bn]=8;for(var Bn=144;Bn<256;++Bn)nd[Bn]=9;for(var Bn=256;Bn<280;++Bn)nd[Bn]=7;for(var Bn=280;Bn<288;++Bn)nd[Bn]=8;var yy=new Oo(32);for(var Bn=0;Bn<32;++Bn)yy[Bn]=5;var Ore=Wp(nd,9,0),Fre=Wp(yy,5,0),h7=function(e){return(e+7)/8|0},Vre=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Oo(e.subarray(t,n))},Ka=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},cp=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},mx=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,i=n.slice();if(!s)return{t:p7,l:0};if(s==1){var o=new Oo(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(O,z){return O.f-z.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,d=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=s-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=d&&n[c].f<n[h].f?c++:h++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=i[0].s,r=1;r<s;++r)i[r].s>p&&(p=i[r].s);var f=new wi(p+1),b=Yw(n[d-1],f,0);if(b>t){var r=0,x=0,w=b-t,v=1<<w;for(i.sort(function(z,k){return f[k.s]-f[z.s]||z.f-k.f});r<s;++r){var _=i[r].s;if(f[_]>t)x+=v-(1<<b-f[_]),f[_]=t;else break}for(x>>=w;x>0;){var N=i[r].s;f[N]<t?x-=1<<t-f[N]++-1:++r}for(;r>=0&&x;--r){var R=i[r].s;f[R]==t&&(--f[R],++x)}b=t}return{t:new Oo(f),l:b}},Yw=function(e,t,n){return e.s==-1?Math.max(Yw(e.l,t,n+1),Yw(e.r,t,n+1)):t[e.s]=n},WT=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new wi(++t),r=0,s=e[0],i=1,o=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==s&&a!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[a]}return{c:n.subarray(0,r),n:t}},up=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},f7=function(e,t,n){var r=n.length,s=h7(t+2);e[s]=r&255,e[s+1]=r>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<r;++i)e[s+i+4]=n[i];return(s+4+r)*8},HT=function(e,t,n,r,s,i,o,a,l,c,d){Ka(t,d++,n),++s[256];for(var h=mx(s,15),p=h.t,f=h.l,b=mx(i,15),x=b.t,w=b.l,v=WT(p),_=v.c,N=v.n,R=WT(x),O=R.c,z=R.n,k=new wi(19),A=0;A<_.length;++A)++k[_[A]&31];for(var A=0;A<O.length;++A)++k[O[A]&31];for(var C=mx(k,7),M=C.t,P=C.l,I=19;I>4&&!M[$T[I-1]];--I);var E=c+5<<3,$=up(s,nd)+up(i,yy)+o,Y=up(s,p)+up(i,x)+o+14+3*I+up(k,M)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&E<=$&&E<=Y)return f7(t,d,e.subarray(l,l+c));var ae,ee,H,ne;if(Ka(t,d,1+(Y<$)),d+=2,Y<$){ae=Wp(p,f,0),ee=p,H=Wp(x,w,0),ne=x;var oe=Wp(M,P,0);Ka(t,d,N-257),Ka(t,d+5,z-1),Ka(t,d+10,I-4),d+=14;for(var A=0;A<I;++A)Ka(t,d+3*A,M[$T[A]]);d+=3*I;for(var fe=[_,O],V=0;V<2;++V)for(var Q=fe[V],A=0;A<Q.length;++A){var Z=Q[A]&31;Ka(t,d,oe[Z]),d+=M[Z],Z>15&&(Ka(t,d,Q[A]>>5&127),d+=Q[A]>>12)}}else ae=Ore,ee=nd,H=Fre,ne=yy;for(var A=0;A<a;++A){var le=r[A];if(le>255){var Z=le>>18&31;cp(t,d,ae[Z+257]),d+=ee[Z+257],Z>7&&(Ka(t,d,le>>23&31),d+=eN[Z]);var ce=le&31;cp(t,d,H[ce]),d+=ne[ce],ce>3&&(cp(t,d,le>>5&8191),d+=tN[ce])}else cp(t,d,ae[le]),d+=ee[le]}return cp(t,d,ae[256]),d+ee[256]},Bre=new JS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),p7=new Oo(0),Ure=function(e,t,n,r,s,i){var o=i.z||e.length,a=new Oo(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),c=i.l,d=(i.r||0)&7;if(t){d&&(l[0]=i.r>>3);for(var h=Bre[t-1],p=h>>13,f=h&8191,b=(1<<n)-1,x=i.p||new wi(32768),w=i.h||new wi(b+1),v=Math.ceil(n/3),_=2*v,N=function($e){return(e[$e]^e[$e+1]<<v^e[$e+2]<<_)&b},R=new JS(25e3),O=new wi(288),z=new wi(32),k=0,A=0,C=i.i||0,M=0,P=i.w||0,I=0;C+2<o;++C){var E=N(C),$=C&32767,Y=w[E];if(x[$]=Y,w[E]=$,P<=C){var ae=o-C;if((k>7e3||M>24576)&&(ae>423||!c)){d=HT(e,l,0,R,O,z,A,M,I,C-I,d),M=k=A=0,I=C;for(var ee=0;ee<286;++ee)O[ee]=0;for(var ee=0;ee<30;++ee)z[ee]=0}var H=2,ne=0,oe=f,fe=$-Y&32767;if(ae>2&&E==N(C-fe))for(var V=Math.min(p,ae)-1,Q=Math.min(32767,C),Z=Math.min(258,ae);fe<=Q&&--oe&&$!=Y;){if(e[C+H]==e[C+H-fe]){for(var le=0;le<Z&&e[C+le]==e[C+le-fe];++le);if(le>H){if(H=le,ne=fe,le>V)break;for(var ce=Math.min(fe,le-2),he=0,ee=0;ee<ce;++ee){var ie=C-fe+ee&32767,de=x[ie],_e=ie-de&32767;_e>he&&(he=_e,Y=ie)}}}$=Y,Y=x[$],fe+=$-Y&32767}if(ne){R[M++]=268435456|Gw[H]<<18|qT[ne];var Pe=Gw[H]&31,Me=qT[ne]&31;A+=eN[Pe]+tN[Me],++O[257+Pe],++z[Me],P=C+H,++k}else R[M++]=e[C],++O[e[C]]}}for(C=Math.max(C,P);C<o;++C)R[M++]=e[C],++O[e[C]];d=HT(e,l,c,R,O,z,A,M,I,C-I,d),c||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=w,i.p=x,i.i=C,i.w=P)}else{for(var C=i.w||0;C<o+c;C+=65535){var Oe=C+65535;Oe>=o&&(l[d/8|0]=c,Oe=o),d=f7(l,d+1,e.subarray(C,Oe))}i.i=o}return Vre(a,0,r+h7(d)+s)},m7=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,i=n.length|0,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}e=r,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},zre=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Oo(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return Ure(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,s)},g7=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},$re=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=m7();s.p(t.dictionary),g7(e,2,s.d())}};function Qw(e,t){t||(t={});var n=m7();n.p(e);var r=zre(e,t,t.dictionary?6:2,4);return $re(r,t),g7(r,r.length-4,n.d()),r}var qre=typeof TextDecoder<"u"&&new TextDecoder,Wre=0;try{qre.decode(p7,{stream:!0}),Wre=1}catch{}function Hre(e){if(Array.isArray(e))return e}function Gre(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function GT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Kre(e,t){if(e){if(typeof e=="string")return GT(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GT(e,t):void 0}}function Yre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KT(e,t){return Hre(e)||Gre(e,t)||Kre(e,t)||Yre()}function YT(e,t="utf8"){return new TextDecoder(t).decode(e)}const Qre=new TextEncoder;function Xre(e){return Qre.encode(e)}const Zre=1024*8,Jre=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),gx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class nN{constructor(t=Zre,n={}){pn(this,"buffer");pn(this,"byteLength");pn(this,"byteOffset");pn(this,"length");pn(this,"offset");pn(this,"lastWrittenByte");pn(this,"littleEndian");pn(this,"_data");pn(this,"_mark");pn(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const s=n.offset?n.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof nN)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=gx[n].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+r);if(this.littleEndian===Jre&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(s,s+r));a.reverse();const l=new gx[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new gx[n](i);return this.offset+=r,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return YT(this.readBytes(t))}decodeText(t=1,n="utf8"){return YT(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(Xre(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const ese=4,QT=0,XT=1,tse=2;function Cf(e){let t=e.length;for(;--t>=0;)e[t]=0}const nse=0,y7=1,rse=2,sse=3,ise=258,rN=29,pg=256,Rm=pg+1+rN,Eh=30,sN=19,v7=2*Rm+1,ju=15,yx=16,ose=7,iN=256,x7=16,b7=17,w7=18,Xw=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),i1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ase=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_7=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lse=512,Ja=new Array((Rm+2)*2);Cf(Ja);const Hp=new Array(Eh*2);Cf(Hp);const Lm=new Array(lse);Cf(Lm);const Dm=new Array(ise-sse+1);Cf(Dm);const oN=new Array(rN);Cf(oN);const vy=new Array(Eh);Cf(vy);function vx(e,t,n,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}let S7,N7,A7;function xx(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const E7=e=>e<256?Lm[e]:Lm[256+(e>>>7)],Mm=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},ti=(e,t,n)=>{e.bi_valid>yx-n?(e.bi_buf|=t<<e.bi_valid&65535,Mm(e,e.bi_buf),e.bi_buf=t>>yx-e.bi_valid,e.bi_valid+=n-yx):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},ua=(e,t,n)=>{ti(e,n[t*2],n[t*2+1])},T7=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},cse=e=>{e.bi_valid===16?(Mm(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},use=(e,t)=>{const n=t.dyn_tree,r=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,h,p,f,b,x=0;for(p=0;p<=ju;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<v7;c++)d=e.heap[c],p=n[n[d*2+1]*2+1]+1,p>l&&(p=l,x++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,f=0,d>=a&&(f=o[d-a]),b=n[d*2],e.opt_len+=b*(p+f),i&&(e.static_len+=b*(s[d*2+1]+f)));if(x!==0){do{for(p=l-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[l]--,x-=2}while(x>0);for(p=l;p!==0;p--)for(d=e.bl_count[p];d!==0;)h=e.heap[--c],!(h>r)&&(n[h*2+1]!==p&&(e.opt_len+=(p-n[h*2+1])*n[h*2],n[h*2+1]=p),d--)}},P7=(e,t,n)=>{const r=new Array(ju+1);let s=0,i,o;for(i=1;i<=ju;i++)s=s+n[i-1]<<1,r[i]=s;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=T7(r[a]++,a))}},dse=()=>{let e,t,n,r,s;const i=new Array(ju+1);for(n=0,r=0;r<rN-1;r++)for(oN[r]=n,e=0;e<1<<Xw[r];e++)Dm[n++]=r;for(Dm[n-1]=r,s=0,r=0;r<16;r++)for(vy[r]=s,e=0;e<1<<i1[r];e++)Lm[s++]=r;for(s>>=7;r<Eh;r++)for(vy[r]=s<<7,e=0;e<1<<i1[r]-7;e++)Lm[256+s++]=r;for(t=0;t<=ju;t++)i[t]=0;for(e=0;e<=143;)Ja[e*2+1]=8,e++,i[8]++;for(;e<=255;)Ja[e*2+1]=9,e++,i[9]++;for(;e<=279;)Ja[e*2+1]=7,e++,i[7]++;for(;e<=287;)Ja[e*2+1]=8,e++,i[8]++;for(P7(Ja,Rm+1,i),e=0;e<Eh;e++)Hp[e*2+1]=5,Hp[e*2]=T7(e,5);S7=new vx(Ja,Xw,pg+1,Rm,ju),N7=new vx(Hp,i1,0,Eh,ju),A7=new vx(new Array(0),ase,0,sN,ose)},C7=e=>{let t;for(t=0;t<Rm;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Eh;t++)e.dyn_dtree[t*2]=0;for(t=0;t<sN;t++)e.bl_tree[t*2]=0;e.dyn_ltree[iN*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},k7=e=>{e.bi_valid>8?Mm(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ZT=(e,t,n,r)=>{const s=t*2,i=n*2;return e[s]<e[i]||e[s]===e[i]&&r[t]<=r[n]},bx=(e,t,n)=>{const r=e.heap[n];let s=n<<1;for(;s<=e.heap_len&&(s<e.heap_len&&ZT(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!ZT(t,r,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=r},JT=(e,t,n)=>{let r,s,i=0,o,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],r===0?ua(e,s,t):(o=Dm[s],ua(e,o+pg+1,t),a=Xw[o],a!==0&&(s-=oN[o],ti(e,s,a)),r--,o=E7(r),ua(e,o,n),a=i1[o],a!==0&&(r-=vy[o],ti(e,r,a)));while(i<e.sym_next);ua(e,iN,t)},Zw=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,a,l=-1,c;for(e.heap_len=0,e.heap_max=v7,o=0;o<i;o++)n[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,s&&(e.static_len-=r[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)bx(e,n,o);c=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],bx(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,n[c*2]=n[o*2]+n[a*2],e.depth[c]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,n[o*2+1]=n[a*2+1]=c,e.heap[1]=c++,bx(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],use(e,t),P7(n,l,e.bl_count)},eP=(e,t,n)=>{let r,s=-1,i,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=o,o=t[(r+1)*2+1],!(++a<l&&i===o)&&(a<c?e.bl_tree[i*2]+=a:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[x7*2]++):a<=10?e.bl_tree[b7*2]++:e.bl_tree[w7*2]++,a=0,s=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))},tP=(e,t,n)=>{let r,s=-1,i,o=t[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(i=o,o=t[(r+1)*2+1],!(++a<l&&i===o)){if(a<c)do ua(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==s&&(ua(e,i,e.bl_tree),a--),ua(e,x7,e.bl_tree),ti(e,a-3,2)):a<=10?(ua(e,b7,e.bl_tree),ti(e,a-3,3)):(ua(e,w7,e.bl_tree),ti(e,a-11,7));a=0,s=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4)}},hse=e=>{let t;for(eP(e,e.dyn_ltree,e.l_desc.max_code),eP(e,e.dyn_dtree,e.d_desc.max_code),Zw(e,e.bl_desc),t=sN-1;t>=3&&e.bl_tree[_7[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},fse=(e,t,n,r)=>{let s;for(ti(e,t-257,5),ti(e,n-1,5),ti(e,r-4,4),s=0;s<r;s++)ti(e,e.bl_tree[_7[s]*2+1],3);tP(e,e.dyn_ltree,t-1),tP(e,e.dyn_dtree,n-1)},pse=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return QT;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return XT;for(n=32;n<pg;n++)if(e.dyn_ltree[n*2]!==0)return XT;return QT};let nP=!1;const mse=e=>{nP||(dse(),nP=!0),e.l_desc=new xx(e.dyn_ltree,S7),e.d_desc=new xx(e.dyn_dtree,N7),e.bl_desc=new xx(e.bl_tree,A7),e.bi_buf=0,e.bi_valid=0,C7(e)},j7=(e,t,n,r)=>{ti(e,(nse<<1)+(r?1:0),3),k7(e),Mm(e,n),Mm(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},gse=e=>{ti(e,y7<<1,3),ua(e,iN,Ja),cse(e)},yse=(e,t,n,r)=>{let s,i,o=0;e.level>0?(e.strm.data_type===tse&&(e.strm.data_type=pse(e)),Zw(e,e.l_desc),Zw(e,e.d_desc),o=hse(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=n+5,n+4<=s&&t!==-1?j7(e,t,n,r):e.strategy===ese||i===s?(ti(e,(y7<<1)+(r?1:0),3),JT(e,Ja,Hp)):(ti(e,(rse<<1)+(r?1:0),3),fse(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),JT(e,e.dyn_ltree,e.dyn_dtree)),C7(e),r&&k7(e)},vse=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Dm[n]+pg+1)*2]++,e.dyn_dtree[E7(t)*2]++),e.sym_next===e.sym_end);var xse=mse,bse=j7,wse=yse,_se=vse,Sse=gse,Nse={_tr_init:xse,_tr_stored_block:bse,_tr_flush_block:wse,_tr_tally:_se,_tr_align:Sse};const Ase=(e,t,n,r)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do s=s+t[r++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Om=Ase;const Ese=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},Tse=new Uint32Array(Ese()),Pse=(e,t,n,r)=>{const s=Tse,i=r+n;e^=-1;for(let o=r;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var Or=Pse,sf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mg={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Cse,_tr_stored_block:Jw,_tr_flush_block:kse,_tr_tally:jc,_tr_align:jse}=Nse,{Z_NO_FLUSH:Ic,Z_PARTIAL_FLUSH:Ise,Z_FULL_FLUSH:Rse,Z_FINISH:Qi,Z_BLOCK:rP,Z_OK:Hr,Z_STREAM_END:sP,Z_STREAM_ERROR:_a,Z_DATA_ERROR:Lse,Z_BUF_ERROR:wx,Z_DEFAULT_COMPRESSION:Dse,Z_FILTERED:Mse,Z_HUFFMAN_ONLY:S0,Z_RLE:Ose,Z_FIXED:Fse,Z_DEFAULT_STRATEGY:Vse,Z_UNKNOWN:Bse,Z_DEFLATED:Tv}=mg,Use=9,zse=15,$se=8,qse=29,Wse=256,e5=Wse+1+qse,Hse=30,Gse=19,Kse=2*e5+1,Yse=15,Qt=3,pc=258,Sa=pc+Qt+1,Qse=32,of=42,aN=57,t5=69,n5=73,r5=91,s5=103,Iu=113,_p=666,Rs=1,kf=2,rd=3,jf=4,Xse=3,Ru=(e,t)=>(e.msg=sf[t],t),iP=e=>e*2-(e>4?9:0),rc=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Zse=e=>{let t,n,r,s=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=s?n-s:0;while(--t);t=s,r=t;do n=e.prev[--r],e.prev[r]=n>=s?n-s:0;while(--t)};let Jse=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Rc=Jse;const yi=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},_i=(e,t)=>{kse(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,yi(e.strm)},an=(e,t)=>{e.pending_buf[e.pending++]=t},dp=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},i5=(e,t,n,r)=>{let s=e.avail_in;return s>r&&(s=r),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),n),e.state.wrap===1?e.adler=Om(e.adler,t,s,n):e.state.wrap===2&&(e.adler=Or(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)},I7=(e,t)=>{let n=e.max_chain_length,r=e.strstart,s,i,o=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-Sa?e.strstart-(e.w_size-Sa):0,c=e.window,d=e.w_mask,h=e.prev,p=e.strstart+pc;let f=c[r+o-1],b=c[r+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(s=t,!(c[s+o]!==b||c[s+o-1]!==f||c[s]!==c[r]||c[++s]!==c[r+1])){r+=2,s++;do;while(c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&r<p);if(i=pc-(p-r),r=p-pc,i>o){if(e.match_start=t,o=i,i>=a)break;f=c[r+o-1],b=c[r+o]}}while((t=h[t&d])>l&&--n!==0);return o<=e.lookahead?o:e.lookahead},af=e=>{const t=e.w_size;let n,r,s;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Sa)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Zse(e),r+=t),e.strm.avail_in===0)break;if(n=i5(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Qt)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Rc(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Rc(e,e.ins_h,e.window[s+Qt-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Qt)););}while(e.lookahead<Sa&&e.strm.avail_in!==0)},R7=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,s,i,o=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,r>s+e.strm.avail_in&&(r=s+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Qi||t===Ic||r!==s+e.strm.avail_in)))break;o=t===Qi&&r===s+e.strm.avail_in?1:0,Jw(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,yi(e.strm),s&&(s>r&&(s=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,r-=s),r&&(i5(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?jf:t!==Ic&&t!==Qi&&e.strm.avail_in===0&&e.strstart===e.block_start?kf:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(i5(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=n||(s||t===Qi)&&t!==Ic&&e.strm.avail_in===0&&s<=i)&&(r=s>i?i:s,o=t===Qi&&e.strm.avail_in===0&&r===s?1:0,Jw(e,e.block_start,r,o),e.block_start+=r,yi(e.strm)),o?rd:Rs)},_x=(e,t)=>{let n,r;for(;;){if(e.lookahead<Sa){if(af(e),e.lookahead<Sa&&t===Ic)return Rs;if(e.lookahead===0)break}if(n=0,e.lookahead>=Qt&&(e.ins_h=Rc(e,e.ins_h,e.window[e.strstart+Qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Sa&&(e.match_length=I7(e,n)),e.match_length>=Qt)if(r=jc(e,e.strstart-e.match_start,e.match_length-Qt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Qt){e.match_length--;do e.strstart++,e.ins_h=Rc(e,e.ins_h,e.window[e.strstart+Qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Rc(e,e.ins_h,e.window[e.strstart+1]);else r=jc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(_i(e,!1),e.strm.avail_out===0))return Rs}return e.insert=e.strstart<Qt-1?e.strstart:Qt-1,t===Qi?(_i(e,!0),e.strm.avail_out===0?rd:jf):e.sym_next&&(_i(e,!1),e.strm.avail_out===0)?Rs:kf},Rd=(e,t)=>{let n,r,s;for(;;){if(e.lookahead<Sa){if(af(e),e.lookahead<Sa&&t===Ic)return Rs;if(e.lookahead===0)break}if(n=0,e.lookahead>=Qt&&(e.ins_h=Rc(e,e.ins_h,e.window[e.strstart+Qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Qt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Sa&&(e.match_length=I7(e,n),e.match_length<=5&&(e.strategy===Mse||e.match_length===Qt&&e.strstart-e.match_start>4096)&&(e.match_length=Qt-1)),e.prev_length>=Qt&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-Qt,r=jc(e,e.strstart-1-e.prev_match,e.prev_length-Qt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=Rc(e,e.ins_h,e.window[e.strstart+Qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Qt-1,e.strstart++,r&&(_i(e,!1),e.strm.avail_out===0))return Rs}else if(e.match_available){if(r=jc(e,0,e.window[e.strstart-1]),r&&_i(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Rs}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=jc(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Qt-1?e.strstart:Qt-1,t===Qi?(_i(e,!0),e.strm.avail_out===0?rd:jf):e.sym_next&&(_i(e,!1),e.strm.avail_out===0)?Rs:kf},eie=(e,t)=>{let n,r,s,i;const o=e.window;for(;;){if(e.lookahead<=pc){if(af(e),e.lookahead<=pc&&t===Ic)return Rs;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Qt&&e.strstart>0&&(s=e.strstart-1,r=o[s],r===o[++s]&&r===o[++s]&&r===o[++s])){i=e.strstart+pc;do;while(r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&s<i);e.match_length=pc-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Qt?(n=jc(e,1,e.match_length-Qt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=jc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(_i(e,!1),e.strm.avail_out===0))return Rs}return e.insert=0,t===Qi?(_i(e,!0),e.strm.avail_out===0?rd:jf):e.sym_next&&(_i(e,!1),e.strm.avail_out===0)?Rs:kf},tie=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(af(e),e.lookahead===0)){if(t===Ic)return Rs;break}if(e.match_length=0,n=jc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(_i(e,!1),e.strm.avail_out===0))return Rs}return e.insert=0,t===Qi?(_i(e,!0),e.strm.avail_out===0?rd:jf):e.sym_next&&(_i(e,!1),e.strm.avail_out===0)?Rs:kf};function ta(e,t,n,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=s}const Sp=[new ta(0,0,0,0,R7),new ta(4,4,8,4,_x),new ta(4,5,16,8,_x),new ta(4,6,32,32,_x),new ta(4,4,16,16,Rd),new ta(8,16,32,32,Rd),new ta(8,16,128,128,Rd),new ta(8,32,128,256,Rd),new ta(32,128,258,1024,Rd),new ta(32,258,258,4096,Rd)],nie=e=>{e.window_size=2*e.w_size,rc(e.head),e.max_lazy_match=Sp[e.level].max_lazy,e.good_match=Sp[e.level].good_length,e.nice_match=Sp[e.level].nice_length,e.max_chain_length=Sp[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Qt-1,e.match_available=0,e.ins_h=0};function rie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Tv,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Kse*2),this.dyn_dtree=new Uint16Array((2*Hse+1)*2),this.bl_tree=new Uint16Array((2*Gse+1)*2),rc(this.dyn_ltree),rc(this.dyn_dtree),rc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Yse+1),this.heap=new Uint16Array(2*e5+1),rc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*e5+1),rc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const gg=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==of&&t.status!==aN&&t.status!==t5&&t.status!==n5&&t.status!==r5&&t.status!==s5&&t.status!==Iu&&t.status!==_p?1:0},L7=e=>{if(gg(e))return Ru(e,_a);e.total_in=e.total_out=0,e.data_type=Bse;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?aN:t.wrap?of:Iu,e.adler=t.wrap===2?0:1,t.last_flush=-2,Cse(t),Hr},D7=e=>{const t=L7(e);return t===Hr&&nie(e.state),t},sie=(e,t)=>gg(e)||e.state.wrap!==2?_a:(e.state.gzhead=t,Hr),M7=(e,t,n,r,s,i)=>{if(!e)return _a;let o=1;if(t===Dse&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),s<1||s>Use||n!==Tv||r<8||r>15||t<0||t>9||i<0||i>Fse||r===8&&o!==1)return Ru(e,_a);r===8&&(r=9);const a=new rie;return e.state=a,a.strm=e,a.status=of,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Qt-1)/Qt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,D7(e)},iie=(e,t)=>M7(e,t,Tv,zse,$se,Vse),oie=(e,t)=>{if(gg(e)||t>rP||t<0)return e?Ru(e,_a):_a;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===_p&&t!==Qi)return Ru(e,e.avail_out===0?wx:_a);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(yi(e),e.avail_out===0)return n.last_flush=-1,Hr}else if(e.avail_in===0&&iP(t)<=iP(r)&&t!==Qi)return Ru(e,wx);if(n.status===_p&&e.avail_in!==0)return Ru(e,wx);if(n.status===of&&n.wrap===0&&(n.status=Iu),n.status===of){let s=Tv+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=S0||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,s|=i<<6,n.strstart!==0&&(s|=Qse),s+=31-s%31,dp(n,s),n.strstart!==0&&(dp(n,e.adler>>>16),dp(n,e.adler&65535)),e.adler=1,n.status=Iu,yi(e),n.pending!==0)return n.last_flush=-1,Hr}if(n.status===aN){if(e.adler=0,an(n,31),an(n,139),an(n,8),n.gzhead)an(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),an(n,n.gzhead.time&255),an(n,n.gzhead.time>>8&255),an(n,n.gzhead.time>>16&255),an(n,n.gzhead.time>>24&255),an(n,n.level===9?2:n.strategy>=S0||n.level<2?4:0),an(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(an(n,n.gzhead.extra.length&255),an(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Or(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=t5;else if(an(n,0),an(n,0),an(n,0),an(n,0),an(n,0),an(n,n.level===9?2:n.strategy>=S0||n.level<2?4:0),an(n,Xse),n.status=Iu,yi(e),n.pending!==0)return n.last_flush=-1,Hr}if(n.status===t5){if(n.gzhead.extra){let s=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>s&&(e.adler=Or(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex+=a,yi(e),n.pending!==0)return n.last_flush=-1,Hr;s=0,i-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>s&&(e.adler=Or(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=n5}if(n.status===n5){if(n.gzhead.name){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(e.adler=Or(e.adler,n.pending_buf,n.pending-s,s)),yi(e),n.pending!==0)return n.last_flush=-1,Hr;s=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,an(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(e.adler=Or(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=r5}if(n.status===r5){if(n.gzhead.comment){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(e.adler=Or(e.adler,n.pending_buf,n.pending-s,s)),yi(e),n.pending!==0)return n.last_flush=-1,Hr;s=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,an(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(e.adler=Or(e.adler,n.pending_buf,n.pending-s,s))}n.status=s5}if(n.status===s5){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(yi(e),n.pending!==0))return n.last_flush=-1,Hr;an(n,e.adler&255),an(n,e.adler>>8&255),e.adler=0}if(n.status=Iu,yi(e),n.pending!==0)return n.last_flush=-1,Hr}if(e.avail_in!==0||n.lookahead!==0||t!==Ic&&n.status!==_p){let s=n.level===0?R7(n,t):n.strategy===S0?tie(n,t):n.strategy===Ose?eie(n,t):Sp[n.level].func(n,t);if((s===rd||s===jf)&&(n.status=_p),s===Rs||s===rd)return e.avail_out===0&&(n.last_flush=-1),Hr;if(s===kf&&(t===Ise?jse(n):t!==rP&&(Jw(n,0,0,!1),t===Rse&&(rc(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),yi(e),e.avail_out===0))return n.last_flush=-1,Hr}return t!==Qi?Hr:n.wrap<=0?sP:(n.wrap===2?(an(n,e.adler&255),an(n,e.adler>>8&255),an(n,e.adler>>16&255),an(n,e.adler>>24&255),an(n,e.total_in&255),an(n,e.total_in>>8&255),an(n,e.total_in>>16&255),an(n,e.total_in>>24&255)):(dp(n,e.adler>>>16),dp(n,e.adler&65535)),yi(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Hr:sP)},aie=e=>{if(gg(e))return _a;const t=e.state.status;return e.state=null,t===Iu?Ru(e,Lse):Hr},lie=(e,t)=>{let n=t.length;if(gg(e))return _a;const r=e.state,s=r.wrap;if(s===2||s===1&&r.status!==of||r.lookahead)return _a;if(s===1&&(e.adler=Om(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){s===0&&(rc(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const i=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,af(r);r.lookahead>=Qt;){let l=r.strstart,c=r.lookahead-(Qt-1);do r.ins_h=Rc(r,r.ins_h,r.window[l+Qt-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=Qt-1,af(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Qt-1,r.match_available=0,e.next_in=o,e.input=a,e.avail_in=i,r.wrap=s,Hr};var cie=iie,uie=M7,die=D7,hie=L7,fie=sie,pie=oie,mie=aie,gie=lie,yie="pako deflate (from Nodeca project)",Gp={deflateInit:cie,deflateInit2:uie,deflateReset:die,deflateResetKeep:hie,deflateSetHeader:fie,deflate:pie,deflateEnd:mie,deflateSetDictionary:gie,deflateInfo:yie};const vie=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var xie=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)vie(n,r)&&(e[r]=n[r])}}return e},bie=e=>{let t=0;for(let r=0,s=e.length;r<s;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,s=0,i=e.length;r<i;r++){let o=e[r];n.set(o,s),s+=o.length}return n},Pv={assign:xie,flattenChunks:bie};let O7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{O7=!1}const Fm=new Uint8Array(256);for(let e=0;e<256;e++)Fm[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Fm[254]=Fm[254]=1;var wie=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,s,i,o=e.length,a=0;for(s=0;s<o;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=e.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,s=0;i<a;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=e.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const _ie=(e,t)=>{if(t<65534&&e.subarray&&O7)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var Sie=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let o=e[r++];if(o<128){i[s++]=o;continue}let a=Fm[o];if(a>4){i[s++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|e[r++]&63,a--;if(a>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return _ie(i,s)},Nie=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Fm[e[n]]>t?n:t},Vm={string2buf:wie,buf2string:Sie,utf8border:Nie};function Aie(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var F7=Aie;const V7=Object.prototype.toString,{Z_NO_FLUSH:Eie,Z_SYNC_FLUSH:Tie,Z_FULL_FLUSH:Pie,Z_FINISH:Cie,Z_OK:xy,Z_STREAM_END:kie,Z_DEFAULT_COMPRESSION:jie,Z_DEFAULT_STRATEGY:Iie,Z_DEFLATED:Rie}=mg;function lN(e){this.options=Pv.assign({level:jie,method:Rie,chunkSize:16384,windowBits:15,memLevel:8,strategy:Iie},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F7,this.strm.avail_out=0;let n=Gp.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==xy)throw new Error(sf[n]);if(t.header&&Gp.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Vm.string2buf(t.dictionary):V7.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Gp.deflateSetDictionary(this.strm,r),n!==xy)throw new Error(sf[n]);this._dict_set=!0}}lN.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?Cie:Eie,typeof e=="string"?n.input=Vm.string2buf(e):V7.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Tie||i===Pie)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(s=Gp.deflate(n,i),s===kie)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=Gp.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===xy;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};lN.prototype.onData=function(e){this.chunks.push(e)};lN.prototype.onEnd=function(e){e===xy&&(this.result=Pv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const N0=16209,Lie=16191;var Die=function(t,n){let r,s,i,o,a,l,c,d,h,p,f,b,x,w,v,_,N,R,O,z,k,A,C,M;const P=t.state;r=t.next_in,C=t.input,s=r+(t.avail_in-5),i=t.next_out,M=t.output,o=i-(n-t.avail_out),a=i+(t.avail_out-257),l=P.dmax,c=P.wsize,d=P.whave,h=P.wnext,p=P.window,f=P.hold,b=P.bits,x=P.lencode,w=P.distcode,v=(1<<P.lenbits)-1,_=(1<<P.distbits)-1;e:do{b<15&&(f+=C[r++]<<b,b+=8,f+=C[r++]<<b,b+=8),N=x[f&v];t:for(;;){if(R=N>>>24,f>>>=R,b-=R,R=N>>>16&255,R===0)M[i++]=N&65535;else if(R&16){O=N&65535,R&=15,R&&(b<R&&(f+=C[r++]<<b,b+=8),O+=f&(1<<R)-1,f>>>=R,b-=R),b<15&&(f+=C[r++]<<b,b+=8,f+=C[r++]<<b,b+=8),N=w[f&_];n:for(;;){if(R=N>>>24,f>>>=R,b-=R,R=N>>>16&255,R&16){if(z=N&65535,R&=15,b<R&&(f+=C[r++]<<b,b+=8,b<R&&(f+=C[r++]<<b,b+=8)),z+=f&(1<<R)-1,z>l){t.msg="invalid distance too far back",P.mode=N0;break e}if(f>>>=R,b-=R,R=i-o,z>R){if(R=z-R,R>d&&P.sane){t.msg="invalid distance too far back",P.mode=N0;break e}if(k=0,A=p,h===0){if(k+=c-R,R<O){O-=R;do M[i++]=p[k++];while(--R);k=i-z,A=M}}else if(h<R){if(k+=c+h-R,R-=h,R<O){O-=R;do M[i++]=p[k++];while(--R);if(k=0,h<O){R=h,O-=R;do M[i++]=p[k++];while(--R);k=i-z,A=M}}}else if(k+=h-R,R<O){O-=R;do M[i++]=p[k++];while(--R);k=i-z,A=M}for(;O>2;)M[i++]=A[k++],M[i++]=A[k++],M[i++]=A[k++],O-=3;O&&(M[i++]=A[k++],O>1&&(M[i++]=A[k++]))}else{k=i-z;do M[i++]=M[k++],M[i++]=M[k++],M[i++]=M[k++],O-=3;while(O>2);O&&(M[i++]=M[k++],O>1&&(M[i++]=M[k++]))}}else if(R&64){t.msg="invalid distance code",P.mode=N0;break e}else{N=w[(N&65535)+(f&(1<<R)-1)];continue n}break}}else if(R&64)if(R&32){P.mode=Lie;break e}else{t.msg="invalid literal/length code",P.mode=N0;break e}else{N=x[(N&65535)+(f&(1<<R)-1)];continue t}break}}while(r<s&&i<a);O=b>>3,r-=O,b-=O<<3,f&=(1<<b)-1,t.next_in=r,t.next_out=i,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=i<a?257+(a-i):257-(i-a),P.hold=f,P.bits=b};const Ld=15,oP=852,aP=592,lP=0,Sx=1,cP=2,Mie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Oie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Fie=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Vie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Bie=(e,t,n,r,s,i,o,a)=>{const l=a.bits;let c=0,d=0,h=0,p=0,f=0,b=0,x=0,w=0,v=0,_=0,N,R,O,z,k,A=null,C;const M=new Uint16Array(Ld+1),P=new Uint16Array(Ld+1);let I=null,E,$,Y;for(c=0;c<=Ld;c++)M[c]=0;for(d=0;d<r;d++)M[t[n+d]]++;for(f=l,p=Ld;p>=1&&M[p]===0;p--);if(f>p&&(f=p),p===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<p&&M[h]===0;h++);for(f<h&&(f=h),w=1,c=1;c<=Ld;c++)if(w<<=1,w-=M[c],w<0)return-1;if(w>0&&(e===lP||p!==1))return-1;for(P[1]=0,c=1;c<Ld;c++)P[c+1]=P[c]+M[c];for(d=0;d<r;d++)t[n+d]!==0&&(o[P[t[n+d]]++]=d);if(e===lP?(A=I=o,C=20):e===Sx?(A=Mie,I=Oie,C=257):(A=Fie,I=Vie,C=0),_=0,d=0,c=h,k=i,b=f,x=0,O=-1,v=1<<f,z=v-1,e===Sx&&v>oP||e===cP&&v>aP)return 1;for(;;){E=c-x,o[d]+1<C?($=0,Y=o[d]):o[d]>=C?($=I[o[d]-C],Y=A[o[d]-C]):($=96,Y=0),N=1<<c-x,R=1<<b,h=R;do R-=N,s[k+(_>>x)+R]=E<<24|$<<16|Y|0;while(R!==0);for(N=1<<c-1;_&N;)N>>=1;if(N!==0?(_&=N-1,_+=N):_=0,d++,--M[c]===0){if(c===p)break;c=t[n+o[d]]}if(c>f&&(_&z)!==O){for(x===0&&(x=f),k+=h,b=c-x,w=1<<b;b+x<p&&(w-=M[b+x],!(w<=0));)b++,w<<=1;if(v+=1<<b,e===Sx&&v>oP||e===cP&&v>aP)return 1;O=_&z,s[O]=f<<24|b<<16|k-i|0}}return _!==0&&(s[k+_]=c-x<<24|64<<16|0),a.bits=f,0};var Kp=Bie;const Uie=0,B7=1,U7=2,{Z_FINISH:uP,Z_BLOCK:zie,Z_TREES:A0,Z_OK:sd,Z_STREAM_END:$ie,Z_NEED_DICT:qie,Z_STREAM_ERROR:so,Z_DATA_ERROR:z7,Z_MEM_ERROR:$7,Z_BUF_ERROR:Wie,Z_DEFLATED:dP}=mg,Cv=16180,hP=16181,fP=16182,pP=16183,mP=16184,gP=16185,yP=16186,vP=16187,xP=16188,bP=16189,by=16190,Ya=16191,Nx=16192,wP=16193,Ax=16194,_P=16195,SP=16196,NP=16197,AP=16198,E0=16199,T0=16200,EP=16201,TP=16202,PP=16203,CP=16204,kP=16205,Ex=16206,jP=16207,IP=16208,Wn=16209,q7=16210,W7=16211,Hie=852,Gie=592,Kie=15,Yie=Kie,RP=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Qie(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Cv||t.mode>W7?1:0},H7=e=>{if(pd(e))return so;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Cv,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Hie),t.distcode=t.distdyn=new Int32Array(Gie),t.sane=1,t.back=-1,sd},G7=e=>{if(pd(e))return so;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,H7(e)},K7=(e,t)=>{let n;if(pd(e))return so;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?so:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,G7(e))},Y7=(e,t)=>{if(!e)return so;const n=new Qie;e.state=n,n.strm=e,n.window=null,n.mode=Cv;const r=K7(e,t);return r!==sd&&(e.state=null),r},Xie=e=>Y7(e,Yie);let LP=!0,Tx,Px;const Zie=e=>{if(LP){Tx=new Int32Array(512),Px=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Kp(B7,e.lens,0,288,Tx,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Kp(U7,e.lens,0,32,Px,0,e.work,{bits:5}),LP=!1}e.lencode=Tx,e.lenbits=9,e.distcode=Px,e.distbits=5},Q7=(e,t,n,r)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(t.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},Jie=(e,t)=>{let n,r,s,i,o,a,l,c,d,h,p,f,b,x,w=0,v,_,N,R,O,z,k,A;const C=new Uint8Array(4);let M,P;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pd(e)||!e.output||!e.input&&e.avail_in!==0)return so;n=e.state,n.mode===Ya&&(n.mode=Nx),o=e.next_out,s=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,c=n.hold,d=n.bits,h=a,p=l,A=sd;e:for(;;)switch(n.mode){case Cv:if(n.wrap===0){n.mode=Nx;break}for(;d<16;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=c&255,C[1]=c>>>8&255,n.check=Or(n.check,C,2,0),c=0,d=0,n.mode=hP;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Wn;break}if((c&15)!==dP){e.msg="unknown compression method",n.mode=Wn;break}if(c>>>=4,d-=4,k=(c&15)+8,n.wbits===0&&(n.wbits=k),k>15||k>n.wbits){e.msg="invalid window size",n.mode=Wn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?bP:Ya,c=0,d=0;break;case hP:for(;d<16;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(n.flags=c,(n.flags&255)!==dP){e.msg="unknown compression method",n.mode=Wn;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Wn;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=Or(n.check,C,2,0)),c=0,d=0,n.mode=fP;case fP:for(;d<32;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,n.check=Or(n.check,C,4,0)),c=0,d=0,n.mode=pP;case pP:for(;d<16;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=Or(n.check,C,2,0)),c=0,d=0,n.mode=mP;case mP:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=Or(n.check,C,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=gP;case gP:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+f),k)),n.flags&512&&n.wrap&4&&(n.check=Or(n.check,r,f,i)),a-=f,i+=f,n.length-=f),n.length))break e;n.length=0,n.mode=yP;case yP:if(n.flags&2048){if(a===0)break e;f=0;do k=r[i+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k));while(k&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=Or(n.check,r,f,i)),a-=f,i+=f,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=vP;case vP:if(n.flags&4096){if(a===0)break e;f=0;do k=r[i+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k));while(k&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=Or(n.check,r,f,i)),a-=f,i+=f,k)break e}else n.head&&(n.head.comment=null);n.mode=xP;case xP:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Wn;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ya;break;case bP:for(;d<32;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}e.adler=n.check=RP(c),c=0,d=0,n.mode=by;case by:if(n.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=c,n.bits=d,qie;e.adler=n.check=1,n.mode=Ya;case Ya:if(t===zie||t===A0)break e;case Nx:if(n.last){c>>>=d&7,d-=d&7,n.mode=Ex;break}for(;d<3;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}switch(n.last=c&1,c>>>=1,d-=1,c&3){case 0:n.mode=wP;break;case 1:if(Zie(n),n.mode=E0,t===A0){c>>>=2,d-=2;break e}break;case 2:n.mode=SP;break;case 3:e.msg="invalid block type",n.mode=Wn}c>>>=2,d-=2;break;case wP:for(c>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Wn;break}if(n.length=c&65535,c=0,d=0,n.mode=Ax,t===A0)break e;case Ax:n.mode=_P;case _P:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;s.set(r.subarray(i,i+f),o),a-=f,i+=f,l-=f,o+=f,n.length-=f;break}n.mode=Ya;break;case SP:for(;d<14;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(n.nlen=(c&31)+257,c>>>=5,d-=5,n.ndist=(c&31)+1,c>>>=5,d-=5,n.ncode=(c&15)+4,c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Wn;break}n.have=0,n.mode=NP;case NP:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.lens[I[n.have++]]=c&7,c>>>=3,d-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},A=Kp(Uie,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,A){e.msg="invalid code lengths set",n.mode=Wn;break}n.have=0,n.mode=AP;case AP:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[c&(1<<n.lenbits)-1],v=w>>>24,_=w>>>16&255,N=w&65535,!(v<=d);){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(N<16)c>>>=v,d-=v,n.lens[n.have++]=N;else{if(N===16){for(P=v+2;d<P;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(c>>>=v,d-=v,n.have===0){e.msg="invalid bit length repeat",n.mode=Wn;break}k=n.lens[n.have-1],f=3+(c&3),c>>>=2,d-=2}else if(N===17){for(P=v+3;d<P;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}c>>>=v,d-=v,k=0,f=3+(c&7),c>>>=3,d-=3}else{for(P=v+7;d<P;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}c>>>=v,d-=v,k=0,f=11+(c&127),c>>>=7,d-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Wn;break}for(;f--;)n.lens[n.have++]=k}}if(n.mode===Wn)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Wn;break}if(n.lenbits=9,M={bits:n.lenbits},A=Kp(B7,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,A){e.msg="invalid literal/lengths set",n.mode=Wn;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},A=Kp(U7,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,A){e.msg="invalid distances set",n.mode=Wn;break}if(n.mode=E0,t===A0)break e;case E0:n.mode=T0;case T0:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=c,n.bits=d,Die(e,p),o=e.next_out,s=e.output,l=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,c=n.hold,d=n.bits,n.mode===Ya&&(n.back=-1);break}for(n.back=0;w=n.lencode[c&(1<<n.lenbits)-1],v=w>>>24,_=w>>>16&255,N=w&65535,!(v<=d);){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(_&&!(_&240)){for(R=v,O=_,z=N;w=n.lencode[z+((c&(1<<R+O)-1)>>R)],v=w>>>24,_=w>>>16&255,N=w&65535,!(R+v<=d);){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}c>>>=R,d-=R,n.back+=R}if(c>>>=v,d-=v,n.back+=v,n.length=N,_===0){n.mode=kP;break}if(_&32){n.back=-1,n.mode=Ya;break}if(_&64){e.msg="invalid literal/length code",n.mode=Wn;break}n.extra=_&15,n.mode=EP;case EP:if(n.extra){for(P=n.extra;d<P;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=TP;case TP:for(;w=n.distcode[c&(1<<n.distbits)-1],v=w>>>24,_=w>>>16&255,N=w&65535,!(v<=d);){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(!(_&240)){for(R=v,O=_,z=N;w=n.distcode[z+((c&(1<<R+O)-1)>>R)],v=w>>>24,_=w>>>16&255,N=w&65535,!(R+v<=d);){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}c>>>=R,d-=R,n.back+=R}if(c>>>=v,d-=v,n.back+=v,_&64){e.msg="invalid distance code",n.mode=Wn;break}n.offset=N,n.extra=_&15,n.mode=PP;case PP:if(n.extra){for(P=n.extra;d<P;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Wn;break}n.mode=CP;case CP:if(l===0)break e;if(f=p-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Wn;break}f>n.wnext?(f-=n.wnext,b=n.wsize-f):b=n.wnext-f,f>n.length&&(f=n.length),x=n.window}else x=s,b=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do s[o++]=x[b++];while(--f);n.length===0&&(n.mode=T0);break;case kP:if(l===0)break e;s[o++]=n.length,l--,n.mode=T0;break;case Ex:if(n.wrap){for(;d<32;){if(a===0)break e;a--,c|=r[i++]<<d,d+=8}if(p-=l,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Or(n.check,s,p,o-p):Om(n.check,s,p,o-p)),p=l,n.wrap&4&&(n.flags?c:RP(c))!==n.check){e.msg="incorrect data check",n.mode=Wn;break}c=0,d=0}n.mode=jP;case jP:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Wn;break}c=0,d=0}n.mode=IP;case IP:A=$ie;break e;case Wn:A=z7;break e;case q7:return $7;case W7:default:return so}return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=a,n.hold=c,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<Wn&&(n.mode<Ex||t!==uP))&&Q7(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Or(n.check,s,p,e.next_out-p):Om(n.check,s,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ya?128:0)+(n.mode===E0||n.mode===Ax?256:0),(h===0&&p===0||t===uP)&&A===sd&&(A=Wie),A},eoe=e=>{if(pd(e))return so;let t=e.state;return t.window&&(t.window=null),e.state=null,sd},toe=(e,t)=>{if(pd(e))return so;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,sd):so},noe=(e,t)=>{const n=t.length;let r,s,i;return pd(e)||(r=e.state,r.wrap!==0&&r.mode!==by)?so:r.mode===by&&(s=1,s=Om(s,t,n,0),s!==r.check)?z7:(i=Q7(e,t,n,n),i?(r.mode=q7,$7):(r.havedict=1,sd))};var roe=G7,soe=K7,ioe=H7,ooe=Xie,aoe=Y7,loe=Jie,coe=eoe,uoe=toe,doe=noe,hoe="pako inflate (from Nodeca project)",el={inflateReset:roe,inflateReset2:soe,inflateResetKeep:ioe,inflateInit:ooe,inflateInit2:aoe,inflate:loe,inflateEnd:coe,inflateGetHeader:uoe,inflateSetDictionary:doe,inflateInfo:hoe};function foe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var poe=foe;const X7=Object.prototype.toString,{Z_NO_FLUSH:moe,Z_FINISH:goe,Z_OK:Bm,Z_STREAM_END:Cx,Z_NEED_DICT:kx,Z_STREAM_ERROR:yoe,Z_DATA_ERROR:DP,Z_MEM_ERROR:voe}=mg;function yg(e){this.options=Pv.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F7,this.strm.avail_out=0;let n=el.inflateInit2(this.strm,t.windowBits);if(n!==Bm)throw new Error(sf[n]);if(this.header=new poe,el.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Vm.string2buf(t.dictionary):X7.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=el.inflateSetDictionary(this.strm,t.dictionary),n!==Bm)))throw new Error(sf[n])}yg.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?goe:moe,X7.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=el.inflate(n,o),i===kx&&s&&(i=el.inflateSetDictionary(n,s),i===Bm?i=el.inflate(n,o):i===DP&&(i=kx));n.avail_in>0&&i===Cx&&n.state.wrap>0&&e[n.next_in]!==0;)el.inflateReset(n),i=el.inflate(n,o);switch(i){case yoe:case DP:case kx:case voe:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===Cx))if(this.options.to==="string"){let l=Vm.utf8border(n.output,n.next_out),c=n.next_out-l,d=Vm.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Bm&&a===0)){if(i===Cx)return i=el.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};yg.prototype.onData=function(e){this.chunks.push(e)};yg.prototype.onEnd=function(e){e===Bm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Pv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function cN(e,t){const n=new yg(t);if(n.push(e),n.err)throw n.msg||sf[n.err];return n.result}function xoe(e,t){return t=t||{},t.raw=!0,cN(e,t)}var boe=yg,woe=cN,_oe=xoe,Soe=cN,Noe=mg,Aoe={Inflate:boe,inflate:woe,inflateRaw:_oe,ungzip:Soe,constants:Noe};const{Inflate:Eoe,inflate:Toe,inflateRaw:ace,ungzip:lce}=Aoe;var MP=Eoe,Poe=Toe;const Z7=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;Z7[e]=t}const OP=4294967295;function Coe(e,t,n){let r=e;for(let s=0;s<n;s++)r=Z7[(r^t[s])&255]^r>>>8;return r}function koe(e,t){return(Coe(OP,e,t)^OP)>>>0}function FP(e,t,n){const r=e.readUint32(),s=koe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${s}`)}function J7(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function eM(e,t,n,r){let s=0;for(;s<r;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-r]&255}function tM(e,t,n,r){let s=0;if(n.length===0)for(;s<r;s++)t[s]=e[s];else for(;s<r;s++)t[s]=e[s]+n[s]&255}function nM(e,t,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(n[i]>>1)&255;for(;i<r;i++)t[i]=e[i]+(t[i-s]+n[i]>>1)&255}}function rM(e,t,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+n[i]&255;for(;i<r;i++)t[i]=e[i]+joe(t[i-s],n[i],n[i-s])&255}}function joe(e,t,n){const r=e+t-n,s=Math.abs(r-e),i=Math.abs(r-t),o=Math.abs(r-n);return s<=i&&s<=o?e:i<=o?t:n}function Ioe(e,t,n,r,s,i){switch(e){case 0:J7(t,n,s);break;case 1:eM(t,n,s,i);break;case 2:tM(t,n,r,s);break;case 3:nM(t,n,r,s,i);break;case 4:rM(t,n,r,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Roe=new Uint16Array([255]),Loe=new Uint8Array(Roe.buffer),Doe=Loe[0]===255;function Moe(e){const{data:t,width:n,height:r,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(i/8)*s,l=new Uint8Array(r*n*a);let c=0;for(let d=0;d<7;d++){const h=o[d],p=Math.ceil((n-h.x)/h.xStep),f=Math.ceil((r-h.y)/h.yStep);if(p<=0||f<=0)continue;const b=p*a,x=new Uint8Array(b);for(let w=0;w<f;w++){const v=t[c++],_=t.subarray(c,c+b);c+=b;const N=new Uint8Array(b);Ioe(v,_,N,x,b,a),x.set(N);for(let R=0;R<p;R++){const O=h.x+R*h.xStep,z=h.y+w*h.yStep;if(!(O>=n||z>=r))for(let k=0;k<a;k++)l[(z*n+O)*a+k]=N[R*a+k]}}}if(i===16){const d=new Uint16Array(l.buffer);if(Doe)for(let h=0;h<d.length;h++)d[h]=Ooe(d[h]);return d}else return l}function Ooe(e){return(e&255)<<8|e>>8&255}const Foe=new Uint16Array([255]),Voe=new Uint8Array(Foe.buffer),Boe=Voe[0]===255,Uoe=new Uint8Array(0);function VP(e){const{data:t,width:n,height:r,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,a=Math.ceil(i/8*s*n),l=new Uint8Array(r*a);let c=Uoe,d=0,h,p;for(let f=0;f<r;f++){switch(h=t.subarray(d+1,d+1+a),p=l.subarray(f*a,(f+1)*a),t[d]){case 0:J7(h,p,a);break;case 1:eM(h,p,a,o);break;case 2:tM(h,p,c,a);break;case 3:nM(h,p,c,a,o);break;case 4:rM(h,p,c,a,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}c=p,d+=a+1}if(i===16){const f=new Uint16Array(l.buffer);if(Boe)for(let b=0;b<f.length;b++)f[b]=zoe(f[b]);return f}else return l}function zoe(e){return(e&255)<<8|e>>8&255}const o1=Uint8Array.of(137,80,78,71,13,10,26,10);function BP(e){if(!$oe(e.readBytes(o1.length)))throw new Error("wrong PNG signature")}function $oe(e){if(e.length<o1.length)return!1;for(let t=0;t<o1.length;t++)if(e[t]!==o1[t])return!1;return!0}const qoe="tEXt",Woe=0,sM=new TextDecoder("latin1");function Hoe(e){if(Koe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Goe=/^[\u0000-\u00FF]*$/;function Koe(e){if(!Goe.test(e))throw new Error("invalid latin1 text")}function Yoe(e,t,n){const r=iM(t);e[r]=Qoe(t,n-r.length-1)}function iM(e){for(e.mark();e.readByte()!==Woe;);const t=e.offset;e.reset();const n=sM.decode(e.readBytes(t-e.offset-1));return e.skip(1),Hoe(n),n}function Qoe(e,t){return sM.decode(e.readBytes(t))}const gi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},jx={UNKNOWN:-1,DEFLATE:0},UP={UNKNOWN:-1,ADAPTIVE:0},Ix={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},P0={NONE:0,BACKGROUND:1,PREVIOUS:2},Rx={SOURCE:0,OVER:1};class Xoe extends nN{constructor(n,r={}){super(n);pn(this,"_checkCrc");pn(this,"_inflator");pn(this,"_png");pn(this,"_apng");pn(this,"_end");pn(this,"_hasPalette");pn(this,"_palette");pn(this,"_hasTransparency");pn(this,"_transparency");pn(this,"_compressionMethod");pn(this,"_filterMethod");pn(this,"_interlaceMethod");pn(this,"_colorType");pn(this,"_isAnimated");pn(this,"_numberOfFrames");pn(this,"_numberOfPlays");pn(this,"_frames");pn(this,"_writingDataChunks");const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new MP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=jx.UNKNOWN,this._filterMethod=UP.UNKNOWN,this._interlaceMethod=Ix.UNKNOWN,this._colorType=gi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(BP(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(BP(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case qoe:Yoe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?FP(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?FP(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Zoe(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case gi.GREYSCALE:s=1;break;case gi.TRUECOLOUR:s=3;break;case gi.INDEXED_COLOUR:s=1;break;case gi.GREYSCALE_ALPHA:s=2;break;case gi.TRUECOLOUR_ALPHA:s=4;break;case gi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==jx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<r;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case gi.GREYSCALE:case gi.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case gi.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case gi.UNKNOWN:case gi.GREYSCALE_ALPHA:case gi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=iM(this),s=this.readUint8();if(s!==jx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Poe(i)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=VP({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const i=this._apng.frames.at(n-1);this.disposeFrame(s,i,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,s){switch(n.disposeOp){case P0.NONE:break;case P0.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const a=(i*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[a+l]=0}break;case P0.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const s=1<<this._png.depth,i=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,c=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case Rx.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=i(o,a);for(let d=0;d<this._png.channels;d++)n.data[l+d]=r.data[c+d]}break;case Rx.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=i(o,a);for(let d=0;d<this._png.channels;d++){const h=r.data[c+this._png.channels-1]/s,p=d%(this._png.channels-1)===0?1:r.data[c+d],f=Math.floor(h*p+(1-h)*n.data[l+d]);n.data[l+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==UP.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ix.NO_INTERLACE)this._png.data=VP({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ix.ADAM7)this._png.data=Moe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:P0.NONE,blendOp:Rx.SOURCE,data:n}),this._inflator=new MP,this._writingDataChunks=!1}}function Zoe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var zP;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(zP||(zP={}));function Joe(e,t){return new Xoe(e,t).decode()}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Lx(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var Nn={log:Lx,warn:function(e){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):Lx.call(null,arguments))},error:function(e){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):Lx(e))}};function Dx(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){wu(r.response,t,n)},r.onerror=function(){Nn.error("could not download file")},r.send()}function $P(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function C0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var wu=At.saveAs||((typeof window>"u"?"undefined":mn(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=At.URL||At.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?$P(s.href)?Dx(e,t,n):C0(s,s.target="_blank"):C0(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){C0(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if($P(e))Dx(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){C0(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:mn(i)!=="object"&&(Nn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Dx(e,t,n);var s=e.type==="application/octet-stream",i=/constructor/i.test(At.HTMLElement)||At.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":mn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(e)}else{var l=At.URL||At.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function oM(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var a1=At.atob.bind(At),qP=At.btoa.bind(At);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Mx(e,t){var n=e[0],r=e[1],s=e[2],i=e[3];n=as(n,r,s,i,t[0],7,-680876936),i=as(i,n,r,s,t[1],12,-389564586),s=as(s,i,n,r,t[2],17,606105819),r=as(r,s,i,n,t[3],22,-1044525330),n=as(n,r,s,i,t[4],7,-176418897),i=as(i,n,r,s,t[5],12,1200080426),s=as(s,i,n,r,t[6],17,-1473231341),r=as(r,s,i,n,t[7],22,-45705983),n=as(n,r,s,i,t[8],7,1770035416),i=as(i,n,r,s,t[9],12,-1958414417),s=as(s,i,n,r,t[10],17,-42063),r=as(r,s,i,n,t[11],22,-1990404162),n=as(n,r,s,i,t[12],7,1804603682),i=as(i,n,r,s,t[13],12,-40341101),s=as(s,i,n,r,t[14],17,-1502002290),n=ls(n,r=as(r,s,i,n,t[15],22,1236535329),s,i,t[1],5,-165796510),i=ls(i,n,r,s,t[6],9,-1069501632),s=ls(s,i,n,r,t[11],14,643717713),r=ls(r,s,i,n,t[0],20,-373897302),n=ls(n,r,s,i,t[5],5,-701558691),i=ls(i,n,r,s,t[10],9,38016083),s=ls(s,i,n,r,t[15],14,-660478335),r=ls(r,s,i,n,t[4],20,-405537848),n=ls(n,r,s,i,t[9],5,568446438),i=ls(i,n,r,s,t[14],9,-1019803690),s=ls(s,i,n,r,t[3],14,-187363961),r=ls(r,s,i,n,t[8],20,1163531501),n=ls(n,r,s,i,t[13],5,-1444681467),i=ls(i,n,r,s,t[2],9,-51403784),s=ls(s,i,n,r,t[7],14,1735328473),n=cs(n,r=ls(r,s,i,n,t[12],20,-1926607734),s,i,t[5],4,-378558),i=cs(i,n,r,s,t[8],11,-2022574463),s=cs(s,i,n,r,t[11],16,1839030562),r=cs(r,s,i,n,t[14],23,-35309556),n=cs(n,r,s,i,t[1],4,-1530992060),i=cs(i,n,r,s,t[4],11,1272893353),s=cs(s,i,n,r,t[7],16,-155497632),r=cs(r,s,i,n,t[10],23,-1094730640),n=cs(n,r,s,i,t[13],4,681279174),i=cs(i,n,r,s,t[0],11,-358537222),s=cs(s,i,n,r,t[3],16,-722521979),r=cs(r,s,i,n,t[6],23,76029189),n=cs(n,r,s,i,t[9],4,-640364487),i=cs(i,n,r,s,t[12],11,-421815835),s=cs(s,i,n,r,t[15],16,530742520),n=us(n,r=cs(r,s,i,n,t[2],23,-995338651),s,i,t[0],6,-198630844),i=us(i,n,r,s,t[7],10,1126891415),s=us(s,i,n,r,t[14],15,-1416354905),r=us(r,s,i,n,t[5],21,-57434055),n=us(n,r,s,i,t[12],6,1700485571),i=us(i,n,r,s,t[3],10,-1894986606),s=us(s,i,n,r,t[10],15,-1051523),r=us(r,s,i,n,t[1],21,-2054922799),n=us(n,r,s,i,t[8],6,1873313359),i=us(i,n,r,s,t[15],10,-30611744),s=us(s,i,n,r,t[6],15,-1560198380),r=us(r,s,i,n,t[13],21,1309151649),n=us(n,r,s,i,t[4],6,-145523070),i=us(i,n,r,s,t[11],10,-1120210379),s=us(s,i,n,r,t[2],15,718787259),r=us(r,s,i,n,t[9],21,-343485551),e[0]=mc(n,e[0]),e[1]=mc(r,e[1]),e[2]=mc(s,e[2]),e[3]=mc(i,e[3])}function kv(e,t,n,r,s,i){return t=mc(mc(t,e),mc(r,i)),mc(t<<s|t>>>32-s,n)}function as(e,t,n,r,s,i,o){return kv(t&n|~t&r,e,t,s,i,o)}function ls(e,t,n,r,s,i,o){return kv(t&r|n&~r,e,t,s,i,o)}function cs(e,t,n,r,s,i,o){return kv(t^n^r,e,t,s,i,o)}function us(e,t,n,r,s,i,o){return kv(n^(t|~r),e,t,s,i,o)}function aM(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Mx(r,eae(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Mx(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,Mx(r,s),r}function eae(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var WP="0123456789abcdef".split("");function tae(e){for(var t="",n=0;n<4;n++)t+=WP[e>>8*n+4&15]+WP[e>>8*n&15];return t}function nae(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function o5(e){return aM(e).map(nae).join("")}var rae=function(e){for(var t=0;t<e.length;t++)e[t]=tae(e[t]);return e.join("")}(aM("hello"))!="5d41402abc4b2a76b9719d911017c592";function mc(e,t){if(rae){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function a5(e,t){var n,r,s,i;if(e!==n){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+o.charCodeAt(l))%256,a[l]=a[c],a[c]=d}n=e,r=a}else a=r;var h=t.length,p=0,f=0,b="";for(l=0;l<h;l++)f=(f+(d=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=d,o=a[(a[p]+a[f])%256],b+=String.fromCharCode(t.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var HP={print:4,modify:8,copy:16,"annot-forms":32};function zd(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(a){if(HP.perm!==void 0)throw new Error("Invalid permission: "+a);s+=HP[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=o5(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=a5(this.encryptionKey,this.padding)}function $d(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[r]}return t}function GP(e){if(mn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[n]){var o=t[n][i];try{o[0].apply(e,r)}catch(a){At.console&&Nn.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function wy(e){if(!(this instanceof wy))return new wy(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function lM(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Su(e,t,n,r,s){if(!(this instanceof Su))return new Su(e,t,n,r,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,lM.call(this,r,s)}function oh(e,t,n,r,s){if(!(this instanceof oh))return new oh(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,lM.call(this,r,s)}function at(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,l=16,c="S",d=null;mn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=GP;var b="1.3",x=f.__private__.getPdfVersion=function(){return b};f.__private__.setPdfVersion=function(S){b=S};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return w};var v=f.__private__.getPageFormat=function(S){return w[S]};s=s||"a4";var _="compat",N="advanced",R=_;function O(){this.saveGraphicsState(),J(new Xe(bt,0,0,-bt,0,uo()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),c="n",R=N}function z(){this.restoreGraphicsState(),c="S",R=_}var k=f.__private__.combineFontStyleAndFontWeight=function(S,B){if(S=="bold"&&B=="normal"||S=="bold"&&B==400||S=="normal"&&B=="italic"||S=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(S=B==400||B==="normal"?S==="italic"?"italic":"normal":B!=700&&B!=="bold"||S!=="normal"?(B==700?"bold":B)+""+S:"bold"),S};f.advancedAPI=function(S){var B=R===_;return B&&O.call(this),typeof S!="function"||(S(this),B&&z.call(this)),this},f.compatAPI=function(S){var B=R===N;return B&&z.call(this),typeof S!="function"||(S(this),B&&O.call(this)),this},f.isAdvancedAPI=function(){return R===N};var A,C=function(S){if(R!==N)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=f.roundToPrecision=f.__private__.roundToPrecision=function(S,B){var te=t||B;if(isNaN(S)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(te).replace(/0+$/,"")};A=f.hpf=f.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return M(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return M(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return M(S,16)};var P=f.f2=f.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return M(S,2)},I=f.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return M(S,3)},E=f.scale=f.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return R===_?S*bt:R===N?S:void 0},$=function(S){return E(function(B){return R===_?uo()-B:R===N?B:void 0}(S))};f.__private__.setPrecision=f.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var Y,ae="00000000000000000000000000000000",ee=f.__private__.getFileId=function(){return ae},H=f.__private__.setFileId=function(S){return ae=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Dn=new zd(d.userPermissions,d.userPassword,d.ownerPassword,ae)),ae};f.setFileId=function(S){return H(S),this},f.getFileId=function(){return ee()};var ne=f.__private__.convertDateToPDFDate=function(S){var B=S.getTimezoneOffset(),te=B<0?"+":"-",ue=Math.floor(Math.abs(B/60)),ge=Math.abs(B%60),Ae=[te,Z(ue),"'",Z(ge),"'"].join("");return["D:",S.getFullYear(),Z(S.getMonth()+1),Z(S.getDate()),Z(S.getHours()),Z(S.getMinutes()),Z(S.getSeconds()),Ae].join("")},oe=f.__private__.convertPDFDateToDate=function(S){var B=parseInt(S.substr(2,4),10),te=parseInt(S.substr(6,2),10)-1,ue=parseInt(S.substr(8,2),10),ge=parseInt(S.substr(10,2),10),Ae=parseInt(S.substr(12,2),10),Ie=parseInt(S.substr(14,2),10);return new Date(B,te,ue,ge,Ae,Ie,0)},fe=f.__private__.setCreationDate=function(S){var B;if(S===void 0&&(S=new Date),S instanceof Date)B=ne(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=S}return Y=B},V=f.__private__.getCreationDate=function(S){var B=Y;return S==="jsDate"&&(B=oe(Y)),B};f.setCreationDate=function(S){return fe(S),this},f.getCreationDate=function(S){return V(S)};var Q,Z=f.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},le=f.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ce=0,he=[],ie=[],de=0,_e=[],Pe=[],Me=!1,Oe=ie;f.__private__.setCustomOutputDestination=function(S){Me=!0,Oe=S};var $e=function(S){Me||(Oe=S)};f.__private__.resetCustomOutputDestination=function(){Me=!1,Oe=ie};var J=f.__private__.out=function(S){return S=S.toString(),de+=S.length+1,Oe.push(S),Oe},Be=f.__private__.write=function(S){return J(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},St=f.__private__.getArrayBuffer=function(S){for(var B=S.length,te=new ArrayBuffer(B),ue=new Uint8Array(te);B--;)ue[B]=S.charCodeAt(B);return te},ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ot};var Ne=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(S){return Ne=R===N?S/bt:S,this};var qe,ze=f.__private__.getFontSize=f.getFontSize=function(){return R===_?Ne:Ne*bt},ht=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(S){return ht=S,this},f.__private__.getR2L=f.getR2L=function(){return ht};var Ye,Xt=f.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))qe=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');qe=S}else qe=parseInt(S,10)};f.__private__.getZoomMode=function(){return qe};var jt,lt=f.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ye=S};f.__private__.getPageMode=function(){return Ye};var Pt=f.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');jt=S};f.__private__.getLayoutMode=function(){return jt},f.__private__.setDisplayMode=f.setDisplayMode=function(S,B,te){return Xt(S),Pt(B),lt(te),this};var Ot={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(S){if(Object.keys(Ot).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ot[S]},f.__private__.getDocumentProperties=function(){return Ot},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(S){for(var B in Ot)Ot.hasOwnProperty(B)&&S[B]&&(Ot[B]=S[B]);return this},f.__private__.setDocumentProperty=function(S,B){if(Object.keys(Ot).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ot[S]=B};var et,bt,tt,xn,Lt,xt={},Et={},Ut=[],ct={},tn={},mt={},yt={},un=null,ut=0,nt=[],zt=new GP(f),ft=e.hotfixes||[],Nt={},qt={},dn=[],Xe=function S(B,te,ue,ge,Ae,Ie){if(!(this instanceof S))return new S(B,te,ue,ge,Ae,Ie);isNaN(B)&&(B=1),isNaN(te)&&(te=0),isNaN(ue)&&(ue=0),isNaN(ge)&&(ge=1),isNaN(Ae)&&(Ae=0),isNaN(Ie)&&(Ie=0),this._matrix=[B,te,ue,ge,Ae,Ie]};Object.defineProperty(Xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xe.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(S)},Xe.prototype.multiply=function(S){var B=S.sx*this.sx+S.shy*this.shx,te=S.sx*this.shy+S.shy*this.sy,ue=S.shx*this.sx+S.sy*this.shx,ge=S.shx*this.shy+S.sy*this.sy,Ae=S.tx*this.sx+S.ty*this.shx+this.tx,Ie=S.tx*this.shy+S.ty*this.sy+this.ty;return new Xe(B,te,ue,ge,Ae,Ie)},Xe.prototype.decompose=function(){var S=this.sx,B=this.shy,te=this.shx,ue=this.sy,ge=this.tx,Ae=this.ty,Ie=Math.sqrt(S*S+B*B),Ge=(S/=Ie)*te+(B/=Ie)*ue;te-=S*Ge,ue-=B*Ge;var rt=Math.sqrt(te*te+ue*ue);return Ge/=rt,S*(ue/=rt)<B*(te/=rt)&&(S=-S,B=-B,Ge=-Ge,Ie=-Ie),{scale:new Xe(Ie,0,0,rt,0,0),translate:new Xe(1,0,0,1,ge,Ae),rotate:new Xe(S,B,-B,S,0,0),skew:new Xe(1,0,Ge,1,0,0)}},Xe.prototype.toString=function(S){return this.join(" ")},Xe.prototype.inversed=function(){var S=this.sx,B=this.shy,te=this.shx,ue=this.sy,ge=this.tx,Ae=this.ty,Ie=1/(S*ue-B*te),Ge=ue*Ie,rt=-B*Ie,vt=-te*Ie,pt=S*Ie;return new Xe(Ge,rt,vt,pt,-Ge*ge-vt*Ae,-rt*ge-pt*Ae)},Xe.prototype.applyToPoint=function(S){var B=S.x*this.sx+S.y*this.shx+this.tx,te=S.x*this.shy+S.y*this.sy+this.ty;return new _s(B,te)},Xe.prototype.applyToRectangle=function(S){var B=this.applyToPoint(S),te=this.applyToPoint(new _s(S.x+S.w,S.y+S.h));return new Cl(B.x,B.y,te.x-B.x,te.y-B.y)},Xe.prototype.clone=function(){var S=this.sx,B=this.shy,te=this.shx,ue=this.sy,ge=this.tx,Ae=this.ty;return new Xe(S,B,te,ue,ge,Ae)},f.Matrix=Xe;var gr=f.matrixMult=function(S,B){return B.multiply(S)},er=new Xe(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=er;var bn=function(S,B){if(!tn[S]){var te=(B instanceof Su?"Sh":"P")+(Object.keys(ct).length+1).toString(10);B.id=te,tn[S]=te,ct[te]=B,zt.publish("addPattern",B)}};f.ShadingPattern=Su,f.TilingPattern=oh,f.addShadingPattern=function(S,B){return C("addShadingPattern()"),bn(S,B),this},f.beginTilingPattern=function(S){C("beginTilingPattern()"),Ko(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},f.endTilingPattern=function(S,B){C("endTilingPattern()"),B.stream=Pe[Q].join(`
`),bn(S,B),zt.publish("endTilingPattern",B),dn.pop().restore()};var $n,An=f.__private__.newObject=function(){var S=qn();return Nr(S,!0),S},qn=f.__private__.newObjectDeferred=function(){return ce++,he[ce]=function(){return de},ce},Nr=function(S,B){return B=typeof B=="boolean"&&B,he[S]=de,B&&J(S+" 0 obj"),S},Jr=f.__private__.newAdditionalObject=function(){var S={objId:qn(),content:""};return _e.push(S),S},oo=qn(),Bs=qn(),Us=f.__private__.decodeColorString=function(S){var B=S.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var te=parseFloat(B[0]);B=[te,te,te,"r"]}for(var ue="#",ge=0;ge<3;ge++)ue+=("0"+Math.floor(255*parseFloat(B[ge])).toString(16)).slice(-2);return ue},vs=f.__private__.encodeColorString=function(S){var B;typeof S=="string"&&(S={ch1:S});var te=S.ch1,ue=S.ch2,ge=S.ch3,Ae=S.ch4,Ie=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Ge=new oM(te);if(Ge.ok)te=Ge.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var rt=parseInt(te.substr(1),16);te=rt>>16&255,ue=rt>>8&255,ge=255&rt}if(ue===void 0||Ae===void 0&&te===ue&&ue===ge)B=typeof te=="string"?te+" "+Ie[0]:S.precision===2?P(te/255)+" "+Ie[0]:I(te/255)+" "+Ie[0];else if(Ae===void 0||mn(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",Ie[1]].join(" ");B=typeof te=="string"?[te,ue,ge,Ie[1]].join(" "):S.precision===2?[P(te/255),P(ue/255),P(ge/255),Ie[1]].join(" "):[I(te/255),I(ue/255),I(ge/255),Ie[1]].join(" ")}else B=typeof te=="string"?[te,ue,ge,Ae,Ie[2]].join(" "):S.precision===2?[P(te),P(ue),P(ge),P(Ae),Ie[2]].join(" "):[I(te),I(ue),I(ge),I(Ae),Ie[2]].join(" ");return B},zs=f.__private__.getFilters=function(){return o},$s=f.__private__.putStream=function(S){var B=(S=S||{}).data||"",te=S.filters||zs(),ue=S.alreadyAppliedFilters||[],ge=S.addLength1||!1,Ae=B.length,Ie=S.objectId,Ge=function(j){return j};if(d!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ge=Dn.encryptor(Ie,0));var rt={};te===!0&&(te=["FlateEncode"]);var vt=S.additionalKeyValues||[],pt=(rt=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(B,te):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(rt.data.length!==0&&(vt.push({key:"Length",value:rt.data.length}),ge===!0&&vt.push({key:"Length1",value:Ae})),pt.length!=0)if(pt.split("/").length-1==1)vt.push({key:"Filter",value:pt});else{vt.push({key:"Filter",value:"["+pt+"]"});for(var Wt=0;Wt<vt.length;Wt+=1)if(vt[Wt].key==="DecodeParms"){for(var Pn=[],wn=0;wn<rt.reverseChain.split("/").length-1;wn+=1)Pn.push("null");Pn.push(vt[Wt].value),vt[Wt].value="["+Pn.join(" ")+"]"}}J("<<");for(var g=0;g<vt.length;g++)J("/"+vt[g].key+" "+vt[g].value);J(">>"),rt.data.length!==0&&(J("stream"),J(Ge(rt.data)),J("endstream"))},Uo=f.__private__.putPage=function(S){var B=S.number,te=S.data,ue=S.objId,ge=S.contentsObjId;Nr(ue,!0),J("<</Type /Page"),J("/Parent "+S.rootDictionaryObjId+" 0 R"),J("/Resources "+S.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(A(S.mediaBox.bottomLeftX))+" "+parseFloat(A(S.mediaBox.bottomLeftY))+" "+A(S.mediaBox.topRightX)+" "+A(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&J("/CropBox ["+A(S.cropBox.bottomLeftX)+" "+A(S.cropBox.bottomLeftY)+" "+A(S.cropBox.topRightX)+" "+A(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&J("/BleedBox ["+A(S.bleedBox.bottomLeftX)+" "+A(S.bleedBox.bottomLeftY)+" "+A(S.bleedBox.topRightX)+" "+A(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&J("/TrimBox ["+A(S.trimBox.bottomLeftX)+" "+A(S.trimBox.bottomLeftY)+" "+A(S.trimBox.topRightX)+" "+A(S.trimBox.topRightY)+"]"),S.artBox!==null&&J("/ArtBox ["+A(S.artBox.bottomLeftX)+" "+A(S.artBox.bottomLeftY)+" "+A(S.artBox.topRightX)+" "+A(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&J("/UserUnit "+S.userUnit),zt.publish("putPage",{objId:ue,pageContext:nt[B],pageNumber:B,page:te}),J("/Contents "+ge+" 0 R"),J(">>"),J("endobj");var Ae=te.join(`
`);return R===N&&(Ae+=`
Q`),Nr(ge,!0),$s({data:Ae,filters:zs(),objectId:ge}),J("endobj"),ue},ki=f.__private__.putPages=function(){var S,B,te=[];for(S=1;S<=ut;S++)nt[S].objId=qn(),nt[S].contentsObjId=qn();for(S=1;S<=ut;S++)te.push(Uo({number:S,data:Pe[S],objId:nt[S].objId,contentsObjId:nt[S].contentsObjId,mediaBox:nt[S].mediaBox,cropBox:nt[S].cropBox,bleedBox:nt[S].bleedBox,trimBox:nt[S].trimBox,artBox:nt[S].artBox,userUnit:nt[S].userUnit,rootDictionaryObjId:oo,resourceDictionaryObjId:Bs}));Nr(oo,!0),J("<</Type /Pages");var ue="/Kids [";for(B=0;B<ut;B++)ue+=te[B]+" 0 R ";J(ue+"]"),J("/Count "+ut),J(">>"),J("endobj"),zt.publish("postPutPages")},ji=function(S){zt.publish("putFont",{font:S,out:J,newObject:An,putStream:$s}),S.isAlreadyPutted!==!0&&(S.objectNumber=An(),J("<<"),J("/Type /Font"),J("/BaseFont /"+$d(S.postScriptName)),J("/Subtype /Type1"),typeof S.encoding=="string"&&J("/Encoding /"+S.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},La=function(S){S.objectNumber=An();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[A(S.x),A(S.y),A(S.x+S.width),A(S.y+S.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var te=S.pages[1].join(`
`);$s({data:te,additionalKeyValues:B,objectId:S.objectNumber}),J("endobj")},zo=function(S,B){B||(B=21);var te=An(),ue=function(Ie,Ge){var rt,vt=[],pt=1/(Ge-1);for(rt=0;rt<1;rt+=pt)vt.push(rt);if(vt.push(1),Ie[0].offset!=0){var Wt={offset:0,color:Ie[0].color};Ie.unshift(Wt)}if(Ie[Ie.length-1].offset!=1){var Pn={offset:1,color:Ie[Ie.length-1].color};Ie.push(Pn)}for(var wn="",g=0,j=0;j<vt.length;j++){for(rt=vt[j];rt>Ie[g+1].offset;)g++;var F=Ie[g].offset,K=(rt-F)/(Ie[g+1].offset-F),ye=Ie[g].color,we=Ie[g+1].color;wn+=le(Math.round((1-K)*ye[0]+K*we[0]).toString(16))+le(Math.round((1-K)*ye[1]+K*we[1]).toString(16))+le(Math.round((1-K)*ye[2]+K*we[2]).toString(16))}return wn.trim()}(S.colors,B),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+B+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$s({data:ue,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),J("endobj"),S.objectNumber=An(),J("<< /ShadingType "+S.type),J("/ColorSpace /DeviceRGB");var Ae="/Coords ["+A(parseFloat(S.coords[0]))+" "+A(parseFloat(S.coords[1]))+" ";S.type===2?Ae+=A(parseFloat(S.coords[2]))+" "+A(parseFloat(S.coords[3])):Ae+=A(parseFloat(S.coords[2]))+" "+A(parseFloat(S.coords[3]))+" "+A(parseFloat(S.coords[4]))+" "+A(parseFloat(S.coords[5])),J(Ae+="]"),S.matrix&&J("/Matrix ["+S.matrix.toString()+"]"),J("/Function "+te+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Ii=function(S,B){var te=qn(),ue=An();B.push({resourcesOid:te,objectOid:ue}),S.objectNumber=ue;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+S.boundingBox.map(A).join(" ")+"]"}),ge.push({key:"XStep",value:A(S.xStep)}),ge.push({key:"YStep",value:A(S.yStep)}),ge.push({key:"Resources",value:te+" 0 R"}),S.matrix&&ge.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),$s({data:S.stream,additionalKeyValues:ge,objectId:S.objectNumber}),J("endobj")},ao=function(S){for(var B in S.objectNumber=An(),J("<<"),S)switch(B){case"opacity":J("/ca "+P(S[B]));break;case"stroke-opacity":J("/CA "+P(S[B]))}J(">>"),J("endobj")},Da=function(S){Nr(S.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var B in J("/Font <<"),xt)xt.hasOwnProperty(B)&&(h===!1||h===!0&&p.hasOwnProperty(B))&&J("/"+B+" "+xt[B].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(ct).length>0){for(var B in J("/Shading <<"),ct)ct.hasOwnProperty(B)&&ct[B]instanceof Su&&ct[B].objectNumber>=0&&J("/"+B+" "+ct[B].objectNumber+" 0 R");zt.publish("putShadingPatternDict"),J(">>")}}(),function(B){if(Object.keys(ct).length>0){for(var te in J("/Pattern <<"),ct)ct.hasOwnProperty(te)&&ct[te]instanceof f.TilingPattern&&ct[te].objectNumber>=0&&ct[te].objectNumber<B&&J("/"+te+" "+ct[te].objectNumber+" 0 R");zt.publish("putTilingPatternDict"),J(">>")}}(S.objectOid),function(){if(Object.keys(mt).length>0){var B;for(B in J("/ExtGState <<"),mt)mt.hasOwnProperty(B)&&mt[B].objectNumber>=0&&J("/"+B+" "+mt[B].objectNumber+" 0 R");zt.publish("putGStateDict"),J(">>")}}(),function(){for(var B in J("/XObject <<"),Nt)Nt.hasOwnProperty(B)&&Nt[B].objectNumber>=0&&J("/"+B+" "+Nt[B].objectNumber+" 0 R");zt.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},gd=function(S){Et[S.fontName]=Et[S.fontName]||{},Et[S.fontName][S.fontStyle]=S.id},eu=function(S,B,te,ue,ge){var Ae={id:"F"+(Object.keys(xt).length+1).toString(10),postScriptName:S,fontName:B,fontStyle:te,encoding:ue,isStandardFont:ge||!1,metadata:{}};return zt.publish("addFont",{font:Ae,instance:this}),xt[Ae.id]=Ae,gd(Ae),Ae.id},xs=f.__private__.pdfEscape=f.pdfEscape=function(S,B){return function(te,ue){var ge,Ae,Ie,Ge,rt,vt,pt,Wt,Pn;if(Ie=(ue=ue||{}).sourceEncoding||"Unicode",rt=ue.outputEncoding,(ue.autoencode||rt)&&xt[et].metadata&&xt[et].metadata[Ie]&&xt[et].metadata[Ie].encoding&&(Ge=xt[et].metadata[Ie].encoding,!rt&&xt[et].encoding&&(rt=xt[et].encoding),!rt&&Ge.codePages&&(rt=Ge.codePages[0]),typeof rt=="string"&&(rt=Ge[rt]),rt)){for(pt=!1,vt=[],ge=0,Ae=te.length;ge<Ae;ge++)(Wt=rt[te.charCodeAt(ge)])?vt.push(String.fromCharCode(Wt)):vt.push(te[ge]),vt[ge].charCodeAt(0)>>8&&(pt=!0);te=vt.join("")}for(ge=te.length;pt===void 0&&ge!==0;)te.charCodeAt(ge-1)>>8&&(pt=!0),ge--;if(!pt)return te;for(vt=ue.noBOM?[]:[254,255],ge=0,Ae=te.length;ge<Ae;ge++){if((Pn=(Wt=te.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vt.push(Pn),vt.push(Wt-(Pn<<8))}return String.fromCharCode.apply(void 0,vt)}(S,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_l=f.__private__.beginPage=function(S){Pe[++ut]=[],nt[ut]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},tu(ut),$e(Pe[Q])},Sl=function(S,B){var te,ue,ge;switch(n=B||n,typeof S=="string"&&(te=v(S.toLowerCase()),Array.isArray(te)&&(ue=te[0],ge=te[1])),Array.isArray(S)&&(ue=S[0]*bt,ge=S[1]*bt),isNaN(ue)&&(ue=s[0],ge=s[1]),(ue>14400||ge>14400)&&(Nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),ge=Math.min(14400,ge)),s=[ue,ge],n.substr(0,1)){case"l":ge>ue&&(s=[ge,ue]);break;case"p":ue>ge&&(s=[ge,ue])}_l(s),wt(Gs),J(El),Ks!==0&&J(Ks+" J"),Pl!==0&&J(Pl+" j"),zt.publish("addPage",{pageNumber:ut})},Ma=function(S){S>0&&S<=ut&&(Pe.splice(S,1),nt.splice(S,1),ut--,Q>ut&&(Q=ut),this.setPage(Q))},tu=function(S){S>0&&S<=ut&&(Q=S)},nu=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Pe.length-1},ru=function(S,B,te){var ue,ge=void 0;return te=te||{},S=S!==void 0?S:xt[et].fontName,B=B!==void 0?B:xt[et].fontStyle,ue=S.toLowerCase(),Et[ue]!==void 0&&Et[ue][B]!==void 0?ge=Et[ue][B]:Et[S]!==void 0&&Et[S][B]!==void 0?ge=Et[S][B]:te.disableWarning===!1&&Nn.warn("Unable to look up font label for font '"+S+"', '"+B+"'. Refer to getFontList() for available fonts."),ge||te.noFallback||(ge=Et.times[B])==null&&(ge=Et.times.normal),ge},Ri=f.__private__.putInfo=function(){var S=An(),B=function(ue){return ue};for(var te in d!==null&&(B=Dn.encryptor(S,0)),J("<<"),J("/Producer ("+xs(B("jsPDF "+at.version))+")"),Ot)Ot.hasOwnProperty(te)&&Ot[te]&&J("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+xs(B(Ot[te]))+")");J("/CreationDate ("+xs(B(Y))+")"),J(">>"),J("endobj")},bs=f.__private__.putCatalog=function(S){var B=(S=S||{}).rootDictionaryObjId||oo;switch(An(),J("<<"),J("/Type /Catalog"),J("/Pages "+B+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+qe;te.substr(te.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&J("/OpenAction [3 0 R /XYZ null null "+P(qe)+"]")}switch(jt||(jt="continuous"),jt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Ye&&J("/PageMode /"+Ye),zt.publish("putCatalog"),J(">>"),J("endobj")},qs=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ce+1)),J("/Root "+ce+" 0 R"),J("/Info "+(ce-1)+" 0 R"),d!==null&&J("/Encrypt "+Dn.oid+" 0 R"),J("/ID [ <"+ae+"> <"+ae+"> ]"),J(">>")},En=f.__private__.putHeader=function(){J("%PDF-"+b),J("%")},$o=f.__private__.putXRef=function(){var S="0000000000";J("xref"),J("0 "+(ce+1)),J("0000000000 65535 f ");for(var B=1;B<=ce;B++)typeof he[B]=="function"?J((S+he[B]()).slice(-10)+" 00000 n "):he[B]!==void 0?J((S+he[B]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Ws=f.__private__.buildDocument=function(){var S;ce=0,de=0,ie=[],he=[],_e=[],oo=qn(),Bs=qn(),$e(ie),zt.publish("buildDocument"),En(),ki(),function(){zt.publish("putAdditionalObjects");for(var te=0;te<_e.length;te++){var ue=_e[te];Nr(ue.objId,!0),J(ue.content),J("endobj")}zt.publish("postPutAdditionalObjects")}(),S=[],function(){for(var te in xt)xt.hasOwnProperty(te)&&(h===!1||h===!0&&p.hasOwnProperty(te))&&ji(xt[te])}(),function(){var te;for(te in mt)mt.hasOwnProperty(te)&&ao(mt[te])}(),function(){for(var te in Nt)Nt.hasOwnProperty(te)&&La(Nt[te])}(),function(te){var ue;for(ue in ct)ct.hasOwnProperty(ue)&&(ct[ue]instanceof Su?zo(ct[ue]):ct[ue]instanceof oh&&Ii(ct[ue],te))}(S),zt.publish("putResources"),S.forEach(Da),Da({resourcesOid:Bs,objectOid:Number.MAX_SAFE_INTEGER}),zt.publish("postPutResources"),d!==null&&(Dn.oid=An(),J("<<"),J("/Filter /Standard"),J("/V "+Dn.v),J("/R "+Dn.r),J("/U <"+Dn.toHexString(Dn.U)+">"),J("/O <"+Dn.toHexString(Dn.O)+">"),J("/P "+Dn.P),J(">>"),J("endobj")),Ri(),bs();var B=de;return $o(),qs(),J("startxref"),J(""+B),J("%%EOF"),$e(Pe[Q]),ie.join(`
`)},sn=f.__private__.getBlob=function(S){return new Blob([St(S)],{type:"application/pdf"})},Oa=f.output=f.__private__.output=($n=function(S,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",S){case void 0:return Ws();case"save":f.save(B.filename);break;case"arraybuffer":return St(Ws());case"blob":return sn(Ws());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(sn(Ws()))||void 0;Nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ue=Ws();try{te=qP(ue)}catch{te=qP(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+B.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(ge=B.pdfObjectUrl,Ae="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",Ge=At.open();return Ge!==null&&Ge.document.write(Ie),Ge}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',vt=At.open();if(vt!==null){vt.document.write(rt);var pt=this;vt.document.documentElement.querySelector("#pdfViewer").onload=function(){vt.document.title=B.filename,vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',Pn=At.open();if(Pn!==null&&(Pn.document.write(Wt),Pn.document.title=B.filename),Pn||typeof safari>"u")return Pn;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",B);default:return null}},$n.foo=function(){try{return $n.apply(this,arguments)}catch(te){var S=te.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var B="Error in function "+S.split(`
`)[0].split("<")[0]+": "+te.message;if(!At.console)throw new Error(B);At.console.error(B,te),At.alert&&alert(B)}},$n.foo.bar=$n,$n.foo),Dr=function(S){return Array.isArray(ft)===!0&&ft.indexOf(S)>-1};switch(r){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=Dr("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);bt=r}var Dn=null;fe(),H();var lo=f.__private__.getPageInfo=f.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[S].objId,pageNumber:S,pageContext:nt[S]}},su=f.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in nt)if(nt[B].objId===S)break;return lo(B)},If=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:nt[Q].objId,pageNumber:Q,pageContext:nt[Q]}};f.addPage=function(){return Sl.apply(this,arguments),this},f.setPage=function(){return tu.apply(this,arguments),$e.call(this,Pe[Q]),this},f.insertPage=function(S){return this.addPage(),this.movePage(Q,S),this},f.movePage=function(S,B){var te,ue;if(S>B){te=Pe[S],ue=nt[S];for(var ge=S;ge>B;ge--)Pe[ge]=Pe[ge-1],nt[ge]=nt[ge-1];Pe[B]=te,nt[B]=ue,this.setPage(B)}else if(S<B){te=Pe[S],ue=nt[S];for(var Ae=S;Ae<B;Ae++)Pe[Ae]=Pe[Ae+1],nt[Ae]=nt[Ae+1];Pe[B]=te,nt[B]=ue,this.setPage(B)}return this},f.deletePage=function(){return Ma.apply(this,arguments),this},f.__private__.text=f.text=function(S,B,te,ue,ge){var Ae,Ie,Ge,rt,vt,pt,Wt,Pn,wn,g=(ue=ue||{}).scope||this;if(typeof S=="number"&&typeof B=="number"&&(typeof te=="string"||Array.isArray(te))){var j=te;te=B,B=S,S=j}if(arguments[3]instanceof Xe==0?(Ge=arguments[4],rt=arguments[5],mn(Wt=arguments[3])==="object"&&Wt!==null||(typeof Ge=="string"&&(rt=Ge,Ge=null),typeof Wt=="string"&&(rt=Wt,Wt=null),typeof Wt=="number"&&(Ge=Wt,Wt=null),ue={flags:Wt,angle:Ge,align:rt})):(C("The transform parameter of text() with a Matrix value"),wn=ge),isNaN(B)||isNaN(te)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return g;var F,K="",ye=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:Fa,we=g.internal.scaleFactor;function Fe(ln){return ln=ln.split("	").join(Array(ue.TabLen||9).join(" ")),xs(ln,Wt)}function Tt(ln){for(var _n,lr=ln.concat(),Ar=[],$a=lr.length;$a--;)typeof(_n=lr.shift())=="string"?Ar.push(_n):Array.isArray(ln)&&(_n.length===1||_n[1]===void 0&&_n[2]===void 0)?Ar.push(_n[0]):Ar.push([_n[0],_n[1],_n[2]]);return Ar}function Cn(ln,_n){var lr;if(typeof ln=="string")lr=_n(ln)[0];else if(Array.isArray(ln)){for(var Ar,$a,qf=ln.concat(),Td=[],bg=qf.length;bg--;)typeof(Ar=qf.shift())=="string"?Td.push(_n(Ar)[0]):Array.isArray(Ar)&&typeof Ar[0]=="string"&&($a=_n(Ar[0],Ar[1],Ar[2]),Td.push([$a[0],$a[1],$a[2]]));lr=Td}return lr}var Ht=!1,kn=!0;if(typeof S=="string")Ht=!0;else if(Array.isArray(S)){var Mr=S.concat();Ie=[];for(var es,jn=Mr.length;jn--;)(typeof(es=Mr.shift())!="string"||Array.isArray(es)&&typeof es[0]!="string")&&(kn=!1);Ht=kn}if(Ht===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var ts=Ne/g.internal.scaleFactor,Fi=ts*(ye-1);switch(ue.baseline){case"bottom":te-=Fi;break;case"top":te+=ts-Fi;break;case"hanging":te+=ts-2*Fi;break;case"middle":te+=ts/2-Fi}if((pt=ue.maxWidth||0)>0&&(typeof S=="string"?S=g.splitTextToSize(S,pt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(ln,_n){return ln.concat(g.splitTextToSize(_n,pt))},[]))),Ae={text:S,x:B,y:te,options:ue,mutex:{pdfEscape:xs,activeFontKey:et,fonts:xt,activeFontSize:Ne}},zt.publish("preProcessText",Ae),S=Ae.text,Ge=(ue=Ae.options).angle,wn instanceof Xe==0&&Ge&&typeof Ge=="number"){Ge*=Math.PI/180,ue.rotationDirection===0&&(Ge=-Ge),R===N&&(Ge=-Ge);var Ba=Math.cos(Ge),Mf=Math.sin(Ge);wn=new Xe(Ba,Mf,-Mf,Ba,0,0)}else Ge&&Ge instanceof Xe&&(wn=Ge);R!==N||wn||(wn=er),(vt=ue.charSpace||Mi)!==void 0&&(K+=A(E(vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pn=ue.horizontalScale)!==void 0&&(K+=A(100*Pn)+` Tz
`),ue.lang;var Ns=-1,Ua=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Ad=g.internal.getCurrentPageInfo().pageContext;switch(Ua){case 0:case!1:case"fill":Ns=0;break;case 1:case!0:case"stroke":Ns=1;break;case 2:case"fillThenStroke":Ns=2;break;case 3:case"invisible":Ns=3;break;case 4:case"fillAndAddForClipping":Ns=4;break;case 5:case"strokeAndAddPathForClipping":Ns=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ns=6;break;case 7:case"addToPathForClipping":Ns=7}var vg=Ad.usedRenderingMode!==void 0?Ad.usedRenderingMode:-1;Ns!==-1?K+=Ns+` Tr
`:vg!==-1&&(K+=`0 Tr
`),Ns!==-1&&(Ad.usedRenderingMode=Ns),rt=ue.align||"left";var Vi,cu=Ne*ye,Of=g.internal.pageSize.getWidth(),Ff=xt[et];vt=ue.charSpace||Mi,pt=ue.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var jl=[],uu=function(ln){return g.getStringUnitWidth(ln,{font:Ff,charSpace:vt,fontSize:Ne,doKerning:!1})*Ne/we};if(Object.prototype.toString.call(S)==="[object Array]"){var li;Ie=Tt(S),rt!=="left"&&(Vi=Ie.map(uu));var ci,Il=0;if(rt==="right"){B-=Vi[0],S=[],jn=Ie.length;for(var za=0;za<jn;za++)za===0?(ci=ws(B),li=Di(te)):(ci=E(Il-Vi[za]),li=-cu),S.push([Ie[za],ci,li]),Il=Vi[za]}else if(rt==="center"){B-=Vi[0]/2,S=[],jn=Ie.length;for(var Rl=0;Rl<jn;Rl++)Rl===0?(ci=ws(B),li=Di(te)):(ci=E((Il-Vi[Rl])/2),li=-cu),S.push([Ie[Rl],ci,li]),Il=Vi[Rl]}else if(rt==="left"){S=[],jn=Ie.length;for(var Vf=0;Vf<jn;Vf++)S.push(Ie[Vf])}else if(rt==="justify"&&Ff.encoding==="Identity-H"){S=[],jn=Ie.length,pt=pt!==0?pt:Of;for(var Ed=0,ar=0;ar<jn;ar++)if(li=ar===0?Di(te):-cu,ci=ar===0?ws(B):Ed,ar<jn-1){var xg=E((pt-Vi[ar])/(Ie[ar].split(" ").length-1)),Xo=Ie[ar].split(" ");S.push([Xo[0]+" ",ci,li]),Ed=0;for(var Zo=1;Zo<Xo.length;Zo++){var Bf=(uu(Xo[Zo-1]+" "+Xo[Zo])-uu(Xo[Zo]))*we+xg;Zo==Xo.length-1?S.push([Xo[Zo],Bf,0]):S.push([Xo[Zo]+" ",Bf,0]),Ed-=Bf}}else S.push([Ie[ar],ci,li]);S.push(["",Ed,0])}else{if(rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],jn=Ie.length,pt=pt!==0?pt:Of,ar=0;ar<jn;ar++){li=ar===0?Di(te):-cu,ci=ar===0?ws(B):0;var Uf=Ie[ar].split(" ").length-1,zf=Uf>0?(pt-Vi[ar])/Uf:0;ar<jn-1?jl.push(A(E(zf))):jl.push(0),S.push([Ie[ar],ci,li])}}}(typeof ue.R2L=="boolean"?ue.R2L:ht)===!0&&(S=Cn(S,function(ln,_n,lr){return[ln.split("").reverse().join(""),_n,lr]})),Ae={text:S,x:B,y:te,options:ue,mutex:{pdfEscape:xs,activeFontKey:et,fonts:xt,activeFontSize:Ne}},zt.publish("postProcessText",Ae),S=Ae.text,F=Ae.mutex.isHex||!1;var $f=xt[et].encoding;$f!=="WinAnsiEncoding"&&$f!=="StandardEncoding"||(S=Cn(S,function(ln,_n,lr){return[Fe(ln),_n,lr]})),Ie=Tt(S),S=[];for(var Ll,Dl,Ml,du=Array.isArray(Ie[0])?1:0,Ol="",hu=function(ln,_n,lr){var Ar="";return lr instanceof Xe?(lr=typeof ue.angle=="number"?gr(lr,new Xe(1,0,0,1,ln,_n)):gr(new Xe(1,0,0,1,ln,_n),lr),R===N&&(lr=gr(new Xe(1,0,0,-1,0,0),lr)),Ar=lr.join(" ")+` Tm
`):Ar=A(ln)+" "+A(_n)+` Td
`,Ar},Bi=0;Bi<Ie.length;Bi++){switch(Ol="",du){case 1:Ml=(F?"<":"(")+Ie[Bi][0]+(F?">":")"),Ll=parseFloat(Ie[Bi][1]),Dl=parseFloat(Ie[Bi][2]);break;case 0:Ml=(F?"<":"(")+Ie[Bi]+(F?">":")"),Ll=ws(B),Dl=Di(te)}jl!==void 0&&jl[Bi]!==void 0&&(Ol=jl[Bi]+` Tw
`),Bi===0?S.push(Ol+hu(Ll,Dl,wn)+Ml):du===0?S.push(Ol+Ml):du===1&&S.push(Ol+hu(Ll,Dl,wn)+Ml)}S=du===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Jo=`BT
/`;return Jo+=et+" "+Ne+` Tf
`,Jo+=A(Ne*ye)+` TL
`,Jo+=Ho+`
`,Jo+=K,Jo+=S,J(Jo+="ET"),p[et]=!0,g};var Rf=f.__private__.clip=f.clip=function(S){return J(S==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Rf("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var Li=f.__private__.isValidStyle=function(S){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(B=!0),B};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(S){return Li(S)&&(c=S),this};var yd=f.__private__.getStyle=f.getStyle=function(S){var B=c;switch(S){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=S}return B},qo=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(S){return Hs("f",S),this},f.fillEvenOdd=function(S){return Hs("f*",S),this},f.fillStroke=function(S){return Hs("B",S),this},f.fillStrokeEvenOdd=function(S){return Hs("B*",S),this};var Hs=function(S,B){mn(B)==="object"?xd(B,S):J(S)},Wo=function(S){S===null||R===N&&S===void 0||(S=yd(S),J(S))};function vd(S,B,te,ue,ge){var Ae=new oh(B||this.boundingBox,te||this.xStep,ue||this.yStep,this.gState,ge||this.matrix);Ae.stream=this.stream;var Ie=S+"$$"+this.cloneIndex+++"$$";return bn(Ie,Ae),Ae}var xd=function(S,B){var te=tn[S.key],ue=ct[te];if(ue instanceof Su)J("q"),J(bd(B)),ue.gState&&f.setGState(ue.gState),J(S.matrix.toString()+" cm"),J("/"+te+" sh"),J("Q");else if(ue instanceof oh){var ge=new Xe(1,0,0,-1,0,uo());S.matrix&&(ge=ge.multiply(S.matrix||er),te=vd.call(ue,S.key,S.boundingBox,S.xStep,S.yStep,ge).id),J("q"),J("/Pattern cs"),J("/"+te+" scn"),ue.gState&&f.setGState(ue.gState),J(B),J("Q")}},bd=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Nl=f.moveTo=function(S,B){return J(A(E(S))+" "+A($(B))+" m"),this},co=f.lineTo=function(S,B){return J(A(E(S))+" "+A($(B))+" l"),this},ai=f.curveTo=function(S,B,te,ue,ge,Ae){return J([A(E(S)),A($(B)),A(E(te)),A($(ue)),A(E(ge)),A($(Ae)),"c"].join(" ")),this};f.__private__.line=f.line=function(S,B,te,ue,ge){if(isNaN(S)||isNaN(B)||isNaN(te)||isNaN(ue)||!Li(ge))throw new Error("Invalid arguments passed to jsPDF.line");return R===_?this.lines([[te-S,ue-B]],S,B,[1,1],ge||"S"):this.lines([[te-S,ue-B]],S,B,[1,1]).stroke()},f.__private__.lines=f.lines=function(S,B,te,ue,ge,Ae){var Ie,Ge,rt,vt,pt,Wt,Pn,wn,g,j,F,K;if(typeof S=="number"&&(K=te,te=B,B=S,S=K),ue=ue||[1,1],Ae=Ae||!1,isNaN(B)||isNaN(te)||!Array.isArray(S)||!Array.isArray(ue)||!Li(ge)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Nl(B,te),Ie=ue[0],Ge=ue[1],vt=S.length,j=B,F=te,rt=0;rt<vt;rt++)(pt=S[rt]).length===2?(j=pt[0]*Ie+j,F=pt[1]*Ge+F,co(j,F)):(Wt=pt[0]*Ie+j,Pn=pt[1]*Ge+F,wn=pt[2]*Ie+j,g=pt[3]*Ge+F,j=pt[4]*Ie+j,F=pt[5]*Ge+F,ai(Wt,Pn,wn,g,j,F));return Ae&&qo(),Wo(ge),this},f.path=function(S){for(var B=0;B<S.length;B++){var te=S[B],ue=te.c;switch(te.op){case"m":Nl(ue[0],ue[1]);break;case"l":co(ue[0],ue[1]);break;case"c":ai.apply(this,ue);break;case"h":qo()}}return this},f.__private__.rect=f.rect=function(S,B,te,ue,ge){if(isNaN(S)||isNaN(B)||isNaN(te)||isNaN(ue)||!Li(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return R===_&&(ue=-ue),J([A(E(S)),A($(B)),A(E(te)),A(E(ue)),"re"].join(" ")),Wo(ge),this},f.__private__.triangle=f.triangle=function(S,B,te,ue,ge,Ae,Ie){if(isNaN(S)||isNaN(B)||isNaN(te)||isNaN(ue)||isNaN(ge)||isNaN(Ae)||!Li(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-S,ue-B],[ge-te,Ae-ue],[S-ge,B-Ae]],S,B,[1,1],Ie,!0),this},f.__private__.roundedRect=f.roundedRect=function(S,B,te,ue,ge,Ae,Ie){if(isNaN(S)||isNaN(B)||isNaN(te)||isNaN(ue)||isNaN(ge)||isNaN(Ae)||!Li(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ge=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*te),Ae=Math.min(Ae,.5*ue),this.lines([[te-2*ge,0],[ge*Ge,0,ge,Ae-Ae*Ge,ge,Ae],[0,ue-2*Ae],[0,Ae*Ge,-ge*Ge,Ae,-ge,Ae],[2*ge-te,0],[-ge*Ge,0,-ge,-Ae*Ge,-ge,-Ae],[0,2*Ae-ue],[0,-Ae*Ge,ge*Ge,-Ae,ge,-Ae]],S+ge,B,[1,1],Ie,!0),this},f.__private__.ellipse=f.ellipse=function(S,B,te,ue,ge){if(isNaN(S)||isNaN(B)||isNaN(te)||isNaN(ue)||!Li(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*te,Ie=4/3*(Math.SQRT2-1)*ue;return Nl(S+te,B),ai(S+te,B-Ie,S+Ae,B-ue,S,B-ue),ai(S-Ae,B-ue,S-te,B-Ie,S-te,B),ai(S-te,B+Ie,S-Ae,B+ue,S,B+ue),ai(S+Ae,B+ue,S+te,B+Ie,S+te,B),Wo(ge),this},f.__private__.circle=f.circle=function(S,B,te,ue){if(isNaN(S)||isNaN(B)||isNaN(te)||!Li(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,B,te,te,ue)},f.setFont=function(S,B,te){return te&&(B=k(B,te)),et=ru(S,B,{disableWarning:!1}),this};var Lf=f.__private__.getFont=f.getFont=function(){return xt[ru.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var S,B,te={};for(S in Et)if(Et.hasOwnProperty(S))for(B in te[S]=[],Et[S])Et[S].hasOwnProperty(B)&&te[S].push(B);return te},f.addFont=function(S,B,te,ue,ge){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(te=k(te,ue)),eu.call(this,S,B,te,ge=ge||"Identity-H")};var Fa,Gs=e.lineWidth||.200025,Df=f.__private__.getLineWidth=f.getLineWidth=function(){return Gs},wt=f.__private__.setLineWidth=f.setLineWidth=function(S){return Gs=S,J(A(E(S))+" w"),this};f.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(S,B){if(S=S||[],B=B||0,isNaN(B)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(te){return A(E(te))}).join(" "),B=A(E(B)),J("["+S+"] "+B+" d"),this};var Al=f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*Fa};f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*Fa};var wd=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Fa=S),this},Va=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Fa};wd(e.lineHeight);var ws=f.__private__.getHorizontalCoordinate=function(S){return E(S)},Di=f.__private__.getVerticalCoordinate=function(S){return R===N?S:nt[Q].mediaBox.topRightY-nt[Q].mediaBox.bottomLeftY-E(S)},iu=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(S){return A(ws(S))},Tn=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(S){return A(Di(S))},El=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Us(El)},f.__private__.setStrokeColor=f.setDrawColor=function(S,B,te,ue){return El=vs({ch1:S,ch2:B,ch3:te,ch4:ue,pdfColorType:"draw",precision:2}),J(El),this};var ou=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Us(ou)},f.__private__.setFillColor=f.setFillColor=function(S,B,te,ue){return ou=vs({ch1:S,ch2:B,ch3:te,ch4:ue,pdfColorType:"fill",precision:2}),J(ou),this};var Ho=e.textColor||"0 g",_d=f.__private__.getTextColor=f.getTextColor=function(){return Us(Ho)};f.__private__.setTextColor=f.setTextColor=function(S,B,te,ue){return Ho=vs({ch1:S,ch2:B,ch3:te,ch4:ue,pdfColorType:"text",precision:3}),this};var Mi=e.charSpace,Tl=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Mi||0)};f.__private__.setCharSpace=f.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Mi=S,this};var Ks=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(S){var B=f.CapJoinStyles[S];if(B===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ks=B,J(B+" J"),this};var Pl=0;f.__private__.setLineJoin=f.setLineJoin=function(S){var B=f.CapJoinStyles[S];if(B===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pl=B,J(B+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(A(E(S))+" M"),this},f.GState=wy,f.setGState=function(S){(S=typeof S=="string"?mt[yt[S]]:Sd(null,S)).equals(un)||(J("/"+S.id+" gs"),un=S)};var Sd=function(S,B){if(!S||!yt[S]){var te=!1;for(var ue in mt)if(mt.hasOwnProperty(ue)&&mt[ue].equals(B)){te=!0;break}if(te)B=mt[ue];else{var ge="GS"+(Object.keys(mt).length+1).toString(10);mt[ge]=B,B.id=ge}return S&&(yt[S]=B.id),zt.publish("addGState",B),B}};f.addGState=function(S,B){return Sd(S,B),this},f.saveGraphicsState=function(){return J("q"),Ut.push({key:et,size:Ne,color:Ho}),this},f.restoreGraphicsState=function(){J("Q");var S=Ut.pop();return et=S.key,Ne=S.size,Ho=S.color,un=null,this},f.setCurrentTransformationMatrix=function(S){return J(S.toString()+" cm"),this},f.comment=function(S){return J("#"+S),this};var _s=function(S,B){var te=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ae){isNaN(Ae)||(te=parseFloat(Ae))}});var ue=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Ae){isNaN(Ae)||(ue=parseFloat(Ae))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Ae){ge=Ae.toString()}}),this},Cl=function(S,B,te,ue){_s.call(this,S,B),this.type="rect";var ge=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Ie){isNaN(Ie)||(ge=parseFloat(Ie))}});var Ae=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Ie){isNaN(Ie)||(Ae=parseFloat(Ie))}}),this},Go=function(){this.page=ut,this.currentPage=Q,this.pages=Pe.slice(0),this.pagesContext=nt.slice(0),this.x=tt,this.y=xn,this.matrix=Lt,this.width=Qo(Q),this.height=au(Q),this.outputDestination=Oe,this.id="",this.objectNumber=-1};Go.prototype.restore=function(){ut=this.page,Q=this.currentPage,nt=this.pagesContext,Pe=this.pages,tt=this.x,xn=this.y,Lt=this.matrix,Nd(Q,this.width),Ss(Q,this.height),Oe=this.outputDestination};var Ko=function(S,B,te,ue,ge){dn.push(new Go),ut=Q=0,Pe=[],tt=S,xn=B,Lt=ge,_l([te,ue])};for(var Yo in f.beginFormObject=function(S,B,te,ue,ge){return Ko(S,B,te,ue,ge),this},f.endFormObject=function(S){return function(B){if(qt[B])dn.pop().restore();else{var te=new Go,ue="Xo"+(Object.keys(Nt).length+1).toString(10);te.id=ue,qt[B]=ue,Nt[ue]=te,zt.publish("addFormObject",te),dn.pop().restore()}}(S),this},f.doFormObject=function(S,B){var te=Nt[qt[S]];return J("q"),J(B.toString()+" cm"),J("/"+te.id+" Do"),J("Q"),this},f.getFormObject=function(S){var B=Nt[qt[S]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},f.save=function(S,B){return S=S||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(wu(sn(Ws()),S),typeof wu.unload=="function"&&At.setTimeout&&setTimeout(wu.unload,911),this):new Promise(function(te,ue){try{var ge=wu(sn(Ws()),S);typeof wu.unload=="function"&&At.setTimeout&&setTimeout(wu.unload,911),te(ge)}catch(Ae){ue(Ae.message)}})},at.API)at.API.hasOwnProperty(Yo)&&(Yo==="events"&&at.API.events.length?function(S,B){var te,ue,ge;for(ge=B.length-1;ge!==-1;ge--)te=B[ge][0],ue=B[ge][1],S.subscribe.apply(S,[te].concat(typeof ue=="function"?[ue]:ue))}(zt,at.API.events):f[Yo]=at.API[Yo]);function Qo(S){return nt[S].mediaBox.topRightX-nt[S].mediaBox.bottomLeftX}function Nd(S,B){nt[S].mediaBox.topRightX=B+nt[S].mediaBox.bottomLeftX}function au(S){return nt[S].mediaBox.topRightY-nt[S].mediaBox.bottomLeftY}function Ss(S,B){nt[S].mediaBox.topRightY=B+nt[S].mediaBox.bottomLeftY}var Oi=f.getPageWidth=function(S){return Qo(S=S||Q)/bt},lu=f.setPageWidth=function(S,B){Nd(S,B*bt)},uo=f.getPageHeight=function(S){return au(S=S||Q)/bt},kl=f.setPageHeight=function(S,B){Ss(S,B*bt)};return f.internal={pdfEscape:xs,getStyle:yd,getFont:Lf,getFontSize:ze,getCharSpace:Tl,getTextColor:_d,getLineHeight:Al,getLineHeightFactor:Va,getLineWidth:Df,write:Be,getHorizontalCoordinate:ws,getVerticalCoordinate:Di,getCoordinateString:iu,getVerticalCoordinateString:Tn,collections:{},newObject:An,newAdditionalObject:Jr,newObjectDeferred:qn,newObjectDeferredBegin:Nr,getFilters:zs,putStream:$s,events:zt,scaleFactor:bt,pageSize:{getWidth:function(){return Oi(Q)},setWidth:function(S){lu(Q,S)},getHeight:function(){return uo(Q)},setHeight:function(S){kl(Q,S)}},encryptionOptions:d,encryption:Dn,getEncryptor:function(S){return d!==null?Dn.encryptor(S,0):function(B){return B}},output:Oa,getNumberOfPages:nu,get pages(){return Pe},out:J,f2:P,f3:I,getPageInfo:lo,getPageInfoByObjId:su,getCurrentPageInfo:If,getPDFVersion:x,Point:_s,Rectangle:Cl,Matrix:Xe,hasHotfix:Dr},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Oi(Q)},set:function(S){lu(Q,S)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return uo(Q)},set:function(S){kl(Q,S)},enumerable:!0,configurable:!0}),(function(S){for(var B=0,te=ot.length;B<te;B++){var ue=eu.call(this,S[B][0],S[B][1],S[B][2],ot[B][3],!0);h===!1&&(p[ue]=!0);var ge=S[B][0].split("-");gd({id:ue,fontName:ge[0],fontStyle:ge[1]||""})}zt.publish("addFonts",{fonts:xt,dictionary:Et})}).call(f,ot),et="F1",Sl(s,n),zt.publish("initialized"),f}zd.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},zd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zd.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},zd.prototype.processOwnerPassword=function(e,t){return a5(o5(t).substr(0,5),e)},zd.prototype.encryptor=function(e,t){var n=o5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return a5(n,r)}},wy.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||mn(e)!==mn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},at.API={events:[]},at.version="4.1.0";var sr=at.API,uN=1,md=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_y=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var n=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},It=function(e){return e.toFixed(2)},Kl=function(e){return e.toFixed(5)};sr.__acroform__={};var oi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},KP=function(e){return e*uN},na=function(e){var t=new uM,n=Je.internal.getHeight(e)||0,r=Je.internal.getWidth(e)||0;return t.BBox=[0,0,Number(It(r)),Number(It(n))],t},sae=sr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},iae=sr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},oae=sr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},fr=sr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return oae(e,t-1)},pr=sr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return sae(e,t-1)},mr=sr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iae(e,t-1)},aae=sr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(i+a)||0,l.upperRight_X=n(s+o)||0,l.upperRight_Y=r(i)||0,[Number(It(l.lowerLeft_X)),Number(It(l.lowerLeft_Y)),Number(It(l.upperRight_X)),Number(It(l.upperRight_Y))]},lae=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=l5(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+It(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=na(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},l5=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(P){return P.split(`
`)}):s.map(function(P){return[P]});var i=n,o=Je.internal.getHeight(e)||0;o=o<0?-o:o;var a=Je.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(P,I,E){if(P+1<s.length){var $=I+" "+s[P+1][0];return k0($,e,E).width<=a-4}return!1};i++;e:for(;i>0;){t="",i--;var c,d,h=k0("3",e,i).height,p=e.multiline?o-i:(o-h)/2,f=p+=2,b=0,x=0,w=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+k0(t,e,i=12).width+", FieldWidth:"+a+`
`;break}for(var v="",_=0,N=0;N<s.length;N++)if(s.hasOwnProperty(N)){var R=!1;if(s[N].length!==1&&w!==s[N].length-1){if((h+2)*(_+2)+2>o)continue e;v+=s[N][w],R=!0,x=N,N--}else{v=(v+=s[N][w]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var O=parseInt(N),z=l(O,v,i),k=N>=s.length-1;if(z&&!k){v+=" ",w=0;continue}if(z||k){if(k)x=O;else if(e.multiline&&(h+2)*(_+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(_+2)+2>o)continue e;x=O}}for(var A="",C=b;C<=x;C++){var M=s[C];if(e.multiline){if(C===x){A+=M[w]+" ",w=(w+1)%M.length;continue}if(C===b){A+=M[M.length-1]+" ";continue}}A+=M[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=k0(A,e,i).width,e.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;default:c=2}t+=It(c)+" "+It(f)+` Td
`,t+="("+md(A)+`) Tj
`,t+=-It(c)+` 0 Td
`,f=-(i+2),d=0,b=R?x:x+1,_++,v=""}break}return r.text=t,r.fontSize=i,r},k0=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},cae={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uae=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},dae=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Vo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(cae)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");uN=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new dM,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&uae(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=aae(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Je.createDefaultAppearanceStream(a),mn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=lae(a);l.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var h="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var b=f[o];typeof b=="function"&&(b=b.call(s,a)),h+="/"+o+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=f)=="function"&&(b=b.call(s,a)),h+="/"+o+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:a.objId}),s.internal.out("endobj")}i&&function(x,w){for(var v in x)if(x.hasOwnProperty(v)){var _=v,N=x[v];w.internal.newObjectDeferredBegin(N.objId,!0),mn(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete x[_]}}(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},cM=sr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),mn(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)==="/"?s+="/"+_y(e[i].substr(1)):(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),s+="("+md(r(e[i].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ox=function(e,t,n){var r=function(s){return s};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+md(r(e))+")"},ha=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ha.prototype.toString=function(){return this.objId+" 0 R"},ha.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ha.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:cM(s,this.objId,this.scope)}):s instanceof ha?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:r,value:s}))}return e};var uM=function(){ha.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};oi(uM,ha);var dM=function(){ha.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+md(n(e))+")"}},set:function(n){e=n}})};oi(dM,ha);var Vo=function e(){ha.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fr(t,3)},set:function(v){v?this.F=pr(t,3):this.F=mr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Sy)return;i="FieldObject"+e.FieldNum++}var v=function(_){return _};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+md(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/uN:c},set:function(v){c=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Sy||this instanceof $u))return Ox(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Br==0?Ox(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof Br==0?v.substr(0,1)==="("?Dd(v.substr(1,v.length-2)):Dd(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br==1?Dd(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Br==1?"/"+_y(v):v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Br==0?Ox(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof Br==0?v.substr(0,1)==="("?Dd(v.substr(1,v.length-2)):Dd(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br==1?Dd(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Br==1?"/"+_y(v):v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(v){v=!!v,x=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(v){b=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,1)},set:function(v){v?this.Ff=pr(this.Ff,1):this.Ff=mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,2)},set:function(v){v?this.Ff=pr(this.Ff,2):this.Ff=mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,3)},set:function(v){v?this.Ff=pr(this.Ff,3):this.Ff=mr(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');w=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(w){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};oi(Vo,ha);var Th=function(){Vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cM(t,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,o,a){a||(a=1);for(var l,c=[];l=o.exec(i);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,18)},set:function(n){n?this.Ff=pr(this.Ff,18):this.Ff=mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=pr(this.Ff,19):this.Ff=mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,20)},set:function(n){n?(this.Ff=pr(this.Ff,20),t.sort()):this.Ff=mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,22)},set:function(n){n?this.Ff=pr(this.Ff,22):this.Ff=mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(n){n?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,27)},set:function(n){n?this.Ff=pr(this.Ff,27):this.Ff=mr(this.Ff,27)}}),this.hasAppearanceStream=!1};oi(Th,Vo);var Ph=function(){Th.call(this),this.fontName="helvetica",this.combo=!1};oi(Ph,Th);var Ch=function(){Ph.call(this),this.combo=!0};oi(Ch,Ph);var l1=function(){Ch.call(this),this.edit=!0};oi(l1,Ch);var Br=function(){Vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,15)},set:function(n){n?this.Ff=pr(this.Ff,15):this.Ff=mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,16)},set:function(n){n?this.Ff=pr(this.Ff,16):this.Ff=mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,17)},set:function(n){n?this.Ff=pr(this.Ff,17):this.Ff=mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(n){n?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+md(n(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){mn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+_y(n)}})};oi(Br,Vo);var c1=function(){Br.call(this),this.pushButton=!0};oi(c1,Br);var kh=function(){Br.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};oi(kh,Br);var Sy=function(){var e,t;Vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+md(s(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){mn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};oi(Sy,Vo),kh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},kh.prototype.createOption=function(e){var t=new Sy;return t.Parent=this,t.optionName=e,this.Kids.push(t),hae.call(this.scope,t),t};var u1=function(){Br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Je.CheckBox.createAppearanceStream()};oi(u1,Br);var $u=function(){Vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,13)},set:function(t){t?this.Ff=pr(this.Ff,13):this.Ff=mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,21)},set:function(t){t?this.Ff=pr(this.Ff,21):this.Ff=mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(t){t?this.Ff=pr(this.Ff,23):this.Ff=mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,24)},set:function(t){t?this.Ff=pr(this.Ff,24):this.Ff=mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,25)},set:function(t){t?this.Ff=pr(this.Ff,25):this.Ff=mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(t){t?this.Ff=pr(this.Ff,26):this.Ff=mr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};oi($u,Vo);var d1=function(){$u.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,14)},set:function(e){e?this.Ff=pr(this.Ff,14):this.Ff=mr(this.Ff,14)}}),this.password=!0};oi(d1,$u);var Je={CheckBox:{createAppearanceStream:function(){return{N:{On:Je.CheckBox.YesNormal},D:{On:Je.CheckBox.YesPushDown,Off:Je.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=na(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=l5(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+It(Je.internal.getWidth(e))+" "+It(Je.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+It(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=na(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],i=Je.internal.getHeight(e),o=Je.internal.getWidth(e),a=l5(e,e.caption);return s.push("1 g"),s.push("0 0 "+It(o)+" "+It(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+It(o-1)+" "+It(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+It(a.fontSize)+" Tf "+r),s.push(a.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=na(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+It(Je.internal.getWidth(e))+" "+It(Je.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Je.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Je.RadioButton.Circle.YesNormal,t.D[e]=Je.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=na(e);t.scope=e.scope;var n=[],r=Je.internal.getWidth(e)<=Je.internal.getHeight(e)?Je.internal.getWidth(e)/4:Je.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Je.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Kl(Je.internal.getWidth(e)/2)+" "+Kl(Je.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=na(e);t.scope=e.scope;var n=[],r=Je.internal.getWidth(e)<=Je.internal.getHeight(e)?Je.internal.getWidth(e)/4:Je.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Je.internal.Bezier_C).toFixed(5)),o=Number((r*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Kl(Je.internal.getWidth(e)/2)+" "+Kl(Je.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Kl(Je.internal.getWidth(e)/2)+" "+Kl(Je.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=na(e);t.scope=e.scope;var n=[],r=Je.internal.getWidth(e)<=Je.internal.getHeight(e)?Je.internal.getWidth(e)/4:Je.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Kl(Je.internal.getWidth(e)/2)+" "+Kl(Je.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Je.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Je.RadioButton.Cross.YesNormal,t.D[e]=Je.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=na(e);t.scope=e.scope;var n=[],r=Je.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+It(Je.internal.getWidth(e)-2)+" "+It(Je.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(It(r.x1.x)+" "+It(r.x1.y)+" m"),n.push(It(r.x2.x)+" "+It(r.x2.y)+" l"),n.push(It(r.x4.x)+" "+It(r.x4.y)+" m"),n.push(It(r.x3.x)+" "+It(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=na(e);t.scope=e.scope;var n=Je.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+It(Je.internal.getWidth(e))+" "+It(Je.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+It(Je.internal.getWidth(e)-2)+" "+It(Je.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(It(n.x1.x)+" "+It(n.x1.y)+" m"),r.push(It(n.x2.x)+" "+It(n.x2.y)+" l"),r.push(It(n.x4.x)+" "+It(n.x4.y)+" m"),r.push(It(n.x3.x)+" "+It(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=na(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+It(Je.internal.getWidth(e))+" "+It(Je.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Je.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Je.internal.getWidth(e),n=Je.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Je.internal.getWidth=function(e){var t=0;return mn(e)==="object"&&(t=KP(e.Rect[2])),t},Je.internal.getHeight=function(e){var t=0;return mn(e)==="object"&&(t=KP(e.Rect[3])),t};var hae=sr.addField=function(e){if(dae(this,e),!(e instanceof Vo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};sr.AcroFormChoiceField=Th,sr.AcroFormListBox=Ph,sr.AcroFormComboBox=Ch,sr.AcroFormEditBox=l1,sr.AcroFormButton=Br,sr.AcroFormPushButton=c1,sr.AcroFormRadioButton=kh,sr.AcroFormCheckBox=u1,sr.AcroFormTextField=$u,sr.AcroFormPasswordField=d1,sr.AcroFormAppearance=Je,sr.AcroForm={ChoiceField:Th,ListBox:Ph,ComboBox:Ch,EditBox:l1,Button:Br,PushButton:c1,RadioButton:kh,CheckBox:u1,TextField:$u,PasswordField:d1,Appearance:Je},at.AcroForm={ChoiceField:Th,ListBox:Ph,ComboBox:Ch,EditBox:l1,Button:Br,PushButton:c1,RadioButton:kh,CheckBox:u1,TextField:$u,PasswordField:d1,Appearance:Je};function hM(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(P,I){var E,$,Y,ae,ee,H=n;if((I=I||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(z(P))for(ee in r)for(Y=r[ee],E=0;E<Y.length;E+=1){for(ae=!0,$=0;$<Y[E].length;$+=1)if(Y[E][$]!==void 0&&Y[E][$]!==P[$]){ae=!1;break}if(ae===!0){H=ee;break}}else for(ee in r)for(Y=r[ee],E=0;E<Y.length;E+=1){for(ae=!0,$=0;$<Y[E].length;$+=1)if(Y[E][$]!==void 0&&Y[E][$]!==P.charCodeAt($)){ae=!1;break}if(ae===!0){H=ee;break}}return H===n&&I!==n&&(H=I),H},i=function P(I){for(var E=this.internal.write,$=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:I.width}),ae.push({key:"Height",value:I.height}),I.colorSpace===v.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===v.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var ee="",H=0,ne=I.transparency.length;H<ne;H++)ee+=I.transparency[H]+" "+I.transparency[H]+" ";ae.push({key:"Mask",value:"["+ee+"]"})}I.sMask!==void 0&&ae.push({key:"SMask",value:I.objectId+1+" 0 R"});var oe=I.filter!==void 0?["/"+I.filter]:void 0;if($({data:I.data,additionalKeyValues:ae,alreadyAppliedFilters:oe,objectId:I.objectId}),E("endobj"),"sMask"in I&&I.sMask!==void 0){var fe,V=(fe=I.sMaskBitsPerComponent)!==null&&fe!==void 0?fe:I.bitsPerComponent,Q={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:I.sMask};"filter"in I&&(Q.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(I.width),Q.filter=I.filter),P.call(this,Q)}if(I.colorSpace===v.INDEXED){var Z=this.internal.newObject();$({data:A(new Uint8Array(I.palette)),objectId:Z}),E("endobj")}},o=function(){var P=this.internal.collections[t+"images"];for(var I in P)i.call(this,P[I])},a=function(){var P,I=this.internal.collections[t+"images"],E=this.internal.write;for(var $ in I)E("/I"+(P=I[$]).index,P.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var P=this.internal.collections[t+"images"];return l.call(this),P},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(P){return typeof e["process"+P.toUpperCase()]=="function"},p=function(P){return mn(P)==="object"&&P.nodeType===1},f=function(P,I){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var E=""+P.getAttribute("src");if(E.indexOf("data:image/")===0)return a1(unescape(E).split("base64,").pop());var $=e.loadFile(E,!0);if($!==void 0)return $}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Y;switch(I){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return a1(P.toDataURL(Y,1).split("base64,").pop())}},b=function(P){var I=this.internal.collections[t+"images"];if(I){for(var E in I)if(P===I[E].alias)return I[E]}},x=function(P,I,E){return P||I||(P=-96,I=-96),P<0&&(P=-1*E.width*72/P/this.internal.scaleFactor),I<0&&(I=-1*E.height*72/I/this.internal.scaleFactor),P===0&&(P=I*E.width/E.height),I===0&&(I=P*E.height/E.width),[P,I]},w=function(P,I,E,$,Y,ae){var ee=x.call(this,E,$,Y),H=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,oe=c.call(this);if(E=ee[0],$=ee[1],oe[Y.index]=Y,ae){ae*=Math.PI/180;var fe=Math.cos(ae),V=Math.sin(ae),Q=function(le){return le.toFixed(4)},Z=[Q(fe),Q(V),Q(-1*V),Q(fe),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,H(P),ne(I+$),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([H(E),"0","0",H($),"0","0","cm"].join(" "))):this.internal.write([H(E),"0","0",H($),H(P),ne(I+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=e.__addimage__.sHashCode=function(P){var I,E,$=0;if(typeof P=="string")for(E=P.length,I=0;I<E;I++)$=($<<5)-$+P.charCodeAt(I),$|=0;else if(z(P))for(E=P.byteLength/2,I=0;I<E;I++)$=($<<5)-$+P[I],$|=0;return $},R=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var I=!0;return P.length===0&&(I=!1),P.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(I=!1),I},O=e.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var I=P.indexOf(",");return I<0?null:P.substring(0,I).trim().endsWith("base64")?P.substring(I+1):null};e.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var z=e.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},k=e.__addimage__.binaryStringToUint8Array=function(P){for(var I=P.length,E=new Uint8Array(I),$=0;$<I;$++)E[$]=P.charCodeAt($);return E},A=e.__addimage__.arrayBufferToBinaryString=function(P){for(var I="",E=z(P)?P:new Uint8Array(P),$=0;$<E.length;$+=8192)I+=String.fromCharCode.apply(null,E.subarray($,$+8192));return I};e.addImage=function(){var P,I,E,$,Y,ae,ee,H,ne;if(typeof arguments[1]=="number"?(I=n,E=arguments[1],$=arguments[2],Y=arguments[3],ae=arguments[4],ee=arguments[5],H=arguments[6],ne=arguments[7]):(I=arguments[1],E=arguments[2],$=arguments[3],Y=arguments[4],ae=arguments[5],ee=arguments[6],H=arguments[7],ne=arguments[8]),mn(P=arguments[0])==="object"&&!p(P)&&"imageData"in P){var oe=P;P=oe.imageData,I=oe.format||I||n,E=oe.x||E||0,$=oe.y||$||0,Y=oe.w||oe.width||Y,ae=oe.h||oe.height||ae,ee=oe.alias||ee,H=oe.compression||H,ne=oe.rotation||oe.angle||ne}var fe=this.internal.getFilters();if(H===void 0&&fe.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(E)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var V=C.call(this,P,I,ee,H);return w.call(this,E,$,Y,ae,V,ne),this};var C=function(P,I,E,$){var Y,ae,ee;if(typeof P=="string"&&s(P)===n){P=unescape(P);var H=M(P,!1);(H!==""||(H=e.loadFile(P,!0))!==void 0)&&(P=H)}if(p(P)&&(P=f(P,I)),I=s(P,I),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((ee=E)==null||ee.length===0)&&(E=function(ne){return typeof ne=="string"||z(ne)?N(ne):z(ne.data)?N(ne.data):null}(P)),(Y=b.call(this,E))||(P instanceof Uint8Array||I==="RGBA"||(ae=P,P=k(P)),Y=this["process"+I.toUpperCase()](P,d.call(this),E,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in e.image_compression?ne:_.NONE}($),ae)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},M=e.__addimage__.convertBase64ToBinaryString=function(P,I){I=typeof I!="boolean"||I;var E,$="";if(typeof P=="string"){var Y;E=(Y=O(P))!==null&&Y!==void 0?Y:P;try{$=a1(E)}catch(ae){if(I)throw R(E)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};e.getImageProperties=function(P){var I,E,$="";if(p(P)&&(P=f(P)),typeof P=="string"&&s(P)===n&&(($=M(P,!1))===""&&($=e.loadFile(P)||""),P=$),E=s(P),!h(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(P instanceof Uint8Array||(P=k(P)),!(I=this["process"+E.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=E,I}})(at.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,s,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,d=!1,h=0;h<c.length&&!d;h++)switch((r=c[h]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(x.objId),_=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(v(r.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(v(_))+") >>",x.content=i;var N=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(x.objId,"0 R",w.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(b(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var O=this.annotations._nameMap[r.options.name];r.options.pageNumber=O.page,r.options.top=O.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var z=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+z+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,s,i,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+s),h:c(r+i)},options:o,type:"link"})},e.textWithLink=function(n,r,s,i){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var d=this.splitTextToSize(n,a).length;o=Math.ceil(c*d)}else a=l,o=c;return this.text(n,r,s,i),s+=.2*c,i.align==="center"&&(r-=l/2),i.align==="right"&&(r-=l),this.link(r,s-c,a,o,i),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&s.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&t[x.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(x){var w=0,v=n,_="",N=0;for(w=0;w<x.length;w+=1)v[x.charCodeAt(w)]!==void 0?(N++,typeof(v=v[x.charCodeAt(w)])=="number"&&(_+=String.fromCharCode(v),v=n,N=0),w===x.length-1&&(v=n,_+=x.charAt(w-(N-1)),w-=N-1,N=0)):(v=n,_+=x.charAt(w-N),w-=N,N=0);return _};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(x,w,v){return o(x)?i(x)===!1?-1:!c(x)||!o(w)&&!o(v)||!o(v)&&a(w)||a(x)&&!o(w)||a(x)&&l(w)||a(x)&&a(w)?0:d(x)&&o(w)&&!a(w)&&o(v)&&c(v)?3:a(x)||!o(v)?1:2:-1},f=function(x){var w=0,v=0,_=0,N="",R="",O="",z=(x=x||"").split("\\s+"),k=[];for(w=0;w<z.length;w+=1){for(k.push(""),v=0;v<z[w].length;v+=1)N=z[w][v],R=z[w][v-1],O=z[w][v+1],o(N)?(_=p(N,R,O),k[w]+=_!==-1?String.fromCharCode(t[N.charCodeAt(0)][_]):N):k[w]+=N;k[w]=h(k[w])}return k.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var x,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(w)){var _=0;for(v=[],_=0;_<w.length;_+=1)Array.isArray(w[_])?v.push([f(w[_][0]),w[_][1],w[_][2]]):v.push([f(w[_])]);x=v}else x=f(w);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",b])}(at.API),at.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(at.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(x){b=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,b=0,x=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,R){return N.concat(w.splitTextToSize(R,v))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)f<(x=this.getStringUnitWidth(l[_],{font:h})*d)&&(f=x);return f!==0&&(b=l.length),{w:f/=p,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,d,h,p){if(r.call(this),!d)throw new Error("No data for PDF table.");var f,b,x,w,v=[],_=[],N=[],R={},O={},z=[],k=[],A=(p=p||{}).autoSize||!1,C=p.printHeaders!==!1,M=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,P=p.margins||Object.assign({width:this.getPageWidth()},t),I=typeof p.padding=="number"?p.padding:3,E=p.headerBackgroundColor||"#c8c8c8",$=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=$,this.setFontSize(M),h==null)_=v=Object.keys(d[0]),N=v.map(function(){return"left"});else if(Array.isArray(h)&&mn(h[0])==="object")for(v=h.map(function(oe){return oe.name}),_=h.map(function(oe){return oe.prompt||oe.name||""}),N=h.map(function(oe){return oe.align||"left"}),f=0;f<h.length;f+=1)O[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(_=v=h,N=v.map(function(){return"left"}));if(A||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<v.length;f+=1){for(R[w=v[f]]=d.map(function(oe){return oe[w]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(_[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=R[w],this.setFont(void 0,"normal"),x=0;x<b.length;x+=1)z.push(this.getTextDimensions(b[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[w]=Math.max.apply(null,z)+I+I,z=[]}if(C){var Y={};for(f=0;f<v.length;f+=1)Y[v[f]]={},Y[v[f]].text=_[f],Y[v[f]].align=N[f];var ae=a.call(this,Y,O);k=v.map(function(oe){return new i(l,c,O[oe],ae,Y[oe].text,void 0,Y[oe].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var ee=h.reduce(function(oe,fe){return oe[fe.name]=fe.align,oe},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var H=a.call(this,d[f],O);for(x=0;x<v.length;x+=1){var ne=d[f][v[x]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:x,data:ne},this),o.call(this,new i(l,c,O[v[x]],H,ne,f+2,ee[v[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var b=l[f];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+d+d},this).reduce(function(f,b){return Math.max(f,b)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(at.API);var fM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},pM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],c5=hM(pM),mM=[100,200,300,400,500,600,700,800,900],fae=hM(mM);function Fx(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return fM[i=i||"normal"]?i:"normal"}(e.style),r=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof c5[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function YP(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var pae={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},QP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function XP(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ZP(e){return e.trimLeft()}function mae(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function gae(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Md,j0,JP,eC,tC,Vx=["times"];function nC(e,t,n,r,s){var i=4,o=sC;switch(s){case at.API.image_compression.FAST:i=1,o=rC;break;case at.API.image_compression.MEDIUM:i=6,o=iC;break;case at.API.image_compression.SLOW:i=9,o=oC}e=function(l,c,d,h){for(var p,f=l.length/c,b=new Uint8Array(l.length+f),x=[yae,rC,sC,iC,oC],w=0;w<f;w+=1){var v=w*c,_=l.subarray(v,v+c);if(h)b.set(h(_,d,p),v+w);else{for(var N=x.length,R=[],O=0;O<N;O+=1)R[O]=x[O](_,d,p);var z=xae(R.concat());b.set(R[z],v+w)}p=_}return b}(e,t,Math.ceil(n*r/8),o);var a=Qw(e,{level:i});return at.API.__addimage__.arrayBufferToBinaryString(a)}function yae(e){var t=Array.apply([],e);return t.unshift(0),t}function rC(e,t){var n=e.length,r=[];r[0]=1;for(var s=0;s<n;s+=1){var i=e[s-t]||0;r[s+1]=e[s]-i+256&255}return r}function sC(e,t,n){var r=e.length,s=[];s[0]=2;for(var i=0;i<r;i+=1){var o=n&&n[i]||0;s[i+1]=e[i]-o+256&255}return s}function iC(e,t,n){var r=e.length,s=[];s[0]=3;for(var i=0;i<r;i+=1){var o=e[i-t]||0,a=n&&n[i]||0;s[i+1]=e[i]+256-(o+a>>>1)&255}return s}function oC(e,t,n){var r=e.length,s=[];s[0]=4;for(var i=0;i<r;i+=1){var o=vae(e[i-t]||0,n&&n[i]||0,n&&n[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function vae(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),s=Math.abs(e-n),i=Math.abs(e+t-n-n);return r<=s&&r<=i?e:s<=i?t:n}function xae(e){var t=e.map(function(n){return n.reduce(function(r,s){return r+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function Bx(e,t,n){var r=t*n,s=Math.floor(r/8),i=16-(r-8*s+n),o=(1<<n)-1;return gM(e,s)>>i&o}function aC(e,t,n,r){var s=n*r,i=Math.floor(s/8),o=16-(s-8*i+r),a=(1<<r)-1,l=(t&a)<<o;(function(c,d,h){if(d+1<c.byteLength)c.setUint16(d,h,!1);else{var p=h>>8&255;c.setUint8(d,p)}})(e,i,gM(e,i)&~(a<<o)&65535|l)}function gM(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function bae(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var a=null,l=null;i&&(a=t,l=o,t+=3*o);var c=!0,d=[],h=0,p=null,f=0,b=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&x||(p=null),f=x>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,R=e[t++],O=R>>6&1,z=1<<1+(7&R),k=a,A=l,C=!1;R>>7&&(C=!0,k=t,A=z,t+=3*z);var M=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}d.push({x:w,y:v,width:_,height:N,has_local_palette:C,palette_offset:k,palette_size:A,data_offset:M,data_length:t-M,transparent_index:p,interlaced:!!O,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,E){var $=this.frameInfo(I),Y=$.width*$.height,ae=new Uint8Array(Y);lC(e,$.data_offset,ae,Y);var ee=$.palette_offset,H=$.transparent_index;H===null&&(H=256);var ne=$.width,oe=n-ne,fe=ne,V=4*($.y*n+$.x),Q=4*(($.y+$.height)*n+$.x),Z=V,le=4*oe;$.interlaced===!0&&(le+=4*n*7);for(var ce=8,he=0,ie=ae.length;he<ie;++he){var de=ae[he];if(fe===0&&(fe=ne,(Z+=le)>=Q&&(le=4*oe+4*n*(ce-1),Z=V+(ne+oe)*(ce<<1),ce>>=1)),de===H)Z+=4;else{var _e=e[ee+3*de],Pe=e[ee+3*de+1],Me=e[ee+3*de+2];E[Z++]=Me,E[Z++]=Pe,E[Z++]=_e,E[Z++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(I,E){var $=this.frameInfo(I),Y=$.width*$.height,ae=new Uint8Array(Y);lC(e,$.data_offset,ae,Y);var ee=$.palette_offset,H=$.transparent_index;H===null&&(H=256);var ne=$.width,oe=n-ne,fe=ne,V=4*($.y*n+$.x),Q=4*(($.y+$.height)*n+$.x),Z=V,le=4*oe;$.interlaced===!0&&(le+=4*n*7);for(var ce=8,he=0,ie=ae.length;he<ie;++he){var de=ae[he];if(fe===0&&(fe=ne,(Z+=le)>=Q&&(le=4*oe+4*n*(ce-1),Z=V+(ne+oe)*(ce<<1),ce>>=1)),de===H)Z+=4;else{var _e=e[ee+3*de],Pe=e[ee+3*de+1],Me=e[ee+3*de+2];E[Z++]=_e,E[Z++]=Pe,E[Z++]=Me,E[Z++]=255}--fe}}}function lC(e,t,n,r){for(var s=e[t++],i=1<<s,o=i+1,a=o+1,l=s+1,c=(1<<l)-1,d=0,h=0,p=0,f=e[t++],b=new Int32Array(4096),x=null;;){for(;d<16&&f!==0;)h|=e[t++]<<d,d+=8,f===1?f=e[t++]:--f;if(d<l)break;var w=h&c;if(h>>=l,d-=l,w!==i){if(w===o)break;for(var v=w<a?w:x,_=0,N=v;N>i;)N=b[N]>>8,++_;var R=N;if(p+_+(v!==w?1:0)>r)return void Nn.log("Warning, gif stream longer than expected.");n[p++]=R;var O=p+=_;for(v!==w&&(n[p++]=R),N=v;_--;)N=b[N],n[--O]=255&N,N>>=8;x!==null&&a<4096&&(b[a++]=x<<8|R,a>=c+1&&l<12&&(++l,c=c<<1|1)),x=w}else a=o+1,c=(1<<(l=s+1))-1,x=null}return p!==r&&Nn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ux(e){var t,n,r,s,i,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),b=new Array(64),x=[],w=0,v=7,_=new Array(64),N=new Array(64),R=new Array(64),O=new Array(256),z=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(V,Q){for(var Z=0,le=0,ce=new Array,he=1;he<=16;he++){for(var ie=1;ie<=V[he];ie++)ce[Q[le]]=[],ce[Q[le]][0]=Z,ce[Q[le]][1]=he,le++,Z++;Z*=2}return ce}function ee(V){for(var Q=V[0],Z=V[1]-1;Z>=0;)Q&1<<Z&&(w|=1<<v),Z--,--v<0&&(w==255?(H(255),H(0)):H(w),v=7,w=0)}function H(V){x.push(V)}function ne(V){H(V>>8&255),H(255&V)}function oe(V,Q,Z,le,ce){for(var he,ie=ce[0],de=ce[240],_e=function(Ne,qe){var ze,ht,Ye,Xt,jt,lt,Pt,Ot,et,bt,tt=0;for(et=0;et<8;++et){ze=Ne[tt],ht=Ne[tt+1],Ye=Ne[tt+2],Xt=Ne[tt+3],jt=Ne[tt+4],lt=Ne[tt+5],Pt=Ne[tt+6];var xn=ze+(Ot=Ne[tt+7]),Lt=ze-Ot,xt=ht+Pt,Et=ht-Pt,Ut=Ye+lt,ct=Ye-lt,tn=Xt+jt,mt=Xt-jt,yt=xn+tn,un=xn-tn,ut=xt+Ut,nt=xt-Ut;Ne[tt]=yt+ut,Ne[tt+4]=yt-ut;var zt=.707106781*(nt+un);Ne[tt+2]=un+zt,Ne[tt+6]=un-zt;var ft=.382683433*((yt=mt+ct)-(nt=Et+Lt)),Nt=.5411961*yt+ft,qt=1.306562965*nt+ft,dn=.707106781*(ut=ct+Et),Xe=Lt+dn,gr=Lt-dn;Ne[tt+5]=gr+Nt,Ne[tt+3]=gr-Nt,Ne[tt+1]=Xe+qt,Ne[tt+7]=Xe-qt,tt+=8}for(tt=0,et=0;et<8;++et){ze=Ne[tt],ht=Ne[tt+8],Ye=Ne[tt+16],Xt=Ne[tt+24],jt=Ne[tt+32],lt=Ne[tt+40],Pt=Ne[tt+48];var er=ze+(Ot=Ne[tt+56]),bn=ze-Ot,$n=ht+Pt,An=ht-Pt,qn=Ye+lt,Nr=Ye-lt,Jr=Xt+jt,oo=Xt-jt,Bs=er+Jr,Us=er-Jr,vs=$n+qn,zs=$n-qn;Ne[tt]=Bs+vs,Ne[tt+32]=Bs-vs;var $s=.707106781*(zs+Us);Ne[tt+16]=Us+$s,Ne[tt+48]=Us-$s;var Uo=.382683433*((Bs=oo+Nr)-(zs=An+bn)),ki=.5411961*Bs+Uo,ji=1.306562965*zs+Uo,La=.707106781*(vs=Nr+An),zo=bn+La,Ii=bn-La;Ne[tt+40]=Ii+ki,Ne[tt+24]=Ii-ki,Ne[tt+8]=zo+ji,Ne[tt+56]=zo-ji,tt++}for(et=0;et<64;++et)bt=Ne[et]*qe[et],f[et]=bt>0?bt+.5|0:bt-.5|0;return f}(V,Q),Pe=0;Pe<64;++Pe)b[k[Pe]]=_e[Pe];var Me=b[0]-Z;Z=b[0],Me==0?ee(le[0]):(ee(le[p[he=32767+Me]]),ee(h[he]));for(var Oe=63;Oe>0&&b[Oe]==0;)Oe--;if(Oe==0)return ee(ie),Z;for(var $e,J=1;J<=Oe;){for(var Be=J;b[J]==0&&J<=Oe;)++J;var St=J-Be;if(St>=16){$e=St>>4;for(var ot=1;ot<=$e;++ot)ee(de);St&=15}he=32767+b[J],ee(ce[(St<<4)+p[he]]),ee(h[he]),J++}return Oe!=63&&ee(ie),Z}function fe(V){V=Math.min(Math.max(V,1),100),i!=V&&(function(Q){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ce=o((Z[le]*Q+50)/100);ce=Math.min(Math.max(ce,1),255),a[k[le]]=ce}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ie=0;ie<64;ie++){var de=o((he[ie]*Q+50)/100);de=Math.min(Math.max(de,1),255),l[k[ie]]=de}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Me=0;Me<8;Me++)for(var Oe=0;Oe<8;Oe++)c[Pe]=1/(a[k[Pe]]*_e[Me]*_e[Oe]*8),d[Pe]=1/(l[k[Pe]]*_e[Me]*_e[Oe]*8),Pe++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),i=V)}this.encode=function(V,Q){Q&&fe(Q),x=new Array,w=0,v=7,ne(65496),ne(65504),ne(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),ne(1),ne(1),H(0),H(0),function(){ne(65499),ne(132),H(0);for(var ht=0;ht<64;ht++)H(a[ht]);H(1);for(var Ye=0;Ye<64;Ye++)H(l[Ye])}(),function(ht,Ye){ne(65472),ne(17),H(8),ne(Ye),ne(ht),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(V.width,V.height),function(){ne(65476),ne(418),H(0);for(var ht=0;ht<16;ht++)H(A[ht+1]);for(var Ye=0;Ye<=11;Ye++)H(C[Ye]);H(16);for(var Xt=0;Xt<16;Xt++)H(M[Xt+1]);for(var jt=0;jt<=161;jt++)H(P[jt]);H(1);for(var lt=0;lt<16;lt++)H(I[lt+1]);for(var Pt=0;Pt<=11;Pt++)H(E[Pt]);H(17);for(var Ot=0;Ot<16;Ot++)H($[Ot+1]);for(var et=0;et<=161;et++)H(Y[et])}(),ne(65498),ne(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var Z=0,le=0,ce=0;w=0,v=7,this.encode.displayName="_encode_";for(var he,ie,de,_e,Pe,Me,Oe,$e,J,Be=V.data,St=V.width,ot=V.height,Ne=4*St,qe=0;qe<ot;){for(he=0;he<Ne;){for(Pe=Ne*qe+he,Oe=-1,$e=0,J=0;J<64;J++)Me=Pe+($e=J>>3)*Ne+(Oe=4*(7&J)),qe+$e>=ot&&(Me-=Ne*(qe+1+$e-ot)),he+Oe>=Ne&&(Me-=he+Oe-Ne+4),ie=Be[Me++],de=Be[Me++],_e=Be[Me++],_[J]=(z[ie]+z[de+256|0]+z[_e+512|0]>>16)-128,N[J]=(z[ie+768|0]+z[de+1024|0]+z[_e+1280|0]>>16)-128,R[J]=(z[ie+1280|0]+z[de+1536|0]+z[_e+1792|0]>>16)-128;Z=oe(_,c,Z,t,r),le=oe(N,d,le,n,s),ce=oe(R,d,ce,n,s),he+=32}qe+=8}if(v>=0){var ze=[];ze[1]=v+1,ze[0]=(1<<v+1)-1,ee(ze)}return ne(65497),new Uint8Array(x)},e=e||50,function(){for(var V=String.fromCharCode,Q=0;Q<256;Q++)O[Q]=V(Q)}(),t=ae(A,C),n=ae(I,E),r=ae(M,P),s=ae($,Y),function(){for(var V=1,Q=2,Z=1;Z<=15;Z++){for(var le=V;le<Q;le++)p[32767+le]=Z,h[32767+le]=[],h[32767+le][1]=Z,h[32767+le][0]=le;for(var ce=-(Q-1);ce<=-V;ce++)p[32767+ce]=Z,h[32767+ce]=[],h[32767+ce][1]=Z,h[32767+ce][0]=Q-1+ce;V<<=1,Q<<=1}}(),function(){for(var V=0;V<256;V++)z[V]=19595*V,z[V+256|0]=38470*V,z[V+512|0]=7471*V+32768,z[V+768|0]=-11059*V,z[V+1024|0]=-21709*V,z[V+1280|0]=32768*V+8421375,z[V+1536|0]=-27439*V,z[V+1792|0]=-5329*V}(),fe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function cC(e){function t(C){if(!C)throw Error("assert :P")}function n(C,M,P){for(var I=0;4>I;I++)if(C[M+I]!=P.charCodeAt(I))return!0;return!1}function r(C,M,P,I,E){for(var $=0;$<E;$++)C[M+$]=P[I+$]}function s(C,M,P,I){for(var E=0;E<I;E++)C[M+E]=P}function i(C){return new Int32Array(C)}function o(C,M){for(var P=[],I=0;I<C;I++)P.push(new M);return P}function a(C,M){var P=[];return function I(E,$,Y){for(var ae=Y[$],ee=0;ee<ae&&(E.push(Y.length>$+1?[]:new M),!(Y.length<$+1));ee++)I(E[ee],$+1,Y)}(P,0,C),P}var l=function(){var C=this;function M(m,y){for(var T=1<<y-1>>>0;m&T;)T>>>=1;return T?(m&T-1)+T:m}function P(m,y,T,D,U){t(!(D%T));do m[y+(D-=T)]=U;while(0<D)}function I(m,y,T,D,U){if(t(2328>=U),512>=U)var q=i(512);else if((q=i(U))==null)return 0;return function(W,G,X,re,pe,be){var se,me,ve=G,Se=1<<X,xe=i(16),Ee=i(16);for(t(pe!=0),t(re!=null),t(W!=null),t(0<X),me=0;me<pe;++me){if(15<re[me])return 0;++xe[re[me]]}if(xe[0]==pe)return 0;for(Ee[1]=0,se=1;15>se;++se){if(xe[se]>1<<se)return 0;Ee[se+1]=Ee[se]+xe[se]}for(me=0;me<pe;++me)se=re[me],0<re[me]&&(be[Ee[se]++]=me);if(Ee[15]==1)return(re=new E).g=0,re.value=be[0],P(W,ve,1,Se,re),Se;var Te,Le=-1,Re=Se-1,dt=0,Qe=1,Ft=1,st=1<<X;for(me=0,se=1,pe=2;se<=X;++se,pe<<=1){if(Qe+=Ft<<=1,0>(Ft-=xe[se]))return 0;for(;0<xe[se];--xe[se])(re=new E).g=se,re.value=be[me++],P(W,ve+dt,pe,st,re),dt=M(dt,se)}for(se=X+1,pe=2;15>=se;++se,pe<<=1){if(Qe+=Ft<<=1,0>(Ft-=xe[se]))return 0;for(;0<xe[se];--xe[se]){if(re=new E,(dt&Re)!=Le){for(ve+=st,Te=1<<(Le=se)-X;15>Le&&!(0>=(Te-=xe[Le]));)++Le,Te<<=1;Se+=st=1<<(Te=Le-X),W[G+(Le=dt&Re)].g=Te+X,W[G+Le].value=ve-G-Le}re.g=se-X,re.value=be[me++],P(W,ve+(dt>>X),pe,st,re),dt=M(dt,se)}}return Qe!=2*Ee[15]-1?0:Se}(m,y,T,D,U,q)}function E(){this.value=this.g=0}function $(){this.value=this.g=0}function Y(){this.G=o(5,E),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(uu,$)}function ae(m,y,T,D){t(m!=null),t(y!=null),t(2147483648>D),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=y,m.pa=T,m.Jd=y,m.Yc=T+D,m.Zc=4<=D?T+D-4+1:T,ie(m)}function ee(m,y){for(var T=0;0<y--;)T|=_e(m,128)<<y;return T}function H(m,y){var T=ee(m,y);return de(m)?-T:T}function ne(m,y,T,D){var U,q=0;for(t(m!=null),t(y!=null),t(4294967288>D),m.Sb=D,m.Ra=0,m.u=0,m.h=0,4<D&&(D=4),U=0;U<D;++U)q+=y[T+U]<<8*U;m.Ra=q,m.bb=D,m.oa=y,m.pa=T}function oe(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Il-8>>>0,++m.bb,m.u-=8;le(m)&&(m.h=1,m.u=0)}function fe(m,y){if(t(0<=y),!m.h&&y<=ci){var T=Z(m)&li[y];return m.u+=y,oe(m),T}return m.h=1,m.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(m){return m.Ra>>>(m.u&Il-1)>>>0}function le(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Il}function ce(m,y){m.u=y,m.h=le(m)}function he(m){m.u>=za&&(t(m.u>=za),oe(m))}function ie(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function de(m){return ee(m,1)}function _e(m,y){var T=m.Ca;0>m.b&&ie(m);var D=m.b,U=T*y>>>8,q=(m.I>>>D>U)+0;for(q?(T-=U,m.I-=U+1<<D>>>0):T=U+1,D=T,U=0;256<=D;)U+=8,D>>=8;return D=7^U+Rl[D],m.b-=D,m.Ca=(T<<D)-1,q}function Pe(m,y,T){m[y+0]=T>>24&255,m[y+1]=T>>16&255,m[y+2]=T>>8&255,m[y+3]=255&T}function Me(m,y){return m[y+0]|m[y+1]<<8}function Oe(m,y){return Me(m,y)|m[y+2]<<16}function $e(m,y){return Me(m,y)|Me(m,y+2)<<16}function J(m,y){var T=1<<y;return t(m!=null),t(0<y),m.X=i(T),m.X==null?0:(m.Mb=32-y,m.Xa=y,1)}function Be(m,y){t(m!=null),t(y!=null),t(m.Xa==y.Xa),r(y.X,0,m.X,0,1<<y.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function ot(m,y,T,D){t(T!=null),t(D!=null);var U=T[0],q=D[0];return U==0&&(U=(m*q+y/2)/y),q==0&&(q=(y*U+m/2)/m),0>=U||0>=q?0:(T[0]=U,D[0]=q,1)}function Ne(m,y){return m+(1<<y)-1>>>y}function qe(m,y){return((4278255360&m)+(4278255360&y)>>>0&4278255360)+((16711935&m)+(16711935&y)>>>0&16711935)>>>0}function ze(m,y){C[y]=function(T,D,U,q,W,G,X){var re;for(re=0;re<W;++re){var pe=C[m](G[X+re-1],U,q+re);G[X+re]=qe(T[D+re],pe)}}}function ht(){this.ud=this.hd=this.jd=0}function Ye(m,y){return((4278124286&(m^y))>>>1)+(m&y)>>>0}function Xt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function jt(m,y){return Xt(m+(m-y+.5>>1))}function lt(m,y,T){return Math.abs(y-T)-Math.abs(m-T)}function Pt(m,y,T,D,U,q,W){for(D=q[W-1],T=0;T<U;++T)q[W+T]=D=qe(m[y+T],D)}function Ot(m,y,T,D,U){var q;for(q=0;q<T;++q){var W=m[y+q],G=W>>8&255,X=16711935&(X=(X=16711935&W)+((G<<16)+G));D[U+q]=(4278255360&W)+X>>>0}}function et(m,y){y.jd=255&m,y.hd=m>>8&255,y.ud=m>>16&255}function bt(m,y,T,D,U,q){var W;for(W=0;W<D;++W){var G=y[T+W],X=G>>>8,re=G,pe=255&(pe=(pe=G>>>16)+((m.jd<<24>>24)*(X<<24>>24)>>>5));re=255&(re=(re+=(m.hd<<24>>24)*(X<<24>>24)>>>5)+((m.ud<<24>>24)*(pe<<24>>24)>>>5)),U[q+W]=(4278255360&G)+(pe<<16)+re}}function tt(m,y,T,D,U){C[y]=function(q,W,G,X,re,pe,be,se,me){for(X=be;X<se;++X)for(be=0;be<me;++be)re[pe++]=U(G[D(q[W++])])},C[m]=function(q,W,G,X,re,pe,be){var se=8>>q.b,me=q.Ea,ve=q.K[0],Se=q.w;if(8>se)for(q=(1<<q.b)-1,Se=(1<<se)-1;W<G;++W){var xe,Ee=0;for(xe=0;xe<me;++xe)xe&q||(Ee=D(X[re++])),pe[be++]=U(ve[Ee&Se]),Ee>>=se}else C["VP8LMapColor"+T](X,re,ve,Se,pe,be,W,G,me)}}function xn(m,y,T,D,U){for(T=y+T;y<T;){var q=m[y++];D[U++]=q>>16&255,D[U++]=q>>8&255,D[U++]=255&q}}function Lt(m,y,T,D,U){for(T=y+T;y<T;){var q=m[y++];D[U++]=q>>16&255,D[U++]=q>>8&255,D[U++]=255&q,D[U++]=q>>24&255}}function xt(m,y,T,D,U){for(T=y+T;y<T;){var q=(W=m[y++])>>16&240|W>>12&15,W=240&W|W>>28&15;D[U++]=q,D[U++]=W}}function Et(m,y,T,D,U){for(T=y+T;y<T;){var q=(W=m[y++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;D[U++]=q,D[U++]=W}}function Ut(m,y,T,D,U){for(T=y+T;y<T;){var q=m[y++];D[U++]=255&q,D[U++]=q>>8&255,D[U++]=q>>16&255}}function ct(m,y,T,D,U,q){if(q==0)for(T=y+T;y<T;)Pe(D,((q=m[y++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),U+=32;else r(D,U,m,y,T)}function tn(m,y){C[y][0]=C[m+"0"],C[y][1]=C[m+"1"],C[y][2]=C[m+"2"],C[y][3]=C[m+"3"],C[y][4]=C[m+"4"],C[y][5]=C[m+"5"],C[y][6]=C[m+"6"],C[y][7]=C[m+"7"],C[y][8]=C[m+"8"],C[y][9]=C[m+"9"],C[y][10]=C[m+"10"],C[y][11]=C[m+"11"],C[y][12]=C[m+"12"],C[y][13]=C[m+"13"],C[y][14]=C[m+"0"],C[y][15]=C[m+"0"]}function mt(m){return m==Lv||m==Dv||m==Eg||m==Mv}function yt(){this.eb=[],this.size=this.A=this.fb=0}function un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ut(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new yt,this.f.kb=new un,this.sd=null}function nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Nt(m,y){var T=m.T,D=y.ba.f.RGBA,U=D.eb,q=D.fb+m.ka*D.A,W=zi[y.ba.S],G=m.y,X=m.O,re=m.f,pe=m.N,be=m.ea,se=m.W,me=y.cc,ve=y.dc,Se=y.Mc,xe=y.Nc,Ee=m.ka,Te=m.ka+m.T,Le=m.U,Re=Le+1>>1;for(Ee==0?W(G,X,null,null,re,pe,be,se,re,pe,be,se,U,q,null,null,Le):(W(y.ec,y.fc,G,X,me,ve,Se,xe,re,pe,be,se,U,q-D.A,U,q,Le),++T);Ee+2<Te;Ee+=2)me=re,ve=pe,Se=be,xe=se,pe+=m.Rc,se+=m.Rc,q+=2*D.A,W(G,(X+=2*m.fa)-m.fa,G,X,me,ve,Se,xe,re,pe,be,se,U,q-D.A,U,q,Le);return X+=m.fa,m.j+Te<m.o?(r(y.ec,y.fc,G,X,Le),r(y.cc,y.dc,re,pe,Re),r(y.Mc,y.Nc,be,se,Re),T--):1&Te||W(G,X,null,null,re,pe,be,se,re,pe,be,se,U,q+D.A,null,null,Le),T}function qt(m,y,T){var D=m.F,U=[m.J];if(D!=null){var q=m.U,W=y.ba.S,G=W==Ag||W==Eg;y=y.ba.f.RGBA;var X=[0],re=m.ka;X[0]=m.T,m.Kb&&(re==0?--X[0]:(--re,U[0]-=m.width),m.j+m.ka+m.T==m.o&&(X[0]=m.o-m.j-re));var pe=y.eb;re=y.fb+re*y.A,m=vN(D,U[0],m.width,q,X,pe,re+(G?0:3),y.A),t(T==X),m&&mt(W)&&Wf(pe,re,G,q,X,y.A)}return 0}function dn(m){var y=m.ma,T=y.ba.S,D=11>T,U=T==Sg||T==Ng||T==Ag||T==Rv||T==12||mt(T);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Of(y.Oa,m,U?11:12))return 0;if(U&&mt(T)&&Tt(),m.da)alert("todo:use_scaling");else{if(D){if(y.Ib=ft,m.Kb){if(T=m.U+1>>1,y.memory=i(m.U+2*T),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+m.U,y.Mc=y.cc,y.Nc=y.dc+T,y.Ib=Nt,Tt()}}else alert("todo:EmitYUV");U&&(y.Jb=qt,D&&we())}if(D&&!DN){for(m=0;256>m;++m)eO[m]=89858*(m-128)+Pg>>Tg,rO[m]=-22014*(m-128)+Pg,nO[m]=-45773*(m-128),tO[m]=113618*(m-128)+Pg>>Tg;for(m=Gf;m<Vv;++m)y=76283*(m-16)+Pg>>Tg,sO[m-Gf]=Ri(y,255),iO[m-Gf]=Ri(y+8>>4,15);DN=1}return 1}function Xe(m){var y=m.ma,T=m.U,D=m.T;return t(!(1&m.ka)),0>=T||0>=D?0:(T=y.Ib(m,y),y.Jb!=null&&y.Jb(m,y,T),y.Dc+=T,1)}function gr(m){m.ma.memory=null}function er(m,y,T,D){return fe(m,8)!=47?0:(y[0]=fe(m,14)+1,T[0]=fe(m,14)+1,D[0]=fe(m,1),fe(m,3)!=0?0:!m.h)}function bn(m,y){if(4>m)return m+1;var T=m-2>>1;return(2+(1&m)<<T)+fe(y,T)+1}function $n(m,y){return 120<y?y-120:1<=(T=((T=BM[y-1])>>4)*m+(8-(15&T)))?T:1;var T}function An(m,y,T){var D=Z(T),U=m[y+=255&D].g-8;return 0<U&&(ce(T,T.u+8),D=Z(T),y+=m[y].value,y+=D&(1<<U)-1),ce(T,T.u+m[y].g),m[y].value}function qn(m,y,T){return T.g+=m.g,T.value+=m.value<<y>>>0,t(8>=T.g),m.g}function Nr(m,y,T){var D=m.xc;return t((y=D==0?0:m.vc[m.md*(T>>D)+(y>>D)])<m.Wb),m.Ya[y]}function Jr(m,y,T,D){var U=m.ab,q=m.c*y,W=m.C;y=W+y;var G=T,X=D;for(D=m.Ta,T=m.Ua;0<U--;){var re=m.gc[U],pe=W,be=y,se=G,me=X,ve=(X=D,G=T,re.Ea);switch(t(pe<be),t(be<=re.nc),re.hc){case 2:ar(se,me,(be-pe)*ve,X,G);break;case 0:var Se=pe,xe=be,Ee=X,Te=G,Le=(st=re).Ea;Se==0&&(Vf(se,me,null,null,1,Ee,Te),Pt(se,me+1,0,0,Le-1,Ee,Te+1),me+=Le,Te+=Le,++Se);for(var Re=1<<st.b,dt=Re-1,Qe=Ne(Le,st.b),Ft=st.K,st=st.w+(Se>>st.b)*Qe;Se<xe;){var Yt=Ft,Er=st,Vt=1;for(Ed(se,me,Ee,Te-Le,1,Ee,Te);Vt<Le;){var it=(Vt&~dt)+Re;it>Le&&(it=Le),(0,Uf[Yt[Er++]>>8&15])(se,me+ +Vt,Ee,Te+Vt-Le,it-Vt,Ee,Te+Vt),Vt=it}me+=Le,Te+=Le,++Se&dt||(st+=Qe)}be!=re.nc&&r(X,G-ve,X,G+(be-pe-1)*ve,ve);break;case 1:for(ve=se,xe=me,Le=(se=re.Ea)-(Te=se&~(Ee=(me=1<<re.b)-1)),Se=Ne(se,re.b),Re=re.K,re=re.w+(pe>>re.b)*Se;pe<be;){for(dt=Re,Qe=re,Ft=new ht,st=xe+Te,Yt=xe+se;xe<st;)et(dt[Qe++],Ft),zf(Ft,ve,xe,me,X,G),xe+=me,G+=me;xe<Yt&&(et(dt[Qe++],Ft),zf(Ft,ve,xe,Le,X,G),xe+=Le,G+=Le),++pe&Ee||(re+=Se)}break;case 3:if(se==X&&me==G&&0<re.b){for(xe=X,se=ve=G+(be-pe)*ve-(Te=(be-pe)*Ne(re.Ea,re.b)),me=X,Ee=G,Se=[],Te=(Le=Te)-1;0<=Te;--Te)Se[Te]=me[Ee+Te];for(Te=Le-1;0<=Te;--Te)xe[se+Te]=Se[Te];xg(re,pe,be,X,ve,X,G)}else xg(re,pe,be,se,me,X,G)}G=D,X=T}X!=T&&r(D,T,G,X,q)}function oo(m,y){var T=m.V,D=m.Ba+m.c*m.C,U=y-m.C;if(t(y<=m.l.o),t(16>=U),0<U){var q=m.l,W=m.Ta,G=m.Ua,X=q.width;if(Jr(m,U,T,D),U=G=[G],t((T=m.C)<(D=y)),t(q.v<q.va),D>q.o&&(D=q.o),T<q.j){var re=q.j-T;T=q.j,U[0]+=re*X}if(T>=D?T=0:(U[0]+=4*q.v,q.ka=T-q.j,q.U=q.va-q.v,q.T=D-T,T=1),T){if(G=G[0],11>(T=m.ca).S){var pe=T.f.RGBA,be=(D=T.S,U=q.U,q=q.T,re=pe.eb,pe.A),se=q;for(pe=pe.fb+m.Ma*pe.A;0<se--;){var me=W,ve=G,Se=U,xe=re,Ee=pe;switch(D){case _g:$f(me,ve,Se,xe,Ee);break;case Sg:Ll(me,ve,Se,xe,Ee);break;case Lv:Ll(me,ve,Se,xe,Ee),Wf(xe,Ee,0,Se,1,0);break;case AN:du(me,ve,Se,xe,Ee);break;case Ng:ct(me,ve,Se,xe,Ee,1);break;case Dv:ct(me,ve,Se,xe,Ee,1),Wf(xe,Ee,0,Se,1,0);break;case Ag:ct(me,ve,Se,xe,Ee,0);break;case Eg:ct(me,ve,Se,xe,Ee,0),Wf(xe,Ee,1,Se,1,0);break;case Rv:Dl(me,ve,Se,xe,Ee);break;case Mv:Dl(me,ve,Se,xe,Ee),yN(xe,Ee,Se,1,0);break;case EN:Ml(me,ve,Se,xe,Ee);break;default:t(0)}G+=X,pe+=be}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=T.height)}}m.C=y,t(m.C<=m.i)}function Bs(m){var y;if(0<m.ua)return 0;for(y=0;y<m.Wb;++y){var T=m.Ya[y].G,D=m.Ya[y].H;if(0<T[1][D[1]+0].g||0<T[2][D[2]+0].g||0<T[3][D[3]+0].g)return 0}return 1}function Us(m,y,T,D,U,q){if(m.Z!=0){var W=m.qd,G=m.rd;for(t(Vl[m.Z]!=null);y<T;++y)Vl[m.Z](W,G,D,U,D,U,q),W=D,G=U,U+=q;m.qd=W,m.rd=G}}function vs(m,y){var T=m.l.ma,D=T.Z==0||T.Z==1?m.l.j:m.C;if(D=m.C<D?D:m.C,t(y<=m.l.o),y>D){var U=m.l.width,q=T.ca,W=T.tb+U*D,G=m.V,X=m.Ba+m.c*D,re=m.gc;t(m.ab==1),t(re[0].hc==3),Zo(re[0],D,y,G,X,q,W),Us(T,D,y,q,W,U)}m.C=m.Ma=y}function zs(m,y,T,D,U,q,W){var G=m.$/D,X=m.$%D,re=m.m,pe=m.s,be=T+m.$,se=be;U=T+D*U;var me=T+D*q,ve=280+pe.ua,Se=m.Pb?G:16777216,xe=0<pe.ua?pe.Wa:null,Ee=pe.wc,Te=be<me?Nr(pe,X,G):null;t(m.C<q),t(me<=U);var Le=!1;e:for(;;){for(;Le||be<me;){var Re=0;if(G>=Se){var dt=be-T;t((Se=m).Pb),Se.wd=Se.m,Se.xd=dt,0<Se.s.ua&&Be(Se.s.Wa,Se.s.vb),Se=G+zM}if(X&Ee||(Te=Nr(pe,X,G)),t(Te!=null),Te.Qb&&(y[be]=Te.qb,Le=!0),!Le)if(he(re),Te.jc){Re=re,dt=y;var Qe=be,Ft=Te.pd[Z(Re)&uu-1];t(Te.jc),256>Ft.g?(ce(Re,Re.u+Ft.g),dt[Qe]=Ft.value,Re=0):(ce(Re,Re.u+Ft.g-256),t(256<=Ft.value),Re=Ft.value),Re==0&&(Le=!0)}else Re=An(Te.G[0],Te.H[0],re);if(re.h)break;if(Le||256>Re){if(!Le)if(Te.nd)y[be]=(Te.qb|Re<<8)>>>0;else{if(he(re),Le=An(Te.G[1],Te.H[1],re),he(re),dt=An(Te.G[2],Te.H[2],re),Qe=An(Te.G[3],Te.H[3],re),re.h)break;y[be]=(Qe<<24|Le<<16|Re<<8|dt)>>>0}if(Le=!1,++be,++X>=D&&(X=0,++G,W!=null&&G<=q&&!(G%16)&&W(m,G),xe!=null))for(;se<be;)Re=y[se++],xe.X[(506832829*Re&4294967295)>>>xe.Mb]=Re}else if(280>Re){if(Re=bn(Re-256,re),dt=An(Te.G[4],Te.H[4],re),he(re),dt=$n(D,dt=bn(dt,re)),re.h)break;if(be-T<dt||U-be<Re)break e;for(Qe=0;Qe<Re;++Qe)y[be+Qe]=y[be+Qe-dt];for(be+=Re,X+=Re;X>=D;)X-=D,++G,W!=null&&G<=q&&!(G%16)&&W(m,G);if(t(be<=U),X&Ee&&(Te=Nr(pe,X,G)),xe!=null)for(;se<be;)Re=y[se++],xe.X[(506832829*Re&4294967295)>>>xe.Mb]=Re}else{if(!(Re<ve))break e;for(Le=Re-280,t(xe!=null);se<be;)Re=y[se++],xe.X[(506832829*Re&4294967295)>>>xe.Mb]=Re;Re=be,t(!(Le>>>(dt=xe).Xa)),y[Re]=dt.X[Le],Le=!0}Le||t(re.h==le(re))}if(m.Pb&&re.h&&be<U)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Be(m.s.vb,m.s.Wa);else{if(re.h)break e;W!=null&&W(m,G>q?q:G),m.a=0,m.$=be-T}return 1}return m.a=3,0}function $s(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var y=m.Wa;y!=null&&(y.X=null),m.vb=null,t(m!=null)}function Uo(){var m=new vt;return m==null?null:(m.a=0,m.xb=CN,tn("Predictor","VP8LPredictors"),tn("Predictor","VP8LPredictors_C"),tn("PredictorAdd","VP8LPredictorsAdd"),tn("PredictorAdd","VP8LPredictorsAdd_C"),ar=Ot,zf=bt,$f=xn,Ll=Lt,Dl=xt,Ml=Et,du=Ut,C.VP8LMapColor32b=Xo,C.VP8LMapColor8b=Bf,m)}function ki(m,y,T,D,U){var q=1,W=[m],G=[y],X=D.m,re=D.s,pe=null,be=0;e:for(;;){if(T)for(;q&&fe(X,1);){var se=W,me=G,ve=D,Se=1,xe=ve.m,Ee=ve.gc[ve.ab],Te=fe(xe,2);if(ve.Oc&1<<Te)q=0;else{switch(ve.Oc|=1<<Te,Ee.hc=Te,Ee.Ea=se[0],Ee.nc=me[0],Ee.K=[null],++ve.ab,t(4>=ve.ab),Te){case 0:case 1:Ee.b=fe(xe,3)+2,Se=ki(Ne(Ee.Ea,Ee.b),Ne(Ee.nc,Ee.b),0,ve,Ee.K),Ee.K=Ee.K[0];break;case 3:var Le,Re=fe(xe,8)+1,dt=16<Re?0:4<Re?1:2<Re?2:3;if(se[0]=Ne(Ee.Ea,dt),Ee.b=dt,Le=Se=ki(Re,1,0,ve,Ee.K)){var Qe,Ft=Re,st=Ee,Yt=1<<(8>>st.b),Er=i(Yt);if(Er==null)Le=0;else{var Vt=st.K[0],it=st.w;for(Er[0]=st.K[0][0],Qe=1;Qe<1*Ft;++Qe)Er[Qe]=qe(Vt[it+Qe],Er[Qe-1]);for(;Qe<4*Yt;++Qe)Er[Qe]=0;st.K[0]=null,st.K[0]=Er,Le=1}}Se=Le;break;case 2:break;default:t(0)}q=Se}}if(W=W[0],G=G[0],q&&fe(X,1)&&!(q=1<=(be=fe(X,4))&&11>=be)){D.a=3;break e}var Ue;if(Ue=q)t:{var cr,Dt,Zt,Mn=D,zr=W,As=G,tr=be,ns=T,Es=Mn.m,Tr=Mn.s,nn=[null],hn=1,nr=0,fn=UM[tr];n:for(;;){if(ns&&fe(Es,1)){var $r=fe(Es,3)+2,fo=Ne(zr,$r),ur=Ne(As,$r),Ys=fo*ur;if(!ki(fo,ur,0,Mn,nn))break n;for(nn=nn[0],Tr.xc=$r,cr=0;cr<Ys;++cr){var Sn=nn[cr]>>8&65535;nn[cr]=Sn,Sn>=hn&&(hn=Sn+1)}}if(Es.h)break n;for(Dt=0;5>Dt;++Dt){var Pr=TN[Dt];!Dt&&0<tr&&(Pr+=1<<tr),nr<Pr&&(nr=Pr)}var di=o(hn*fn,E),Ts=hn,hi=o(Ts,Y);if(hi==null)var fi=null;else t(65536>=Ts),fi=hi;var Qs=i(nr);if(fi==null||Qs==null||di==null){Mn.a=1;break n}var pi=di;for(cr=Zt=0;cr<hn;++cr){var In=fi[cr],mi=In.G,po=In.H,fu=0,Wa=1,qr=0;for(Dt=0;5>Dt;++Dt){Pr=TN[Dt],mi[Dt]=pi,po[Dt]=Zt,!Dt&&0<tr&&(Pr+=1<<tr);s:{var kg,Bv=Pr,jg=Mn,Kf=Qs,lO=pi,cO=Zt,Uv=0,Bl=jg.m,uO=fe(Bl,1);if(s(Kf,0,0,Bv),uO){var dO=fe(Bl,1)+1,hO=fe(Bl,1),FN=fe(Bl,hO==0?1:8);Kf[FN]=1,dO==2&&(Kf[FN=fe(Bl,8)]=1);var Ig=1}else{var VN=i(19),BN=fe(Bl,4)+4;if(19<BN){jg.a=3;var Rg=0;break s}for(kg=0;kg<BN;++kg)VN[VM[kg]]=fe(Bl,3);var zv=void 0,Yf=void 0,UN=jg,fO=VN,Lg=Bv,zN=Kf,$v=0,Ul=UN.m,$N=8,qN=o(128,E);r:for(;I(qN,0,7,fO,19);){if(fe(Ul,1)){var pO=2+2*fe(Ul,3);if((zv=2+fe(Ul,pO))>Lg)break r}else zv=Lg;for(Yf=0;Yf<Lg&&zv--;){he(Ul);var WN=qN[0+(127&Z(Ul))];ce(Ul,Ul.u+WN.g);var Pd=WN.value;if(16>Pd)zN[Yf++]=Pd,Pd!=0&&($N=Pd);else{var mO=Pd==16,HN=Pd-16,gO=OM[HN],GN=fe(Ul,MM[HN])+gO;if(Yf+GN>Lg)break r;for(var yO=mO?$N:0;0<GN--;)zN[Yf++]=yO}}$v=1;break r}$v||(UN.a=3),Ig=$v}(Ig=Ig&&!Bl.h)&&(Uv=I(lO,cO,8,Kf,Bv)),Ig&&Uv!=0?Rg=Uv:(jg.a=3,Rg=0)}if(Rg==0)break n;if(Wa&&FM[Dt]==1&&(Wa=pi[Zt].g==0),fu+=pi[Zt].g,Zt+=Rg,3>=Dt){var Qf,qv=Qs[0];for(Qf=1;Qf<Pr;++Qf)Qs[Qf]>qv&&(qv=Qs[Qf]);qr+=qv}}if(In.nd=Wa,In.Qb=0,Wa&&(In.qb=(mi[3][po[3]+0].value<<24|mi[1][po[1]+0].value<<16|mi[2][po[2]+0].value)>>>0,fu==0&&256>mi[0][po[0]+0].value&&(In.Qb=1,In.qb+=mi[0][po[0]+0].value<<8)),In.jc=!In.Qb&&6>qr,In.jc){var Dg,Ha=In;for(Dg=0;Dg<uu;++Dg){var zl=Dg,$l=Ha.pd[zl],Mg=Ha.G[0][Ha.H[0]+zl];256<=Mg.value?($l.g=Mg.g+256,$l.value=Mg.value):($l.g=0,$l.value=0,zl>>=qn(Mg,8,$l),zl>>=qn(Ha.G[1][Ha.H[1]+zl],16,$l),zl>>=qn(Ha.G[2][Ha.H[2]+zl],0,$l),qn(Ha.G[3][Ha.H[3]+zl],24,$l))}}}Tr.vc=nn,Tr.Wb=hn,Tr.Ya=fi,Tr.yc=di,Ue=1;break t}Ue=0}if(!(q=Ue)){D.a=3;break e}if(0<be){if(re.ua=1<<be,!J(re.Wa,be)){D.a=1,q=0;break e}}else re.ua=0;var Wv=D,KN=W,vO=G,Hv=Wv.s,Gv=Hv.xc;if(Wv.c=KN,Wv.i=vO,Hv.md=Ne(KN,Gv),Hv.wc=Gv==0?-1:(1<<Gv)-1,T){D.xb=YM;break e}if((pe=i(W*G))==null){D.a=1,q=0;break e}q=(q=zs(D,pe,0,W,G,G,null))&&!X.h;break e}return q?(U!=null?U[0]=pe:(t(pe==null),t(T)),D.$=0,T||$s(re)):$s(re),q}function ji(m,y){var T=m.c*m.i,D=T+y+16*y;return t(m.c<=y),m.V=i(D),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+T+y,1)}function La(m,y){var T=m.C,D=y-T,U=m.V,q=m.Ba+m.c*T;for(t(y<=m.l.o);0<D;){var W=16<D?16:D,G=m.l.ma,X=m.l.width,re=X*W,pe=G.ca,be=G.tb+X*T,se=m.Ta,me=m.Ua;Jr(m,W,U,q),xN(se,me,pe,be,re),Us(G,T,T+W,pe,be,X),D-=W,U+=W*m.c,T+=W}t(T==y),m.C=m.Ma=y}function zo(){this.ub=this.yd=this.td=this.Rb=0}function Ii(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ao(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Da(){this.Yb=function(){var m=[];return function y(T,D,U){for(var q=U[D],W=0;W<q&&(T.push(U.length>D+1?[]:0),!(U.length<D+1));W++)y(T[W],D+1,U)}(m,0,[3,11]),m}()}function gd(){this.jb=i(3),this.Wc=a([4,8],Da),this.Xc=a([4,17],Da)}function eu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function xs(){this.ld=this.La=this.dd=this.tc=0}function _l(){this.Na=this.la=0}function Sl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ma(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function tu(){this.uc=this.M=this.Nb=0,this.wa=Array(new xs),this.Y=0,this.ya=Array(new Ma),this.aa=0,this.l=new bs}function nu(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ru(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new zo,this.Kc=new Ii,this.ed=new eu,this.Qa=new ao,this.Ic=this.$c=this.Aa=0,this.D=new tu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,Sl),this.Pa=new gd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nu),this.Hd=0,this.rb=Array(new _l),this.sb=0,this.wa=Array(new xs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ma),this.L=this.aa=0,this.gd=a([4,2],xs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ri(m,y){return 0>m?0:m>y?y:m}function bs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qs(){var m=new ru;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Hf||(Hf=sn)),m}function En(m,y,T){return m.a==0&&(m.a=y,m.sc=T,m.cb=0),0}function $o(m,y,T){return 3<=T&&m[y+0]==157&&m[y+1]==1&&m[y+2]==42}function Ws(m,y){if(m==null)return 0;if(m.a=0,m.sc="OK",y==null)return En(m,2,"null VP8Io passed to VP8GetHeaders()");var T=y.data,D=y.w,U=y.ha;if(4>U)return En(m,7,"Truncated header.");var q=T[D+0]|T[D+1]<<8|T[D+2]<<16,W=m.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return En(m,3,"Incorrect keyframe parameters.");if(!W.yd)return En(m,4,"Frame not displayable.");D+=3,U-=3;var G=m.Kc;if(W.Rb){if(7>U)return En(m,7,"cannot parse picture header");if(!$o(T,D,U))return En(m,3,"Bad code word");G.c=16383&(T[D+4]<<8|T[D+3]),G.Td=T[D+4]>>6,G.i=16383&(T[D+6]<<8|T[D+5]),G.Ud=T[D+6]>>6,D+=7,U-=7,m.za=G.c+15>>4,m.Ub=G.i+15>>4,y.width=G.c,y.height=G.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,s((q=m.Pa).jb,0,255,q.jb.length),t((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,s(q.Zb,0,0,q.Zb.length),s(q.Lb,0,0,q.Lb)}if(W.ub>U)return En(m,7,"bad partition length");ae(q=m.m,T,D,W.ub),D+=W.ub,U-=W.ub,W.Rb&&(G.Ld=de(q),G.Kd=de(q)),G=m.Qa;var X,re=m.Pa;if(t(q!=null),t(G!=null),G.Cb=de(q),G.Cb){if(G.Bb=de(q),de(q)){for(G.Fb=de(q),X=0;4>X;++X)G.Zb[X]=de(q)?H(q,7):0;for(X=0;4>X;++X)G.Lb[X]=de(q)?H(q,6):0}if(G.Bb)for(X=0;3>X;++X)re.jb[X]=de(q)?ee(q,8):255}else G.Bb=0;if(q.Ka)return En(m,3,"cannot parse segment header");if((G=m.ed).zd=de(q),G.Tb=ee(q,6),G.wb=ee(q,3),G.Pc=de(q),G.Pc&&de(q)){for(re=0;4>re;++re)de(q)&&(G.vd[re]=H(q,6));for(re=0;4>re;++re)de(q)&&(G.od[re]=H(q,6))}if(m.L=G.Tb==0?0:G.zd?1:2,q.Ka)return En(m,3,"cannot parse filter header");var pe=U;if(U=X=D,D=X+pe,G=pe,m.Xb=(1<<ee(m.m,2))-1,pe<3*(re=m.Xb))T=7;else{for(X+=3*re,G-=3*re,pe=0;pe<re;++pe){var be=T[U+0]|T[U+1]<<8|T[U+2]<<16;be>G&&(be=G),ae(m.Jc[+pe],T,X,be),X+=be,G-=be,U+=3}ae(m.Jc[+re],T,X,G),T=X<D?0:5}if(T!=0)return En(m,T,"cannot parse partitions");for(T=ee(X=m.m,7),U=de(X)?H(X,4):0,D=de(X)?H(X,4):0,G=de(X)?H(X,4):0,re=de(X)?H(X,4):0,X=de(X)?H(X,4):0,pe=m.Qa,be=0;4>be;++be){if(pe.Cb){var se=pe.Zb[be];pe.Fb||(se+=T)}else{if(0<be){m.pb[be]=m.pb[0];continue}se=T}var me=m.pb[be];me.Sc[0]=Ov[Ri(se+U,127)],me.Sc[1]=Fv[Ri(se+0,127)],me.Eb[0]=2*Ov[Ri(se+D,127)],me.Eb[1]=101581*Fv[Ri(se+G,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=Ov[Ri(se+re,117)],me.Qc[1]=Fv[Ri(se+X,127)],me.lc=se+X}if(!W.Rb)return En(m,4,"Not a key frame.");for(de(q),W=m.Pa,T=0;4>T;++T){for(U=0;8>U;++U)for(D=0;3>D;++D)for(G=0;11>G;++G)re=_e(q,GM[T][U][D][G])?ee(q,8):WM[T][U][D][G],W.Wc[T][U].Yb[D][G]=re;for(U=0;17>U;++U)W.Xc[T][U]=W.Wc[T][KM[U]]}return m.kc=de(q),m.kc&&(m.Bd=ee(q,8)),m.cb=1}function sn(m,y,T,D,U,q,W){var G=y[U].Yb[T];for(T=0;16>U;++U){if(!_e(m,G[T+0]))return U;for(;!_e(m,G[T+1]);)if(G=y[++U].Yb[0],T=0,U==16)return 16;var X=y[U+1].Yb;if(_e(m,G[T+2])){var re=m,pe=0;if(_e(re,(se=G)[(be=T)+3]))if(_e(re,se[be+6])){for(G=0,be=2*(pe=_e(re,se[be+8]))+(se=_e(re,se[be+9+pe])),pe=0,se=$M[be];se[G];++G)pe+=pe+_e(re,se[G]);pe+=3+(8<<be)}else _e(re,se[be+7])?(pe=7+2*_e(re,165),pe+=_e(re,145)):pe=5+_e(re,159);else pe=_e(re,se[be+4])?3+_e(re,se[be+5]):2;G=X[2]}else pe=1,G=X[1];X=W+qM[U],0>(re=m).b&&ie(re);var be,se=re.b,me=(be=re.Ca>>1)-(re.I>>se)>>31;--re.b,re.Ca+=me,re.Ca|=1,re.I-=(be+1&me)<<se,q[X]=((pe^me)-me)*D[(0<U)+0]}return 16}function Oa(m){var y=m.rb[m.sb-1];y.la=0,y.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function Dr(m,y,T,D,U){U=m[y+T+32*D]+(U>>3),m[y+T+32*D]=-256&U?0>U?0:255:U}function Dn(m,y,T,D,U,q){Dr(m,y,0,T,D+U),Dr(m,y,1,T,D+q),Dr(m,y,2,T,D-q),Dr(m,y,3,T,D-U)}function lo(m){return(20091*m>>16)+m}function su(m,y,T,D){var U,q=0,W=i(16);for(U=0;4>U;++U){var G=m[y+0]+m[y+8],X=m[y+0]-m[y+8],re=(35468*m[y+4]>>16)-lo(m[y+12]),pe=lo(m[y+4])+(35468*m[y+12]>>16);W[q+0]=G+pe,W[q+1]=X+re,W[q+2]=X-re,W[q+3]=G-pe,q+=4,y++}for(U=q=0;4>U;++U)G=(m=W[q+0]+4)+W[q+8],X=m-W[q+8],re=(35468*W[q+4]>>16)-lo(W[q+12]),Dr(T,D,0,0,G+(pe=lo(W[q+4])+(35468*W[q+12]>>16))),Dr(T,D,1,0,X+re),Dr(T,D,2,0,X-re),Dr(T,D,3,0,G-pe),q++,D+=32}function If(m,y,T,D){var U=m[y+0]+4,q=35468*m[y+4]>>16,W=lo(m[y+4]),G=35468*m[y+1]>>16;Dn(T,D,0,U+W,m=lo(m[y+1]),G),Dn(T,D,1,U+q,m,G),Dn(T,D,2,U-q,m,G),Dn(T,D,3,U-W,m,G)}function Rf(m,y,T,D,U){su(m,y,T,D),U&&su(m,y+16,T,D+4)}function Li(m,y,T,D){hu(m,y+0,T,D,1),hu(m,y+32,T,D+128,1)}function yd(m,y,T,D){var U;for(m=m[y+0]+4,U=0;4>U;++U)for(y=0;4>y;++y)Dr(T,D,y,U,m)}function qo(m,y,T,D){m[y+0]&&ln(m,y+0,T,D),m[y+16]&&ln(m,y+16,T,D+4),m[y+32]&&ln(m,y+32,T,D+128),m[y+48]&&ln(m,y+48,T,D+128+4)}function Hs(m,y,T,D){var U,q=i(16);for(U=0;4>U;++U){var W=m[y+0+U]+m[y+12+U],G=m[y+4+U]+m[y+8+U],X=m[y+4+U]-m[y+8+U],re=m[y+0+U]-m[y+12+U];q[0+U]=W+G,q[8+U]=W-G,q[4+U]=re+X,q[12+U]=re-X}for(U=0;4>U;++U)W=(m=q[0+4*U]+3)+q[3+4*U],G=q[1+4*U]+q[2+4*U],X=q[1+4*U]-q[2+4*U],re=m-q[3+4*U],T[D+0]=W+G>>3,T[D+16]=re+X>>3,T[D+32]=W-G>>3,T[D+48]=re-X>>3,D+=64}function Wo(m,y,T){var D,U=y-32,q=ui,W=255-m[U-1];for(D=0;D<T;++D){var G,X=q,re=W+m[y-1];for(G=0;G<T;++G)m[y+G]=X[re+m[U+G]];y+=32}}function vd(m,y){Wo(m,y,4)}function xd(m,y){Wo(m,y,8)}function bd(m,y){Wo(m,y,16)}function Nl(m,y){var T;for(T=0;16>T;++T)r(m,y+32*T,m,y-32,16)}function co(m,y){var T;for(T=16;0<T;--T)s(m,y,m[y-1],16),y+=32}function ai(m,y,T){var D;for(D=0;16>D;++D)s(y,T+32*D,m,16)}function Lf(m,y){var T,D=16;for(T=0;16>T;++T)D+=m[y-1+32*T]+m[y+T-32];ai(D>>5,m,y)}function Fa(m,y){var T,D=8;for(T=0;16>T;++T)D+=m[y-1+32*T];ai(D>>4,m,y)}function Gs(m,y){var T,D=8;for(T=0;16>T;++T)D+=m[y+T-32];ai(D>>4,m,y)}function Df(m,y){ai(128,m,y)}function wt(m,y,T){return m+2*y+T+2>>2}function Al(m,y){var T,D=y-32;for(D=new Uint8Array([wt(m[D-1],m[D+0],m[D+1]),wt(m[D+0],m[D+1],m[D+2]),wt(m[D+1],m[D+2],m[D+3]),wt(m[D+2],m[D+3],m[D+4])]),T=0;4>T;++T)r(m,y+32*T,D,0,D.length)}function wd(m,y){var T=m[y-1],D=m[y-1+32],U=m[y-1+64],q=m[y-1+96];Pe(m,y+0,16843009*wt(m[y-1-32],T,D)),Pe(m,y+32,16843009*wt(T,D,U)),Pe(m,y+64,16843009*wt(D,U,q)),Pe(m,y+96,16843009*wt(U,q,q))}function Va(m,y){var T,D=4;for(T=0;4>T;++T)D+=m[y+T-32]+m[y-1+32*T];for(D>>=3,T=0;4>T;++T)s(m,y+32*T,D,4)}function ws(m,y){var T=m[y-1+0],D=m[y-1+32],U=m[y-1+64],q=m[y-1-32],W=m[y+0-32],G=m[y+1-32],X=m[y+2-32],re=m[y+3-32];m[y+0+96]=wt(D,U,m[y-1+96]),m[y+1+96]=m[y+0+64]=wt(T,D,U),m[y+2+96]=m[y+1+64]=m[y+0+32]=wt(q,T,D),m[y+3+96]=m[y+2+64]=m[y+1+32]=m[y+0+0]=wt(W,q,T),m[y+3+64]=m[y+2+32]=m[y+1+0]=wt(G,W,q),m[y+3+32]=m[y+2+0]=wt(X,G,W),m[y+3+0]=wt(re,X,G)}function Di(m,y){var T=m[y+1-32],D=m[y+2-32],U=m[y+3-32],q=m[y+4-32],W=m[y+5-32],G=m[y+6-32],X=m[y+7-32];m[y+0+0]=wt(m[y+0-32],T,D),m[y+1+0]=m[y+0+32]=wt(T,D,U),m[y+2+0]=m[y+1+32]=m[y+0+64]=wt(D,U,q),m[y+3+0]=m[y+2+32]=m[y+1+64]=m[y+0+96]=wt(U,q,W),m[y+3+32]=m[y+2+64]=m[y+1+96]=wt(q,W,G),m[y+3+64]=m[y+2+96]=wt(W,G,X),m[y+3+96]=wt(G,X,X)}function iu(m,y){var T=m[y-1+0],D=m[y-1+32],U=m[y-1+64],q=m[y-1-32],W=m[y+0-32],G=m[y+1-32],X=m[y+2-32],re=m[y+3-32];m[y+0+0]=m[y+1+64]=q+W+1>>1,m[y+1+0]=m[y+2+64]=W+G+1>>1,m[y+2+0]=m[y+3+64]=G+X+1>>1,m[y+3+0]=X+re+1>>1,m[y+0+96]=wt(U,D,T),m[y+0+64]=wt(D,T,q),m[y+0+32]=m[y+1+96]=wt(T,q,W),m[y+1+32]=m[y+2+96]=wt(q,W,G),m[y+2+32]=m[y+3+96]=wt(W,G,X),m[y+3+32]=wt(G,X,re)}function Tn(m,y){var T=m[y+0-32],D=m[y+1-32],U=m[y+2-32],q=m[y+3-32],W=m[y+4-32],G=m[y+5-32],X=m[y+6-32],re=m[y+7-32];m[y+0+0]=T+D+1>>1,m[y+1+0]=m[y+0+64]=D+U+1>>1,m[y+2+0]=m[y+1+64]=U+q+1>>1,m[y+3+0]=m[y+2+64]=q+W+1>>1,m[y+0+32]=wt(T,D,U),m[y+1+32]=m[y+0+96]=wt(D,U,q),m[y+2+32]=m[y+1+96]=wt(U,q,W),m[y+3+32]=m[y+2+96]=wt(q,W,G),m[y+3+64]=wt(W,G,X),m[y+3+96]=wt(G,X,re)}function El(m,y){var T=m[y-1+0],D=m[y-1+32],U=m[y-1+64],q=m[y-1+96];m[y+0+0]=T+D+1>>1,m[y+2+0]=m[y+0+32]=D+U+1>>1,m[y+2+32]=m[y+0+64]=U+q+1>>1,m[y+1+0]=wt(T,D,U),m[y+3+0]=m[y+1+32]=wt(D,U,q),m[y+3+32]=m[y+1+64]=wt(U,q,q),m[y+3+64]=m[y+2+64]=m[y+0+96]=m[y+1+96]=m[y+2+96]=m[y+3+96]=q}function ou(m,y){var T=m[y-1+0],D=m[y-1+32],U=m[y-1+64],q=m[y-1+96],W=m[y-1-32],G=m[y+0-32],X=m[y+1-32],re=m[y+2-32];m[y+0+0]=m[y+2+32]=T+W+1>>1,m[y+0+32]=m[y+2+64]=D+T+1>>1,m[y+0+64]=m[y+2+96]=U+D+1>>1,m[y+0+96]=q+U+1>>1,m[y+3+0]=wt(G,X,re),m[y+2+0]=wt(W,G,X),m[y+1+0]=m[y+3+32]=wt(T,W,G),m[y+1+32]=m[y+3+64]=wt(D,T,W),m[y+1+64]=m[y+3+96]=wt(U,D,T),m[y+1+96]=wt(q,U,D)}function Ho(m,y){var T;for(T=0;8>T;++T)r(m,y+32*T,m,y-32,8)}function _d(m,y){var T;for(T=0;8>T;++T)s(m,y,m[y-1],8),y+=32}function Mi(m,y,T){var D;for(D=0;8>D;++D)s(y,T+32*D,m,8)}function Tl(m,y){var T,D=8;for(T=0;8>T;++T)D+=m[y+T-32]+m[y-1+32*T];Mi(D>>4,m,y)}function Ks(m,y){var T,D=4;for(T=0;8>T;++T)D+=m[y+T-32];Mi(D>>3,m,y)}function Pl(m,y){var T,D=4;for(T=0;8>T;++T)D+=m[y-1+32*T];Mi(D>>3,m,y)}function Sd(m,y){Mi(128,m,y)}function _s(m,y,T){var D=m[y-T],U=m[y+0],q=3*(U-D)+Iv[1020+m[y-2*T]-m[y+T]],W=wg[112+(q+4>>3)];m[y-T]=ui[255+D+wg[112+(q+3>>3)]],m[y+0]=ui[255+U-W]}function Cl(m,y,T,D){var U=m[y+0],q=m[y+T];return Ui[255+m[y-2*T]-m[y-T]]>D||Ui[255+q-U]>D}function Go(m,y,T,D){return 4*Ui[255+m[y-T]-m[y+0]]+Ui[255+m[y-2*T]-m[y+T]]<=D}function Ko(m,y,T,D,U){var q=m[y-3*T],W=m[y-2*T],G=m[y-T],X=m[y+0],re=m[y+T],pe=m[y+2*T],be=m[y+3*T];return 4*Ui[255+G-X]+Ui[255+W-re]>D?0:Ui[255+m[y-4*T]-q]<=U&&Ui[255+q-W]<=U&&Ui[255+W-G]<=U&&Ui[255+be-pe]<=U&&Ui[255+pe-re]<=U&&Ui[255+re-X]<=U}function Yo(m,y,T,D){var U=2*D+1;for(D=0;16>D;++D)Go(m,y+D,T,U)&&_s(m,y+D,T)}function Qo(m,y,T,D){var U=2*D+1;for(D=0;16>D;++D)Go(m,y+D*T,1,U)&&_s(m,y+D*T,1)}function Nd(m,y,T,D){var U;for(U=3;0<U;--U)Yo(m,y+=4*T,T,D)}function au(m,y,T,D){var U;for(U=3;0<U;--U)Qo(m,y+=4,T,D)}function Ss(m,y,T,D,U,q,W,G){for(q=2*q+1;0<U--;){if(Ko(m,y,T,q,W))if(Cl(m,y,T,G))_s(m,y,T);else{var X=m,re=y,pe=T,be=X[re-2*pe],se=X[re-pe],me=X[re+0],ve=X[re+pe],Se=X[re+2*pe],xe=27*(Te=Iv[1020+3*(me-se)+Iv[1020+be-ve]])+63>>7,Ee=18*Te+63>>7,Te=9*Te+63>>7;X[re-3*pe]=ui[255+X[re-3*pe]+Te],X[re-2*pe]=ui[255+be+Ee],X[re-pe]=ui[255+se+xe],X[re+0]=ui[255+me-xe],X[re+pe]=ui[255+ve-Ee],X[re+2*pe]=ui[255+Se-Te]}y+=D}}function Oi(m,y,T,D,U,q,W,G){for(q=2*q+1;0<U--;){if(Ko(m,y,T,q,W))if(Cl(m,y,T,G))_s(m,y,T);else{var X=m,re=y,pe=T,be=X[re-pe],se=X[re+0],me=X[re+pe],ve=wg[112+(4+(Se=3*(se-be))>>3)],Se=wg[112+(Se+3>>3)],xe=ve+1>>1;X[re-2*pe]=ui[255+X[re-2*pe]+xe],X[re-pe]=ui[255+be+Se],X[re+0]=ui[255+se-ve],X[re+pe]=ui[255+me-xe]}y+=D}}function lu(m,y,T,D,U,q){Ss(m,y,T,1,16,D,U,q)}function uo(m,y,T,D,U,q){Ss(m,y,1,T,16,D,U,q)}function kl(m,y,T,D,U,q){var W;for(W=3;0<W;--W)Oi(m,y+=4*T,T,1,16,D,U,q)}function S(m,y,T,D,U,q){var W;for(W=3;0<W;--W)Oi(m,y+=4,1,T,16,D,U,q)}function B(m,y,T,D,U,q,W,G){Ss(m,y,U,1,8,q,W,G),Ss(T,D,U,1,8,q,W,G)}function te(m,y,T,D,U,q,W,G){Ss(m,y,1,U,8,q,W,G),Ss(T,D,1,U,8,q,W,G)}function ue(m,y,T,D,U,q,W,G){Oi(m,y+4*U,U,1,8,q,W,G),Oi(T,D+4*U,U,1,8,q,W,G)}function ge(m,y,T,D,U,q,W,G){Oi(m,y+4,1,U,8,q,W,G),Oi(T,D+4,1,U,8,q,W,G)}function Ae(){this.ba=new ut,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ie(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ge(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rt(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new E}function vt(){this.xb=this.a=0,this.l=new bs,this.ca=new ut,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rt,this.ab=0,this.gc=o(4,Ge),this.Oc=0}function pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wt(m,y,T,D,U,q,W){for(m=m==null?0:m[y+0],y=0;y<W;++y)U[q+y]=m+T[D+y]&255,m=U[q+y]}function Pn(m,y,T,D,U,q,W){var G;if(m==null)Wt(null,null,T,D,U,q,W);else for(G=0;G<W;++G)U[q+G]=m[y+G]+T[D+G]&255}function wn(m,y,T,D,U,q,W){if(m==null)Wt(null,null,T,D,U,q,W);else{var G,X=m[y+0],re=X,pe=X;for(G=0;G<W;++G)re=pe+(X=m[y+G])-re,pe=T[D+G]+(-256&re?0>re?0:255:re)&255,re=X,U[q+G]=pe}}function g(m,y,T,D){var U=y.width,q=y.o;if(t(m!=null&&y!=null),0>T||0>=D||T+D>q)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new pt,(W=m.ga==null)||(W=y.width*y.o,t(m.Gb.length==0),m.Gb=i(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var G=m.Fa,X=m.P,re=m.qc,pe=m.mb,be=m.nb,se=X+1,me=re-1,ve=W.l;if(t(G!=null&&pe!=null&&y!=null),Vl[0]=null,Vl[1]=Wt,Vl[2]=Pn,Vl[3]=wn,W.ca=pe,W.tb=be,W.c=y.width,W.i=y.height,t(0<W.c&&0<W.i),1>=re)y=0;else if(W.$a=3&G[X+0],W.Z=G[X+0]>>2&3,W.Lc=G[X+0]>>4&3,X=G[X+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||X)y=0;else if(ve.put=Xe,ve.ac=dn,ve.bc=gr,ve.ma=W,ve.width=y.width,ve.height=y.height,ve.Da=y.Da,ve.v=y.v,ve.va=y.va,ve.j=y.j,ve.o=y.o,W.$a)e:{t(W.$a==1),y=Uo();t:for(;;){if(y==null){y=0;break e}if(t(W!=null),W.mc=y,y.c=W.c,y.i=W.i,y.l=W.l,y.l.ma=W,y.l.width=W.c,y.l.height=W.i,y.a=0,ne(y.m,G,se,me),!ki(W.c,W.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Bs(y.s)?(W.ic=1,G=y.c*y.i,y.Ta=null,y.Ua=0,y.V=i(G),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(W.ic=0,y=ji(y,W.c)),!y))break t;y=1;break e}W.mc=null,y=0}else y=me>=W.c*W.i;W=!y}if(W)return null;m.ga.Lc!=1?m.Ga=0:D=q-T}t(m.ga!=null),t(T+D<=q);e:{if(y=(G=m.ga).c,q=G.l.o,G.$a==0){if(se=m.rc,me=m.Vc,ve=m.Fa,X=m.P+1+T*y,re=m.mb,pe=m.nb+T*y,t(X<=m.P+m.qc),G.Z!=0)for(t(Vl[G.Z]!=null),W=0;W<D;++W)Vl[G.Z](se,me,ve,X,re,pe,y),se=re,me=pe,pe+=y,X+=y;else for(W=0;W<D;++W)r(re,pe,ve,X,y),se=re,me=pe,pe+=y,X+=y;m.rc=se,m.Vc=me}else{if(t(G.mc!=null),y=T+D,t((W=G.mc)!=null),t(y<=W.i),W.C>=y)y=1;else if(G.ic||we(),G.ic){G=W.V,se=W.Ba,me=W.c;var Se=W.i,xe=(ve=1,X=W.$/me,re=W.$%me,pe=W.m,be=W.s,W.$),Ee=me*Se,Te=me*y,Le=be.wc,Re=xe<Te?Nr(be,re,X):null;t(xe<=Ee),t(y<=Se),t(Bs(be));t:for(;;){for(;!pe.h&&xe<Te;){if(re&Le||(Re=Nr(be,re,X)),t(Re!=null),he(pe),256>(Se=An(Re.G[0],Re.H[0],pe)))G[se+xe]=Se,++xe,++re>=me&&(re=0,++X<=y&&!(X%16)&&vs(W,X));else{if(!(280>Se)){ve=0;break t}Se=bn(Se-256,pe);var dt,Qe=An(Re.G[4],Re.H[4],pe);if(he(pe),!(xe>=(Qe=$n(me,Qe=bn(Qe,pe)))&&Ee-xe>=Se)){ve=0;break t}for(dt=0;dt<Se;++dt)G[se+xe+dt]=G[se+xe+dt-Qe];for(xe+=Se,re+=Se;re>=me;)re-=me,++X<=y&&!(X%16)&&vs(W,X);xe<Te&&re&Le&&(Re=Nr(be,re,X))}t(pe.h==le(pe))}vs(W,X>y?y:X);break t}!ve||pe.h&&xe<Ee?(ve=0,W.a=pe.h?5:3):W.$=xe,y=ve}else y=zs(W,W.V,W.Ba,W.c,W.i,y,La);if(!y){D=0;break e}}T+D>=q&&(m.Cc=1),D=1}if(!D)return null;if(m.Cc&&((D=m.ga)!=null&&(D.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+T*U}function j(m,y,T,D,U,q){for(;0<U--;){var W,G=m,X=y+(T?1:0),re=m,pe=y+(T?0:3);for(W=0;W<D;++W){var be=re[pe+4*W];be!=255&&(be*=32897,G[X+4*W+0]=G[X+4*W+0]*be>>23,G[X+4*W+1]=G[X+4*W+1]*be>>23,G[X+4*W+2]=G[X+4*W+2]*be>>23)}y+=q}}function F(m,y,T,D,U){for(;0<D--;){var q;for(q=0;q<T;++q){var W=m[y+2*q+0],G=15&(re=m[y+2*q+1]),X=4369*G,re=(240&re|re>>4)*X>>16;m[y+2*q+0]=(240&W|W>>4)*X>>16&240|(15&W|W<<4)*X>>16>>4&15,m[y+2*q+1]=240&re|G}y+=U}}function K(m,y,T,D,U,q,W,G){var X,re,pe=255;for(re=0;re<U;++re){for(X=0;X<D;++X){var be=m[y+X];q[W+4*X]=be,pe&=be}y+=T,W+=G}return pe!=255}function ye(m,y,T,D,U){var q;for(q=0;q<U;++q)T[D+q]=m[y+q]>>8}function we(){Wf=j,yN=F,vN=K,xN=ye}function Fe(m,y,T){C[m]=function(D,U,q,W,G,X,re,pe,be,se,me,ve,Se,xe,Ee,Te,Le){var Re,dt=Le-1>>1,Qe=G[X+0]|re[pe+0]<<16,Ft=be[se+0]|me[ve+0]<<16;t(D!=null);var st=3*Qe+Ft+131074>>2;for(y(D[U+0],255&st,st>>16,Se,xe),q!=null&&(st=3*Ft+Qe+131074>>2,y(q[W+0],255&st,st>>16,Ee,Te)),Re=1;Re<=dt;++Re){var Yt=G[X+Re]|re[pe+Re]<<16,Er=be[se+Re]|me[ve+Re]<<16,Vt=Qe+Yt+Ft+Er+524296,it=Vt+2*(Yt+Ft)>>3;st=it+Qe>>1,Qe=(Vt=Vt+2*(Qe+Er)>>3)+Yt>>1,y(D[U+2*Re-1],255&st,st>>16,Se,xe+(2*Re-1)*T),y(D[U+2*Re-0],255&Qe,Qe>>16,Se,xe+(2*Re-0)*T),q!=null&&(st=Vt+Ft>>1,Qe=it+Er>>1,y(q[W+2*Re-1],255&st,st>>16,Ee,Te+(2*Re-1)*T),y(q[W+2*Re+0],255&Qe,Qe>>16,Ee,Te+(2*Re+0)*T)),Qe=Yt,Ft=Er}1&Le||(st=3*Qe+Ft+131074>>2,y(D[U+Le-1],255&st,st>>16,Se,xe+(Le-1)*T),q!=null&&(st=3*Ft+Qe+131074>>2,y(q[W+Le-1],255&st,st>>16,Ee,Te+(Le-1)*T)))}}function Tt(){zi[_g]=QM,zi[Sg]=kN,zi[AN]=XM,zi[Ng]=jN,zi[Ag]=IN,zi[Rv]=RN,zi[EN]=ZM,zi[Lv]=kN,zi[Dv]=jN,zi[Eg]=IN,zi[Mv]=RN}function Cn(m){return m&~JM?0>m?0:255:m>>LN}function Ht(m,y){return Cn((19077*m>>8)+(26149*y>>8)-14234)}function kn(m,y,T){return Cn((19077*m>>8)-(6419*y>>8)-(13320*T>>8)+8708)}function Mr(m,y){return Cn((19077*m>>8)+(33050*y>>8)-17685)}function es(m,y,T,D,U){D[U+0]=Ht(m,T),D[U+1]=kn(m,y,T),D[U+2]=Mr(m,y)}function jn(m,y,T,D,U){D[U+0]=Mr(m,y),D[U+1]=kn(m,y,T),D[U+2]=Ht(m,T)}function ts(m,y,T,D,U){var q=kn(m,y,T);y=q<<3&224|Mr(m,y)>>3,D[U+0]=248&Ht(m,T)|q>>5,D[U+1]=y}function Fi(m,y,T,D,U){var q=240&Mr(m,y)|15;D[U+0]=240&Ht(m,T)|kn(m,y,T)>>4,D[U+1]=q}function Ba(m,y,T,D,U){D[U+0]=255,es(m,y,T,D,U+1)}function Mf(m,y,T,D,U){jn(m,y,T,D,U),D[U+3]=255}function Ns(m,y,T,D,U){es(m,y,T,D,U),D[U+3]=255}function Ua(m,y,T){C[m]=function(D,U,q,W,G,X,re,pe,be){for(var se=pe+(-2&be)*T;pe!=se;)y(D[U+0],q[W+0],G[X+0],re,pe),y(D[U+1],q[W+0],G[X+0],re,pe+T),U+=2,++W,++X,pe+=2*T;1&be&&y(D[U+0],q[W+0],G[X+0],re,pe)}}function Ad(m,y,T){return T==0?m==0?y==0?6:5:y==0?4:0:T}function vg(m,y,T,D,U){switch(m>>>30){case 3:hu(y,T,D,U,0);break;case 2:Bi(y,T,D,U);break;case 1:ln(y,T,D,U)}}function Vi(m,y){var T,D,U=y.M,q=y.Nb,W=m.oc,G=m.pc+40,X=m.oc,re=m.pc+584,pe=m.oc,be=m.pc+600;for(T=0;16>T;++T)W[G+32*T-1]=129;for(T=0;8>T;++T)X[re+32*T-1]=129,pe[be+32*T-1]=129;for(0<U?W[G-1-32]=X[re-1-32]=pe[be-1-32]=129:(s(W,G-32-1,127,21),s(X,re-32-1,127,9),s(pe,be-32-1,127,9)),D=0;D<m.za;++D){var se=y.ya[y.aa+D];if(0<D){for(T=-1;16>T;++T)r(W,G+32*T-4,W,G+32*T+12,4);for(T=-1;8>T;++T)r(X,re+32*T-4,X,re+32*T+4,4),r(pe,be+32*T-4,pe,be+32*T+4,4)}var me=m.Gd,ve=m.Hd+D,Se=se.ad,xe=se.Hc;if(0<U&&(r(W,G-32,me[ve].y,0,16),r(X,re-32,me[ve].f,0,8),r(pe,be-32,me[ve].ea,0,8)),se.Za){var Ee=W,Te=G-32+16;for(0<U&&(D>=m.za-1?s(Ee,Te,me[ve].y[15],4):r(Ee,Te,me[ve+1].y,0,4)),T=0;4>T;T++)Ee[Te+128+T]=Ee[Te+256+T]=Ee[Te+384+T]=Ee[Te+0+T];for(T=0;16>T;++T,xe<<=2)Ee=W,Te=G+MN[T],ho[se.Ob[T]](Ee,Te),vg(xe,Se,16*+T,Ee,Te)}else if(Ee=Ad(D,U,se.Ob[0]),Fl[Ee](W,G),xe!=0)for(T=0;16>T;++T,xe<<=2)vg(xe,Se,16*+T,W,G+MN[T]);for(T=se.Gc,Ee=Ad(D,U,se.Dd),qa[Ee](X,re),qa[Ee](pe,be),xe=Se,Ee=X,Te=re,255&(se=0|T)&&(170&se?Jo(xe,256,Ee,Te):_n(xe,256,Ee,Te)),se=pe,xe=be,255&(T>>=8)&&(170&T?Jo(Se,320,se,xe):_n(Se,320,se,xe)),U<m.Ub-1&&(r(me[ve].y,0,W,G+480,16),r(me[ve].f,0,X,re+224,8),r(me[ve].ea,0,pe,be+224,8)),T=8*q*m.B,me=m.sa,ve=m.ta+16*D+16*q*m.R,Se=m.qa,se=m.ra+8*D+T,xe=m.Ha,Ee=m.Ia+8*D+T,T=0;16>T;++T)r(me,ve+T*m.R,W,G+32*T,16);for(T=0;8>T;++T)r(Se,se+T*m.B,X,re+32*T,8),r(xe,Ee+T*m.B,pe,be+32*T,8)}}function cu(m,y,T,D,U,q,W,G,X){var re=[0],pe=[0],be=0,se=X!=null?X.kd:0,me=X??new Ie;if(m==null||12>T)return 7;me.data=m,me.w=y,me.ha=T,y=[y],T=[T],me.gb=[me.gb];e:{var ve=y,Se=T,xe=me.gb;if(t(m!=null),t(Se!=null),t(xe!=null),xe[0]=0,12<=Se[0]&&!n(m,ve[0],"RIFF")){if(n(m,ve[0]+8,"WEBP")){xe=3;break e}var Ee=$e(m,ve[0]+4);if(12>Ee||4294967286<Ee){xe=3;break e}if(se&&Ee>Se[0]-8){xe=7;break e}xe[0]=Ee,ve[0]+=12,Se[0]-=12}xe=0}if(xe!=0)return xe;for(Ee=0<me.gb[0],T=T[0];;){e:{var Te=m;Se=y,xe=T;var Le=re,Re=pe,dt=ve=[0];if((st=be=[be])[0]=0,8>xe[0])xe=7;else{if(!n(Te,Se[0],"VP8X")){if($e(Te,Se[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var Qe=$e(Te,Se[0]+8),Ft=1+Oe(Te,Se[0]+12);if(2147483648<=Ft*(Te=1+Oe(Te,Se[0]+15))){xe=3;break e}dt!=null&&(dt[0]=Qe),Le!=null&&(Le[0]=Ft),Re!=null&&(Re[0]=Te),Se[0]+=18,xe[0]-=18,st[0]=1}xe=0}}if(be=be[0],ve=ve[0],xe!=0)return xe;if(Se=!!(2&ve),!Ee&&be)return 3;if(q!=null&&(q[0]=!!(16&ve)),W!=null&&(W[0]=Se),G!=null&&(G[0]=0),W=re[0],ve=pe[0],be&&Se&&X==null){xe=0;break}if(4>T){xe=7;break}if(Ee&&be||!Ee&&!be&&!n(m,y[0],"ALPH")){T=[T],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{Qe=m,xe=y,Ee=T;var st=me.gb;Le=me.na,Re=me.P,dt=me.Sa,Ft=22,t(Qe!=null),t(Ee!=null),Te=xe[0];var Yt=Ee[0];for(t(Le!=null),t(dt!=null),Le[0]=null,Re[0]=null,dt[0]=0;;){if(xe[0]=Te,Ee[0]=Yt,8>Yt){xe=7;break e}var Er=$e(Qe,Te+4);if(4294967286<Er){xe=3;break e}var Vt=8+Er+1&-2;if(Ft+=Vt,0<st&&Ft>st){xe=3;break e}if(!n(Qe,Te,"VP8 ")||!n(Qe,Te,"VP8L")){xe=0;break e}if(Yt[0]<Vt){xe=7;break e}n(Qe,Te,"ALPH")||(Le[0]=Qe,Re[0]=Te+8,dt[0]=Er),Te+=Vt,Yt-=Vt}}if(T=T[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],xe!=0)break}T=[T],me.Ja=[me.Ja],me.xa=[me.xa];e:if(st=m,xe=y,Ee=T,Le=me.gb[0],Re=me.Ja,dt=me.xa,Qe=xe[0],Te=!n(st,Qe,"VP8 "),Ft=!n(st,Qe,"VP8L"),t(st!=null),t(Ee!=null),t(Re!=null),t(dt!=null),8>Ee[0])xe=7;else{if(Te||Ft){if(st=$e(st,Qe+4),12<=Le&&st>Le-12){xe=3;break e}if(se&&st>Ee[0]-8){xe=7;break e}Re[0]=st,xe[0]+=8,Ee[0]-=8,dt[0]=Ft}else dt[0]=5<=Ee[0]&&st[Qe+0]==47&&!(st[Qe+4]>>5),Re[0]=Ee[0];xe=0}if(T=T[0],me.Ja=me.Ja[0],me.xa=me.xa[0],y=y[0],xe!=0)break;if(4294967286<me.Ja)return 3;if(G==null||Se||(G[0]=me.xa?2:1),W=[W],ve=[ve],me.xa){if(5>T){xe=7;break}G=W,se=ve,Se=q,m==null||5>T?m=0:5<=T&&m[y+0]==47&&!(m[y+4]>>5)?(Ee=[0],st=[0],Le=[0],ne(Re=new Q,m,y,T),er(Re,Ee,st,Le)?(G!=null&&(G[0]=Ee[0]),se!=null&&(se[0]=st[0]),Se!=null&&(Se[0]=Le[0]),m=1):m=0):m=0}else{if(10>T){xe=7;break}G=ve,m==null||10>T||!$o(m,y+3,T-3)?m=0:(se=m[y+0]|m[y+1]<<8|m[y+2]<<16,Se=16383&(m[y+7]<<8|m[y+6]),m=16383&(m[y+9]<<8|m[y+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=me.Ja||!Se||!m?m=0:(W&&(W[0]=Se),G&&(G[0]=m),m=1))}if(!m||(W=W[0],ve=ve[0],be&&(re[0]!=W||pe[0]!=ve)))return 3;X!=null&&(X[0]=me,X.offset=y-X.w,t(4294967286>y-X.w),t(X.offset==X.ha-T));break}return xe==0||xe==7&&be&&X==null?(q!=null&&(q[0]|=me.na!=null&&0<me.na.length),D!=null&&(D[0]=W),U!=null&&(U[0]=ve),0):xe}function Of(m,y,T){var D=y.width,U=y.height,q=0,W=0,G=D,X=U;if(y.Da=m!=null&&0<m.Da,y.Da&&(G=m.cd,X=m.bd,q=m.v,W=m.j,11>T||(q&=-2,W&=-2),0>q||0>W||0>=G||0>=X||q+G>D||W+X>U))return 0;if(y.v=q,y.j=W,y.va=q+G,y.o=W+X,y.U=G,y.T=X,y.da=m!=null&&0<m.da,y.da){if(!ot(G,X,T=[m.ib],q=[m.hb]))return 0;y.ib=T[0],y.hb=q[0]}return y.ob=m!=null&&m.ob,y.Kb=m==null||!m.Sd,y.da&&(y.ob=y.ib<3*D/4&&y.hb<3*U/4,y.Kb=0),1}function Ff(m){if(m==null)return 2;if(11>m.S){var y=m.f.RGBA;y.fb+=(m.height-1)*y.A,y.A=-y.A}else y=m.f.kb,m=m.height,y.O+=(m-1)*y.fa,y.fa=-y.fa,y.N+=(m-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(m-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(m-1)*y.lb,y.lb=-y.lb);return 0}function jl(m,y,T,D){if(D==null||0>=m||0>=y)return 2;if(T!=null){if(T.Da){var U=T.cd,q=T.bd,W=-2&T.v,G=-2&T.j;if(0>W||0>G||0>=U||0>=q||W+U>m||G+q>y)return 2;m=U,y=q}if(T.da){if(!ot(m,y,U=[T.ib],q=[T.hb]))return 2;m=U[0],y=q[0]}}D.width=m,D.height=y;e:{var X=D.width,re=D.height;if(m=D.S,0>=X||0>=re||!(m>=_g&&13>m))m=2;else{if(0>=D.Rd&&D.sd==null){W=q=U=y=0;var pe=(G=X*ON[m])*re;if(11>m||(q=(re+1)/2*(y=(X+1)/2),m==12&&(W=(U=X)*re)),(re=i(pe+2*q+W))==null){m=1;break e}D.sd=re,11>m?((X=D.f.RGBA).eb=re,X.fb=0,X.A=G,X.size=pe):((X=D.f.kb).y=re,X.O=0,X.fa=G,X.Fd=pe,X.f=re,X.N=0+pe,X.Ab=y,X.Cd=q,X.ea=re,X.W=0+pe+q,X.Db=y,X.Ed=q,m==12&&(X.F=re,X.J=0+pe+2*q),X.Tc=W,X.lb=U)}if(y=1,U=D.S,q=D.width,W=D.height,U>=_g&&13>U)if(11>U)m=D.f.RGBA,y&=(G=Math.abs(m.A))*(W-1)+q<=m.size,y&=G>=q*ON[U],y&=m.eb!=null;else{m=D.f.kb,G=(q+1)/2,pe=(W+1)/2,X=Math.abs(m.fa),re=Math.abs(m.Ab);var be=Math.abs(m.Db),se=Math.abs(m.lb),me=se*(W-1)+q;y&=X*(W-1)+q<=m.Fd,y&=re*(pe-1)+G<=m.Cd,y=(y&=be*(pe-1)+G<=m.Ed)&X>=q&re>=G&be>=G,y&=m.y!=null,y&=m.f!=null,y&=m.ea!=null,U==12&&(y&=se>=q,y&=me<=m.Tc,y&=m.F!=null)}else y=0;m=y?0:2}}return m!=0||T!=null&&T.fd&&(m=Ff(D)),m}var uu=64,li=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ci=24,Il=32,za=8,Rl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ze("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(m){return m},C.Predictor2=function(m,y,T){return y[T+0]},C.Predictor3=function(m,y,T){return y[T+1]},C.Predictor4=function(m,y,T){return y[T-1]},C.Predictor5=function(m,y,T){return Ye(Ye(m,y[T+1]),y[T+0])},C.Predictor6=function(m,y,T){return Ye(m,y[T-1])},C.Predictor7=function(m,y,T){return Ye(m,y[T+0])},C.Predictor8=function(m,y,T){return Ye(y[T-1],y[T+0])},C.Predictor9=function(m,y,T){return Ye(y[T+0],y[T+1])},C.Predictor10=function(m,y,T){return Ye(Ye(m,y[T-1]),Ye(y[T+0],y[T+1]))},C.Predictor11=function(m,y,T){var D=y[T+0];return 0>=lt(D>>24&255,m>>24&255,(y=y[T-1])>>24&255)+lt(D>>16&255,m>>16&255,y>>16&255)+lt(D>>8&255,m>>8&255,y>>8&255)+lt(255&D,255&m,255&y)?D:m},C.Predictor12=function(m,y,T){var D=y[T+0];return(Xt((m>>24&255)+(D>>24&255)-((y=y[T-1])>>24&255))<<24|Xt((m>>16&255)+(D>>16&255)-(y>>16&255))<<16|Xt((m>>8&255)+(D>>8&255)-(y>>8&255))<<8|Xt((255&m)+(255&D)-(255&y)))>>>0},C.Predictor13=function(m,y,T){var D=y[T-1];return(jt((m=Ye(m,y[T+0]))>>24&255,D>>24&255)<<24|jt(m>>16&255,D>>16&255)<<16|jt(m>>8&255,D>>8&255)<<8|jt(255&m,255&D))>>>0};var Vf=C.PredictorAdd0;C.PredictorAdd1=Pt,ze("Predictor2","PredictorAdd2"),ze("Predictor3","PredictorAdd3"),ze("Predictor4","PredictorAdd4"),ze("Predictor5","PredictorAdd5"),ze("Predictor6","PredictorAdd6"),ze("Predictor7","PredictorAdd7"),ze("Predictor8","PredictorAdd8"),ze("Predictor9","PredictorAdd9"),ze("Predictor10","PredictorAdd10"),ze("Predictor11","PredictorAdd11"),ze("Predictor12","PredictorAdd12"),ze("Predictor13","PredictorAdd13");var Ed=C.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var ar,xg=C.ColorIndexInverseTransform,Xo=C.MapARGB,Zo=C.VP8LColorIndexInverseTransformAlpha,Bf=C.MapAlpha,Uf=C.VP8LPredictorsAdd=[];Uf.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var zf,$f,Ll,Dl,Ml,du,Ol,hu,Bi,Jo,ln,_n,lr,Ar,$a,qf,Td,bg,dN,hN,fN,pN,mN,gN,Wf,yN,vN,xN,bN=i(511),wN=i(2041),_N=i(225),SN=i(767),NN=0,Iv=wN,wg=_N,ui=SN,Ui=bN,_g=0,Sg=1,AN=2,Ng=3,Ag=4,Rv=5,EN=6,Lv=7,Dv=8,Eg=9,Mv=10,MM=[2,3,7],OM=[3,3,11],TN=[280,256,256,256,40],FM=[0,1,1,1,0],VM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],BM=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],UM=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zM=8,Ov=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Hf=null,$M=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qM=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],PN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],WM=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],HM=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],GM=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],KM=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fl=[],ho=[],qa=[],YM=1,CN=2,Vl=[],zi=[];Fe("UpsampleRgbLinePair",es,3),Fe("UpsampleBgrLinePair",jn,3),Fe("UpsampleRgbaLinePair",Ns,4),Fe("UpsampleBgraLinePair",Mf,4),Fe("UpsampleArgbLinePair",Ba,4),Fe("UpsampleRgba4444LinePair",Fi,2),Fe("UpsampleRgb565LinePair",ts,2);var QM=C.UpsampleRgbLinePair,XM=C.UpsampleBgrLinePair,kN=C.UpsampleRgbaLinePair,jN=C.UpsampleBgraLinePair,IN=C.UpsampleArgbLinePair,RN=C.UpsampleRgba4444LinePair,ZM=C.UpsampleRgb565LinePair,Tg=16,Pg=1<<Tg-1,Gf=-227,Vv=482,LN=6,JM=(256<<LN)-1,DN=0,eO=i(256),tO=i(256),nO=i(256),rO=i(256),sO=i(Vv-Gf),iO=i(Vv-Gf);Ua("YuvToRgbRow",es,3),Ua("YuvToBgrRow",jn,3),Ua("YuvToRgbaRow",Ns,4),Ua("YuvToBgraRow",Mf,4),Ua("YuvToArgbRow",Ba,4),Ua("YuvToRgba4444Row",Fi,2),Ua("YuvToRgb565Row",ts,2);var MN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cg=[0,2,8],oO=[8,7,6,4,4,2,2,2,1,1,1,1],aO=1;this.WebPDecodeRGBA=function(m,y,T,D,U){var q=Sg,W=new Ae,G=new ut;W.ba=G,G.S=q,G.width=[G.width],G.height=[G.height];var X=G.width,re=G.height,pe=new nt;if(pe==null||m==null)var be=2;else t(pe!=null),be=cu(m,y,T,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(be!=0?X=0:(X!=null&&(X[0]=pe.width[0]),re!=null&&(re[0]=pe.height[0]),X=1),X){G.width=G.width[0],G.height=G.height[0],D!=null&&(D[0]=G.width),U!=null&&(U[0]=G.height);e:{if(D=new bs,(U=new Ie).data=m,U.w=y,U.ha=T,U.kd=1,y=[0],t(U!=null),((m=cu(U.data,U.w,U.ha,null,null,null,y,null,U))==0||m==7)&&y[0]&&(m=4),(y=m)==0){if(t(W!=null),D.data=U.data,D.w=U.w+U.offset,D.ha=U.ha-U.offset,D.put=Xe,D.ac=dn,D.bc=gr,D.ma=W,U.xa){if((m=Uo())==null){W=1;break e}if(function(se,me){var ve=[0],Se=[0],xe=[0];t:for(;;){if(se==null)return 0;if(me==null)return se.a=2,0;if(se.l=me,se.a=0,ne(se.m,me.data,me.w,me.ha),!er(se.m,ve,Se,xe)){se.a=3;break t}if(se.xb=CN,me.width=ve[0],me.height=Se[0],!ki(ve[0],Se[0],1,se,null))break t;return 1}return t(se.a!=0),0}(m,D)){if(D=(y=jl(D.width,D.height,W.Oa,W.ba))==0){t:{D=m;n:for(;;){if(D==null){D=0;break t}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((T=D.l)!=null),t((U=T.ma)!=null),D.xb!=0){if(D.ca=U.ba,D.tb=U.tb,t(D.ca!=null),!Of(U.Oa,T,Ng)){D.a=2;break n}if(!ji(D,T.width)||T.da)break n;if((T.da||mt(D.ca.S))&&we(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&we()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!J(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!zs(D,D.V,D.Ba,D.c,D.i,T.o,oo))break n;U.Dc=D.Ma,D=1;break t}t(D.a!=0),D=0}D=!D}D&&(y=m.a)}else y=m.a}else{if((m=new qs)==null){W=1;break e}if(m.Fa=U.na,m.P=U.P,m.qc=U.Sa,Ws(m,D)){if((y=jl(D.width,D.height,W.Oa,W.ba))==0){if(m.Aa=0,T=W.Oa,t((U=m)!=null),T!=null){if(0<(X=0>(X=T.Md)?0:100<X?255:255*X/100)){for(re=pe=0;4>re;++re)12>(be=U.pb[re]).lc&&(be.ia=X*oO[0>be.lc?0:be.lc]>>3),pe|=be.ia;pe&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=T.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(se,me){if(se==null)return 0;if(me==null)return En(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!Ws(se,me))return 0;if(t(se.cb),me.ac==null||me.ac(me)){me.ob&&(se.L=0);var ve=Cg[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=me.v-ve>>4,se.zb=me.j-ve>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=me.o+15+ve>>4,se.Hb=me.va+15+ve>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var Se=se.ed;for(ve=0;4>ve;++ve){var xe;if(se.Qa.Cb){var Ee=se.Qa.Lb[ve];se.Qa.Fb||(Ee+=Se.Tb)}else Ee=Se.Tb;for(xe=0;1>=xe;++xe){var Te=se.gd[ve][xe],Le=Ee;if(Se.Pc&&(Le+=Se.vd[0],xe&&(Le+=Se.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var Re=Le;0<Se.wb&&(Re=4<Se.wb?Re>>2:Re>>1)>9-Se.wb&&(Re=9-Se.wb),1>Re&&(Re=1),Te.dd=Re,Te.tc=2*Le+Re,Te.ld=40<=Le?2:15<=Le?1:0}else Te.tc=0;Te.La=xe}}}ve=0}else En(se,6,"Frame setup failed"),ve=se.a;if(ve=ve==0){if(ve){se.$c=0,0<se.Aa||(se.Ic=aO);t:{ve=se.Ic,Se=4*(Re=se.za);var dt=32*Re,Qe=Re+1,Ft=0<se.L?Re*(0<se.Aa?2:1):0,st=(se.Aa==2?2:1)*Re;if((Te=Se+832+(xe=3*(16*ve+Cg[se.L])/2*dt)+(Ee=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=Te)ve=0;else{if(Te>se.Vb){if(se.Vb=0,se.Ec=i(Te),se.Fc=0,se.Ec==null){ve=En(se,1,"no memory during frame initialization.");break t}se.Vb=Te}Te=se.Ec,Le=se.Fc,se.Ac=Te,se.Bc=Le,Le+=Se,se.Gd=o(dt,nu),se.Hd=0,se.rb=o(Qe+1,_l),se.sb=1,se.wa=Ft?o(Ft,xs):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=Re),t(!0),se.oc=Te,se.pc=Le,Le+=832,se.ya=o(st,Ma),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=Re),se.R=16*Re,se.B=8*Re,Re=(dt=Cg[se.L])*se.R,dt=dt/2*se.B,se.sa=Te,se.ta=Le+Re,se.qa=se.sa,se.ra=se.ta+16*ve*se.R+dt,se.Ha=se.qa,se.Ia=se.ra+8*ve*se.B+dt,se.$c=0,Le+=xe,se.mb=Ee?Te:null,se.nb=Ee?Le:null,t(Le+Ee<=se.Fc+se.Vb),Oa(se),s(se.Ac,se.Bc,0,Se),ve=1}}if(ve){if(me.ka=0,me.y=se.sa,me.O=se.ta,me.f=se.qa,me.N=se.ra,me.ea=se.Ha,me.Vd=se.Ia,me.fa=se.R,me.Rc=se.B,me.F=null,me.J=0,!NN){for(ve=-255;255>=ve;++ve)bN[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)wN[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)_N[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)SN[255+ve]=0>ve?0:255<ve?255:ve;NN=1}Ol=Hs,hu=Rf,Jo=Li,ln=yd,_n=qo,Bi=If,lr=lu,Ar=uo,$a=B,qf=te,Td=kl,bg=S,dN=ue,hN=ge,fN=Yo,pN=Qo,mN=Nd,gN=au,ho[0]=Va,ho[1]=vd,ho[2]=Al,ho[3]=wd,ho[4]=ws,ho[5]=iu,ho[6]=Di,ho[7]=Tn,ho[8]=ou,ho[9]=El,Fl[0]=Lf,Fl[1]=bd,Fl[2]=Nl,Fl[3]=co,Fl[4]=Fa,Fl[5]=Gs,Fl[6]=Df,qa[0]=Tl,qa[1]=xd,qa[2]=Ho,qa[3]=_d,qa[4]=Pl,qa[5]=Ks,qa[6]=Sd,ve=1}else ve=0}ve&&(ve=function(Yt,Er){for(Yt.M=0;Yt.M<Yt.Va;++Yt.M){var Vt,it=Yt.Jc[Yt.M&Yt.Xb],Ue=Yt.m,cr=Yt;for(Vt=0;Vt<cr.za;++Vt){var Dt=Ue,Zt=cr,Mn=Zt.Ac,zr=Zt.Bc+4*Vt,As=Zt.zc,tr=Zt.ya[Zt.aa+Vt];if(Zt.Qa.Bb?tr.$b=_e(Dt,Zt.Pa.jb[0])?2+_e(Dt,Zt.Pa.jb[2]):_e(Dt,Zt.Pa.jb[1]):tr.$b=0,Zt.kc&&(tr.Ad=_e(Dt,Zt.Bd)),tr.Za=!_e(Dt,145)+0,tr.Za){var ns=tr.Ob,Es=0;for(Zt=0;4>Zt;++Zt){var Tr,nn=As[0+Zt];for(Tr=0;4>Tr;++Tr){nn=HM[Mn[zr+Tr]][nn];for(var hn=PN[_e(Dt,nn[0])];0<hn;)hn=PN[2*hn+_e(Dt,nn[hn])];nn=-hn,Mn[zr+Tr]=nn}r(ns,Es,Mn,zr,4),Es+=4,As[0+Zt]=nn}}else nn=_e(Dt,156)?_e(Dt,128)?1:3:_e(Dt,163)?2:0,tr.Ob[0]=nn,s(Mn,zr,nn,4),s(As,0,nn,4);tr.Dd=_e(Dt,142)?_e(Dt,114)?_e(Dt,183)?1:3:2:0}if(cr.m.Ka)return En(Yt,7,"Premature end-of-partition0 encountered.");for(;Yt.ja<Yt.za;++Yt.ja){if(cr=it,Dt=(Ue=Yt).rb[Ue.sb-1],Mn=Ue.rb[Ue.sb+Ue.ja],Vt=Ue.ya[Ue.aa+Ue.ja],zr=Ue.kc?Vt.Ad:0)Dt.la=Mn.la=0,Vt.Za||(Dt.Na=Mn.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var nr,fn;if(Dt=Mn,Mn=cr,zr=Ue.Pa.Xc,As=Ue.ya[Ue.aa+Ue.ja],tr=Ue.pb[As.$b],Zt=As.ad,ns=0,Es=Ue.rb[Ue.sb-1],nn=Tr=0,s(Zt,ns,0,384),As.Za)var $r=0,fo=zr[3];else{hn=i(16);var ur=Dt.Na+Es.Na;if(ur=Hf(Mn,zr[1],ur,tr.Eb,0,hn,0),Dt.Na=Es.Na=(0<ur)+0,1<ur)Ol(hn,0,Zt,ns);else{var Ys=hn[0]+3>>3;for(hn=0;256>hn;hn+=16)Zt[ns+hn]=Ys}$r=1,fo=zr[0]}var Sn=15&Dt.la,Pr=15&Es.la;for(hn=0;4>hn;++hn){var di=1&Pr;for(Ys=fn=0;4>Ys;++Ys)Sn=Sn>>1|(di=(ur=Hf(Mn,fo,ur=di+(1&Sn),tr.Sc,$r,Zt,ns))>$r)<<7,fn=fn<<2|(3<ur?3:1<ur?2:Zt[ns+0]!=0),ns+=16;Sn>>=4,Pr=Pr>>1|di<<7,Tr=(Tr<<8|fn)>>>0}for(fo=Sn,$r=Pr>>4,nr=0;4>nr;nr+=2){for(fn=0,Sn=Dt.la>>4+nr,Pr=Es.la>>4+nr,hn=0;2>hn;++hn){for(di=1&Pr,Ys=0;2>Ys;++Ys)ur=di+(1&Sn),Sn=Sn>>1|(di=0<(ur=Hf(Mn,zr[2],ur,tr.Qc,0,Zt,ns)))<<3,fn=fn<<2|(3<ur?3:1<ur?2:Zt[ns+0]!=0),ns+=16;Sn>>=2,Pr=Pr>>1|di<<5}nn|=fn<<4*nr,fo|=Sn<<4<<nr,$r|=(240&Pr)<<nr}Dt.la=fo,Es.la=$r,As.Hc=Tr,As.Gc=nn,As.ia=43690&nn?0:tr.ia,zr=!(Tr|nn)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[Vt.$b][Vt.Za],Ue.wa[Ue.Y+Ue.ja].La|=!zr),cr.Ka)return En(Yt,7,"Premature end-of-file encountered.")}if(Oa(Yt),Ue=Er,cr=1,Vt=(it=Yt).D,Dt=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(Vt.M=it.M,Vt.uc=Dt,Vi(it,Vt),cr=1,Vt=(fn=it.D).Nb,Dt=(nn=Cg[it.L])*it.R,Mn=nn/2*it.B,hn=16*Vt*it.R,Ys=8*Vt*it.B,zr=it.sa,As=it.ta-Dt+hn,tr=it.qa,Zt=it.ra-Mn+Ys,ns=it.Ha,Es=it.Ia-Mn+Ys,Pr=(Sn=fn.M)==0,Tr=Sn>=it.Va-1,it.Aa==2&&Vi(it,fn),fn.uc)for(di=(ur=it).D.M,t(ur.D.uc),fn=ur.yb;fn<ur.Hb;++fn){$r=fn,fo=di;var Ts=(hi=(qr=ur).D).Nb;nr=qr.R;var hi=hi.wa[hi.Y+$r],fi=qr.sa,Qs=qr.ta+16*Ts*nr+16*$r,pi=hi.dd,In=hi.tc;if(In!=0)if(t(3<=In),qr.L==1)0<$r&&pN(fi,Qs,nr,In+4),hi.La&&gN(fi,Qs,nr,In),0<fo&&fN(fi,Qs,nr,In+4),hi.La&&mN(fi,Qs,nr,In);else{var mi=qr.B,po=qr.qa,fu=qr.ra+8*Ts*mi+8*$r,Wa=qr.Ha,qr=qr.Ia+8*Ts*mi+8*$r;Ts=hi.ld,0<$r&&(Ar(fi,Qs,nr,In+4,pi,Ts),qf(po,fu,Wa,qr,mi,In+4,pi,Ts)),hi.La&&(bg(fi,Qs,nr,In,pi,Ts),hN(po,fu,Wa,qr,mi,In,pi,Ts)),0<fo&&(lr(fi,Qs,nr,In+4,pi,Ts),$a(po,fu,Wa,qr,mi,In+4,pi,Ts)),hi.La&&(Td(fi,Qs,nr,In,pi,Ts),dN(po,fu,Wa,qr,mi,In,pi,Ts))}}if(it.ia&&alert("todo:DitherRow"),Ue.put!=null){if(fn=16*Sn,Sn=16*(Sn+1),Pr?(Ue.y=it.sa,Ue.O=it.ta+hn,Ue.f=it.qa,Ue.N=it.ra+Ys,Ue.ea=it.Ha,Ue.W=it.Ia+Ys):(fn-=nn,Ue.y=zr,Ue.O=As,Ue.f=tr,Ue.N=Zt,Ue.ea=ns,Ue.W=Es),Tr||(Sn-=nn),Sn>Ue.o&&(Sn=Ue.o),Ue.F=null,Ue.J=null,it.Fa!=null&&0<it.Fa.length&&fn<Sn&&(Ue.J=g(it,Ue,fn,Sn-fn),Ue.F=it.mb,Ue.F==null&&Ue.F.length==0)){cr=En(it,3,"Could not decode alpha data.");break t}fn<Ue.j&&(nn=Ue.j-fn,fn=Ue.j,t(!(1&nn)),Ue.O+=it.R*nn,Ue.N+=it.B*(nn>>1),Ue.W+=it.B*(nn>>1),Ue.F!=null&&(Ue.J+=Ue.width*nn)),fn<Sn&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=fn-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=Sn-fn,cr=Ue.put(Ue))}Vt+1!=it.Ic||Tr||(r(it.sa,it.ta-Dt,zr,As+16*it.R,Dt),r(it.qa,it.ra-Mn,tr,Zt+8*it.B,Mn),r(it.Ha,it.Ia-Mn,ns,Es+8*it.B,Mn))}if(!cr)return En(Yt,6,"Output aborted.")}return 1}(se,me)),me.bc!=null&&me.bc(me),ve&=1}return ve?(se.cb=0,ve):0})(m,D)||(y=m.a)}}else y=m.a}y==0&&W.Oa!=null&&W.Oa.fd&&(y=Ff(W.ba))}W=y}q=W!=0?null:11>q?G.f.RGBA.eb:G.f.kb.y}else q=null;return q};var ON=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,M){for(var P="",I=0;I<4;I++)P+=String.fromCharCode(C[M++]);return P}function d(C,M){return C[M+0]|C[M+1]<<8}function h(C,M){return(C[M+0]|C[M+1]<<8|C[M+2]<<16)>>>0}function p(C,M){return(C[M+0]|C[M+1]<<8|C[M+2]<<16|C[M+3]<<24)>>>0}new l;var f=[0],b=[0],x=[],w=new l,v=e,_=function(C,M){var P={},I=0,E=!1,$=0,Y=0;if(P.frames=[],!function(V,Q){for(var Z=0;Z<4;Z++)if(V[Q+Z]!="RIFF".charCodeAt(Z))return!0;return!1}(C,M)){for(p(C,M+=4),M+=8;M<C.length;){var ae=c(C,M),ee=p(C,M+=4);M+=4;var H=ee+(1&ee);switch(ae){case"VP8 ":case"VP8L":P.frames[I]===void 0&&(P.frames[I]={}),(fe=P.frames[I]).src_off=E?Y:M-8,fe.src_size=$+ee+8,I++,E&&(E=!1,$=0,Y=0);break;case"VP8X":(fe=P.header={}).feature_flags=C[M];var ne=M+4;fe.canvas_width=1+h(C,ne),ne+=3,fe.canvas_height=1+h(C,ne),ne+=3;break;case"ALPH":E=!0,$=H+8,Y=M-8;break;case"ANIM":(fe=P.header).bgcolor=p(C,M),ne=M+4,fe.loop_count=d(C,ne),ne+=2;break;case"ANMF":var oe,fe;(fe=P.frames[I]={}).offset_x=2*h(C,M),M+=3,fe.offset_y=2*h(C,M),M+=3,fe.width=1+h(C,M),M+=3,fe.height=1+h(C,M),M+=3,fe.duration=h(C,M),M+=3,oe=C[M++],fe.dispose=1&oe,fe.blend=oe>>1&1}ae!="ANMF"&&(M+=H)}return P}}(v,0);_.response=v,_.rgbaoutput=!0,_.dataurl=!1;var N=_.header?_.header:null,R=_.frames?_.frames:null;if(N){N.loop_counter=N.loop_count,f=[N.canvas_height],b=[N.canvas_width];for(var O=0;O<R.length&&R[O].blend!=0;O++);}var z=R[0],k=w.WebPDecodeRGBA(v,z.src_off,z.src_size,b,f);z.rgba=k,z.imgwidth=b[0],z.imgheight=f[0];for(var A=0;A<b[0]*f[0]*4;A++)x[A]=k[A];return this.width=b,this.height=f,this.data=x,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function wae(){var e,t=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function _ae(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,n,r,s,i,o,a,l,c,d=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new l,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var h=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=V;Object.defineProperty(this,"pdf",{get:function(){return Q}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(J){Z=!!J}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(J){le=!!J}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(J){isNaN(J)||(ce=J)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(J){isNaN(J)||(he=J)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(J){var Be;typeof J=="number"?Be=[J,J,J,J]:((Be=new Array(4))[0]=J[0],Be[1]=J.length>=2?J[1]:Be[0],Be[2]=J.length>=3?J[2]:Be[0],Be[3]=J.length>=4?J[3]:Be[1]),c.margin=Be}});var ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ie},set:function(J){ie=J}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(J){de=J}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(J){_e=J}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(J){J instanceof d&&(c=J)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(J){c.path=J}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(J){Pe=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var Be;Be=p(J),this.ctx.fillStyle=Be.style,this.ctx.isFillTransparent=Be.a===0,this.ctx.fillOpacity=Be.a,this.pdf.setFillColor(Be.r,Be.g,Be.b,{a:Be.a}),this.pdf.setTextColor(Be.r,Be.g,Be.b,{a:Be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var Be=p(J);this.ctx.strokeStyle=Be.style,this.ctx.isStrokeTransparent=Be.a===0,this.ctx.strokeOpacity=Be.a,Be.a===0?this.pdf.setDrawColor(255,255,255):(Be.a,this.pdf.setDrawColor(Be.r,Be.g,Be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var Me=null,Oe=null,$e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(J){Me=null,Oe=null,$e=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var Be;if(this.ctx.font=J,(Be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var St=Be[1];Be[2];var ot=Be[3],Ne=Be[4];Be[5];var qe=Be[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(ze==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var ht=function(tt){var xn,Lt,xt=[],Et=tt.trim();if(Et==="")return Vx;if(Et in QP)return[QP[Et]];for(;Et!=="";){switch(Lt=null,xn=(Et=ZP(Et)).charAt(0)){case'"':case"'":Lt=mae(Et.substring(1),xn);break;default:Lt=gae(Et)}if(Lt===null||(xt.push(Lt[0]),(Et=ZP(Lt[1]))!==""&&Et.charAt(0)!==","))return Vx;Et=Et.replace(/^,/,"")}return xt}(qe);if(this.fontFaces){var Ye=function(tt,xn){var Lt=tt.getFontList(),xt=JSON.stringify(Lt);if(Me===null||Oe!==xt){var Et=function(Ut){var ct=[];return Object.keys(Ut).forEach(function(tn){Ut[tn].forEach(function(mt){var yt=null;switch(mt){case"bold":yt={family:tn,weight:"bold"};break;case"italic":yt={family:tn,style:"italic"};break;case"bolditalic":yt={family:tn,weight:"bold",style:"italic"};break;case"":case"normal":yt={family:tn}}yt!==null&&(yt.ref={name:tn,style:mt},ct.push(yt))})}),ct}(Lt);Me=function(Ut){for(var ct={},tn=0;tn<Ut.length;++tn){var mt=Fx(Ut[tn]),yt=mt.family,un=mt.stretch,ut=mt.style,nt=mt.weight;ct[yt]=ct[yt]||{},ct[yt][un]=ct[yt][un]||{},ct[yt][un][ut]=ct[yt][un][ut]||{},ct[yt][un][ut][nt]=mt}return ct}(Et.concat(xn)),Oe=xt}return Me}(this.pdf,this.fontFaces),Xt=ht.map(function(tt){return{family:tt,stretch:"normal",weight:ot,style:St}}),jt=function(tt,xn,Lt){for(var xt=(Lt=Lt||{}).defaultFontFamily||"times",Et=Object.assign({},pae,Lt.genericFontFamilies||{}),Ut=null,ct=null,tn=0;tn<xn.length;++tn)if(Et[(Ut=Fx(xn[tn])).family]&&(Ut.family=Et[Ut.family]),tt.hasOwnProperty(Ut.family)){ct=tt[Ut.family];break}if(!(ct=ct||tt[xt]))throw new Error("Could not find a font-family for the rule '"+XP(Ut)+"' and default family '"+xt+"'.");if(ct=function(mt,yt){if(yt[mt])return yt[mt];var un=c5[mt],ut=un<=c5.normal?-1:1,nt=YP(yt,pM,un,ut);if(!nt)throw new Error("Could not find a matching font-stretch value for "+mt);return nt}(Ut.stretch,ct),ct=function(mt,yt){if(yt[mt])return yt[mt];for(var un=fM[mt],ut=0;ut<un.length;++ut)if(yt[un[ut]])return yt[un[ut]];throw new Error("Could not find a matching font-style for "+mt)}(Ut.style,ct),!(ct=function(mt,yt){if(yt[mt])return yt[mt];if(mt===400&&yt[500])return yt[500];if(mt===500&&yt[400])return yt[400];var un=fae[mt],ut=YP(yt,mM,un,mt<400?-1:1);if(!ut)throw new Error("Could not find a matching font-weight for value "+mt);return ut}(Ut.weight,ct)))throw new Error("Failed to resolve a font for the rule '"+XP(Ut)+"'.");return ct}(Ye,Xt);this.pdf.setFont(jt.ref.name,jt.ref.style)}else{var lt="";(ot==="bold"||parseInt(ot,10)>=700||St==="bold")&&(lt="bold"),St==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var Pt="",Ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},et=0;et<ht.length;et++){if(this.pdf.internal.getFont(ht[et],lt,{noFallback:!0,disableWarning:!0})!==void 0){Pt=ht[et];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(ht[et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pt=ht[et],lt="bold";else if(this.pdf.internal.getFont(ht[et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pt=ht[et],lt="normal";break}}if(Pt===""){for(var bt=0;bt<ht.length;bt++)if(Ot[ht[bt]]){Pt=Ot[ht[bt]];break}}Pt=Pt===""?"Times":Pt,this.pdf.setFont(Pt,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(V){this.lineDash=V},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){R.call(this,"fill",!1)},h.prototype.stroke=function(){R.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(V,Q){if(isNaN(V)||isNaN(Q))throw Nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(V,Q)},h.prototype.closePath=function(){var V=new o(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&mn(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){V=new o(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.lineTo=function(V,Q){if(isNaN(V)||isNaN(Q))throw Nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},h.prototype.quadraticCurveTo=function(V,Q,Z,le){if(isNaN(Z)||isNaN(le)||isNaN(V)||isNaN(Q))throw Nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(Z,le)),he=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},h.prototype.bezierCurveTo=function(V,Q,Z,le,ce,he){if(isNaN(ce)||isNaN(he)||isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le))throw Nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ie=this.ctx.transform.applyToPoint(new o(ce,he)),de=this.ctx.transform.applyToPoint(new o(V,Q)),_e=this.ctx.transform.applyToPoint(new o(Z,le));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:_e.x,y2:_e.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},h.prototype.arc=function(V,Q,Z,le,ce,he){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le)||isNaN(ce))throw Nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var ie=this.ctx.transform.applyToPoint(new o(V,Q));V=ie.x,Q=ie.y;var de=this.ctx.transform.applyToPoint(new o(0,Z)),_e=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(de.x-_e.x,2)+Math.pow(de.y-_e.y,2))}Math.abs(ce-le)>=2*Math.PI&&(le=0,ce=2*Math.PI),this.path.push({type:"arc",x:V,y:Q,radius:Z,startAngle:le,endAngle:ce,counterclockwise:he})},h.prototype.arcTo=function(V,Q,Z,le,ce){throw new Error("arcTo not implemented.")},h.prototype.rect=function(V,Q,Z,le){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le))throw Nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,Q),this.lineTo(V+Z,Q),this.lineTo(V+Z,Q+le),this.lineTo(V,Q+le),this.lineTo(V,Q),this.lineTo(V+Z,Q),this.lineTo(V,Q)},h.prototype.fillRect=function(V,Q,Z,le){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le))throw Nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,Q,Z,le),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},h.prototype.strokeRect=function(V,Q,Z,le){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le))throw Nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(V,Q,Z,le),this.stroke())},h.prototype.clearRect=function(V,Q,Z,le){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le))throw Nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,Q,Z,le))},h.prototype.save=function(V){V=typeof V!="boolean"||V;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},h.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(V){var Q,Z,le,ce;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))Q=0,Z=0,le=0,ce=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(he!==null)Q=parseInt(he[1]),Z=parseInt(he[2]),le=parseInt(he[3]),ce=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)Q=parseInt(he[1]),Z=parseInt(he[2]),le=parseInt(he[3]),ce=parseFloat(he[4]);else{if(ce=1,typeof V=="string"&&V.charAt(0)!=="#"){var ie=new oM(V);V=ie.ok?ie.toHex():"#000000"}V.length===4?(Q=V.substring(1,2),Q+=Q,Z=V.substring(2,3),Z+=Z,le=V.substring(3,4),le+=le):(Q=V.substring(1,3),Z=V.substring(3,5),le=V.substring(5,7)),Q=parseInt(Q,16),Z=parseInt(Z,16),le=parseInt(le,16)}}return{r:Q,g:Z,b:le,a:ce,style:V}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(V,Q,Z,le){if(isNaN(Q)||isNaN(Z)||typeof V!="string")throw Nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!f.call(this)){var ce=H(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;I.call(this,{text:V,x:Q,y:Z,scale:he,angle:ce,align:this.textAlign,maxWidth:le})}},h.prototype.strokeText=function(V,Q,Z,le){if(isNaN(Q)||isNaN(Z)||typeof V!="string")throw Nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){le=isNaN(le)?void 0:le;var ce=H(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;I.call(this,{text:V,x:Q,y:Z,scale:he,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:le})}},h.prototype.measureText=function(V){if(typeof V!="string")throw Nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,Z=this.pdf.internal.scaleFactor,le=Q.internal.getFontSize(),ce=Q.getStringUnitWidth(V)*le/Q.internal.scaleFactor;return new function(he){var ie=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this}({width:ce*=Math.round(96*Z/72*1e4)/1e4})},h.prototype.scale=function(V,Q){if(isNaN(V)||isNaN(Q))throw Nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(V,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.rotate=function(V){if(isNaN(V))throw Nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new l(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.translate=function(V,Q){if(isNaN(V)||isNaN(Q))throw Nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,V,Q);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.transform=function(V,Q,Z,le,ce,he){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le)||isNaN(ce)||isNaN(he))throw Nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ie=new l(V,Q,Z,le,ce,he);this.ctx.transform=this.ctx.transform.multiply(ie)},h.prototype.setTransform=function(V,Q,Z,le,ce,he){V=isNaN(V)?1:V,Q=isNaN(Q)?0:Q,Z=isNaN(Z)?0:Z,le=isNaN(le)?1:le,ce=isNaN(ce)?0:ce,he=isNaN(he)?0:he,this.ctx.transform=new l(V,Q,Z,le,ce,he)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(V,Q,Z,le,ce,he,ie,de,_e){var Pe=this.pdf.getImageProperties(V),Me=1,Oe=1,$e=1,J=1;le!==void 0&&de!==void 0&&($e=de/le,J=_e/ce,Me=Pe.width/le*de/le,Oe=Pe.height/ce*_e/ce),he===void 0&&(he=Q,ie=Z,Q=0,Z=0),le!==void 0&&de===void 0&&(de=le,_e=ce),le===void 0&&de===void 0&&(de=Pe.width,_e=Pe.height);var Be=this.ctx.transform.decompose(),St=H(Be.rotate.shx),ot=new l,Ne=(ot=(ot=(ot=ot.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new a(he-Q*$e,ie-Z*J,le*Me,ce*Oe));if(this.autoPaging){for(var qe,ze=w.call(this,Ne),ht=[],Ye=0;Ye<ze.length;Ye+=1)ht.indexOf(ze[Ye])===-1&&ht.push(ze[Ye]);N(ht);for(var Xt=ht[0],jt=ht[ht.length-1],lt=Xt;lt<jt+1;lt++){this.pdf.setPage(lt);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=lt===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=lt===1?0:et+(lt-2)*bt;if(this.ctx.clip_path.length!==0){var xn=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(qe,this.posX+this.margin[3],-tt+Ot+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=xn}var Lt=JSON.parse(JSON.stringify(Ne));Lt=_([Lt],this.posX+this.margin[3],-tt+Ot+this.ctx.prevPageLastElemOffset)[0];var xt=(lt>Xt||lt<jt)&&x.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,bt,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,St),xt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(V,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,St)};var w=function(V,Q,Z){var le=[];Q=Q||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":le.push(Math.floor((V.y+ce)/Z)+1);break;case"arc":le.push(Math.floor((V.y+ce-V.radius)/Z)+1),le.push(Math.floor((V.y+ce+V.radius)/Z)+1);break;case"qct":var he=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);le.push(Math.floor((he.y+ce)/Z)+1),le.push(Math.floor((he.y+he.h+ce)/Z)+1);break;case"bct":var ie=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);le.push(Math.floor((ie.y+ce)/Z)+1),le.push(Math.floor((ie.y+ie.h+ce)/Z)+1);break;case"rect":le.push(Math.floor((V.y+ce)/Z)+1),le.push(Math.floor((V.y+V.h+ce)/Z)+1)}for(var de=0;de<le.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<le[de];)v.call(this);return le},v=function(){var V=this.fillStyle,Q=this.strokeStyle,Z=this.font,le=this.lineCap,ce=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=Q,this.font=Z,this.lineCap=le,this.lineWidth=ce,this.lineJoin=he},_=function(V,Q,Z){for(var le=0;le<V.length;le++)switch(V[le].type){case"bct":V[le].x2+=Q,V[le].y2+=Z;case"qct":V[le].x1+=Q,V[le].y1+=Z;default:V[le].x+=Q,V[le].y+=Z}return V},N=function(V){return V.sort(function(Q,Z){return Q-Z})},R=function(V,Q){var Z=this.fillStyle,le=this.strokeStyle,ce=this.lineCap,he=this.lineWidth,ie=Math.abs(he*this.ctx.transform.scaleX),de=this.lineJoin;if(this.autoPaging){for(var _e,Pe,Me=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),$e=[],J=0;J<Oe.length;J++)if(Oe[J].x!==void 0)for(var Be=w.call(this,Oe[J]),St=0;St<Be.length;St+=1)$e.indexOf(Be[St])===-1&&$e.push(Be[St]);for(var ot=0;ot<$e.length;ot++)for(;this.pdf.internal.getNumberOfPages()<$e[ot];)v.call(this);N($e);for(var Ne=$e[0],qe=$e[$e.length-1],ze=Ne;ze<qe+1;ze++){this.pdf.setPage(ze),this.fillStyle=Z,this.strokeStyle=le,this.lineCap=ce,this.lineWidth=ie,this.lineJoin=de;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=ze===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=ze===1?0:Xt+(ze-2)*jt;if(this.ctx.clip_path.length!==0){var Pt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(_e,this.posX+this.margin[3],-lt+Ye+this.ctx.prevPageLastElemOffset),O.call(this,V,!0),this.path=Pt}if(Pe=JSON.parse(JSON.stringify(Me)),this.path=_(Pe,this.posX+this.margin[3],-lt+Ye+this.ctx.prevPageLastElemOffset),Q===!1||ze===0){var Ot=(ze>Ne||ze<qe)&&x.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,jt,null).clip().discardPath()),O.call(this,V,Q),Ot&&this.pdf.restoreGraphicsState()}this.lineWidth=he}this.path=Me}else this.lineWidth=ie,O.call(this,V,Q),this.lineWidth=he},O=function(V,Q){if((V!=="stroke"||Q||!b.call(this))&&(V==="stroke"||Q||!f.call(this))){for(var Z,le,ce=[],he=this.path,ie=0;ie<he.length;ie++){var de=he[ie];switch(de.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:de,deltas:[],abs:[]});break;case"lt":var _e=ce.length;if(he[ie-1]&&!isNaN(he[ie-1].x)&&(Z=[de.x-he[ie-1].x,de.y-he[ie-1].y],_e>0)){for(;_e>=0;_e--)if(ce[_e-1].close!==!0&&ce[_e-1].begin!==!0){ce[_e-1].deltas.push(Z),ce[_e-1].abs.push(de);break}}break;case"bct":Z=[de.x1-he[ie-1].x,de.y1-he[ie-1].y,de.x2-he[ie-1].x,de.y2-he[ie-1].y,de.x-he[ie-1].x,de.y-he[ie-1].y],ce[ce.length-1].deltas.push(Z);break;case"qct":var Pe=he[ie-1].x+2/3*(de.x1-he[ie-1].x),Me=he[ie-1].y+2/3*(de.y1-he[ie-1].y),Oe=de.x+2/3*(de.x1-de.x),$e=de.y+2/3*(de.y1-de.y),J=de.x,Be=de.y;Z=[Pe-he[ie-1].x,Me-he[ie-1].y,Oe-he[ie-1].x,$e-he[ie-1].y,J-he[ie-1].x,Be-he[ie-1].y],ce[ce.length-1].deltas.push(Z);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(de)}}le=Q?null:V==="stroke"?"stroke":"fill";for(var St=!1,ot=0;ot<ce.length;ot++)if(ce[ot].arc)for(var Ne=ce[ot].abs,qe=0;qe<Ne.length;qe++){var ze=Ne[qe];ze.type==="arc"?A.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,Q,!St):E.call(this,ze.x,ze.y),St=!0}else if(ce[ot].close===!0)this.pdf.internal.out("h"),St=!1;else if(ce[ot].begin!==!0){var ht=ce[ot].start.x,Ye=ce[ot].start.y;$.call(this,ce[ot].deltas,ht,Ye),St=!0}le&&C.call(this,le),Q&&M.call(this)}},z=function(V){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-Z;case"top":return V+Q-Z;case"hanging":return V+Q-2*Z;case"middle":return V+Q/2-Z;default:return V}},k=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(Q,Z){this.colorStops.push([Q,Z])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(V,Q,Z,le,ce,he,ie,de,_e){for(var Pe=ae.call(this,Z,le,ce,he),Me=0;Me<Pe.length;Me++){var Oe=Pe[Me];Me===0&&(_e?P.call(this,Oe.x1+V,Oe.y1+Q):E.call(this,Oe.x1+V,Oe.y1+Q)),Y.call(this,V,Q,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}de?M.call(this):C.call(this,ie)},C=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(V,Q){this.pdf.internal.out(n(V)+" "+r(Q)+" m")},I=function(V){var Q;switch(V.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var Z,le,ce,he=this.pdf.getTextDimensions(V.text),ie=z.call(this,V.y),de=k.call(this,ie)-he.h,_e=this.ctx.transform.applyToPoint(new o(V.x,ie));if(this.autoPaging){var Pe=this.ctx.transform.decompose(),Me=new l;Me=(Me=(Me=Me.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var Oe=this.ctx.transform.applyToRectangle(new a(V.x,ie,he.w,he.h)),$e=Me.applyToRectangle(new a(V.x,de,he.w,he.h)),J=w.call(this,$e),Be=[],St=0;St<J.length;St+=1)Be.indexOf(J[St])===-1&&Be.push(J[St]);N(Be);for(var ot=Be[0],Ne=Be[Be.length-1],qe=ot;qe<Ne+1;qe++){this.pdf.setPage(qe);var ze=qe===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],Xt=Ye-this.margin[0],jt=this.pdf.internal.pageSize.width-this.margin[1],lt=jt-this.margin[3],Pt=qe===1?0:ht+(qe-2)*Xt;if(this.ctx.clip_path.length!==0){var Ot=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Z,this.posX+this.margin[3],-1*Pt+ze),O.call(this,"fill",!0),this.path=Ot}var et=_([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Pt+ze+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*V.scale),ce=this.lineWidth,this.lineWidth=ce*V.scale);var bt=this.autoPaging!=="text";if(bt||et.y+et.h<=Ye){if(bt||et.y>=ze&&et.x<=jt){var tt=bt?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||jt-et.x)[0],xn=_([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-Pt+ze+this.ctx.prevPageLastElemOffset)[0],Lt=bt&&(qe>ot||qe<Ne)&&x.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Xt,null).clip().discardPath()),this.pdf.text(tt,xn.x,xn.y,{angle:V.angle,align:Q,renderingMode:V.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else et.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-et.y);V.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ce)}}else V.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*V.scale),ce=this.lineWidth,this.lineWidth=ce*V.scale),this.pdf.text(V.text,_e.x+this.posX,_e.y+this.posY,{angle:V.angle,align:Q,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=ce)},E=function(V,Q,Z,le){Z=Z||0,le=le||0,this.pdf.internal.out(n(V+Z)+" "+r(Q+le)+" l")},$=function(V,Q,Z){return this.pdf.lines(V,Q,Z,null,null)},Y=function(V,Q,Z,le,ce,he,ie,de){this.pdf.internal.out([t(s(Z+V)),t(i(le+Q)),t(s(ce+V)),t(i(he+Q)),t(s(ie+V)),t(i(de+Q)),"c"].join(" "))},ae=function(V,Q,Z,le){for(var ce=2*Math.PI,he=Math.PI/2;Q>Z;)Q-=ce;var ie=Math.abs(Z-Q);ie<ce&&le&&(ie=ce-ie);for(var de=[],_e=le?-1:1,Pe=Q;ie>1e-5;){var Me=Pe+_e*Math.min(ie,he);de.push(ee.call(this,V,Pe,Me)),ie-=Math.abs(Me-Pe),Pe=Me}return de},ee=function(V,Q,Z){var le=(Z-Q)/2,ce=V*Math.cos(le),he=V*Math.sin(le),ie=ce,de=-he,_e=ie*ie+de*de,Pe=_e+ie*ce+de*he,Me=4/3*(Math.sqrt(2*_e*Pe)-Pe)/(ie*he-de*ce),Oe=ie-Me*de,$e=de+Me*ie,J=Oe,Be=-$e,St=le+Q,ot=Math.cos(St),Ne=Math.sin(St);return{x1:V*Math.cos(Q),y1:V*Math.sin(Q),x2:Oe*ot-$e*Ne,y2:Oe*Ne+$e*ot,x3:J*ot-Be*Ne,y3:J*Ne+Be*ot,x4:V*Math.cos(Z),y4:V*Math.sin(Z)}},H=function(V){return 180*V/Math.PI},ne=function(V,Q,Z,le,ce,he){var ie=V+.5*(Z-V),de=Q+.5*(le-Q),_e=ce+.5*(Z-ce),Pe=he+.5*(le-he),Me=Math.min(V,ce,ie,_e),Oe=Math.max(V,ce,ie,_e),$e=Math.min(Q,he,de,Pe),J=Math.max(Q,he,de,Pe);return new a(Me,$e,Oe-Me,J-$e)},oe=function(V,Q,Z,le,ce,he,ie,de){var _e,Pe,Me,Oe,$e,J,Be,St,ot,Ne,qe,ze,ht,Ye,Xt=Z-V,jt=le-Q,lt=ce-Z,Pt=he-le,Ot=ie-ce,et=de-he;for(Pe=0;Pe<41;Pe++)ot=(Be=(Me=V+(_e=Pe/40)*Xt)+_e*(($e=Z+_e*lt)-Me))+_e*($e+_e*(ce+_e*Ot-$e)-Be),Ne=(St=(Oe=Q+_e*jt)+_e*((J=le+_e*Pt)-Oe))+_e*(J+_e*(he+_e*et-J)-St),Pe==0?(qe=ot,ze=Ne,ht=ot,Ye=Ne):(qe=Math.min(qe,ot),ze=Math.min(ze,Ne),ht=Math.max(ht,ot),Ye=Math.max(Ye,Ne));return new a(Math.round(qe),Math.round(ze),Math.round(ht-qe),Math.round(Ye-ze))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,Q,Z=(V=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:Q}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(at.API),function(e){var t=function(o){var a,l,c,d,h,p,f,b,x,w;for(l=[],c=0,d=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;d>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(w=h%85))/85)-(x=h%85))/85)-(b=h%85))/85)-(f=h%85))/85)%85,l.push(p+33,f+33,b+33,x+33,w+33)):l.push(122);return function(v,_){for(var N=_;N>0;N--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,c,d,h,p=String,f="length",b=255,x="charCodeAt",w="slice",v="replace";for(o[w](-2),o=o[w](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],d=0,h=(o+=a="uuuuu"[w](o[f]%5||5))[f];h>d;d+=5)l=52200625*(o[x](d)-33)+614125*(o[x](d+1)-33)+7225*(o[x](d+2)-33)+85*(o[x](d+3)-33)+(o[x](d+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(_,N){for(var R=N;R>0;R--)_.pop()}(c,a[f]),p.fromCharCode.apply(p,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},i=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=Qw(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,a){var l=0,c=o||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(at.API),function(e){e.loadFile=function(t,n,r){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,d){var h=new XMLHttpRequest,p=0,f=function(b){var x=b.length,w=[],v=String.fromCharCode;for(p=0;p<x;p+=1)w.push(v(255&b.charCodeAt(p)));return w.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(s,i,o)}catch{}return a}(t,n,r)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(at.API),function(e){function t(){return(At.html2canvas?Promise.resolve(At.html2canvas):px(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):px(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=mn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var c=document.createElement(a);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function a(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(a(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return(d=d.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var b=d[f],x=b.src.find(function(w){return w.format==="truetype"});x&&c.addFont(x.url,b.ref.name,b.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,d){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,d),p}).then(d,h).then(function(p){return c.updateProgress(1),p})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var d=this;a&&(a=a.bind(d)),l&&(l=l.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),p=c.call(h,a,l);return o.convert(p,d.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,at.getPageSize=function(a,l,c){if(mn(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var b,x=0,w=0;if(f.hasOwnProperty(p))x=f[p][1]/h,w=f[p][0]/h;else try{x=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",w>x&&(b=w,w=x,x=b);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>w&&(b=w,w=x,x=b)}return{width:w,height:x,unit:l,k:h,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Fx):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(at.API),at.API.addJS=function(e){var t,n,r=e;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(i=0;i<c;i++){var h=n.internal.newObject();d.push(h);var p=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<d.length;i++)n.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var o={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(at.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,s,i,o,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,x={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=f,t.indexOf(h.charCodeAt(w+1))!==-1){p=256*h.charCodeAt(w+5)+h.charCodeAt(w+6),x={width:256*h.charCodeAt(w+7)+h.charCodeAt(w+8),height:p,numcomponents:h.charCodeAt(w+9)};break}f=256*h.charCodeAt(w+2)+h.charCodeAt(w+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:s}}return d}}(at.API),at.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=Joe(e,{checkCrc:!0}),o=i.width,a=i.height,l=i.channels,c=i.palette,d=i.depth;s=c&&l===1?function(A){for(var C=A.width,M=A.height,P=A.data,I=A.palette,E=A.depth,$=!1,Y=[],ae=[],ee=void 0,H=!1,ne=0,oe=0;oe<I.length;oe++){var fe=KT(I[oe],4),V=fe[0],Q=fe[1],Z=fe[2],le=fe[3];Y.push(V,Q,Z),le!=null&&(le===0?(ne++,ae.length<1&&ae.push(oe)):le<255&&(H=!0))}if(H||ne>1){$=!0,ae=void 0;var ce=C*M;ee=new Uint8Array(ce);for(var he=new DataView(P.buffer),ie=0;ie<ce;ie++){var de=Bx(he,ie,E),_e=KT(I[de],4)[3];ee[ie]=_e}}else ne===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:P,alphaBytes:ee,needSMask:$,palette:Y,mask:ae}}(i):l===2||l===4?function(A){for(var C=A.data,M=A.width,P=A.height,I=A.channels,E=A.depth,$=I===2?"DeviceGray":"DeviceRGB",Y=I-1,ae=M*P,ee=Y,H=ae*ee,ne=1*ae,oe=Math.ceil(H*E/8),fe=Math.ceil(ne*E/8),V=new Uint8Array(oe),Q=new Uint8Array(fe),Z=new DataView(C.buffer),le=new DataView(V.buffer),ce=new DataView(Q.buffer),he=!1,ie=0;ie<ae;ie++){for(var de=ie*I,_e=0;_e<ee;_e++)aC(le,Bx(Z,de+_e,E),ie*ee+_e,E);var Pe=Bx(Z,de+ee,E);Pe<(1<<E)-1&&(he=!0),aC(ce,Pe,1*ie,E)}return{colorSpace:$,colorsPerPixel:Y,sMaskBitsPerComponent:he?E:void 0,colorBytes:V,alphaBytes:Q,needSMask:he}}(i):function(A){var C=A.data,M=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?function(P){for(var I=P.length,E=new Uint8Array(2*I),$=new DataView(E.buffer,E.byteOffset,E.byteLength),Y=0;Y<I;Y++)$.setUint16(2*Y,P[Y],!1);return E}(C):C,needSMask:!1}}(i);var h,p,f,b=s,x=b.colorSpace,w=b.colorsPerPixel,v=b.sMaskBitsPerComponent,_=b.colorBytes,N=b.alphaBytes,R=b.needSMask,O=b.palette,z=b.mask,k=null;return r!==at.API.image_compression.NONE&&typeof Qw=="function"?(k=function(A){var C;switch(A){case at.API.image_compression.FAST:C=11;break;case at.API.image_compression.MEDIUM:C=13;break;case at.API.image_compression.SLOW:C=14;break;default:C=12}return C}(r),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(k," /Colors ").concat(w," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=nC(_,Math.ceil(o*w*d/8),w,d,r),R&&(f=nC(N,Math.ceil(o*v/8),1,v,r))):(h=void 0,p=void 0,e=_,R&&(f=N)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:h,decodeParameters:p,transparency:z,palette:O,sMask:f,predictor:k,width:o,height:a,bitsPerComponent:d,sMaskBitsPerComponent:v,colorSpace:x}}},function(e){e.processGIF89A=function(t,n,r,s){var i=new bae(t),o=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},d=new Ux(100).encode(c,100);return e.processJPEG.call(this,d,n,r,s)},e.processGIF87A=e.processGIF89A}(at.API),vo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vo.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(n){Nn.log("bit decode error:"+n)}},vo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},vo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,a=i>>4,l=15&i,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},vo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},vo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,a=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,d=r*this.width*4+4*s;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=c}this.pos+=e}},vo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=e}},vo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},vo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=o}},vo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var i=new vo(t,!1),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new Ux(100).encode(l,100);return e.processJPEG.call(this,c,n,r,s)}}(at.API),cC.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var i=new cC(t),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new Ux(100).encode(l,100);return e.processJPEG.call(this,c,n,r,s)}}(at.API),at.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,l=0,c=0;c<s;c+=4){var d=r[c],h=r[c+1],p=r[c+2],f=r[c+3];i[a++]=d,i[a++]=h,i[a++]=p,o[l++]=f}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},at.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Md=at.API,j0=Md.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=c.fof?c.fof:1,h=t.doKerning!==!1,p=0,f=e.length,b=0,x=a[0]||l,w=[];for(n=0;n<f;n++)r=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?w.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(p=h&&mn(c[r])==="object"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/d:0,w.push((a[r]||x)/l+p)),b=r;return w},JP=Md.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Md.processArabic&&(e=Md.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,s)/n:j0.apply(this,arguments).reduce(function(i,o){return i+o},0)},eC=function(e,t,n,r){for(var s=[],i=0,o=e.length,a=0;i!==o&&a+t[i]<n;)a+=t[i],i++;s.push(e.slice(0,i));var l=i;for(a=0;i!==o;)a+t[i]>r&&(s.push(e.slice(l,i)),a=0,l=i),a+=t[i],i++;return l!==i&&s.push(e.slice(l,i)),s},tC=function(e,t,n){n||(n={});var r,s,i,o,a,l,c,d=[],h=[d],p=n.textIndent||0,f=0,b=0,x=e.split(" "),w=j0.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),_=[];x.map(function(R){(R=R.split(/\s*\n/)).length>1?_=_.concat(R.map(function(O,z){return(z&&O.length?`
`:"")+O})):_.push(R[0])}),x=_,l=JP.apply(this,[v,n])}for(i=0,o=x.length;i<o;i++){var N=0;if(r=x[i],l&&r[0]==`
`&&(r=r.substr(1),N=1),p+f+(b=(s=j0.apply(this,[r,n])).reduce(function(R,O){return R+O},0))>t||N){if(b>t){for(a=eC.apply(this,[r,s,t-(p+f),t]),d.push(a.shift()),d=[a.pop()];a.length;)h.push([a.shift()]);b=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(R,O){return R+O},0)}else d=[r];h.push(d),p=b+l,f=w}else d.push(r),p+=f+b,f=w}return c=l?function(R,O){return(O?v:"")+R.join(" ")}:function(R){return R.join(" ")},h.map(c)},Md.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(tC.apply(this,[r[a],o,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},s={},i=0;i<16;i++)r[n[i]]=t[i],s[t[i]]=n[i];var o=function(p){return"0x"+parseInt(p,10).toString(16)},a=e.__fontmetrics__.compress=function(p){var f,b,x,w,v=["{"];for(var _ in p){if(f=p[_],isNaN(parseInt(_,10))?b="'"+_+"'":(_=parseInt(_,10),b=(b=o(_).slice(2)).slice(0,-1)+s[b.slice(-1)]),typeof f=="number")f<0?(x=o(f).slice(3),w="-"):(x=o(f).slice(2),w=""),x=w+x.slice(0,-1)+s[x.slice(-1)];else{if(mn(f)!=="object")throw new Error("Don't know what to do with value type "+mn(f)+".");x=a(f)}v.push(b+x)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,b,x,w,v={},_=1,N=v,R=[],O="",z="",k=p.length-1,A=1;A<k;A+=1)(w=p[A])=="'"?f?(x=f.join(""),f=void 0):f=[]:f?f.push(w):w=="{"?(R.push([N,x]),N={},x=void 0):w=="}"?((b=R.pop())[0][b[1]]=N,x=void 0,N=b[0]):w=="-"?_=-1:x===void 0?r.hasOwnProperty(w)?(O+=r[w],x=parseInt(O,16)*_,_=1,O=""):O+=w:r.hasOwnProperty(w)?(z+=r[w],N[x]=parseInt(z,16)*_,_=1,x=void 0,z=""):z+=w;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var f=p.font,b=h.Unicode[f.postScriptName];b&&(f.metadata.Unicode={},f.metadata.Unicode.widths=b.widths,f.metadata.Unicode.kerning=b.kerning);var x=d.Unicode[f.postScriptName];x&&(f.metadata.Unicode.encoding=x,f.encoding=x.codePages[0])}])}(at.API),function(e){var t=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(a1(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(at),at.API.addSvgAsImage=function(e,t,n,r,s,i,o,a){if(isNaN(t)||isNaN(n))throw Nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw Nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(At.canvg?Promise.resolve(At.canvg):px(()=>import("./index.es-C8U0u2gD.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),t,n,r,s,o,a)})},at.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},at.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,d=0,h=0;function p(b,x){var w,v=!1;for(w=0;w<b.length;w+=1)b[w]===x&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=a.length;for(h=0;h<f;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(mn(e)==="object"){for(s in e)if(i=e[s],p(a,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&p(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(c=0;c<i.length;c+=1)if(r=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(d=0;d<i[c].length;d+=1)typeof i[c][d]!="number"&&(r=!1);r===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,x=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?x.push("/"+b+" /"+n[b].value):x.push("/"+b+" "+n[b].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},at.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",_ae),this.internal.events.subscribe("postPutResources",wae)),this},function(e){var t=e.API,n=t.pdfEscape16=function(i,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],h=0,p=i.length;h<p;++h){if(a=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=i.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},r=function(i){var o,a,l,c,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(a=Object.keys(i).sort(function(f,b){return f-b})).length;h<p;h++)o=a[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",b=0;b<p.length;b++)f+=String.fromCharCode(p[b]);var x=c();d({data:f,addLength1:!0,objectId:x}),l("endobj");var w=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+$d(a.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+$d(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+$d(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var b=c();d({data:p,addLength1:!0,objectId:b}),l("endobj");var x=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var w=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+$d(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+$d(a.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,a=i.text||"",l=i.x,c=i.y,d=i.options||{},h=i.mutex||{},p=h.pdfEscape,f=h.activeFontKey,b=h.fonts,x=f,w="",v=0,_="",N=b[x].encoding;if(b[x].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:h};for(_=a,x=f,Array.isArray(a)&&(_=a[0]),v=0;v<_.length;v+=1)b[x].metadata.hasOwnProperty("cmap")&&(o=b[x].metadata.cmap.unicode.codeMap[_[v].charCodeAt(0)]),o||_[v].charCodeAt(0)<256&&b[x].metadata.hasOwnProperty("Unicode")?w+=_[v]:w+="";var R="";return parseInt(x.slice(1))<14||N==="WinAnsiEncoding"?R=p(w,x).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(R=n(w,b[x])),h.isHex=!0,{text:R,x:l,y:c,options:d,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",a=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([s(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(s(Object.assign({},l,{text:o[c]})).text);i.text=a}else i.text=s(Object.assign({},l,{text:o})).text}])}(at),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var s,i,o,a,l,c,d,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,N=0;this.__bidiEngine__={};var R=function(P){var I=P.charCodeAt(),E=I>>8,$=x[E];return $!==void 0?h[256*$+(255&I)]:E===252||E===253?"AL":v.test(E)?"L":E===8?"R":"N"},O=function(P){for(var I,E=0;E<P.length;E++){if((I=R(P.charAt(E)))==="L")return!1;if(I==="R")return!0}return!1},z=function(P,I,E,$){var Y,ae,ee,H,ne=I[$];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(ne="AN");break;case"AL":_=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":$<1||$+1>=I.length||(Y=E[$-1])!=="EN"&&Y!=="AN"||(ae=I[$+1])!=="EN"&&ae!=="AN"?ne="N":_&&(ae="AN"),ne=ae===Y?ae:"N";break;case"ES":ne=(Y=$>0?E[$-1]:"B")==="EN"&&$+1<I.length&&I[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&E[$-1]==="EN"){ne="EN";break}if(_){ne="N";break}for(ee=$+1,H=I.length;ee<H&&I[ee]==="ET";)ee++;ne=ee<H&&I[ee]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(H=I.length,ee=$+1;ee<H&&I[ee]==="NSM";)ee++;if(ee<H){var oe=P[$],fe=oe>=1425&&oe<=2303||oe===64286;if(Y=I[ee],fe&&(Y==="R"||Y==="AL")){ne="R";break}}}ne=$<1||(Y=I[$-1])==="B"?"N":E[$-1];break;case"B":_=!1,s=!0,ne=N;break;case"S":i=!0,ne="N"}return ne},k=function(P,I,E){var $=P.split("");return E&&A($,E,{hiLevel:N}),$.reverse(),I&&I.reverse(),$.join("")},A=function(P,I,E){var $,Y,ae,ee,H,ne=-1,oe=P.length,fe=0,V=[],Q=N?f:p,Z=[];for(_=!1,s=!1,i=!1,Y=0;Y<oe;Y++)Z[Y]=R(P[Y]);for(ae=0;ae<oe;ae++){if(H=fe,V[ae]=z(P,Z,V,ae),$=240&(fe=Q[H][b[V[ae]]]),fe&=15,I[ae]=ee=Q[fe][5],$>0)if($===16){for(Y=ne;Y<ae;Y++)I[Y]=1;ne=-1}else ne=-1;if(Q[fe][6])ne===-1&&(ne=ae);else if(ne>-1){for(Y=ne;Y<ae;Y++)I[Y]=ee;ne=-1}Z[ae]==="B"&&(I[ae]=0),E.hiLevel|=ee}i&&function(le,ce,he){for(var ie=0;ie<he;ie++)if(le[ie]==="S"){ce[ie]=N;for(var de=ie-1;de>=0&&le[de]==="WS";de--)ce[de]=N}}(Z,I,oe)},C=function(P,I,E,$,Y){if(!(Y.hiLevel<P)){if(P===1&&N===1&&!s)return I.reverse(),void(E&&E.reverse());for(var ae,ee,H,ne,oe=I.length,fe=0;fe<oe;){if($[fe]>=P){for(H=fe+1;H<oe&&$[H]>=P;)H++;for(ne=fe,ee=H-1;ne<ee;ne++,ee--)ae=I[ne],I[ne]=I[ee],I[ee]=ae,E&&(ae=E[ne],E[ne]=E[ee],E[ee]=ae);fe=H}fe++}}},M=function(P,I,E){var $=P.split(""),Y={hiLevel:N};return E||(E=[]),A($,E,Y),function(ae,ee,H){if(H.hiLevel!==0&&d)for(var ne,oe=0;oe<ae.length;oe++)ee[oe]===1&&(ne=w.indexOf(ae[oe]))>=0&&(ae[oe]=w[ne+1])}($,E,Y),C(2,$,I,E,Y),C(1,$,I,E,Y),$.join("")};return this.__bidiEngine__.doBidiReorder=function(P,I,E){if(function(Y,ae){if(ae)for(var ee=0;ee<Y.length;ee++)ae[ee]=ee;a===void 0&&(a=O(Y)),c===void 0&&(c=O(Y))}(P,I),o||!l||c)if(o&&l&&a^c)N=a?1:0,P=k(P,I,E);else if(!o&&l&&c)N=a?1:0,P=M(P,I,E),P=k(P,I);else if(!o||a||l||c){if(o&&!l&&a^c)P=k(P,I),a?(N=0,P=M(P,I,E)):(N=1,P=M(P,I,E),P=k(P,I));else if(o&&a&&!l&&c)N=1,P=M(P,I,E),P=k(P,I);else if(!o&&!l&&a^c){var $=d;a?(N=1,P=M(P,I,E),N=0,d=!1,P=M(P,I,E),d=$):(N=0,P=M(P,I,E),P=k(P,I),N=1,d=!1,P=M(P,I,E),d=$,P=k(P,I))}}else N=0,P=M(P,I,E);else N=a?1:0,P=M(P,I,E);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,l=P.isOutputVisual,a=P.isInputRtl,c=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([n.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([n.doBidiReorder(s[a])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Kc(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Oae(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Sae(this.contents),this.head=new Aae(this),this.name=new kae(this),this.cmap=new yM(this),this.toUnicode={},this.hhea=new Eae(this),this.maxp=new jae(this),this.hmtx=new Iae(this),this.post=new Pae(this),this.os2=new Tae(this),this.loca=new Mae(this),this.glyf=new Rae(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var s,i,o,a;for(o=0,i=0,a=(t=""+t).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Bo,Kc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,s;for(s=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,s,i,o,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,s,i;for(i=[],r=0,s=t.length;r<s;r++)n=t[r],i.push(this.writeByte(n));return i},e}(),Sae=function(){var e;function t(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,s,i,o,a,l,c,d,h,p,f,b,x;for(x in f=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),d=16*f-h,(s=new Kc).writeInt(this.scalarType),s.writeShort(f),s.writeShort(h),s.writeShort(o),s.writeShort(d),i=16*f,c=s.pos+i,a=null,b=[],n)for(p=n[x],s.writeString(x),s.writeInt(e(p)),s.writeInt(c),s.writeInt(p.length),b=b.concat(p),x==="head"&&(a=c),c+=p.length;c%4;)b.push(0),c++;return s.write(b),r=2981146554-e(s.data),s.pos=a+8,s.writeUInt32(r),s.data},e=function(n){var r,s,i,o;for(n=vM.call(n);n.length%4;)n.push(0);for(i=new Kc(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=i.readUInt32();return 4294967295&s},t}(),Nae={}.hasOwnProperty,Ra=function(e,t){for(var n in t)Nae.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Bo=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Aae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,Bo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Kc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),uC=function(){function e(t,n){var r,s,i,o,a,l,c,d,h,p,f,b,x,w,v,_,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),p=f/2,t.pos+=6,i=function(){var R,O;for(O=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)O.push(t.readUInt16());return O}(),t.pos+=2,x=function(){var R,O;for(O=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)O.push(t.readUInt16());return O}(),c=function(){var R,O;for(O=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)O.push(t.readUInt16());return O}(),d=function(){var R,O;for(O=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)O.push(t.readUInt16());return O}(),s=(this.length-t.pos+this.offset)/2,a=function(){var R,O;for(O=[],l=R=0;0<=s?R<s:R>s;l=0<=s?++R:--R)O.push(t.readUInt16());return O}(),l=v=0,N=i.length;v<N;l=++v)for(w=i[l],r=_=b=x[l];b<=w?_<=w:_>=w;r=b<=w?++_:--_)d[l]===0?o=r+c[l]:(o=a[d[l]/2+(r-b)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}t.pos=h}return e.encode=function(t,n){var r,s,i,o,a,l,c,d,h,p,f,b,x,w,v,_,N,R,O,z,k,A,C,M,P,I,E,$,Y,ae,ee,H,ne,oe,fe,V,Q,Z,le,ce,he,ie,de,_e,Pe,Me;switch($=new Kc,o=Object.keys(t).sort(function(Oe,$e){return Oe-$e}),n){case"macroman":for(x=0,w=function(){var Oe=[];for(b=0;b<256;++b)Oe.push(0);return Oe}(),_={0:0},i={},Y=0,ne=o.length;Y<ne;Y++)_[de=t[s=o[Y]]]==null&&(_[de]=++x),i[s]={old:t[s],new:_[t[s]]},w[s]=_[t[s]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(w),{charMap:i,subtable:$.data,maxGlyphID:x+1};case"unicode":for(I=[],h=[],N=0,_={},r={},v=c=null,ae=0,oe=o.length;ae<oe;ae++)_[O=t[s=o[ae]]]==null&&(_[O]=++N),r[s]={old:O,new:_[O]},a=_[O]-s,v!=null&&a===c||(v&&h.push(v),I.push(s),c=a),v=s;for(v&&h.push(v),h.push(65535),I.push(65535),M=2*(C=I.length),A=2*Math.pow(Math.log(C)/Math.LN2,2),p=Math.log(A/2)/Math.LN2,k=2*C-A,l=[],z=[],f=[],b=ee=0,fe=I.length;ee<fe;b=++ee){if(P=I[b],d=h[b],P===65535){l.push(0),z.push(0);break}if(P-(E=r[P].new)>=32768)for(l.push(0),z.push(2*(f.length+C-b)),s=H=P;P<=d?H<=d:H>=d;s=P<=d?++H:--H)f.push(r[s].new);else l.push(E-P),z.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*C+2*f.length),$.writeUInt16(0),$.writeUInt16(M),$.writeUInt16(A),$.writeUInt16(p),$.writeUInt16(k),he=0,V=h.length;he<V;he++)s=h[he],$.writeUInt16(s);for($.writeUInt16(0),ie=0,Q=I.length;ie<Q;ie++)s=I[ie],$.writeUInt16(s);for(_e=0,Z=l.length;_e<Z;_e++)a=l[_e],$.writeUInt16(a);for(Pe=0,le=z.length;Pe<le;Pe++)R=z[Pe],$.writeUInt16(R);for(Me=0,ce=f.length;Me<ce;Me++)x=f[Me],$.writeUInt16(x);return{charMap:r,subtable:$.data,maxGlyphID:N+1}}},e}(),yM=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,Bo),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new uC(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,s;return n==null&&(n="macroman"),r=uC.encode(t,n),(s=new Kc).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},e}(),Eae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,Bo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Tae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,Bo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Pae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,Bo),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],i=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;i=0<=a?++o:--o)l.push(t.readUInt32());return l}).call(this)}},e}(),Cae=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},kae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,Bo),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,s,i,o,a,l,c,d,h,p;for(t.pos=this.offset,t.readShort(),n=t.readShort(),a=t.readShort(),r=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},i=d=0,h=r.length;d<h;i=++d)s=r[i],t.pos=s.offset,c=t.readString(s.length),o=new Cae(c,s),l[p=s.nameID]==null&&(l[p]=[]),l[s.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),jae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,Bo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Iae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,Bo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,s,i,o,a,l;for(t.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)d.push(t.readInt16());return d}(),this.widths=(function(){var c,d,h,p;for(p=[],c=0,d=(h=this.metrics).length;c<d;c++)i=h[c],p.push(i.advance);return p}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)l.push(this.widths.push(r));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),vM=[].slice,Rae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,Bo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,s,i,o,a,l,c,d,h;return t in this.cache?this.cache[t]:(i=this.file.loca,n=this.file.contents,r=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,o=(a=new Kc(n.read(s))).readShort(),c=a.readShort(),h=a.readShort(),l=a.readShort(),d=a.readShort(),this.cache[t]=o===-1?new Dae(a,c,h,l,d):new Lae(a,o,c,h,l,d),this.cache[t]))},e.prototype.encode=function(t,n,r){var s,i,o,a,l;for(o=[],i=[],a=0,l=n.length;a<l;a++)s=t[n[a]],i.push(o.length),s&&(o=o.concat(s.encode(r)));return i.push(o.length),{table:o,offsets:i}},e}(),Lae=function(){function e(t,n,r,s,i,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Dae=function(){function e(t,n,r,s,i){var o,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Kc(vM.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Mae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ra(e,Bo),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<r.length;++o)if(r[o]=s,i<n.length&&n[i]==o){++i,r[o]=s;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(s+=l)}for(var c=new Array(4*r.length),d=0;d<r.length;++d)c[4*d+3]=255&r[d],c[4*d+2]=(65280&r[d])>>8,c[4*d+1]=(16711680&r[d])>>16,c[4*d]=(4278190080&r[d])>>24;return c},e}(),Oae=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[n],t[n]=s[r];return t},e.prototype.glyphsFor=function(t){var n,r,s,i,o,a,l;for(s={},o=0,a=t.length;o<a;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in l=this.glyphsFor(n))r=l[i],s[i]=r;return s},e.prototype.encode=function(t,n){var r,s,i,o,a,l,c,d,h,p,f,b,x,w,v;for(s in r=yM.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},v=r.charMap)f[(l=v[s]).old]=l.new;for(b in p=r.maxGlyphID,o)b in f||(f[b]=p++);return d=function(_){var N,R;for(N in R={},_)R[_[N]]=N;return R}(f),h=Object.keys(d).sort(function(_,N){return _-N}),x=function(){var _,N,R;for(R=[],_=0,N=h.length;_<N;_++)a=h[_],R.push(d[a]);return R}(),i=this.font.glyf.encode(o,x,f),c=this.font.loca.encode(i.offsets,x),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e}();at.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,s,i,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+n},t}();function xM(e,t,n,r,s){r=r||{};var i=1.15,o=s.internal.scaleFactor,a=s.internal.getFontSize()/o,l=s.getLineHeightFactor?s.getLineHeightFactor():i,c=a*l,d=/\r\n|\r|\n/g,h="",p=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof e=="string"?e.split(d):e,p=h.length||1),n+=a*(2-i),r.valign==="middle"?n-=p/2*c:r.valign==="bottom"&&(n-=p*c),r.halign==="center"||r.halign==="right"){var f=a;if(r.halign==="center"&&(f*=.5),h&&p>=1){for(var b=0;b<h.length;b++)s.text(h[b],t-s.getStringUnitWidth(h[b])*f,n),n+=c;return s}t-=s.getStringUnitWidth(e)*f}return r.halign==="justify"?s.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(e,t,n),s}var dC={},jh=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:dC=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,s,i;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(t.font&&(l=t.font),t.fontStyle){a=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var d=e.unifyColor(t.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=e.unifyColor(t.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=e.unifyColor(t.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,s,i){return this.jsPDFDocument.rect(t,n,r,s,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return dC||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),u5=function(e,t){return u5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},u5(e,t)};function bM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u5(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var wM=function(e){bM(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t}(Array);function Fae(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Vae(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Ny(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],s=r.map(function(i){return n.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return s}function _M(e,t,n,r){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var o=SM(s,!1);o&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,o)}function SM(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function jv(e,t){var n,r,s,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function NM(e,t){var n=jv(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function Bae(e,t,n,r,s){var i={},o=1.3333333333333333,a=zx(t,function(N){return s.getComputedStyle(N).backgroundColor});a!=null&&(i.fillColor=a);var l=zx(t,function(N){return s.getComputedStyle(N).color});l!=null&&(i.textColor=l);var c=zae(r,n);c&&(i.cellPadding=c);var d="borderTopColor",h=o*n,p=r.borderTopWidth;if(r.borderBottomWidth===p&&r.borderRightWidth===p&&r.borderLeftWidth===p){var f=(parseFloat(p)||0)/h;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var b=zx(t,function(N){return s.getComputedStyle(N)[d]});b!=null&&(i.lineColor=b);var x=["left","right","center","justify"];x.indexOf(r.textAlign)!==-1&&(i.halign=r.textAlign),x=["middle","bottom","top"],x.indexOf(r.verticalAlign)!==-1&&(i.valign=r.verticalAlign);var w=parseInt(r.fontSize||"");isNaN(w)||(i.fontSize=w/o);var v=Uae(r);v&&(i.fontStyle=v);var _=(r.fontFamily||"").toLowerCase();return e.indexOf(_)!==-1&&(i.font=_),i}function Uae(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function zx(e,t){var n=AM(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function AM(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:AM(e.parentElement,t):n}function zae(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=n.map(function(a){return parseInt(a||"0")/r}),o=jv(i,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}function EM(e,t,n,r,s){var i,o;r===void 0&&(r=!1),s===void 0&&(s=!1);var a;typeof t=="string"?a=n.document.querySelector(t):a=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),d=[],h=[],p=[];if(!a)return console.error("Html table could not be found with input: ",t),{head:d,body:h,foot:p};for(var f=0;f<a.rows.length;f++){var b=a.rows[f],x=(o=(i=b==null?void 0:b.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),w=$ae(l,c,n,b,r,s);w&&(x==="thead"?d.push(w):x==="tfoot"?p.push(w):h.push(w))}return{head:d,body:h,foot:p}}function $ae(e,t,n,r,s,i){for(var o=new wM(r),a=0;a<r.cells.length;a++){var l=r.cells[a],c=n.getComputedStyle(l);if(s||c.display!=="none"){var d=void 0;i&&(d=Bae(e,l,t,c,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:qae(l)})}}var h=n.getComputedStyle(r);if(o.length>0&&(s||h.display!=="none"))return o}function qae(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function Wae(e,t,n){for(var r=0,s=[e,t,n];r<s.length;r++){var i=s[r];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function sl(e,t,n,r,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i}function TM(e,t){var n=new jh(e),r=n.getDocumentOptions(),s=n.getGlobalOptions();Wae(s,r,t);var i=sl({},s,r,t),o;typeof window<"u"&&(o=window);var a=Hae(s,r,t),l=Gae(s,r,t),c=Kae(n,i),d=Qae(n,i,o);return{id:t.tableId,content:d,hooks:l,styles:a,settings:c}}function Hae(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(l){if(l==="columnStyles"){var c=e[l],d=t[l],h=n[l];r.columnStyles=sl({},c,d,h)}else{var p=[e,t,n],f=p.map(function(b){return b[l]||{}});r[l]=sl({},f[0],f[1],f[2])}},i=0,o=Object.keys(r);i<o.length;i++){var a=o[i];s(a)}return r}function Gae(e,t,n){for(var r=[e,t,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=r;i<o.length;i++){var a=o[i];a.didParseCell&&s.didParseCell.push(a.didParseCell),a.willDrawCell&&s.willDrawCell.push(a.willDrawCell),a.didDrawCell&&s.didDrawCell.push(a.didDrawCell),a.willDrawPage&&s.willDrawPage.push(a.willDrawPage),a.didDrawPage&&s.didDrawPage.push(a.didDrawPage)}return s}function Kae(e,t){var n,r,s,i,o,a,l,c,d,h,p,f,b=jv(t.margin,40/e.scaleFactor()),x=(n=Yae(e,t.startY))!==null&&n!==void 0?n:b.top,w;t.showFoot===!0?w="everyPage":t.showFoot===!1?w="never":w=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var _=(i=t.useCss)!==null&&i!==void 0?i:!1,N=t.theme||(_?"plain":"striped"),R=!!t.horizontalPageBreak,O=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=t.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:_,theme:N,startY:x,margin:b,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:v,showFoot:w,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:R,horizontalPageBreakRepeat:O,horizontalPageBreakBehaviour:(f=t.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Yae(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),s=e.pageNumber(),i=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;i=o===s}return typeof t=="number"?t:(t==null||t===!1)&&i&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Qae(e,t,n){var r=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var a=EM(e,t.html,n,o,t.useCss)||{};r=a.head||r,s=a.body||r,i=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=t.columns||Xae(r,s,i);return{columns:l,head:r,body:s,foot:i}}function Xae(e,t,n){var r=e[0]||t[0]||n[0]||[],s=[];return Object.keys(r).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,a;Array.isArray(r)?a=r[parseInt(i)]:a=r[i],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var c=void 0;Array.isArray(r)?c=s.length:c=i+(l>0?"_".concat(l):"");var d={dataKey:c};s.push(d)}}),s}var d5=function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e}(),Zae=function(e){bM(t,e);function t(n,r,s,i,o,a){var l=e.call(this,n,r,a)||this;return l.cell=s,l.row=i,l.column=o,l.section=i.section,l}return t}(d5),Jae=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,s,i,o){for(var a=0,l=n;a<l.length;a++){var c=l[a],d=new Zae(t,this,r,s,i,o),h=c(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var i=s[r];i(new d5(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var i=s[r];i(new d5(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e}(),PM=function(){function e(t,n,r,s,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof wM&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=s,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,s){var i;return Math.max(r,((i=n.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var s=n.cells[r.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(s,i){var o=r.cells[i.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),c=l+a;return c>s?c:s},0)},e}(),CM=function(){function e(t,n,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*n,i=r*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=jv(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),ele=function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,s=t.allRows();r<s.length;r++){var i=s[r],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},e}();function tle(e,t){nle(e,t);var n=[],r=0;t.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(t);o?i.width=o:(i.width=i.wrappedWidth,n.push(i)),r+=i.width});var s=t.getWidth(e.pageSize().width)-r;s&&(s=h5(n,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=h5(n,s,function(i){return i.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),sle(t),ile(t,e),rle(t)}function nle(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,s=NM(e,t);t.allRows().forEach(function(i){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],c=i.cells[l.index];if(c){var d=t.hooks.didParseCell;t.callCellHooks(e,d,c,i,l,null);var h=c.padding("horizontal");c.contentWidth=Ny(c.text,c.styles,e)+h;var p=Ny(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=p+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||r===!0)c.contentWidth>s?(c.minWidth=s,c.wrappedWidth=s):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/n;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var o=0,a=t.columns;o<a.length;o++){var l=a[o],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var d=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function h5(e,t,n){for(var r=t,s=e.reduce(function(f,b){return f+b.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],a=o.wrappedWidth/s,l=r*a,c=o.width+l,d=n(o),h=c<d?d:c;t-=h-o.width,o.width=h}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(f){return t<0?f.width>n(f):!0});p.length&&(t=h5(p,t,n))}return t}function rle(e){for(var t={},n=1,r=e.allRows(),s=0;s<r.length;s++)for(var i=r[s],o=0,a=e.columns;o<a.length;o++){var l=a[o],c=t[l.index];if(n>1)n--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,n=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=i.cells[l.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var h=r.length-s,p=d.rowSpan>h?h:d.rowSpan;t[l.index]={cell:d,left:p,row:i}}}}}function sle(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],s=null,i=0,o=0,a=0;a<e.columns.length;a++){var l=e.columns[a];if(o-=1,o>1&&e.columns[a+1])i+=l.width,delete r.cells[l.index];else if(s){var c=s;delete r.cells[l.index],s=null,c.width=l.width+i}else{var c=r.cells[l.index];if(!c)continue;if(o=c.colSpan,i=0,c.colSpan>1){s=c,i+=l.width;continue}c.width=l.width+i}}}function ile(e,t){for(var n={count:0,height:0},r=0,s=e.allRows();r<s.length;r++){for(var i=s[r],o=0,a=e.columns;o<a.length;o++){var l=a[o],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,d+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=hC(c.text,d,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=hC(c.text,d,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var h=c.styles.overflow(c.text,d);typeof h=="string"?c.text=[h]:c.text=h}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<p*c.rowSpan?n={height:p,count:c.rowSpan}:n&&n.count>0&&n.height>p&&(p=n.height),p>i.height&&(i.height=p)}}n.count--}}function hC(e,t,n,r,s){return e.map(function(i){return ole(i,t,n,r,s)})}function ole(e,t,n,r,s){var i=1e4*r.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Ny(e,n,r))return e;for(;t<Ny(e+s,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function kM(e,t){var n=new jh(e),r=ale(t,n.scaleFactor()),s=new Jae(t,r);return tle(n,s),n.applyStyles(n.userStyles),s}function ale(e,t){var n=e.content,r=cle(n.columns);if(n.head.length===0){var s=fC(r,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=fC(r,"foot");s&&n.foot.push(s)}var i=e.settings.theme,o=e.styles;return{columns:r,head:$x("head",n.head,r,o,i,t),body:$x("body",n.body,r,o,i,t),foot:$x("foot",n.foot,r,o,i,t)}}function $x(e,t,n,r,s,i){var o={},a=t.map(function(l,c){for(var d=0,h={},p=0,f=0,b=0,x=n;b<x.length;b++){var w=x[b];if(o[w.index]==null||o[w.index].left===0)if(f===0){var v=void 0;Array.isArray(l)?v=l[w.index-p-d]:v=l[w.dataKey];var _={};typeof v=="object"&&!Array.isArray(v)&&(_=(v==null?void 0:v.styles)||{});var N=ule(e,w,c,s,r,i,_),R=new CM(v,N,e);h[w.dataKey]=R,h[w.index]=R,f=R.colSpan-1,o[w.index]={left:R.rowSpan-1,times:f}}else f--,p++;else o[w.index].left--,f=o[w.index].times,d++}return new PM(l,c,e,h)});return a}function fC(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var s=lle(t,r.raw);s!=null&&(n[r.dataKey]=s)}}),Object.keys(n).length>0?n:null}function lle(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function cle(e){return e.map(function(t,n){var r,s;return typeof t=="object"?s=(r=t.dataKey)!==null&&r!==void 0?r:n:s=n,new ele(s,t,n)})}function ule(e,t,n,r,s,i,o){var a=Vae(r),l;e==="head"?l=s.headStyles:e==="body"?l=s.bodyStyles:e==="foot"&&(l=s.footStyles);var c=sl({},a.table,a[e],s.styles,l),d=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},h=e==="body"?d:{},p=e==="body"&&n%2===0?sl({},a.alternateRow,s.alternateRowStyles):{},f=Fae(i),b=sl({},f,c,p,h);return sl(b,o)}function dle(e,t,n){var r;n===void 0&&(n={});var s=NM(e,t),i=new Map,o=[],a=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var f=t.columns.find(function(b){return b.dataKey===p||b.index===p});f&&!i.has(f.index)&&(i.set(f.index,!0),o.push(f.index),a.push(t.columns[f.index]),s-=f.wrappedWidth)});for(var c=!0,d=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;d<t.columns.length;){if(i.has(d)){d++;continue}var h=t.columns[d].wrappedWidth;if(c||s>=h)c=!1,o.push(d),a.push(t.columns[d]),s-=h;else break;d++}return{colIndexes:o,columns:a,lastIndex:d-1}}function hle(e,t){for(var n=[],r=0;r<t.columns.length;r++){var s=dle(e,t,{start:r});s.columns.length&&(n.push(s),r=s.lastIndex)}return n}function jM(e,t){var n=t.settings,r=n.startY,s=n.margin,i={x:s.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),a=r+s.bottom+o;if(n.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(p,f){return p+f.height},0);a+=c}var d=new jh(e);(n.pageBreak==="always"||n.startY!=null&&a>d.pageSize().height)&&(RM(d),i.y=s.top),t.callWillDrawPageHooks(d,i);var h=sl({},i);t.startPageNumber=d.pageNumber(),n.horizontalPageBreak?fle(d,t,h,i):(d.applyStyles(d.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(p){return xl(d,t,p,i,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(p,f){var b=f===t.body.length-1;Ay(d,t,p,b,h,i,t.columns)}),d.applyStyles(d.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(p){return xl(d,t,p,i,t.columns)})),_M(d,t,h,i),t.callEndPageHooks(d,i),t.finalY=i.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function fle(e,t,n,r){var s=hle(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(c,d){e.applyStyles(e.userStyles),d>0?Yp(e,t,n,r,c.columns,!0):pC(e,t,r,c.columns),ple(e,t,n,r,c.columns),qx(e,t,r,c.columns)});else for(var o=-1,a=s[0],l=function(){var c=o;if(a){e.applyStyles(e.userStyles);var d=a.columns;o>=0?Yp(e,t,n,r,d,!0):pC(e,t,r,d),c=mC(e,t,o+1,r,d),qx(e,t,r,d)}var h=c-o;s.slice(1).forEach(function(p){e.applyStyles(e.userStyles),Yp(e,t,n,r,p.columns,!0),mC(e,t,o+1,r,p.columns,h),qx(e,t,r,p.columns)}),o=c};o<t.body.length-1;)l()}function pC(e,t,n,r){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(i){return xl(e,t,i,n,r)})}function ple(e,t,n,r,s){e.applyStyles(e.userStyles),t.body.forEach(function(i,o){var a=o===t.body.length-1;Ay(e,t,i,a,n,r,s)})}function mC(e,t,n,r,s,i){e.applyStyles(e.userStyles),i=i??t.body.length;var o=Math.min(n+i,t.body.length),a=-1;return t.body.slice(n,o).forEach(function(l,c){var d=n+c===t.body.length-1,h=IM(e,t,d,r);l.canEntireRowFit(h,s)&&(xl(e,t,l,r,s),a=n+c)}),a}function qx(e,t,n,r){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(i){return xl(e,t,i,n,r)})}function mle(e,t,n){var r=n.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),i=Math.floor((t-s)/r);return Math.max(0,i)}function gle(e,t,n,r){var s={};e.spansMultiplePages=!0,e.height=0;for(var i=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var d=new CM(c.raw,c.styles,c.section);d=sl(d,c),d.text=[];var h=mle(c,t,r);c.text.length>h&&(d.text=c.text.splice(h,c.text.length));var p=r.scaleFactor(),f=r.getLineHeightFactor();c.contentHeight=c.getContentHeight(p,f),c.contentHeight>=t&&(c.contentHeight=t,d.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),d.contentHeight=d.getContentHeight(p,f),d.contentHeight>i&&(i=d.contentHeight),s[l.index]=d}}var b=new PM(e.raw,-1,e.section,s,!0);b.height=i;for(var x=0,w=n.columns;x<w.length;x++){var l=w[x],d=b.cells[l.index];d&&(d.height=b.height);var c=e.cells[l.index];c&&(c.height=e.height)}return b}function yle(e,t,n,r){var s=e.pageSize().height,i=r.settings.margin,o=i.top+i.bottom,a=s-o;t.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=t.getMinimumRowHeight(r.columns,e),c=l<n;if(l>a)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var d=t.hasRowSpan(r.columns),h=t.getMaxCellHeight(r.columns)>a;return h?(d&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function Ay(e,t,n,r,s,i,o){var a=IM(e,t,r,i);if(n.canEntireRowFit(a,o))xl(e,t,n,i,o);else if(yle(e,n,a,t)){var l=gle(n,a,t,e);xl(e,t,n,i,o),Yp(e,t,s,i,o),Ay(e,t,l,r,s,i,o)}else Yp(e,t,s,i,o),Ay(e,t,n,r,s,i,o)}function xl(e,t,n,r,s){r.x=t.settings.margin.left;for(var i=0,o=s;i<o.length;i++){var a=o[i],l=n.cells[a.index];if(!l){r.x+=a.width;continue}e.applyStyles(l.styles),l.x=r.x,l.y=r.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,n,a,r);if(c===!1){r.x+=a.width;continue}vle(e,l,r);var d=l.getTextPos();xM(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function vle(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=SM(r.lineWidth,r.fillColor);s&&e.rect(t.x,n.y,t.width,t.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),xle(e,t,n,r.lineWidth))}function xle(e,t,n,r){var s,i,o,a;r.top&&(s=n.x,i=n.y,o=n.x+t.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(s-=.5*r.left),l(r.top,s,i,o,a)),r.bottom&&(s=n.x,i=n.y+t.height,o=n.x+t.width,a=n.y+t.height,r.right&&(o+=.5*r.right),r.left&&(s-=.5*r.left),l(r.bottom,s,i,o,a)),r.left&&(s=n.x,i=n.y,o=n.x,a=n.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,s,i,o,a)),r.right&&(s=n.x+t.width,i=n.y,o=n.x+t.width,a=n.y+t.height,r.top&&(i-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,s,i,o,a));function l(c,d,h,p,f){e.getDocument().setLineWidth(c),e.getDocument().line(d,h,p,f,"S")}}function IM(e,t,n,r){var s=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&n)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-s}function Yp(e,t,n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(a){return xl(e,t,a,r,s)}),t.callEndPageHooks(e,r);var o=t.settings.margin;_M(e,t,n,r),RM(e),t.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(a){return xl(e,t,a,r,s)}),e.applyStyles(e.userStyles))}function RM(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function ble(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],s=TM(this,r),i=kM(this,s);return jM(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,s){xM(t,n,r,s,this)},e.API.autoTableSetDefaults=function(t){return jh.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){jh.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new jh(this),i=EM(s,t,window,n,!1),o=i.head,a=i.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var Wx;function lf(e,t){var n=TM(e,t),r=kM(e,n);jM(e,r)}try{if(typeof window<"u"&&window){var gC=window,yC=gC.jsPDF||((Wx=gC.jspdf)===null||Wx===void 0?void 0:Wx.jsPDF);yC&&ble(yC)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Ey=()=>new Date().toISOString().split("T")[0],LM=(e,t)=>{e.setTextColor(200,0,0),e.setFontSize(22),e.setFont("helvetica","bold"),e.text("SHREE GANESH FRUIT SUPPLIERS, TASGAON",105,18,{align:"center"}),e.setTextColor(0,0,0),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Tal. Tasgaon, Dist. Sangli, Pin 416312, Maharashtra",105,24,{align:"center"}),e.text("Prop. Suhas Patil | Mo. 9730793507, 8788845042",105,29,{align:"center"}),e.setFillColor(200,0,0),e.rect(20,42,170,8,"F"),e.setTextColor(255,255,255),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(t,105,47.5,{align:"center"}),e.setTextColor(0,0,0)},DM=(e,t)=>{const n=e.internal.pageSize.height;let r=t;r>n-40&&(e.addPage(),r=20),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Driver's Signature",20,r+20),e.setFont("helvetica","bold"),e.text("For, SHREE GANESH FRUIT SUPPLIERS, TASGAON",110,r+15),e.setDrawColor(0,0,150),e.rect(130,r+18,50,20),e.setFontSize(8),e.text("Proprietor",155,r+35,{align:"center"})},wle=(e,t,n,r)=>{const s=new at;LM(s,"PURCHASE BILL / RECEIPT"),s.setFontSize(11),s.setFont("helvetica","bold"),s.text("Farmer / Party Name:",20,58),s.setFont("helvetica","normal"),s.text(e,65,58),s.setFont("helvetica","bold"),s.text("Address:",20,64),s.setFont("helvetica","normal"),s.text(n,65,64),s.setFont("helvetica","bold"),s.text("Mobile:",130,58),s.setFont("helvetica","normal"),s.text(t,145,58),s.setFont("helvetica","bold"),s.text("Date:",130,64),s.setFont("helvetica","normal"),s.text(Ey(),145,64),s.setDrawColor(0),s.line(20,68,190,68);let i=75;r.forEach((a,l)=>{const c=a.items.map((d,h)=>[h+1,d.quality,`${d.totalWeight} kg`,`Rs. ${d.pricePerKg}`,`Rs. ${d.totalAmount.toLocaleString()}`]);lf(s,{startY:i,head:[["Sr.","PARTICULARS","Weight","Rate","Amount"]],body:c,theme:"grid",headStyles:{fillColor:[240,240,240],textColor:0,fontStyle:"bold"},margin:{left:20,right:20},styles:{fontSize:9}}),i=s.lastAutoTable.finalY+5,s.setFont("helvetica","bold"),s.text(`Total: Rs. ${a.totalAmount.toLocaleString()}`,190,i,{align:"right"}),s.setFont("helvetica","normal"),s.text(`Paid: Rs. ${a.advanceAmount.toLocaleString()}`,190,i+5,{align:"right"}),s.setFont("helvetica","bold"),s.setTextColor(200,0,0),s.text(`Balance / Pending: Rs. ${a.pendingAmount.toLocaleString()}`,190,i+10,{align:"right"}),s.setTextColor(0,0,0),i+=20}),DM(s,i);const o=e.replace(/[^a-z0-9]/gi,"_").toLowerCase();s.save(`Purchase_Bill_${o}_${Ey()}.pdf`)},_le=(e,t,n,r)=>{const s=new at;LM(s,"SALE BILL / INVOICE"),s.setFontSize(11),s.setFont("helvetica","bold"),s.text("Party Name:",20,58),s.setFont("helvetica","normal"),s.text(e,65,58),s.setFont("helvetica","bold"),s.text("Address:",20,64),s.setFont("helvetica","normal"),s.text(n,65,64),s.setFont("helvetica","bold"),s.text("Mobile:",130,58),s.setFont("helvetica","normal"),s.text(t,145,58),s.setFont("helvetica","bold"),s.text("Date:",130,64),s.setFont("helvetica","normal"),s.text(Ey(),145,64),s.line(20,68,190,68);let i=75;r.forEach(a=>{const l=a.items.map((c,d)=>[d+1,c.quality,`${c.totalWeight} kg`,`Rs. ${c.pricePerKg}`,`Rs. ${c.totalAmount.toLocaleString()}`]);a.additions&&a.totalAdditions>0&&a.additions.forEach(c=>{l.push(["-",c.label,`${c.quantity}`,`Rs. ${c.rate}`,`Rs. ${c.totalAmount.toLocaleString()}`])}),lf(s,{startY:i,head:[["Sr.","PARTICULARS","Qty/Weight","Rate","Amount"]],body:l,theme:"grid",headStyles:{fillColor:[240,240,240],textColor:0,fontStyle:"bold"},margin:{left:20,right:20},styles:{fontSize:9}}),i=s.lastAutoTable.finalY+5,s.setFont("helvetica","bold"),s.text(`Grand Total: Rs. ${a.totalAmount.toLocaleString()}`,190,i,{align:"right"}),s.setFont("helvetica","normal"),s.text(`Received: Rs. ${a.receivedAmount.toLocaleString()}`,190,i+5,{align:"right"}),s.setFont("helvetica","bold"),s.setTextColor(200,0,0),s.text(`Balance / Pending: Rs. ${a.pendingAmount.toLocaleString()}`,190,i+10,{align:"right"}),s.setTextColor(0,0,0),i+=20}),DM(s,i);const o=e.replace(/[^a-z0-9]/gi,"_").toLowerCase();s.save(`Sale_Bill_${o}_${Ey()}.pdf`)},Sle=({isOpen:e,onClose:t,sale:n,onUpdate:r})=>{const[s,i]=L.useState(n.transactions||(n.items?[{id:n.id+"_trans_1",date:n.date,items:n.items,additions:n.additions||[],totalItemAmount:n.totalItemAmount||0,totalAdditions:n.totalAdditions||0,totalAmount:n.totalAmount}]:[])),[o,a]=L.useState(n.receivedPayments||(n.receivedAmount>0?[{id:n.id+"_rcv_1",date:n.date,amount:n.receivedAmount,paymentMethod:n.paymentMethod,note:"Initial payment"}]:[])),[l,c]=L.useState(new Date().toISOString().split("T")[0]),[d,h]=L.useState([{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}]),[p,f]=L.useState([]),[b,x]=L.useState(new Date().toISOString().split("T")[0]),[w,v]=L.useState(0),[_,N]=L.useState("cash"),[R,O]=L.useState(""),z=()=>{h([...d,{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}])},k=oe=>{h(d.filter(fe=>fe.id!==oe))},A=(oe,fe,V)=>{h(d.map(Q=>{if(Q.id===oe){const Z={...Q,[fe]:V};return(fe==="unitCount"||fe==="weightPerUnit")&&(Z.totalWeight=Z.unitCount*Z.weightPerUnit,Z.totalAmount=Z.totalWeight*Z.pricePerKg),fe==="pricePerKg"&&(Z.totalAmount=Z.totalWeight*Z.pricePerKg),Z}return Q}))},C=()=>{f([...p,{id:Date.now().toString(),type:"labour",label:"",quantity:0,rate:0,totalAmount:0}])},M=oe=>{f(p.filter(fe=>fe.id!==oe))},P=(oe,fe,V)=>{f(p.map(Q=>{if(Q.id===oe){const Z={...Q,[fe]:V};return(fe==="quantity"||fe==="rate")&&(Z.totalAmount=Z.quantity*Z.rate),Z}return Q}))},I=()=>{const oe=d.reduce((Z,le)=>Z+le.totalAmount,0),fe=p.reduce((Z,le)=>Z+le.totalAmount,0),V=oe+fe;if(V===0){alert("Please add items with valid amounts");return}const Q={id:Date.now().toString(),date:l,items:d,additions:p,totalItemAmount:oe,totalAdditions:fe,totalAmount:V};i([...s,Q]),h([{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}]),f([]),c(new Date().toISOString().split("T")[0])},E=()=>{if(w<=0){alert("Please enter a valid payment amount");return}const oe={id:Date.now().toString(),date:b,amount:w,paymentMethod:_,note:R};a([...o,oe]),v(0),O(""),x(new Date().toISOString().split("T")[0])},$=oe=>{i(s.filter(fe=>fe.id!==oe))},Y=oe=>{a(o.filter(fe=>fe.id!==oe))},ae=()=>{const oe=s.reduce((Z,le)=>Z+le.totalAmount,0),fe=o.reduce((Z,le)=>Z+le.amount,0),V=oe-fe,Q={...n,transactions:s,receivedPayments:o,totalAmount:oe,receivedAmount:fe,pendingAmount:V,items:s.length>0?s[0].items:[],additions:s.length>0?s[0].additions:[],totalItemAmount:s.length>0?s[0].totalItemAmount:0,totalAdditions:s.length>0?s[0].totalAdditions:0};r(Q),t()},ee=s.reduce((oe,fe)=>oe+fe.totalAmount,0),H=o.reduce((oe,fe)=>oe+fe.amount,0),ne=ee-H;return u.jsx(Ev,{open:e,onOpenChange:t,children:u.jsxs(dg,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[u.jsx(hg,{children:u.jsxs(fg,{className:"flex items-center justify-between",children:[u.jsxs("span",{children:["Edit Sale - ",n.buyer.name]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:ae,className:"btn-primary flex items-center gap-2",children:[u.jsx(ma,{className:"w-4 h-4"}),"Save Changes"]}),u.jsx("button",{onClick:t,className:"btn-secondary",children:u.jsx(Vs,{className:"w-4 h-4"})})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"glass-card p-4",children:[u.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[u.jsx(Rr,{className:"w-5 h-5 text-success"}),"Add New Sale Transaction"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Transaction Date"}),u.jsx("input",{type:"date",value:l,onChange:oe=>c(oe.target.value),className:"input-premium"})]}),u.jsx("h4",{className:"text-sm font-bold mt-4",children:"Items"}),d.map((oe,fe)=>u.jsxs("div",{className:"bg-muted/20 p-3 rounded-xl space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-bold",children:["Item ",fe+1]}),d.length>1&&u.jsx("button",{onClick:()=>k(oe.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ms,{className:"w-4 h-4"})})]}),u.jsx("input",{type:"text",placeholder:"Quality (e.g., Super)",value:oe.quality,onChange:V=>A(oe.id,"quality",V.target.value),className:"input-premium text-sm"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"number",placeholder:"Units",value:oe.unitCount||"",onChange:V=>A(oe.id,"unitCount",parseFloat(V.target.value)||0),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Kg/Unit",value:oe.weightPerUnit||"",onChange:V=>A(oe.id,"weightPerUnit",parseFloat(V.target.value)||0),className:"input-premium text-sm"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"number",placeholder:"Rate/Kg",value:oe.pricePerKg||"",onChange:V=>A(oe.id,"pricePerKg",parseFloat(V.target.value)||0),className:"input-premium text-sm"}),u.jsx("div",{className:"bg-success/10 p-2 rounded-lg flex items-center justify-center",children:u.jsxs("span",{className:"text-sm font-bold",children:["",oe.totalAmount.toLocaleString()]})})]})]},oe.id)),u.jsxs("button",{onClick:z,className:"btn-secondary w-full text-sm flex items-center justify-center gap-2",children:[u.jsx(Rr,{className:"w-4 h-4"}),"Add Item"]}),u.jsx("h4",{className:"text-sm font-bold mt-4",children:"Additional Charges (Optional)"}),p.map((oe,fe)=>u.jsxs("div",{className:"bg-warning/10 p-3 rounded-xl space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-bold",children:["Charge ",fe+1]}),u.jsx("button",{onClick:()=>M(oe.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ms,{className:"w-4 h-4"})})]}),u.jsxs("select",{value:oe.type,onChange:V=>P(oe.id,"type",V.target.value),className:"input-premium text-sm",children:[u.jsx("option",{value:"labour",children:"Labour"}),u.jsx("option",{value:"paper",children:"Paper"}),u.jsx("option",{value:"rassi",children:"Rassi (Rope)"}),u.jsx("option",{value:"tape",children:"Tape"}),u.jsx("option",{value:"crate",children:"Crate"}),u.jsx("option",{value:"commission",children:"Commission"}),u.jsx("option",{value:"other",children:"Other"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"number",placeholder:"Quantity",value:oe.quantity||"",onChange:V=>P(oe.id,"quantity",parseFloat(V.target.value)||0),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Rate",value:oe.rate||"",onChange:V=>P(oe.id,"rate",parseFloat(V.target.value)||0),className:"input-premium text-sm"})]}),u.jsx("div",{className:"bg-warning/20 p-2 rounded-lg",children:u.jsxs("span",{className:"text-sm font-bold",children:["",oe.totalAmount.toLocaleString()]})})]},oe.id)),u.jsxs("button",{onClick:C,className:"btn-secondary w-full text-sm flex items-center justify-center gap-2",children:[u.jsx(Rr,{className:"w-4 h-4"}),"Add Charge"]}),u.jsxs("button",{onClick:I,className:"btn-primary w-full flex items-center justify-center gap-2 mt-4",children:[u.jsx(ma,{className:"w-4 h-4"}),"Save Transaction"]})]})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[u.jsx(dl,{className:"w-5 h-5 text-success"}),"Add Received Payment"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Date"}),u.jsx("input",{type:"date",value:b,onChange:oe=>x(oe.target.value),className:"input-premium"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Amount"}),u.jsx("input",{type:"number",placeholder:"Enter amount",value:w||"",onChange:oe=>v(parseFloat(oe.target.value)||0),className:"input-premium"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),u.jsxs("select",{value:_,onChange:oe=>N(oe.target.value),className:"input-premium",children:[u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"online",children:"Online"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Note (Optional)"}),u.jsx("input",{type:"text",placeholder:"Payment note",value:R,onChange:oe=>O(oe.target.value),className:"input-premium"})]}),u.jsxs("button",{onClick:E,className:"btn-primary w-full flex items-center justify-center gap-2",children:[u.jsx(ma,{className:"w-4 h-4"}),"Add Payment"]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Summary"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Amount:"}),u.jsxs("span",{className:"font-bold text-lg",children:["",ee.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-success",children:"Total Received:"}),u.jsxs("span",{className:"font-bold text-success text-lg",children:["",H.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between pt-2 border-t border-border",children:[u.jsx("span",{className:"font-bold",children:"Pending Amount:"}),u.jsxs("span",{className:"font-black text-xl text-destructive",children:["",ne.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Sale History"}),u.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:u.jsx(ii,{children:s.map(oe=>u.jsxs(vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-muted/20 p-3 rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ti,{className:"w-4 h-4 text-success"}),u.jsx("span",{className:"font-bold text-sm",children:new Date(oe.date).toLocaleDateString("en-IN")})]}),u.jsx("button",{onClick:()=>$(oe.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ms,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"space-y-1 text-xs",children:[oe.items.map(fe=>u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{children:[fe.quality,": ",fe.totalWeight,"kg @ ",fe.pricePerKg,"/kg"]}),u.jsxs("span",{className:"font-bold",children:["",fe.totalAmount.toLocaleString()]})]},fe.id)),oe.additions.map(fe=>u.jsxs("div",{className:"flex justify-between text-warning",children:[u.jsxs("span",{children:[fe.label||fe.type,": ",fe.quantity,"  ",fe.rate]}),u.jsxs("span",{className:"font-bold",children:["",fe.totalAmount.toLocaleString()]})]},fe.id))]}),u.jsxs("div",{className:"mt-2 pt-2 border-t border-border/50 flex justify-between",children:[u.jsx("span",{className:"text-xs font-bold",children:"Total:"}),u.jsxs("span",{className:"font-bold",children:["",oe.totalAmount.toLocaleString()]})]})]},oe.id))})})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Received Payment History"}),u.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:u.jsx(ii,{children:o.map(oe=>u.jsxs(vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-success/10 p-3 rounded-xl border border-success/20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ti,{className:"w-4 h-4 text-success"}),u.jsx("span",{className:"font-bold text-sm",children:new Date(oe.date).toLocaleDateString("en-IN")})]}),u.jsx("button",{onClick:()=>Y(oe.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ms,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("div",{children:[u.jsxs("span",{className:"font-bold text-success text-lg",children:["",oe.amount.toLocaleString()]}),u.jsxs("span",{className:"text-xs ml-2 text-muted-foreground capitalize",children:["(",oe.paymentMethod,")"]})]})}),oe.note&&u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:oe.note})]},oe.id))})})]})]})]})]})})},Nle=({isOpen:e,onClose:t,sales:n,buyerName:r,buyerMobile:s,buyerAddress:i,onUpdate:o,onDelete:a})=>{const[l,c]=L.useState(!1),[d,h]=L.useState(null),p=n.reduce((O,z)=>O+z.totalAmount,0),f=n.reduce((O,z)=>O+z.receivedAmount,0),b=n.reduce((O,z)=>O+z.pendingAmount,0),x=n.reduce((O,z)=>{var k;return O+(((k=z.items)==null?void 0:k.reduce((A,C)=>A+C.totalWeight,0))||0)},0),w=()=>{window.print()},v=()=>{_le(r,s,i,n)},_=()=>{n.length>0&&(h(n[0]),c(!0))},N=O=>{o&&o(O),c(!1)},R=()=>{n.length>0&&a&&window.confirm(`Are you sure you want to delete this sale receipt for ${r}? This action cannot be undone.`)&&(a(n[0].id),t())};return u.jsxs(Ev,{open:e,onOpenChange:t,children:[u.jsxs(dg,{className:"max-w-4xl max-h-[90vh] overflow-y-auto print:max-w-full",children:[u.jsx(hg,{children:u.jsxs(fg,{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(F1,{className:"w-6 h-6 text-primary"}),"Sale Receipt"]}),u.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[u.jsxs("button",{onClick:_,className:"px-3 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(f_,{className:"w-4 h-4"}),"Edit"]}),u.jsxs("button",{onClick:R,className:"px-3 py-2 rounded-lg bg-red-50 hover:bg-red-100 text-red-600 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(ms,{className:"w-4 h-4"}),"Delete"]}),u.jsxs("button",{onClick:v,className:"px-3 py-2 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(Zc,{className:"w-4 h-4"}),"Download PDF"]}),u.jsxs("button",{onClick:w,className:"px-3 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(xj,{className:"w-4 h-4"}),"Print"]})]})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between pb-6 border-b-2 border-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden border-2 border-emerald-100 shadow-sm shrink-0",children:u.jsx("img",{src:"/sp-logo.jpg",alt:"SP Logo",className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-black text-slate-800 leading-tight",children:"SHREE GANESH FRUIT SUPPLIERS, TASGAON"}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Tal. Tasgaon, Dist. Sangli, Maharashtra"}),u.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-tighter mt-0.5",children:"Mo. 9730793507, 8788845042"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:"Document Type"}),u.jsx("div",{className:"text-lg font-black text-slate-800",children:"SALE INVOICE"})]})]}),u.jsx("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:r}),u.jsxs("div",{className:"space-y-1 text-xs text-slate-500 font-bold",children:[u.jsxs("p",{className:"flex items-center gap-2",children:[u.jsx(Oc,{className:"w-3.5 h-3.5"}),s]}),u.jsxs("p",{className:"flex items-center gap-2",children:[u.jsx(Mc,{className:"w-3.5 h-3.5"}),i]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"Total Invoices"}),u.jsx("div",{className:"text-3xl font-black text-emerald-600",children:n.length})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-2",children:"Total Weight"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:[x.toFixed(2)," kg"]})]}),u.jsxs("div",{className:"bg-primary/10 p-4 rounded-xl border border-primary/20",children:[u.jsx("div",{className:"text-xs text-primary uppercase font-bold mb-2",children:"Total Amount"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:["",p.toLocaleString()]})]}),u.jsxs("div",{className:"bg-success/10 p-4 rounded-xl border border-success/20",children:[u.jsx("div",{className:"text-xs text-success uppercase font-bold mb-2",children:"Received"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:["",f.toLocaleString()]})]}),u.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shadow-sm transition-all hover:bg-white hover:border-slate-300",children:[u.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-black tracking-widest mb-2",children:"Balance Due"}),u.jsxs("div",{className:"text-xl font-black text-slate-900",children:["",b.toLocaleString()]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[u.jsx(F1,{className:"w-5 h-5 text-primary"}),"Invoice History"]}),n.map((O,z)=>u.jsxs(vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:z*.05},className:"glass-card p-5 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:u.jsx(Ti,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-foreground",children:new Date(O.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:[O.items.length," item",O.items.length>1?"s":""]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold",children:"Payment"}),u.jsx("div",{className:"text-sm font-bold text-foreground capitalize",children:O.paymentMethod})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border/50",children:[u.jsx("th",{className:"text-left py-2 text-xs font-bold text-muted-foreground uppercase",children:"Quality"}),u.jsx("th",{className:"text-center py-2 text-xs font-bold text-muted-foreground uppercase",children:"Total Kg"}),u.jsx("th",{className:"text-center py-2 text-xs font-bold text-muted-foreground uppercase",children:"Rate"}),u.jsx("th",{className:"text-right py-2 text-xs font-bold text-muted-foreground uppercase",children:"Amount"})]})}),u.jsx("tbody",{children:O.items.map(k=>u.jsxs("tr",{className:"border-b border-border/30",children:[u.jsx("td",{className:"py-3 font-medium text-foreground",children:k.quality}),u.jsxs("td",{className:"py-3 text-center font-bold",children:[k.totalWeight," kg"]}),u.jsxs("td",{className:"py-3 text-center",children:["",k.pricePerKg,"/kg"]}),u.jsxs("td",{className:"py-3 text-right font-bold",children:["",k.totalAmount.toLocaleString()]})]},k.id))})]})}),O.additions&&O.additions.length>0&&u.jsxs("div",{className:"bg-muted/10 p-4 rounded-xl space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-muted-foreground mb-2",children:[u.jsx(Rr,{className:"w-4 h-4"}),"Additional Charges"]}),O.additions.map(k=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-muted-foreground",children:[k.label," (",k.quantity,"  ",k.rate,")"]}),u.jsxs("span",{className:"font-bold text-foreground",children:["",k.totalAmount.toLocaleString()]})]},k.id))]}),u.jsxs("div",{className:"bg-muted/20 p-4 rounded-xl space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Items Total:"}),u.jsxs("span",{className:"font-bold text-foreground",children:["",O.totalItemAmount.toLocaleString()]})]}),O.totalAdditions>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Additional Charges:"}),u.jsxs("span",{className:"font-bold text-foreground",children:["",O.totalAdditions.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-border/50",children:[u.jsx("span",{className:"font-bold text-foreground",children:"Grand Total:"}),u.jsxs("span",{className:"font-black text-foreground text-lg",children:["",O.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-success",children:"Amount Received:"}),u.jsxs("span",{className:"font-bold text-success",children:["",O.receivedAmount.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-border/50",children:[u.jsx("span",{className:"text-slate-900 font-bold",children:"Balance Due:"}),u.jsxs("span",{className:"font-black text-slate-900 text-lg",children:["",O.pendingAmount.toLocaleString()]})]})]})]},O.id))]}),u.jsx("div",{className:"bg-gradient-to-r from-primary/5 to-transparent p-6 rounded-2xl border border-primary/10",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-1",children:"Grand Total"}),u.jsxs("div",{className:"text-3xl font-black text-foreground",children:["",p.toLocaleString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-1",children:"Balance Due"}),u.jsxs("div",{className:"text-3xl font-black text-slate-900",children:["",b.toLocaleString()]})]})]})})]})]}),d&&u.jsx(Sle,{isOpen:l,onClose:()=>c(!1),sale:d,onUpdate:N})]})},Ale=()=>{const{sales:e,addSale:t,updateSale:n,deleteSale:r,loading:s}=og(),[i,o]=L.useState(""),[a,l]=L.useState(!1),[c,d]=L.useState(null),[h,p]=L.useState(!1),[f,b]=L.useState(null),x=L.useMemo(()=>{const v=new Map;return e.forEach(_=>{var z,k,A;const N=((z=_.buyer)==null?void 0:z.mobile)||_.customerPhone||"unknown",R=((k=_.buyer)==null?void 0:k.name)||_.customerName||"Walking Customer";v.has(N)||v.set(N,{name:R,mobile:N,address:((A=_.buyer)==null?void 0:A.address)||"N/A",totalSales:0,pendingAmount:0,lastVisit:_.date,visitCount:0,sales:[]});const O=v.get(N);O.totalSales+=_.totalAmount,O.pendingAmount+=_.pendingAmount||0,O.visitCount+=1,O.sales.push(_),new Date(_.date)>new Date(O.lastVisit)&&(O.lastVisit=_.date)}),Array.from(v.values())},[e]),w=L.useMemo(()=>x.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())||v.mobile.includes(i)).sort((v,_)=>_.totalSales-v.totalSales),[x,i]);return s?null:u.jsxs(Pf,{children:[u.jsx(Tf,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"section-title",children:"Sales (Scale)"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your buyer invoices and scale entries"})]}),u.jsxs("button",{onClick:()=>{d(null),l(!0)},className:"btn-primary flex items-center gap-2 self-start",children:[u.jsx(Rr,{className:"w-5 h-5"}),"New Scale Entry"]})]}),u.jsxs("div",{className:"relative mb-8",children:[u.jsx(h_,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"Search Businessman by Name or Phone...",value:i,onChange:v=>o(v.target.value),className:"input-premium pl-12 h-14 text-lg shadow-sm"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.jsx(ii,{children:w.map((v,_)=>u.jsxs(vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},className:"glass-card overflow-hidden group hover:border-primary/30 transition-all active:scale-[0.98] cursor-pointer",onClick:()=>{b({name:v.name,mobile:v.mobile,address:v.address,sales:v.sales}),p(!0)},children:[u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:u.jsx(Gh,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-foreground group-hover:text-primary transition-colors",children:v.name}),u.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[u.jsx(Oc,{className:"w-3 h-3"})," ",v.mobile]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground mb-1",children:"Status"}),u.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase ${v.pendingAmount>0?"bg-destructive/10 text-destructive":"bg-success/10 text-success"}`,children:v.pendingAmount>0?"Pending":"Clear"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-muted/30 p-3 rounded-xl",children:[u.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-widest block mb-1",children:"Total Sales"}),u.jsxs("span",{className:"text-base font-black text-foreground",children:["",v.totalSales.toLocaleString()]})]}),u.jsxs("div",{className:"bg-destructive/5 p-3 rounded-xl",children:[u.jsx("span",{className:"text-[10px] text-destructive uppercase font-bold tracking-widest block mb-1",children:"Total Pending"}),u.jsxs("span",{className:"text-base font-black text-destructive",children:["",v.pendingAmount.toLocaleString()]})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Xm,{className:"w-3 h-3"})," ",v.visitCount," visits"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Mc,{className:"w-3 h-3"})," ",v.address]})]})]}),u.jsxs("div",{className:"px-6 py-3 bg-muted/20 border-t border-border/50 flex items-center justify-between group-hover:bg-primary/5 transition-colors",children:[u.jsxs("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["Last Visit: ",new Date(v.lastVisit).toLocaleDateString()]}),u.jsx(gj,{className:"w-4 h-4 text-primary opacity-0 group-hover:opacity-100 transition-all"})]})]},v.mobile))})}),w.length===0&&!s&&u.jsxs("div",{className:"text-center py-20 bg-muted/5 rounded-3xl border border-dashed border-border mt-8",children:[u.jsx(Gh,{className:"w-16 h-16 text-muted-foreground/20 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-muted-foreground",children:"No Businessmen Found"}),u.jsx("p",{className:"text-muted-foreground",children:"Try searching with a different name or mobile number"})]})]}),u.jsx(jD,{isOpen:a,onClose:()=>l(!1),onAdd:t,onUpdate:n,saleToEdit:c,sales:e}),f&&u.jsx(Nle,{isOpen:h,onClose:()=>{p(!1),b(null)},sales:f.sales,buyerName:f.name,buyerMobile:f.mobile,buyerAddress:f.address,onUpdate:v=>{const{id:_,...N}=v;n(_,N)},onDelete:v=>{r(v),p(!1),b(null)}})]})},Ele=({isOpen:e,onClose:t,purchase:n,onUpdate:r})=>{const[s,i]=L.useState(n.transactions||(n.items?[{id:n.id+"_trans_1",date:n.date,items:n.items,totalAmount:n.totalAmount}]:[])),[o,a]=L.useState(n.advancePayments||(n.advanceAmount>0?[{id:n.id+"_adv_1",date:n.date,amount:n.advanceAmount,paymentMethod:n.paymentMethod,note:"Initial advance"}]:[])),[l,c]=L.useState(new Date().toISOString().split("T")[0]),[d,h]=L.useState([{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}]),[p,f]=L.useState(new Date().toISOString().split("T")[0]),[b,x]=L.useState(0),[w,v]=L.useState("cash"),[_,N]=L.useState(""),R=()=>{h([...d,{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}])},O=Y=>{h(d.filter(ae=>ae.id!==Y))},z=(Y,ae,ee)=>{h(d.map(H=>{if(H.id===Y){const ne={...H,[ae]:ee};return(ae==="unitCount"||ae==="weightPerUnit")&&(ne.totalWeight=ne.unitCount*ne.weightPerUnit,ne.totalAmount=ne.totalWeight*ne.pricePerKg),ae==="pricePerKg"&&(ne.totalAmount=ne.totalWeight*ne.pricePerKg),ne}return H}))},k=()=>{const Y=d.reduce((ee,H)=>ee+H.totalAmount,0);if(Y===0){alert("Please add items with valid amounts");return}const ae={id:Date.now().toString(),date:l,items:d,totalAmount:Y};i([...s,ae]),h([{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}]),c(new Date().toISOString().split("T")[0])},A=()=>{if(b<=0){alert("Please enter a valid advance amount");return}const Y={id:Date.now().toString(),date:p,amount:b,paymentMethod:w,note:_};a([...o,Y]),x(0),N(""),f(new Date().toISOString().split("T")[0])},C=Y=>{i(s.filter(ae=>ae.id!==Y))},M=Y=>{a(o.filter(ae=>ae.id!==Y))},P=()=>{const Y=s.reduce((ne,oe)=>ne+oe.totalAmount,0),ae=o.reduce((ne,oe)=>ne+oe.amount,0),ee=Y-ae,H={...n,transactions:s,advancePayments:o,totalAmount:Y,advanceAmount:ae,pendingAmount:ee,items:s.length>0?s[0].items:[]};r(H),t()},I=s.reduce((Y,ae)=>Y+ae.totalAmount,0),E=o.reduce((Y,ae)=>Y+ae.amount,0),$=I-E;return u.jsx(Ev,{open:e,onOpenChange:t,children:u.jsxs(dg,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[u.jsx(hg,{children:u.jsxs(fg,{className:"flex items-center justify-between",children:[u.jsxs("span",{children:["Edit Purchase - ",n.farmer.name]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:P,className:"btn-primary flex items-center gap-2",children:[u.jsx(ma,{className:"w-4 h-4"}),"Save Changes"]}),u.jsx("button",{onClick:t,className:"btn-secondary",children:u.jsx(Vs,{className:"w-4 h-4"})})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"glass-card p-4",children:[u.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[u.jsx(Rr,{className:"w-5 h-5 text-warning"}),"Add New Purchase Transaction"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Transaction Date"}),u.jsx("input",{type:"date",value:l,onChange:Y=>c(Y.target.value),className:"input-premium"})]}),d.map((Y,ae)=>u.jsxs("div",{className:"bg-muted/20 p-3 rounded-xl space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-bold",children:["Item ",ae+1]}),d.length>1&&u.jsx("button",{onClick:()=>O(Y.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ms,{className:"w-4 h-4"})})]}),u.jsx("input",{type:"text",placeholder:"Quality (e.g., A Grade)",value:Y.quality,onChange:ee=>z(Y.id,"quality",ee.target.value),className:"input-premium text-sm"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"number",placeholder:"Units",value:Y.unitCount||"",onChange:ee=>z(Y.id,"unitCount",parseFloat(ee.target.value)||0),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Kg/Unit",value:Y.weightPerUnit||"",onChange:ee=>z(Y.id,"weightPerUnit",parseFloat(ee.target.value)||0),className:"input-premium text-sm"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"number",placeholder:"Rate/Kg",value:Y.pricePerKg||"",onChange:ee=>z(Y.id,"pricePerKg",parseFloat(ee.target.value)||0),className:"input-premium text-sm"}),u.jsx("div",{className:"bg-warning/10 p-2 rounded-lg flex items-center justify-center",children:u.jsxs("span",{className:"text-sm font-bold",children:["",Y.totalAmount.toLocaleString()]})})]})]},Y.id)),u.jsxs("button",{onClick:R,className:"btn-secondary w-full text-sm flex items-center justify-center gap-2",children:[u.jsx(Rr,{className:"w-4 h-4"}),"Add Item"]}),u.jsxs("button",{onClick:k,className:"btn-primary w-full flex items-center justify-center gap-2",children:[u.jsx(ma,{className:"w-4 h-4"}),"Save Transaction"]})]})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[u.jsx(dl,{className:"w-5 h-5 text-success"}),"Add Advance Payment"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Date"}),u.jsx("input",{type:"date",value:p,onChange:Y=>f(Y.target.value),className:"input-premium"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Amount"}),u.jsx("input",{type:"number",placeholder:"Enter amount",value:b||"",onChange:Y=>x(parseFloat(Y.target.value)||0),className:"input-premium"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),u.jsxs("select",{value:w,onChange:Y=>v(Y.target.value),className:"input-premium",children:[u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"online",children:"Online"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Note (Optional)"}),u.jsx("input",{type:"text",placeholder:"Payment note",value:_,onChange:Y=>N(Y.target.value),className:"input-premium"})]}),u.jsxs("button",{onClick:A,className:"btn-primary w-full flex items-center justify-center gap-2",children:[u.jsx(ma,{className:"w-4 h-4"}),"Add Payment"]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Summary"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Amount:"}),u.jsxs("span",{className:"font-bold text-lg",children:["",I.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-success",children:"Total Advance:"}),u.jsxs("span",{className:"font-bold text-success text-lg",children:["",E.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between pt-2 border-t border-border",children:[u.jsx("span",{className:"font-bold",children:"Pending Amount:"}),u.jsxs("span",{className:"font-black text-xl text-destructive",children:["",$.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Purchase History"}),u.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:u.jsx(ii,{children:s.map(Y=>u.jsxs(vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-muted/20 p-3 rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ti,{className:"w-4 h-4 text-warning"}),u.jsx("span",{className:"font-bold text-sm",children:new Date(Y.date).toLocaleDateString("en-IN")})]}),u.jsx("button",{onClick:()=>C(Y.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ms,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-1 text-xs",children:Y.items.map(ae=>u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{children:[ae.quality,": ",ae.totalWeight,"kg @ ",ae.pricePerKg,"/kg"]}),u.jsxs("span",{className:"font-bold",children:["",ae.totalAmount.toLocaleString()]})]},ae.id))}),u.jsxs("div",{className:"mt-2 pt-2 border-t border-border/50 flex justify-between",children:[u.jsx("span",{className:"text-xs font-bold",children:"Total:"}),u.jsxs("span",{className:"font-bold",children:["",Y.totalAmount.toLocaleString()]})]})]},Y.id))})})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Advance Payment History"}),u.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:u.jsx(ii,{children:o.map(Y=>u.jsxs(vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-success/10 p-3 rounded-xl border border-success/20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ti,{className:"w-4 h-4 text-success"}),u.jsx("span",{className:"font-bold text-sm",children:new Date(Y.date).toLocaleDateString("en-IN")})]}),u.jsx("button",{onClick:()=>M(Y.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ms,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("div",{children:[u.jsxs("span",{className:"font-bold text-success text-lg",children:["",Y.amount.toLocaleString()]}),u.jsxs("span",{className:"text-xs ml-2 text-muted-foreground capitalize",children:["(",Y.paymentMethod,")"]})]})}),Y.note&&u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:Y.note})]},Y.id))})})]})]})]})]})})},Tle=({isOpen:e,onClose:t,purchases:n,farmerName:r,farmerMobile:s,farmerAddress:i,onUpdate:o,onDelete:a})=>{const[l,c]=L.useState(!1),[d,h]=L.useState(null),p=[],f=[];n.forEach(k=>{k.transactions?k.transactions.forEach(A=>{p.push({...A,purchaseId:k.id})}):k.items&&p.push({id:k.id+"_trans",date:k.date,items:k.items,totalAmount:k.totalAmount,purchaseId:k.id}),k.advancePayments?k.advancePayments.forEach(A=>{f.push({...A,purchaseId:k.id})}):k.advanceAmount>0&&f.push({id:k.id+"_adv",date:k.date,amount:k.advanceAmount,paymentMethod:k.paymentMethod,purchaseId:k.id})}),p.sort((k,A)=>new Date(k.date).getTime()-new Date(A.date).getTime()),f.sort((k,A)=>new Date(k.date).getTime()-new Date(A.date).getTime());const b=p.reduce((k,A)=>k+A.totalAmount,0),x=f.reduce((k,A)=>k+A.amount,0),w=b-x,v=p.reduce((k,A)=>k+A.items.reduce((C,M)=>C+M.totalWeight,0),0),_=()=>{window.print()},N=()=>{wle(r,s,i,n)},R=()=>{n.length>0&&(h(n[0]),c(!0))},O=k=>{o&&o(k),c(!1)},z=()=>{n.length>0&&a&&window.confirm(`Are you sure you want to delete this purchase receipt for ${r}? This action cannot be undone.`)&&(a(n[0].id),t())};return u.jsxs(Ev,{open:e,onOpenChange:t,children:[u.jsxs(dg,{className:"max-w-4xl max-h-[90vh] overflow-y-auto print:max-w-full",children:[u.jsx(hg,{children:u.jsxs(fg,{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(vj,{className:"w-6 h-6 text-warning"}),"Purchase Receipt"]}),u.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[u.jsxs("button",{onClick:R,className:"px-3 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(f_,{className:"w-4 h-4"}),"Edit"]}),u.jsxs("button",{onClick:z,className:"px-3 py-2 rounded-lg bg-red-50 hover:bg-red-100 text-red-600 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(ms,{className:"w-4 h-4"}),"Delete"]}),u.jsxs("button",{onClick:N,className:"px-3 py-2 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(Zc,{className:"w-4 h-4"}),"Download PDF"]}),u.jsxs("button",{onClick:_,className:"px-3 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(xj,{className:"w-4 h-4"}),"Print"]})]})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between pb-6 border-b-2 border-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden border-2 border-emerald-100 shadow-sm shrink-0",children:u.jsx("img",{src:"/sp-logo.jpg",alt:"SP Logo",className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-black text-slate-800 leading-tight",children:"SHREE GANESH FRUIT SUPPLIERS, TASGAON"}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Tal. Tasgaon, Dist. Sangli, Maharashtra"}),u.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-tighter mt-0.5",children:"Mo. 9730793507, 8788845042"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:"Document Type"}),u.jsx("div",{className:"text-lg font-black text-slate-800",children:"PURCHASE RECEIPT"})]})]}),u.jsx("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:r}),u.jsxs("div",{className:"space-y-1 text-xs text-slate-500 font-bold",children:[u.jsxs("p",{className:"flex items-center gap-2",children:[u.jsx(Oc,{className:"w-3.5 h-3.5"}),s]}),u.jsxs("p",{className:"flex items-center gap-2",children:[u.jsx(Mc,{className:"w-3.5 h-3.5"}),i]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"Total Transactions"}),u.jsx("div",{className:"text-3xl font-black text-warning",children:p.length})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-2",children:"Total Weight"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:[v.toFixed(2)," kg"]})]}),u.jsxs("div",{className:"bg-warning/10 p-4 rounded-xl border border-warning/20",children:[u.jsx("div",{className:"text-xs text-warning uppercase font-bold mb-2",children:"Total Amount"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:["",b.toLocaleString()]})]}),u.jsxs("div",{className:"bg-success/10 p-4 rounded-xl border border-success/20",children:[u.jsx("div",{className:"text-xs text-success uppercase font-bold mb-2",children:"Advance Paid"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:["",x.toLocaleString()]})]}),u.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shadow-sm transition-all hover:bg-white hover:border-slate-300",children:[u.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-black tracking-widest mb-2",children:"Balance Due"}),u.jsxs("div",{className:"text-xl font-black text-slate-900",children:["",w.toLocaleString()]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[u.jsx(F1,{className:"w-5 h-5 text-warning"}),"Purchase History (Date-wise)"]}),p.map((k,A)=>u.jsxs(vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.05},className:"glass-card p-5 space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between pb-3 border-b border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-warning/10 flex items-center justify-center",children:u.jsx(Ti,{className:"w-5 h-5 text-warning"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-foreground",children:new Date(k.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:[k.items.length," item",k.items.length>1?"s":""]})]})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border/50",children:[u.jsx("th",{className:"text-left py-2 text-xs font-bold text-muted-foreground uppercase",children:"Quality"}),u.jsx("th",{className:"text-center py-2 text-xs font-bold text-muted-foreground uppercase",children:"Total Kg"}),u.jsx("th",{className:"text-center py-2 text-xs font-bold text-muted-foreground uppercase",children:"Rate"}),u.jsx("th",{className:"text-right py-2 text-xs font-bold text-muted-foreground uppercase",children:"Amount"})]})}),u.jsx("tbody",{children:k.items.map(C=>u.jsxs("tr",{className:"border-b border-border/30",children:[u.jsx("td",{className:"py-3 font-medium text-foreground",children:C.quality}),u.jsxs("td",{className:"py-3 text-center font-bold",children:[C.totalWeight," kg"]}),u.jsxs("td",{className:"py-3 text-center",children:["",C.pricePerKg,"/kg"]}),u.jsxs("td",{className:"py-3 text-right font-bold",children:["",C.totalAmount.toLocaleString()]})]},C.id))})]})}),u.jsx("div",{className:"bg-muted/20 p-4 rounded-xl",children:u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground font-bold",children:"Transaction Total:"}),u.jsxs("span",{className:"font-black text-foreground text-lg",children:["",k.totalAmount.toLocaleString()]})]})})]},k.id))]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[u.jsx(gp,{className:"w-5 h-5 text-success"}),"Advance Payment History (Date-wise)"]}),f.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map((k,A)=>u.jsxs(vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.05},className:"glass-card p-4 bg-success/5 border-success/20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ti,{className:"w-4 h-4 text-success"}),u.jsx("span",{className:"font-bold text-sm",children:new Date(k.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})]}),u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-success/10 text-success font-bold capitalize",children:k.paymentMethod})]}),u.jsxs("div",{className:"text-2xl font-black text-success",children:["",k.amount.toLocaleString()]}),k.note&&u.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:k.note})]},k.id))}):u.jsx("div",{className:"glass-card p-6 text-center text-muted-foreground",children:"No advance payments recorded"})]}),u.jsx("div",{className:"bg-gradient-to-r from-warning/5 to-transparent p-6 rounded-2xl border border-warning/10",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-1",children:"Grand Total"}),u.jsxs("div",{className:"text-3xl font-black text-foreground",children:["",b.toLocaleString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-1",children:"Balance Due"}),u.jsxs("div",{className:"text-3xl font-black text-slate-900",children:["",w.toLocaleString()]})]})]})})]})]}),d&&u.jsx(Ele,{isOpen:l,onClose:()=>c(!1),purchase:d,onUpdate:O})]})},Ple=()=>{const{purchases:e,addPurchase:t,updatePurchase:n,deletePurchase:r,loading:s}=og(),[i,o]=L.useState(""),[a,l]=L.useState(!1),[c,d]=L.useState(null),[h,p]=L.useState(!1),[f,b]=L.useState(null),x=L.useMemo(()=>{const v=new Map;return e.forEach(_=>{var z,k,A;const N=((z=_.farmer)==null?void 0:z.mobile)||"unknown",R=((k=_.farmer)==null?void 0:k.name)||"Unknown Farmer";v.has(N)||v.set(N,{name:R,mobile:N,address:((A=_.farmer)==null?void 0:A.address)||"N/A",totalPurchases:0,pendingAmount:0,lastVisit:_.date,visitCount:0,purchases:[]});const O=v.get(N);O.totalPurchases+=_.totalAmount,O.pendingAmount+=_.pendingAmount||0,O.visitCount+=1,O.purchases.push(_),new Date(_.date)>new Date(O.lastVisit)&&(O.lastVisit=_.date)}),Array.from(v.values())},[e]),w=L.useMemo(()=>x.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())||v.mobile.includes(i)).sort((v,_)=>_.totalPurchases-v.totalPurchases),[x,i]);return s?null:u.jsxs(Pf,{children:[u.jsx(Tf,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"section-title",children:"Purchases (Farmers)"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your grape purchases and farmer records"})]}),u.jsxs("button",{onClick:()=>{d(null),l(!0)},className:"btn-primary flex items-center gap-2 self-start gradient-warm-bg",children:[u.jsx(Rr,{className:"w-5 h-5"}),"New Purchase"]})]}),u.jsxs("div",{className:"relative mb-8",children:[u.jsx(h_,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"Search Farmer by Name or Phone...",value:i,onChange:v=>o(v.target.value),className:"input-premium pl-12 h-14 text-lg shadow-sm"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.jsx(ii,{children:w.map((v,_)=>u.jsxs(vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},className:"glass-card overflow-hidden group hover:border-warning/30 transition-all active:scale-[0.98] cursor-pointer",onClick:()=>{b({name:v.name,mobile:v.mobile,address:v.address,purchases:v.purchases}),p(!0)},children:[u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-warning/10 flex items-center justify-center text-warning",children:u.jsx(vj,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-foreground group-hover:text-warning transition-colors",children:v.name}),u.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[u.jsx(Oc,{className:"w-3 h-3"})," ",v.mobile]})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:[u.jsxs("div",{className:"bg-warning/5 p-3 rounded-xl border border-warning/10",children:[u.jsx("span",{className:"text-[10px] text-warning uppercase font-bold tracking-widest block mb-1",children:"Stock Bought"}),u.jsxs("span",{className:"text-base font-black text-foreground",children:["",v.totalPurchases.toLocaleString()]})]}),u.jsxs("div",{className:"bg-muted/30 p-3 rounded-xl border border-border/50",children:[u.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-widest block mb-1",children:"Total Lots"}),u.jsxs("span",{className:"text-base font-black text-foreground",children:[v.visitCount," Entries"]})]}),u.jsxs("div",{className:"col-span-2 md:col-span-1 bg-destructive/5 p-3 rounded-xl border border-destructive/10",children:[u.jsx("span",{className:"text-[10px] text-destructive uppercase font-bold tracking-widest block mb-1",children:"Balance Due"}),u.jsxs("span",{className:"text-base font-black text-destructive",children:["",v.pendingAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:u.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[u.jsx(Mc,{className:"w-3 h-3"})," ",v.address]})})]}),u.jsxs("div",{className:"px-6 py-3 bg-muted/20 border-t border-border/50 flex items-center justify-between group-hover:bg-warning/5 transition-colors",children:[u.jsxs("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["Last Purchase: ",new Date(v.lastVisit).toLocaleDateString()]}),u.jsx(O1,{className:"w-4 h-4 text-warning opacity-0 group-hover:opacity-100 transition-all"})]})]},v.mobile))})}),w.length===0&&!s&&u.jsxs("div",{className:"text-center py-20 bg-muted/5 rounded-3xl border border-dashed border-border mt-8",children:[u.jsx(Gh,{className:"w-16 h-16 text-muted-foreground/20 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-muted-foreground",children:"No Farmers Found"}),u.jsx("p",{className:"text-muted-foreground",children:"Try searching with a different name or mobile number"})]})]}),u.jsx(kD,{isOpen:a,onClose:()=>l(!1),onAdd:t,onUpdate:n,purchaseToEdit:c}),f&&u.jsx(Tle,{isOpen:h,onClose:()=>{p(!1),b(null)},purchases:f.purchases,farmerName:f.name,farmerMobile:f.mobile,farmerAddress:f.address,onUpdate:v=>{const{id:_,...N}=v;n(_,N)},onDelete:v=>{r(v),p(!1),b(null)}})]})},Hx=()=>({id:Math.random().toString(36).substr(2,9),comment:"",amount:"",method:"cash"}),Od=new Date().toISOString().split("T")[0],Cle=e=>e.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).toUpperCase(),kle=()=>{const{expenses:e,addExpense:t,loading:n}=og(),{purchases:r,sales:s,loading:i}=vS(),[o,a]=L.useState(!1),[l,c]=L.useState([Hx()]),[d,h]=L.useState(!1),p=n||i,f=L.useMemo(()=>e.filter(A=>A.date===Od),[e]),b=L.useMemo(()=>{let A=0,C=0,M=0;return s.forEach(P=>{var I;(I=P.entries)==null||I.forEach(E=>{E.date===Od&&(A+=E.totalAmount,P.paymentMethod==="cash"?C+=E.totalAmount:M+=E.totalAmount)})}),{total:A,cash:C,online:M}},[s]),x=L.useMemo(()=>{let A=0,C=0,M=0;return r.forEach(P=>{var I;(I=P.entries)==null||I.forEach(E=>{E.date===Od&&(A+=E.totalAmount,P.paymentMethod==="cash"?C+=E.totalAmount:M+=E.totalAmount)})}),{total:A,cash:C,online:M}},[r]),w=L.useMemo(()=>f.reduce((A,C)=>A+C.amount,0),[f]),v=L.useMemo(()=>l.reduce((A,C)=>A+(parseFloat(C.amount)||0),0),[l]),_=w+v,N=b.total-x.total-_,R=()=>{l.length<10&&c(A=>[...A,Hx()])},O=(A,C,M)=>{c(P=>P.map(I=>I.id===A?{...I,[C]:M}:I))},z=A=>{l.length>1&&c(C=>C.filter(M=>M.id!==A))},k=async()=>{const A=l.filter(C=>C.comment.trim()&&parseFloat(C.amount)>0);if(A.length===0)return alert("Bhai, koi bhi comment ya amount fill nahi kiya!");h(!0);try{for(const C of A)await t({date:Od,type:"other",description:C.comment.trim(),amount:parseFloat(C.amount),paymentMethod:C.method});c([Hx()])}finally{h(!1)}};return p?null:u.jsxs(Pf,{children:[u.jsx(Tf,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"section-title text-destructive flex items-center gap-3",children:[u.jsx(Nc,{className:"w-8 h-8"}),"Expenses & Daily P&L"]}),u.jsxs("p",{className:"text-muted-foreground",children:[Cle(new Date),"  Aaj ka hisaab"]})]}),u.jsxs("button",{onClick:()=>a(!0),className:"btn-primary flex items-center gap-2 self-start bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[u.jsx(Rr,{className:"w-5 h-5"}),"Log New Expense"]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs(vn.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:0},className:"rounded-2xl p-5 bg-gradient-to-br from-emerald-50 to-green-100 border-2 border-emerald-200 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Dp,{className:"w-5 h-5 text-emerald-600"}),u.jsx("span",{className:"text-xs font-bold text-emerald-600 uppercase tracking-widest",children:"Aaj Sales"})]}),u.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:["",b.total.toLocaleString("en-IN")]}),u.jsxs("div",{className:"mt-2 flex gap-2 text-[10px] font-bold",children:[u.jsxs("span",{className:"bg-emerald-200/60 text-emerald-700 px-2 py-0.5 rounded-full flex items-center gap-1",children:[u.jsx(r0,{className:"w-3 h-3"})," ",b.cash.toLocaleString("en-IN")," Cash"]}),u.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full flex items-center gap-1",children:[u.jsx(gp,{className:"w-3 h-3"})," ",b.online.toLocaleString("en-IN")," Online"]})]})]}),u.jsxs(vn.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.08},className:"rounded-2xl p-5 bg-gradient-to-br from-orange-50 to-amber-100 border-2 border-orange-200 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Hy,{className:"w-5 h-5 text-orange-600"}),u.jsx("span",{className:"text-xs font-bold text-orange-600 uppercase tracking-widest",children:"Aaj Purchase"})]}),u.jsxs("p",{className:"text-2xl font-black text-orange-700",children:["",x.total.toLocaleString("en-IN")]}),u.jsxs("div",{className:"mt-2 flex gap-2 text-[10px] font-bold",children:[u.jsxs("span",{className:"bg-orange-200/60 text-orange-700 px-2 py-0.5 rounded-full flex items-center gap-1",children:[u.jsx(r0,{className:"w-3 h-3"})," ",x.cash.toLocaleString("en-IN")," Cash"]}),u.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full flex items-center gap-1",children:[u.jsx(gp,{className:"w-3 h-3"})," ",x.online.toLocaleString("en-IN")," Online"]})]})]}),u.jsxs(vn.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.16},className:"rounded-2xl p-5 bg-gradient-to-br from-rose-50 to-red-100 border-2 border-rose-200 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(dB,{className:"w-5 h-5 text-rose-600"}),u.jsx("span",{className:"text-xs font-bold text-rose-600 uppercase tracking-widest",children:"Aaj Expenses"})]}),u.jsxs("p",{className:"text-2xl font-black text-rose-700",children:["",_.toLocaleString("en-IN")]}),u.jsxs("p",{className:"text-[10px] text-rose-500 mt-1 font-semibold",children:["Saved: ",w.toLocaleString()," + Draft: ",v.toLocaleString()]})]}),u.jsxs(vn.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.24},className:`rounded-2xl p-5 border-2 shadow-sm ${N>=0?"bg-gradient-to-br from-teal-50 to-cyan-100 border-teal-300":"bg-gradient-to-br from-red-50 to-rose-100 border-red-300"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(wj,{className:`w-5 h-5 ${N>=0?"text-teal-600":"text-red-600"}`}),u.jsx("span",{className:`text-xs font-bold uppercase tracking-widest ${N>=0?"text-teal-600":"text-red-600"}`,children:"Net Balance"})]}),u.jsxs("p",{className:`text-2xl font-black ${N>=0?"text-teal-700":"text-red-700"}`,children:[N>=0?"+":"","",N.toLocaleString("en-IN")]}),u.jsx("p",{className:"text-[10px] text-slate-500 mt-1 font-semibold",children:"Sales  Purchase  Expenses"})]})]}),u.jsxs("div",{className:"glass-card p-5 rounded-2xl",children:[u.jsxs("h3",{className:"font-bold text-slate-700 mb-3 flex items-center gap-2 text-sm uppercase tracking-widest",children:[u.jsx(dl,{className:"w-4 h-4 text-emerald-600"}),"Aaj ka Hisaab (Real Calculation)"]}),u.jsxs("div",{className:"space-y-2 text-sm font-semibold",children:[u.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[u.jsx("span",{className:"text-slate-600",children:" Aaj Sales Aye"}),u.jsxs("span",{className:"text-emerald-600 font-black text-base",children:["+ ",b.total.toLocaleString("en-IN")]})]}),u.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[u.jsx("span",{className:"text-slate-600",children:" Aaj Purchase Gaye"}),u.jsxs("span",{className:"text-orange-600 font-black text-base",children:[" ",x.total.toLocaleString("en-IN")]})]}),u.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[u.jsx("span",{className:"text-slate-600",children:" Total Expenses"}),u.jsxs("span",{className:"text-rose-600 font-black text-base",children:[" ",_.toLocaleString("en-IN")]})]}),u.jsxs("div",{className:`flex justify-between items-center py-3 px-4 rounded-xl mt-2 ${N>=0?"bg-teal-50 border border-teal-200":"bg-red-50 border border-red-200"}`,children:[u.jsx("span",{className:`font-black text-base ${N>=0?"text-teal-700":"text-red-700"}`,children:" Haath Mein Bacha"}),u.jsxs("span",{className:`font-black text-xl ${N>=0?"text-teal-700":"text-red-700"}`,children:[N>=0?"+":"","",N.toLocaleString("en-IN")]})]})]})]}),u.jsxs("div",{className:"glass-card p-6 rounded-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-5",children:[u.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(Nc,{className:"w-5 h-5 text-rose-500"}),"Aaj ke Kharche Likho",u.jsxs("span",{className:"text-xs text-slate-400 font-normal",children:["(",l.length,"/10)"]})]}),l.length<10&&u.jsxs("button",{onClick:R,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors font-bold",children:[u.jsx(Rr,{size:14})," Row Add Karo"]})]}),u.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-3 mb-2 px-1",children:[u.jsx("span",{className:"col-span-1 text-xs font-bold text-slate-400 uppercase",children:"#"}),u.jsx("span",{className:"col-span-5 text-xs font-bold text-slate-400 uppercase",children:"Comment / Description"}),u.jsx("span",{className:"col-span-3 text-xs font-bold text-slate-400 uppercase",children:"Amount ()"}),u.jsx("span",{className:"col-span-2 text-xs font-bold text-slate-400 uppercase",children:"Cash/Online"}),u.jsx("span",{className:"col-span-1"})]}),u.jsx("div",{className:"space-y-3",children:u.jsx(ii,{children:l.map((A,C)=>u.jsxs(vn.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},className:"grid grid-cols-12 gap-3 items-center bg-slate-50 p-3 rounded-xl border border-slate-200",children:[u.jsx("div",{className:"col-span-1 flex items-center",children:u.jsx("span",{className:"w-7 h-7 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center text-xs font-black",children:C+1})}),u.jsx("div",{className:"col-span-12 md:col-span-5",children:u.jsx("input",{type:"text",placeholder:"e.g. Petrol, Labour, Rassi...",value:A.comment,onChange:M=>O(A.id,"comment",M.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-rose-400 focus:border-rose-400 outline-none"})}),u.jsx("div",{className:"col-span-6 md:col-span-3",children:u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold text-sm",children:""}),u.jsx("input",{type:"number",placeholder:"0",value:A.amount,onChange:M=>O(A.id,"amount",M.target.value),className:"w-full pl-7 pr-3 py-2 border border-slate-300 rounded-lg text-sm font-bold focus:ring-2 focus:ring-rose-400 focus:border-rose-400 outline-none",min:"0"})]})}),u.jsx("div",{className:"col-span-5 md:col-span-2",children:u.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-slate-300",children:[u.jsxs("button",{type:"button",onClick:()=>O(A.id,"method","cash"),className:`flex-1 py-2 text-xs font-bold transition-colors flex items-center justify-center gap-1 ${A.method==="cash"?"bg-emerald-500 text-white":"bg-white text-slate-500 hover:bg-slate-50"}`,children:[u.jsx(r0,{size:12})," Cash"]}),u.jsxs("button",{type:"button",onClick:()=>O(A.id,"method","online"),className:`flex-1 py-2 text-xs font-bold transition-colors flex items-center justify-center gap-1 ${A.method==="online"?"bg-blue-500 text-white":"bg-white text-slate-500 hover:bg-slate-50"}`,children:[u.jsx(gp,{size:12})," Online"]})]})}),u.jsx("div",{className:"col-span-1 flex justify-center",children:l.length>1&&u.jsx("button",{onClick:()=>z(A.id),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(Vs,{size:16})})})]},A.id))})}),v>0&&u.jsxs("div",{className:"mt-4 flex justify-between items-center px-4 py-3 bg-rose-50 border border-rose-200 rounded-xl",children:[u.jsx("span",{className:"font-bold text-rose-700",children:"Draft Expenses Total:"}),u.jsxs("span",{className:"font-black text-rose-700 text-lg",children:["",v.toLocaleString("en-IN")]})]}),u.jsxs("button",{onClick:k,disabled:d,className:"mt-5 w-full flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-rose-500 to-red-600 text-white rounded-xl font-bold hover:from-rose-600 hover:to-red-700 transition-all disabled:opacity-60",children:[d?u.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"}):u.jsx(ma,{size:18}),d?"Save Ho Raha Hai...":"Save Karo Sare Kharche"]})]}),u.jsxs("div",{className:"glass-card overflow-hidden rounded-2xl",children:[u.jsxs("div",{className:"p-4 border-b border-border/50 bg-muted/30 flex items-center justify-between",children:[u.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[u.jsx(eB,{className:"w-4 h-4 text-emerald-500"}),"Aaj ke Saved Expenses",u.jsxs("span",{className:"text-xs bg-rose-100 text-rose-600 px-2 py-0.5 rounded-full font-black",children:[f.length," entries"]})]}),u.jsxs("span",{className:"font-black text-rose-600",children:["",w.toLocaleString("en-IN")]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-muted/50 border-b border-border",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Date"}),u.jsx("th",{className:"p-4 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Description"}),u.jsx("th",{className:"p-4 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Payment"}),u.jsx("th",{className:"p-4 text-xs font-bold uppercase tracking-wider text-muted-foreground text-right",children:"Amount"})]})}),u.jsxs("tbody",{className:"divide-y divide-border/50",children:[e.map(A=>u.jsxs("tr",{className:"hover:bg-muted/10 transition-colors",children:[u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ti,{className:"w-3.5 h-3.5 text-muted-foreground"}),u.jsx("span",{className:`text-sm font-medium ${A.date===Od?"text-emerald-600 font-bold":""}`,children:new Date(A.date).toLocaleDateString("en-IN")}),A.date===Od&&u.jsx("span",{className:"text-[9px] bg-emerald-100 text-emerald-600 px-1.5 py-0.5 rounded-full font-black",children:"TODAY"})]})}),u.jsx("td",{className:"p-4 text-sm font-medium text-foreground",children:A.description}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase flex items-center gap-1 w-fit ${A.paymentMethod==="cash"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:A.paymentMethod==="cash"?u.jsxs(u.Fragment,{children:[u.jsx(r0,{size:10})," Cash"]}):u.jsxs(u.Fragment,{children:[u.jsx(gp,{size:10})," Online"]})})}),u.jsx("td",{className:"p-4 text-right",children:u.jsxs("span",{className:"text-base font-black text-destructive",children:["",A.amount.toLocaleString()]})})]},A.id)),e.length===0&&u.jsx("tr",{children:u.jsxs("td",{colSpan:4,className:"p-12 text-center",children:[u.jsx(Nc,{className:"w-12 h-12 text-muted-foreground/20 mx-auto mb-2"}),u.jsx("p",{className:"text-muted-foreground italic",children:"No expenses logged yet."})]})})]})]})})]})]}),u.jsx(ID,{isOpen:o,onClose:()=>a(!1),onAdd:t})]})},jle=({transactions:e,onTransactionClick:t})=>{const n=r=>{switch(r){case"purchase":return u.jsx(O1,{size:18});case"sale":return u.jsx(gj,{size:18});case"expense":return u.jsx(Nc,{size:18})}};return e.length===0?u.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-200 rounded-xl bg-slate-50",children:[u.jsx(Nc,{className:"w-10 h-10 mx-auto mb-3 text-slate-300"}),u.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"No records found"})]}):u.jsx("div",{className:"space-y-2",children:e.map(r=>u.jsx("div",{onClick:()=>t==null?void 0:t(r),className:"p-4 rounded-xl bg-white border border-slate-100 hover:border-emerald-200 hover:bg-slate-50 transition-all cursor-pointer group",children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[u.jsx("div",{className:`p-2.5 rounded-lg ${r.type==="purchase"?"bg-amber-50 text-amber-600":r.type==="sale"?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:n(r.type)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-bold text-slate-800 truncate text-sm",children:r.description}),u.jsx("p",{className:"text-[11px] font-semibold text-slate-400 mt-0.5 uppercase tracking-wide",children:r.details})]})]}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsxs("p",{className:`text-lg font-black tracking-tight ${r.type==="sale"?"text-emerald-600":r.type==="purchase"?"text-amber-600":"text-rose-600"}`,children:[r.type==="sale"?"+":"-","",r.amount.toLocaleString()]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 mt-0.5",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter text-slate-400",children:r.type}),u.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:""}),u.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 flex items-center gap-1",children:r.paymentMethod})]})]})]})},r.id))})},Ile=()=>{const{purchases:e,sales:t,expenses:n,getTransactions:r,loading:s}=og(),[i,o]=L.useState(new Date().toISOString().split("T")[0]),a=L.useMemo(()=>r(i),[r,i]);return s?null:u.jsxs(Pf,{children:[u.jsx(Tf,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"section-title",children:"Trading History"}),u.jsx("p",{className:"text-muted-foreground",children:"Audit your complete business history by date"})]}),u.jsxs("div",{className:"flex items-center gap-3 bg-card p-2 rounded-2xl border border-border shadow-sm",children:[u.jsx(Ti,{className:"w-5 h-5 text-primary ml-2"}),u.jsx("input",{type:"date",value:i,onChange:l=>o(l.target.value),className:"bg-transparent border-none focus:ring-0 text-sm font-bold"})]})]}),u.jsxs("div",{className:"glass-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"font-bold text-lg",children:["Transactions for ",new Date(i).toLocaleDateString()]}),u.jsxs("button",{className:"text-xs font-bold text-primary flex items-center gap-1 hover:underline",children:[u.jsx(Zc,{className:"w-3 h-3"})," Export PDF"]})]}),u.jsx(jle,{transactions:a}),a.length===0&&u.jsxs("div",{className:"text-center py-20",children:[u.jsx(Xm,{className:"w-16 h-16 text-muted-foreground/20 mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"No transactions found for this date."})]})]})]})]})},mu=()=>Math.random().toString(36).substr(2,9),Rle=({isOpen:e,onClose:t,onAdd:n,onUpdate:r,purchaseToEdit:s,existingPurchase:i})=>{const[o,a]=L.useState(""),[l,c]=L.useState(""),[d,h]=L.useState(""),[p,f]=L.useState([{id:mu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}]),[b,x]=L.useState(0),[w,v]=L.useState(0),[_,N]=L.useState("cash"),[R,O]=L.useState(new Date().toISOString().split("T")[0]);L.useEffect(()=>{if(e)if(i)a(i.farmer.name),c(i.farmer.mobile),h(i.farmer.address);else if(s){if(a(s.farmer.name),c(s.farmer.mobile),h(s.farmer.address),s.entries.length>0){const E=s.entries[s.entries.length-1];f(E.items),x(E.advanceGiven),v(E.labourCharge||0),O(E.date)}N(s.paymentMethod)}else z()},[e,s,i]);const z=()=>{a(""),c(""),h(""),f([{id:mu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}]),x(0),v(0),N("cash"),O(new Date().toISOString().split("T")[0])},k=(E,$,Y)=>{const ae=[...p],ee={...ae[E]};if($==="quality")ee.quality=Y;else if($==="units"||$==="pricePerUnit"||$==="discountPercent"){ee[$]=Number(Y)||0;const H=ee.units*ee.pricePerUnit;ee.subtotal=H,ee.discountAmount=H*ee.discountPercent/100,ee.totalAmount=H-ee.discountAmount}ae[E]=ee,f(ae)},A=()=>{f([...p,{id:mu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}])},C=E=>{p.length>1&&f(p.filter(($,Y)=>Y!==E))},M=()=>{const E=p.reduce((H,ne)=>H+ne.subtotal,0),$=p.reduce((H,ne)=>H+ne.discountAmount,0),Y=p.reduce((H,ne)=>H+ne.totalAmount,0),ae=Y-w,ee=ae-b;return{subtotal:E,totalDiscount:$,totalAmount:ae,pendingAmount:ee,itemsTotal:Y}},P=async E=>{if(E.preventDefault(),!o||!l){alert("Please fill farmer name and mobile");return}const $=M(),Y={id:mu(),date:R,items:p.map(ae=>({...ae,id:mu()})),subtotal:$.subtotal,totalDiscount:$.totalDiscount,labourCharge:w,totalAmount:$.totalAmount,advanceGiven:b,pendingAmount:$.pendingAmount};if(i){const ae={...i,entries:[...i.entries,Y],advancePayments:b>0?[...i.advancePayments,{id:mu(),date:R,amount:b,paymentMethod:_,note:`Advance for entry on ${R}`}]:i.advancePayments,totalAmount:i.totalAmount+$.totalAmount,totalAdvanceGiven:i.totalAdvanceGiven+b,pendingAmount:i.totalAmount+$.totalAmount-(i.totalAdvanceGiven+b)};r&&await r(i.id,ae)}else{const ae={date:R,farmer:{name:o,mobile:l,address:d},entries:[Y],advancePayments:b>0?[{id:mu(),date:R,amount:b,paymentMethod:_,note:"Initial advance"}]:[],totalAmount:$.totalAmount,totalAdvanceGiven:b,pendingAmount:$.pendingAmount,paymentMethod:_};await n(ae)}z(),t()},I=M();return e?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold",children:i?"Add New Entry":s?"Edit Purchase":"New Watermelon Purchase"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(Vs,{size:24})})]}),u.jsxs("form",{onSubmit:P,className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Farmer Name *"}),u.jsx("input",{type:"text",value:o,onChange:E=>a(E.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-slate-100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Mobile *"}),u.jsx("input",{type:"tel",value:l,onChange:E=>c(E.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-slate-100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Address"}),u.jsx("input",{type:"text",value:d,onChange:E=>h(E.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-slate-100"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Date"}),u.jsx("input",{type:"date",value:R,onChange:E=>O(E.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Payment Method"}),u.jsxs("select",{value:_,onChange:E=>N(E.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"online",children:"Online/Bank"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Items"}),u.jsxs("button",{type:"button",onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:[u.jsx(Rr,{size:16}),"Add Item"]})]}),u.jsx("div",{className:"space-y-4",children:p.map((E,$)=>u.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Quality"}),u.jsx("input",{type:"text",value:E.quality,onChange:Y=>k($,"quality",Y.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Units"}),u.jsx("input",{type:"number",value:E.units||"",onChange:Y=>k($,"units",Y.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Price/Unit"}),u.jsx("input",{type:"number",value:E.pricePerUnit||"",onChange:Y=>k($,"pricePerUnit",Y.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Subtotal"}),u.jsx("input",{type:"text",value:`${E.subtotal.toLocaleString()}`,disabled:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white font-bold"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Discount %"}),u.jsx("input",{type:"number",value:E.discountPercent||"",onChange:Y=>k($,"discountPercent",Y.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"0",max:"100"})]}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-xs font-bold text-emerald-600 mb-1",children:"Total"}),u.jsx("input",{type:"text",value:`${E.totalAmount.toLocaleString()}`,disabled:!0,className:"w-full px-3 py-2 border-2 border-emerald-500 rounded-lg text-sm bg-emerald-50 font-black text-emerald-700"})]}),p.length>1&&u.jsx("button",{type:"button",onClick:()=>C($),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(ms,{size:18})})]})]}),E.discountAmount>0&&u.jsxs("div",{className:"mt-2 text-xs text-orange-600 font-semibold",children:["Discount: ",E.discountAmount.toLocaleString()," (",E.discountPercent,"% off)"]})]},E.id))})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-2 border-emerald-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Summary"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-slate-600 font-semibold",children:"Subtotal:"}),u.jsxs("span",{className:"text-xl font-bold text-slate-800",children:["",I.subtotal.toLocaleString()]})]}),I.totalDiscount>0&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-orange-600 font-semibold",children:"Total Discount:"}),u.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["- ",I.totalDiscount.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-emerald-300",children:[u.jsx("span",{className:"text-emerald-700 font-bold text-lg",children:"Items Total:"}),u.jsxs("span",{className:"text-xl font-black text-emerald-700",children:["",I.itemsTotal.toLocaleString()]})]})]}),u.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-rose-600 mb-2",children:"Labour Minus (-)"}),u.jsx("input",{type:"number",value:w||"",onChange:E=>v(Number(E.target.value)||0),className:"w-full px-4 py-3 border-2 border-rose-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 text-lg font-bold text-rose-700",placeholder:"Enter labour to minus"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Advance Given"}),u.jsx("input",{type:"number",value:b||"",onChange:E=>x(Number(E.target.value)||0),className:"w-full px-4 py-3 border-2 border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-lg font-bold",placeholder:"Enter advance amount"})]})]}),u.jsxs("div",{className:"mt-6 space-y-3 pt-4 border-t-2 border-emerald-300",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-emerald-700 font-black text-xl",children:"Final Total:"}),u.jsxs("span",{className:"text-3xl font-black text-emerald-700",children:["",I.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-rose-600 font-bold text-lg",children:"Pending Amount:"}),u.jsxs("span",{className:"text-2xl font-black text-rose-600",children:["",I.pendingAmount.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg font-bold hover:bg-slate-50 transition-colors",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-emerald-500 to-green-600 text-white rounded-lg font-bold hover:from-emerald-600 hover:to-green-700 transition-colors flex items-center justify-center gap-2",children:[u.jsx(ma,{size:20}),i?"Add Entry":s?"Update":"Save Purchase"]})]})]})]})}):null},gu=()=>Math.random().toString(36).substr(2,9),Lle=({isOpen:e,onClose:t,onAdd:n,onUpdate:r,saleToEdit:s,existingSale:i})=>{const[o,a]=L.useState(""),[l,c]=L.useState(""),[d,h]=L.useState(""),[p,f]=L.useState([{id:gu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}]),[b,x]=L.useState(0),[w,v]=L.useState(0),[_,N]=L.useState("cash"),[R,O]=L.useState(new Date().toISOString().split("T")[0]);L.useEffect(()=>{if(e)if(i)a(i.buyer.name),c(i.buyer.mobile),h(i.buyer.address);else if(s){if(a(s.buyer.name),c(s.buyer.mobile),h(s.buyer.address),s.entries.length>0){const E=s.entries[s.entries.length-1];f(E.items),x(E.receivedAmount),v(E.labourCharge||0),O(E.date)}N(s.paymentMethod)}else z()},[e,s,i]);const z=()=>{a(""),c(""),h(""),f([{id:gu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}]),x(0),v(0),N("cash"),O(new Date().toISOString().split("T")[0])},k=(E,$,Y)=>{const ae=[...p],ee={...ae[E]};if($==="quality")ee.quality=Y;else if($==="units"||$==="pricePerUnit"||$==="discountPercent"){ee[$]=Number(Y)||0;const H=ee.units*ee.pricePerUnit;ee.subtotal=H,ee.discountAmount=H*ee.discountPercent/100,ee.totalAmount=H-ee.discountAmount}ae[E]=ee,f(ae)},A=()=>{f([...p,{id:gu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}])},C=E=>{p.length>1&&f(p.filter(($,Y)=>Y!==E))},M=()=>{const E=p.reduce((H,ne)=>H+ne.subtotal,0),$=p.reduce((H,ne)=>H+ne.discountAmount,0),Y=p.reduce((H,ne)=>H+ne.totalAmount,0),ae=Y+w,ee=ae-b;return{subtotal:E,totalDiscount:$,totalAmount:ae,pendingAmount:ee,itemsTotal:Y}},P=async E=>{if(E.preventDefault(),!o||!l){alert("Please fill buyer name and mobile");return}const $=M(),Y={id:gu(),date:R,items:p.map(ae=>({...ae,id:gu()})),subtotal:$.subtotal,totalDiscount:$.totalDiscount,labourCharge:w,totalAmount:$.totalAmount,receivedAmount:b,pendingAmount:$.pendingAmount};if(i){const ae={...i,entries:[...i.entries,Y],receivedPayments:b>0?[...i.receivedPayments,{id:gu(),date:R,amount:b,paymentMethod:_,note:`Payment for entry on ${R}`}]:i.receivedPayments,totalAmount:i.totalAmount+$.totalAmount,totalReceived:i.totalReceived+b,pendingAmount:i.totalAmount+$.totalAmount-(i.totalReceived+b)};r&&await r(i.id,ae)}else{const ae={date:R,buyer:{name:o,mobile:l,address:d},entries:[Y],receivedPayments:b>0?[{id:gu(),date:R,amount:b,paymentMethod:_,note:"Initial payment"}]:[],totalAmount:$.totalAmount,totalReceived:b,pendingAmount:$.pendingAmount,paymentMethod:_};await n(ae)}z(),t()},I=M();return e?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 to-cyan-600 text-white p-6 flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold",children:i?"Add New Sale Entry":s?"Edit Sale":"New Watermelon Sale"}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(Vs,{size:24})})]}),u.jsxs("form",{onSubmit:P,className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Buyer Name *"}),u.jsx("input",{type:"text",value:o,onChange:E=>a(E.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-slate-100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Mobile *"}),u.jsx("input",{type:"tel",value:l,onChange:E=>c(E.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-slate-100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Address"}),u.jsx("input",{type:"text",value:d,onChange:E=>h(E.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-slate-100"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Date"}),u.jsx("input",{type:"date",value:R,onChange:E=>O(E.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Payment Method"}),u.jsxs("select",{value:_,onChange:E=>N(E.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"online",children:"Online/Bank"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Items"}),u.jsxs("button",{type:"button",onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[u.jsx(Rr,{size:16}),"Add Item"]})]}),u.jsx("div",{className:"space-y-4",children:p.map((E,$)=>u.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Quality"}),u.jsx("input",{type:"text",value:E.quality,onChange:Y=>k($,"quality",Y.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Units"}),u.jsx("input",{type:"number",value:E.units||"",onChange:Y=>k($,"units",Y.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Price/Unit"}),u.jsx("input",{type:"number",value:E.pricePerUnit||"",onChange:Y=>k($,"pricePerUnit",Y.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Subtotal"}),u.jsx("input",{type:"text",value:`${E.subtotal.toLocaleString()}`,disabled:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white font-bold"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Discount %"}),u.jsx("input",{type:"number",value:E.discountPercent||"",onChange:Y=>k($,"discountPercent",Y.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"0",max:"100"})]}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-xs font-bold text-blue-600 mb-1",children:"Total"}),u.jsx("input",{type:"text",value:`${E.totalAmount.toLocaleString()}`,disabled:!0,className:"w-full px-3 py-2 border-2 border-blue-500 rounded-lg text-sm bg-blue-50 font-black text-blue-700"})]}),p.length>1&&u.jsx("button",{type:"button",onClick:()=>C($),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(ms,{size:18})})]})]}),E.discountAmount>0&&u.jsxs("div",{className:"mt-2 text-xs text-orange-600 font-semibold",children:["Discount: ",E.discountAmount.toLocaleString()," (",E.discountPercent,"% off)"]})]},E.id))})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Summary"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-slate-600 font-semibold",children:"Subtotal:"}),u.jsxs("span",{className:"text-xl font-bold text-slate-800",children:["",I.subtotal.toLocaleString()]})]}),I.totalDiscount>0&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-orange-600 font-semibold",children:"Total Discount:"}),u.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["- ",I.totalDiscount.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-slate-600 font-semibold",children:"Items Total:"}),u.jsxs("span",{className:"text-xl font-bold text-slate-800",children:["",I.itemsTotal.toLocaleString()]})]})]}),u.jsxs("div",{className:"mt-4 bg-amber-50 border-2 border-amber-200 rounded-lg p-4",children:[u.jsx("label",{className:"block text-sm font-bold text-amber-700 mb-2",children:" Labour Charge"}),u.jsx("input",{type:"number",value:w||"",onChange:E=>v(Number(E.target.value)||0),className:"w-full px-4 py-3 border-2 border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-lg font-bold bg-white",placeholder:"Enter labour charge (optional)",min:"0"}),w>0&&u.jsxs("p",{className:"text-xs text-amber-600 mt-2 font-semibold",children:["",I.itemsTotal.toLocaleString()," + ",w.toLocaleString()," labour = ",I.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"mt-4 flex justify-between items-center pt-3 border-t-2 border-blue-300",children:[u.jsx("span",{className:"text-blue-700 font-bold text-lg",children:"Total Amount:"}),u.jsxs("span",{className:"text-2xl font-black text-blue-700",children:["",I.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"mt-4",children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Amount Received"}),u.jsx("input",{type:"number",value:b||"",onChange:E=>x(Number(E.target.value)||0),className:"w-full px-4 py-3 border-2 border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg font-bold",placeholder:"Enter received amount"})]}),u.jsxs("div",{className:"mt-4 flex justify-between items-center pt-4 border-t-2 border-blue-300",children:[u.jsx("span",{className:"text-rose-600 font-bold text-lg",children:"Pending Amount:"}),u.jsxs("span",{className:"text-2xl font-black text-rose-600",children:["",I.pendingAmount.toLocaleString()]})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg font-bold hover:bg-slate-50 transition-colors",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-lg font-bold hover:from-blue-600 hover:to-cyan-700 transition-colors flex items-center justify-center gap-2",children:[u.jsx(ma,{size:20}),i?"Add Entry":s?"Update":"Save Sale"]})]})]})]})}):null},yn=e=>"Rs."+e.toLocaleString("en-IN"),Dle=(e,t)=>{const n=e.entries.filter(h=>new Date(h.date).toISOString().split("T")[0]===t),r=n.reduce((h,p)=>h+p.totalAmount,0),s=n.reduce((h,p)=>h+p.advanceGiven,0),i=n.reduce((h,p)=>h+p.pendingAmount,0),o=new at;o.setFillColor(16,185,129),o.rect(0,0,210,58,"F"),o.setTextColor(255,255,255),o.setFontSize(22),o.setFont("helvetica","bold"),o.text("SHREE GANESH FRUIT SUPPLIERS, TASGAON",105,14,{align:"center"}),o.setFontSize(9),o.setFont("helvetica","normal"),o.text("Tal. Tasgaon, Dist. Sangli, Pin 416312, Maharashtra",105,22,{align:"center"}),o.text("Prop. Suhas Patil  |  Mo. 9730793507, 8788845042",105,29,{align:"center"}),o.setDrawColor(255,255,255),o.setLineWidth(.4),o.line(14,33,196,33),o.setFontSize(13),o.setFont("helvetica","bold"),o.text("WATERMELON PURCHASE RECEIPT",105,41,{align:"center"}),o.setFontSize(9),o.setFont("helvetica","normal");const a=new Date(t+"T00:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"});o.text("Date: "+a,105,50,{align:"center"}),o.setTextColor(0,0,0),o.setFontSize(14),o.setFont("helvetica","bold"),o.text("FARMER DETAILS",14,68),o.setFontSize(11),o.setFont("helvetica","normal"),o.text("Name: "+e.farmer.name,14,76),o.text("Mobile: "+e.farmer.mobile,14,83),o.text("Address: "+e.farmer.address,14,90),o.setFillColor(240,253,244),o.rect(120,63,80,32,"F"),o.setDrawColor(16,185,129),o.rect(120,63,80,32,"S"),o.setFontSize(10),o.setFont("helvetica","bold"),o.text("DAY SUMMARY",160,70,{align:"center"}),o.setFontSize(9),o.setFont("helvetica","normal"),o.text("Total Amount: "+yn(r),125,77),o.text("Advance Given: "+yn(s),125,83),o.setTextColor(220,38,38),o.setFont("helvetica","bold"),o.text("Pending: "+yn(i),125,90),o.setTextColor(0,0,0);let l=103;n.length===0&&(o.setFontSize(12),o.setFont("helvetica","bold"),o.setTextColor(200,0,0),o.text("No entries found for the selected date.",105,l,{align:"center"}),o.setTextColor(0,0,0),l+=20),n.forEach((h,p)=>{o.setFillColor(16,185,129),o.rect(14,l,182,8,"F"),o.setTextColor(255,255,255),o.setFontSize(11),o.setFont("helvetica","bold"),o.text("Entry #"+(p+1)+" - "+new Date(h.date).toLocaleDateString("en-IN"),18,l+5.5),o.setTextColor(0,0,0),l+=12;const f=h.items.map((w,v)=>[(v+1).toString(),w.quality,w.units.toString(),yn(w.pricePerUnit),yn(w.subtotal),w.discountPercent>0?w.discountPercent+"%":"-",w.discountAmount>0?yn(w.discountAmount):"-",yn(w.totalAmount)]);lf(o,{startY:l,head:[["#","Quality","Units","Price/Unit","Subtotal","Disc%","Disc Amt","Total"]],body:f,theme:"grid",headStyles:{fillColor:[16,185,129],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:10},1:{cellWidth:25},2:{cellWidth:20,halign:"right"},3:{cellWidth:25,halign:"right"},4:{cellWidth:25,halign:"right"},5:{cellWidth:18,halign:"center"},6:{cellWidth:25,halign:"right"},7:{cellWidth:30,halign:"right",fontStyle:"bold"}}}),l=o.lastAutoTable.finalY+5;const b=(h.labourCharge||0)>0,x=b?26:20;o.setFillColor(240,253,244),o.rect(14,l,182,x,"F"),o.setDrawColor(16,185,129),o.rect(14,l,182,x,"S"),o.setFontSize(9),o.setFont("helvetica","normal"),o.text("Subtotal: "+yn(h.subtotal),18,l+6),h.totalDiscount>0&&o.text("Total Discount: "+yn(h.totalDiscount),18,l+12),b&&(o.setTextColor(220,38,38),o.text("Labour Minus: -"+yn(h.labourCharge),18,l+(h.totalDiscount>0?18:12)),o.setTextColor(0,0,0)),o.setFont("helvetica","bold"),o.text("Total Amount: "+yn(h.totalAmount),100,l+6),o.text("Advance Given: "+yn(h.advanceGiven),100,l+12),o.setTextColor(220,38,38),o.text("Pending: "+yn(h.pendingAmount),100,l+18),o.setTextColor(0,0,0),l+=x+8,l>250&&p<n.length-1&&(o.addPage(),l=20)});const c=e.advancePayments.filter(h=>new Date(h.date).toISOString().split("T")[0]===t);if(c.length>0){l>220&&(o.addPage(),l=20),o.setFontSize(12),o.setFont("helvetica","bold"),o.text("ADVANCE PAYMENTS (THIS DATE)",14,l),l+=8;const h=c.map((p,f)=>[(f+1).toString(),new Date(p.date).toLocaleDateString("en-IN"),yn(p.amount),p.paymentMethod==="cash"?"Cash":"Online/Bank",p.note||"-"]);lf(o,{startY:l,head:[["#","Date","Amount","Method","Note"]],body:h,theme:"grid",headStyles:{fillColor:[59,130,246],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:15},1:{cellWidth:30},2:{cellWidth:35,halign:"right",fontStyle:"bold"},3:{cellWidth:30},4:{cellWidth:72}}})}const d=o.internal.getNumberOfPages();for(let h=1;h<=d;h++)o.setPage(h),o.setFontSize(8),o.setTextColor(128,128,128),o.text("Page "+h+" of "+d,105,287,{align:"center"}),o.text("Thank you for your business!",105,292,{align:"center"});o.save("Watermelon_Purchase_"+e.farmer.name+"_"+t+".pdf")},Mle=(e,t)=>{const n=e.entries.filter(h=>new Date(h.date).toISOString().split("T")[0]===t),r=n.reduce((h,p)=>h+p.totalAmount,0),s=n.reduce((h,p)=>h+p.receivedAmount,0),i=n.reduce((h,p)=>h+p.pendingAmount,0),o=new at;o.setFillColor(59,130,246),o.rect(0,0,210,58,"F"),o.setTextColor(255,255,255),o.setFontSize(22),o.setFont("helvetica","bold"),o.text("SHREE GANESH FRUIT SUPPLIERS, TASGAON",105,14,{align:"center"}),o.setFontSize(9),o.setFont("helvetica","normal"),o.text("Tal. Tasgaon, Dist. Sangli, Pin 416312, Maharashtra",105,22,{align:"center"}),o.text("Prop. Suhas Patil  |  Mo. 9730793507, 8788845042",105,29,{align:"center"}),o.setDrawColor(255,255,255),o.setLineWidth(.4),o.line(14,33,196,33),o.setFontSize(13),o.setFont("helvetica","bold"),o.text("WATERMELON SALE RECEIPT",105,41,{align:"center"}),o.setFontSize(9),o.setFont("helvetica","normal");const a=new Date(t+"T00:00:00").toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"});o.text("Date: "+a,105,50,{align:"center"}),o.setTextColor(0,0,0),o.setFontSize(14),o.setFont("helvetica","bold"),o.text("BUYER DETAILS",14,68),o.setFontSize(11),o.setFont("helvetica","normal"),o.text("Name: "+e.buyer.name,14,76),o.text("Mobile: "+e.buyer.mobile,14,83),o.text("Address: "+e.buyer.address,14,90),o.setFillColor(239,246,255),o.rect(120,63,80,32,"F"),o.setDrawColor(59,130,246),o.rect(120,63,80,32,"S"),o.setFontSize(10),o.setFont("helvetica","bold"),o.text("DAY SUMMARY",160,70,{align:"center"}),o.setFontSize(9),o.setFont("helvetica","normal"),o.text("Total Amount: "+yn(r),125,77),o.text("Received: "+yn(s),125,83),o.setTextColor(220,38,38),o.setFont("helvetica","bold"),o.text("Pending: "+yn(i),125,90),o.setTextColor(0,0,0);let l=103;n.length===0&&(o.setFontSize(12),o.setFont("helvetica","bold"),o.setTextColor(200,0,0),o.text("No entries found for the selected date.",105,l,{align:"center"}),o.setTextColor(0,0,0),l+=20),n.forEach((h,p)=>{o.setFillColor(59,130,246),o.rect(14,l,182,8,"F"),o.setTextColor(255,255,255),o.setFontSize(11),o.setFont("helvetica","bold"),o.text("Entry #"+(p+1)+" - "+new Date(h.date).toLocaleDateString("en-IN"),18,l+5.5),o.setTextColor(0,0,0),l+=12;const f=h.items.map((w,v)=>[(v+1).toString(),w.quality,w.units.toString(),yn(w.pricePerUnit),yn(w.subtotal),w.discountPercent>0?w.discountPercent+"%":"-",w.discountAmount>0?yn(w.discountAmount):"-",yn(w.totalAmount)]);lf(o,{startY:l,head:[["#","Quality","Units","Price/Unit","Subtotal","Disc%","Disc Amt","Total"]],body:f,theme:"grid",headStyles:{fillColor:[59,130,246],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:10},1:{cellWidth:25},2:{cellWidth:20,halign:"right"},3:{cellWidth:25,halign:"right"},4:{cellWidth:25,halign:"right"},5:{cellWidth:18,halign:"center"},6:{cellWidth:25,halign:"right"},7:{cellWidth:30,halign:"right",fontStyle:"bold"}}}),l=o.lastAutoTable.finalY+5;const b=(h.labourCharge||0)>0,x=b?26:20;o.setFillColor(239,246,255),o.rect(14,l,182,x,"F"),o.setDrawColor(59,130,246),o.rect(14,l,182,x,"S"),o.setFontSize(9),o.setFont("helvetica","normal"),o.text("Subtotal: "+yn(h.subtotal),18,l+6),h.totalDiscount>0&&o.text("Total Discount: "+yn(h.totalDiscount),18,l+12),b&&(o.setTextColor(180,120,0),o.text("Labour Charge: "+yn(h.labourCharge),18,l+18),o.setTextColor(0,0,0)),o.setFont("helvetica","bold"),o.text("Total Amount: "+yn(h.totalAmount),100,l+6),o.text("Received: "+yn(h.receivedAmount),100,l+12),o.setTextColor(220,38,38),o.text("Pending: "+yn(h.pendingAmount),100,l+18),o.setTextColor(0,0,0),l+=x+8,l>250&&p<n.length-1&&(o.addPage(),l=20)});const c=e.receivedPayments.filter(h=>new Date(h.date).toISOString().split("T")[0]===t);if(c.length>0){l>220&&(o.addPage(),l=20),o.setFontSize(12),o.setFont("helvetica","bold"),o.text("PAYMENTS RECEIVED (THIS DATE)",14,l),l+=8;const h=c.map((p,f)=>[(f+1).toString(),new Date(p.date).toLocaleDateString("en-IN"),yn(p.amount),p.paymentMethod==="cash"?"Cash":"Online/Bank",p.note||"-"]);lf(o,{startY:l,head:[["#","Date","Amount","Method","Note"]],body:h,theme:"grid",headStyles:{fillColor:[16,185,129],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:15},1:{cellWidth:30},2:{cellWidth:35,halign:"right",fontStyle:"bold"},3:{cellWidth:30},4:{cellWidth:72}}})}const d=o.internal.getNumberOfPages();for(let h=1;h<=d;h++)o.setPage(h),o.setFontSize(8),o.setTextColor(128,128,128),o.text("Page "+h+" of "+d,105,287,{align:"center"}),o.text("Thank you for your business!",105,292,{align:"center"});o.save("Watermelon_Sale_"+e.buyer.name+"_"+t+".pdf")},Ole=({purchase:e,onClose:t})=>{const[n,r]=L.useState(""),s=L.useMemo(()=>{const a=new Map;return e.entries.forEach(l=>{const c=new Date(l.date).toISOString().split("T")[0],d=a.get(c)||{count:0,total:0,advance:0,pending:0};a.set(c,{count:d.count+1,total:d.total+l.totalAmount,advance:d.advance+l.advanceGiven,pending:d.pending+l.pendingAmount})}),Array.from(a.entries()).sort((l,c)=>c[0].localeCompare(l[0])).map(([l,c])=>({date:l,...c}))},[e.entries]),i=()=>{n&&(Dle(e,n),t())},o=a=>new Date(a+"T00:00:00").toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",year:"numeric"});return u.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",onClick:t,children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:a=>a.stopPropagation(),children:[u.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-green-600 text-white p-5 rounded-t-2xl flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(yj,{size:22}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg",children:"Select Date for PDF"}),u.jsx("p",{className:"text-emerald-100 text-xs",children:"Choose which date's bill to download"})]})]}),u.jsx("button",{onClick:t,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(Vs,{size:20})})]}),u.jsx("div",{className:"p-5 space-y-4 max-h-[60vh] overflow-y-auto",children:s.length===0?u.jsx("p",{className:"text-center text-slate-500 py-8",children:"No entries found."}):u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:[" ",s.length," date(s) available  tap to select:"]}),u.jsx("div",{className:"space-y-2",children:s.map(({date:a,count:l,total:c,advance:d,pending:h})=>u.jsxs("button",{onClick:()=>r(a),className:`w-full text-left p-4 rounded-xl border-2 transition-all ${n===a?"border-emerald-500 bg-emerald-50 shadow-md":"border-slate-200 bg-slate-50 hover:border-emerald-300 hover:bg-emerald-50/50"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"font-bold text-slate-800 text-sm",children:[" ",o(a)]}),u.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-semibold ${n===a?"bg-emerald-500 text-white":"bg-slate-200 text-slate-600"}`,children:[l," ",l===1?"entry":"entries"]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[u.jsxs("div",{className:"bg-white rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-emerald-600 font-semibold",children:"Total"}),u.jsxs("p",{className:"font-bold text-slate-800",children:["",c.toLocaleString()]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-blue-600 font-semibold",children:"Advance"}),u.jsxs("p",{className:"font-bold text-slate-800",children:["",d.toLocaleString()]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-rose-600 font-semibold",children:"Pending"}),u.jsxs("p",{className:"font-bold text-rose-700",children:["",h.toLocaleString()]})]})]})]},a))})]})}),u.jsxs("div",{className:"p-5 border-t border-slate-200 flex gap-3",children:[u.jsx("button",{onClick:t,className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:"Cancel"}),u.jsxs("button",{onClick:i,disabled:!n,className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-bold transition-all ${n?"bg-gradient-to-r from-emerald-500 to-green-600 text-white hover:from-emerald-600 hover:to-green-700 shadow-md":"bg-slate-100 text-slate-400 cursor-not-allowed"}`,children:[u.jsx(Zc,{size:18}),"Download PDF"]})]})]})})},Fle=({isOpen:e,onClose:t,purchase:n,onUpdate:r,onDelete:s,onAddEntry:i})=>{const[o,a]=L.useState(!1),[l,c]=L.useState(!1);if(!e)return null;const d=()=>{s(n.id),t()};return u.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 flex items-center justify-between z-10",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:n.farmer.name}),u.jsxs("p",{className:"text-emerald-100 text-sm",children:[" ",n.farmer.mobile]}),u.jsxs("p",{className:"text-emerald-100 text-sm",children:[" ",n.farmer.address]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>c(!0),className:"p-2 hover:bg-white/20 rounded-lg transition-colors flex items-center gap-2 bg-white/10",title:"Download PDF",children:[u.jsx(Zc,{size:20}),u.jsx("span",{className:"text-sm font-semibold",children:"PDF"})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(Vs,{size:24})})]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-2 border-emerald-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-emerald-600 uppercase mb-1",children:"Total Amount"}),u.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:["",n.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Total Advance"}),u.jsxs("p",{className:"text-2xl font-black text-blue-700",children:["",n.totalAdvanceGiven.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-red-50 border-2 border-rose-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-rose-600 uppercase mb-1",children:"Pending Amount"}),u.jsxs("p",{className:"text-2xl font-black text-rose-700",children:["",n.pendingAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:()=>i(n),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-green-600 text-white rounded-lg hover:from-emerald-600 hover:to-green-700 transition-colors font-bold",children:[u.jsx(Rr,{size:18}),"Add New Entry"]})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[u.jsx(Ti,{className:"text-emerald-600",size:20}),"Purchase History (",n.entries.length," entries)"]}),u.jsx("div",{className:"space-y-4",children:n.entries.map((h,p)=>u.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-5 bg-slate-50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-emerald-500 text-white rounded-full flex items-center justify-center font-black",children:p+1}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:[" ",new Date(h.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Entry #",p+1]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-xl font-black text-emerald-600",children:["",h.totalAmount.toLocaleString()]}),u.jsx("p",{className:"text-xs text-slate-500",children:"Total"})]})]}),u.jsx("div",{className:"bg-white rounded-lg overflow-hidden border border-slate-200 mb-4",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-slate-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"#"}),u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Quality"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Units"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Price/Unit"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Subtotal"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Discount"}),u.jsx("th",{className:"text-right p-3 font-bold text-emerald-700",children:"Total"})]})}),u.jsx("tbody",{children:h.items.map((f,b)=>u.jsxs("tr",{className:"border-t border-slate-100",children:[u.jsx("td",{className:"p-3 text-slate-600",children:b+1}),u.jsx("td",{className:"p-3 font-semibold text-slate-800",children:f.quality}),u.jsx("td",{className:"p-3 text-right text-slate-700",children:f.units}),u.jsxs("td",{className:"p-3 text-right text-slate-700",children:["",f.pricePerUnit.toLocaleString()]}),u.jsxs("td",{className:"p-3 text-right font-semibold text-slate-800",children:["",f.subtotal.toLocaleString()]}),u.jsx("td",{className:"p-3 text-right text-orange-600",children:f.discountPercent>0?u.jsxs("span",{className:"font-semibold",children:[f.discountPercent,"% (",f.discountAmount.toLocaleString(),")"]}):u.jsx("span",{className:"text-slate-400",children:"-"})}),u.jsxs("td",{className:"p-3 text-right font-bold text-emerald-700",children:["",f.totalAmount.toLocaleString()]})]},f.id))})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs("div",{className:"bg-slate-100 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-slate-600 font-semibold mb-1",children:"Subtotal"}),u.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",h.subtotal.toLocaleString()]})]}),h.totalDiscount>0&&u.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-orange-600 font-semibold mb-1",children:"Total Discount"}),u.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["",h.totalDiscount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-emerald-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-emerald-600 font-semibold mb-1",children:"Items Total"}),u.jsxs("p",{className:"text-lg font-bold text-emerald-700",children:["",(h.totalAmount+(h.labourCharge||0)).toLocaleString()]})]}),h.labourCharge>0&&u.jsxs("div",{className:"bg-rose-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-rose-600 font-semibold mb-1",children:"Labour Minus"}),u.jsxs("p",{className:"text-lg font-bold text-rose-600",children:["- ",h.labourCharge.toLocaleString()]})]}),u.jsxs("div",{className:"bg-emerald-100 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-emerald-700 font-semibold mb-1",children:"Total Bill"}),u.jsxs("p",{className:"text-lg font-bold text-emerald-700",children:["",h.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"Advance Given"}),u.jsxs("p",{className:"text-lg font-bold text-blue-700",children:["",h.advanceGiven.toLocaleString()]})]}),u.jsxs("div",{className:"bg-rose-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-rose-600 font-semibold mb-1",children:"Pending"}),u.jsxs("p",{className:"text-lg font-bold text-rose-700",children:["",h.pendingAmount.toLocaleString()]})]})]})]},h.id))})]}),n.advancePayments.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[u.jsx(dl,{className:"text-blue-600",size:20}),"Advance Payment History (",n.advancePayments.length," payments)"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.advancePayments.map((h,p)=>u.jsx("div",{className:"border-2 border-blue-200 rounded-lg p-4 bg-blue-50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:["Payment #",p+1]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[" ",new Date(h.date).toLocaleDateString("en-IN")]}),u.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[" ",h.paymentMethod==="cash"?"Cash":"Online/Bank"]}),h.note&&u.jsx("p",{className:"text-xs text-slate-500 mt-1 italic",children:h.note})]}),u.jsx("div",{className:"text-right",children:u.jsxs("p",{className:"text-2xl font-black text-blue-700",children:["",h.amount.toLocaleString()]})})]})},h.id))})]}),u.jsx("div",{className:"border-t-2 border-slate-200 pt-6",children:o?u.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:[u.jsxs("p",{className:"text-red-800 font-bold mb-4",children:[" Are you sure? This will delete all ",n.entries.length," entries and cannot be undone!"]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 transition-colors",children:"Yes, Delete Everything"}),u.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg font-bold hover:bg-slate-300 transition-colors",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors font-bold",children:[u.jsx(ms,{size:18}),"Delete Entire Purchase Record"]})})]})]}),l&&u.jsx(Ole,{purchase:n,onClose:()=>c(!1)})]})},Vle=({sale:e,onClose:t})=>{const[n,r]=L.useState(""),s=L.useMemo(()=>{const a=new Map;return e.entries.forEach(l=>{const c=new Date(l.date).toISOString().split("T")[0],d=a.get(c)||{count:0,total:0,received:0,pending:0};a.set(c,{count:d.count+1,total:d.total+l.totalAmount,received:d.received+l.receivedAmount,pending:d.pending+l.pendingAmount})}),Array.from(a.entries()).sort((l,c)=>c[0].localeCompare(l[0])).map(([l,c])=>({date:l,...c}))},[e.entries]),i=()=>{n&&(Mle(e,n),t())},o=a=>new Date(a+"T00:00:00").toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",year:"numeric"});return u.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",onClick:t,children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",onClick:a=>a.stopPropagation(),children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-600 text-white p-5 rounded-t-2xl flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(yj,{size:22}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg",children:"Select Date for PDF"}),u.jsx("p",{className:"text-blue-100 text-xs",children:"Choose which date's bill to download"})]})]}),u.jsx("button",{onClick:t,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(Vs,{size:20})})]}),u.jsx("div",{className:"p-5 space-y-4 max-h-[60vh] overflow-y-auto",children:s.length===0?u.jsx("p",{className:"text-center text-slate-500 py-8",children:"No entries found."}):u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:[" ",s.length," date(s) available  tap to select:"]}),u.jsx("div",{className:"space-y-2",children:s.map(({date:a,count:l,total:c,received:d,pending:h})=>u.jsxs("button",{onClick:()=>r(a),className:`w-full text-left p-4 rounded-xl border-2 transition-all ${n===a?"border-blue-500 bg-blue-50 shadow-md":"border-slate-200 bg-slate-50 hover:border-blue-300 hover:bg-blue-50/50"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"font-bold text-slate-800 text-sm",children:[" ",o(a)]}),u.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-semibold ${n===a?"bg-blue-500 text-white":"bg-slate-200 text-slate-600"}`,children:[l," ",l===1?"entry":"entries"]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[u.jsxs("div",{className:"bg-white rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-blue-600 font-semibold",children:"Total"}),u.jsxs("p",{className:"font-bold text-slate-800",children:["",c.toLocaleString()]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-emerald-600 font-semibold",children:"Received"}),u.jsxs("p",{className:"font-bold text-slate-800",children:["",d.toLocaleString()]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-2 text-center",children:[u.jsx("p",{className:"text-rose-600 font-semibold",children:"Pending"}),u.jsxs("p",{className:"font-bold text-rose-700",children:["",h.toLocaleString()]})]})]})]},a))})]})}),u.jsxs("div",{className:"p-5 border-t border-slate-200 flex gap-3",children:[u.jsx("button",{onClick:t,className:"flex-1 px-4 py-2.5 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:"Cancel"}),u.jsxs("button",{onClick:i,disabled:!n,className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl font-bold transition-all ${n?"bg-gradient-to-r from-blue-500 to-cyan-600 text-white hover:from-blue-600 hover:to-cyan-700 shadow-md":"bg-slate-100 text-slate-400 cursor-not-allowed"}`,children:[u.jsx(Zc,{size:18}),"Download PDF"]})]})]})})},Ble=({isOpen:e,onClose:t,sale:n,onUpdate:r,onDelete:s,onAddEntry:i})=>{const[o,a]=L.useState(!1),[l,c]=L.useState(!1);if(!e)return null;const d=()=>{s(n.id),t()};return u.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 to-cyan-600 text-white p-6 flex items-center justify-between z-10",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:n.buyer.name}),u.jsxs("p",{className:"text-blue-100 text-sm",children:[" ",n.buyer.mobile]}),u.jsxs("p",{className:"text-blue-100 text-sm",children:[" ",n.buyer.address]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>c(!0),className:"p-2 hover:bg-white/20 rounded-lg transition-colors flex items-center gap-2 bg-white/10",title:"Download PDF",children:[u.jsx(Zc,{size:20}),u.jsx("span",{className:"text-sm font-semibold",children:"PDF"})]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(Vs,{size:24})})]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Total Amount"}),u.jsxs("p",{className:"text-2xl font-black text-blue-700",children:["",n.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-2 border-emerald-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-emerald-600 uppercase mb-1",children:"Total Received"}),u.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:["",n.totalReceived.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-red-50 border-2 border-rose-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-rose-600 uppercase mb-1",children:"Pending Amount"}),u.jsxs("p",{className:"text-2xl font-black text-rose-700",children:["",n.pendingAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:()=>i(n),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-lg hover:from-blue-600 hover:to-cyan-700 transition-colors font-bold",children:[u.jsx(Rr,{size:18}),"Add New Sale Entry"]})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[u.jsx(Ti,{className:"text-blue-600",size:20}),"Sale History (",n.entries.length," entries)"]}),u.jsx("div",{className:"space-y-4",children:n.entries.map((h,p)=>u.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-5 bg-slate-50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500 text-white rounded-full flex items-center justify-center font-black",children:p+1}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:[" ",new Date(h.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Entry #",p+1]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-xl font-black text-blue-600",children:["",h.totalAmount.toLocaleString()]}),u.jsx("p",{className:"text-xs text-slate-500",children:"Total"})]})]}),u.jsx("div",{className:"bg-white rounded-lg overflow-hidden border border-slate-200 mb-4",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-slate-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"#"}),u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Quality"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Units"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Price/Unit"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Subtotal"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Discount"}),u.jsx("th",{className:"text-right p-3 font-bold text-blue-700",children:"Total"})]})}),u.jsx("tbody",{children:h.items.map((f,b)=>u.jsxs("tr",{className:"border-t border-slate-100",children:[u.jsx("td",{className:"p-3 text-slate-600",children:b+1}),u.jsx("td",{className:"p-3 font-semibold text-slate-800",children:f.quality}),u.jsx("td",{className:"p-3 text-right text-slate-700",children:f.units}),u.jsxs("td",{className:"p-3 text-right text-slate-700",children:["",f.pricePerUnit.toLocaleString()]}),u.jsxs("td",{className:"p-3 text-right font-semibold text-slate-800",children:["",f.subtotal.toLocaleString()]}),u.jsx("td",{className:"p-3 text-right text-orange-600",children:f.discountPercent>0?u.jsxs("span",{className:"font-semibold",children:[f.discountPercent,"% (",f.discountAmount.toLocaleString(),")"]}):u.jsx("span",{className:"text-slate-400",children:"-"})}),u.jsxs("td",{className:"p-3 text-right font-bold text-blue-700",children:["",f.totalAmount.toLocaleString()]})]},f.id))})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs("div",{className:"bg-slate-100 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-slate-600 font-semibold mb-1",children:"Subtotal"}),u.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",h.subtotal.toLocaleString()]})]}),h.totalDiscount>0&&u.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-orange-600 font-semibold mb-1",children:"Total Discount"}),u.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["",h.totalDiscount.toLocaleString()]})]}),(h.labourCharge||0)>0&&u.jsxs("div",{className:"bg-amber-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-amber-600 font-semibold mb-1",children:" Labour"}),u.jsxs("p",{className:"text-lg font-bold text-amber-700",children:["",h.labourCharge.toLocaleString()]})]}),u.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"Total Amount"}),u.jsxs("p",{className:"text-lg font-bold text-blue-700",children:["",h.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-emerald-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-emerald-600 font-semibold mb-1",children:"Received"}),u.jsxs("p",{className:"text-lg font-bold text-emerald-700",children:["",h.receivedAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-rose-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-rose-600 font-semibold mb-1",children:"Pending"}),u.jsxs("p",{className:"text-lg font-bold text-rose-700",children:["",h.pendingAmount.toLocaleString()]})]})]})]},h.id))})]}),n.receivedPayments.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[u.jsx(dl,{className:"text-emerald-600",size:20}),"Payment History (",n.receivedPayments.length," payments)"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.receivedPayments.map((h,p)=>u.jsx("div",{className:"border-2 border-emerald-200 rounded-lg p-4 bg-emerald-50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:["Payment #",p+1]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[" ",new Date(h.date).toLocaleDateString("en-IN")]}),u.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[" ",h.paymentMethod==="cash"?"Cash":"Online/Bank"]}),h.note&&u.jsx("p",{className:"text-xs text-slate-500 mt-1 italic",children:h.note})]}),u.jsx("div",{className:"text-right",children:u.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:["",h.amount.toLocaleString()]})})]})},h.id))})]}),u.jsx("div",{className:"border-t-2 border-slate-200 pt-6",children:o?u.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:[u.jsxs("p",{className:"text-red-800 font-bold mb-4",children:[" Are you sure? This will delete all ",n.entries.length," entries and cannot be undone!"]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 transition-colors",children:"Yes, Delete Everything"}),u.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg font-bold hover:bg-slate-300 transition-colors",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors font-bold",children:[u.jsx(ms,{size:18}),"Delete Entire Sale Record"]})})]})]}),l&&u.jsx(Vle,{sale:n,onClose:()=>c(!1)})]})},Ule=()=>{const{purchases:e,sales:t,addPurchase:n,updatePurchase:r,deletePurchase:s,addSale:i,updateSale:o,deleteSale:a,loading:l}=vS(),[c,d]=L.useState("purchases"),[h,p]=L.useState(""),[f,b]=L.useState(!1),[x,w]=L.useState(!1),[v,_]=L.useState(null),[N,R]=L.useState(null),[O,z]=L.useState(!1),[k,A]=L.useState(!1),[C,M]=L.useState(null),[P,I]=L.useState(null),E=L.useMemo(()=>e.filter(ee=>ee.farmer.name.toLowerCase().includes(h.toLowerCase())||ee.farmer.mobile.includes(h)).sort((ee,H)=>new Date(H.date).getTime()-new Date(ee.date).getTime()),[e,h]),$=L.useMemo(()=>t.filter(ee=>ee.buyer.name.toLowerCase().includes(h.toLowerCase())||ee.buyer.mobile.includes(h)).sort((ee,H)=>new Date(H.date).getTime()-new Date(ee.date).getTime()),[t,h]),Y=ee=>{M(ee),z(!1),b(!0)},ae=ee=>{I(ee),A(!1),w(!0)};return l?null:u.jsxs(Pf,{children:[u.jsx(Tf,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"section-title flex items-center gap-3",children:[u.jsx(Lp,{className:"w-8 h-8 text-emerald-600"}),"Watermelon Trading"]}),u.jsx("p",{className:"text-muted-foreground",children:"Manage watermelon purchases & sales with discount calculations"})]}),u.jsxs("button",{onClick:()=>{c==="purchases"?(M(null),b(!0)):(I(null),w(!0))},className:`btn-primary flex items-center gap-2 self-start ${c==="purchases"?"bg-gradient-to-r from-emerald-500 to-green-600":"bg-gradient-to-r from-blue-500 to-cyan-600"}`,children:[u.jsx(Rr,{className:"w-5 h-5"}),c==="purchases"?"New Purchase":"New Sale"]})]}),u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsxs("button",{onClick:()=>d("purchases"),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition-all ${c==="purchases"?"bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[u.jsx(Hy,{size:20}),"Purchases (",e.length,")"]}),u.jsxs("button",{onClick:()=>d("sales"),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition-all ${c==="sales"?"bg-gradient-to-r from-blue-500 to-cyan-600 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[u.jsx(Dp,{size:20}),"Sales (",t.length,")"]})]}),u.jsxs("div",{className:"relative mb-8",children:[u.jsx(h_,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground w-5 h-5"}),u.jsx("input",{type:"text",placeholder:c==="purchases"?"Search Farmer by Name or Phone...":"Search Buyer by Name or Phone...",value:h,onChange:ee=>p(ee.target.value),className:"input-premium pl-12 h-14 text-lg shadow-sm"})]}),c==="purchases"&&(E.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.jsx(ii,{children:E.map((ee,H)=>u.jsxs(vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:H*.05},className:"glass-card overflow-hidden group hover:border-emerald-400/50 transition-all active:scale-[0.98] cursor-pointer",onClick:()=>{_(ee),z(!0)},children:[u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/10 flex items-center justify-center text-emerald-600",children:u.jsx(Lp,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-foreground group-hover:text-emerald-600 transition-colors",children:ee.farmer.name}),u.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[u.jsx(Oc,{className:"w-3 h-3"})," ",ee.farmer.mobile]})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:[u.jsxs("div",{className:"bg-emerald-500/5 p-3 rounded-xl border border-emerald-500/10",children:[u.jsx("span",{className:"text-[10px] text-emerald-600 uppercase font-bold tracking-widest block mb-1",children:"Total Bought"}),u.jsxs("span",{className:"text-base font-black text-foreground",children:["",ee.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-muted/30 p-3 rounded-xl border border-border/50",children:[u.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-widest block mb-1",children:"Entries"}),u.jsx("span",{className:"text-base font-black text-foreground",children:ee.entries.length})]}),u.jsxs("div",{className:"col-span-2 md:col-span-1 bg-destructive/5 p-3 rounded-xl border border-destructive/10",children:[u.jsx("span",{className:"text-[10px] text-destructive uppercase font-bold tracking-widest block mb-1",children:"Pending"}),u.jsxs("span",{className:"text-base font-black text-destructive",children:["",ee.pendingAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:u.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[u.jsx(Mc,{className:"w-3 h-3"})," ",ee.farmer.address]})})]}),u.jsxs("div",{className:"px-6 py-3 bg-muted/20 border-t border-border/50 flex items-center justify-between group-hover:bg-emerald-500/5 transition-colors",children:[u.jsxs("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["Date: ",new Date(ee.date).toLocaleDateString()]}),u.jsx(O1,{className:"w-4 h-4 text-emerald-600 opacity-0 group-hover:opacity-100 transition-all"})]})]},ee.id))})}):u.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-emerald-50 to-green-50 rounded-3xl border border-dashed border-emerald-200",children:[u.jsx(Lp,{className:"w-16 h-16 text-emerald-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-slate-700",children:h?"No Farmers Found":"No Watermelon Purchases Yet"}),u.jsx("p",{className:"text-slate-500 mb-6",children:h?"Try searching with a different name or mobile number":"Start by adding your first watermelon purchase"}),!h&&u.jsxs("button",{onClick:()=>{M(null),b(!0)},className:"btn-primary bg-gradient-to-r from-emerald-500 to-green-600",children:[u.jsx(Rr,{className:"w-5 h-5 inline mr-2"}),"Add First Purchase"]})]})),c==="sales"&&($.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.jsx(ii,{children:$.map((ee,H)=>u.jsxs(vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:H*.05},className:"glass-card overflow-hidden group hover:border-blue-400/50 transition-all active:scale-[0.98] cursor-pointer",onClick:()=>{R(ee),A(!0)},children:[u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 flex items-center justify-center text-blue-600",children:u.jsx(Dp,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-foreground group-hover:text-blue-600 transition-colors",children:ee.buyer.name}),u.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[u.jsx(Oc,{className:"w-3 h-3"})," ",ee.buyer.mobile]})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:[u.jsxs("div",{className:"bg-blue-500/5 p-3 rounded-xl border border-blue-500/10",children:[u.jsx("span",{className:"text-[10px] text-blue-600 uppercase font-bold tracking-widest block mb-1",children:"Total Sold"}),u.jsxs("span",{className:"text-base font-black text-foreground",children:["",ee.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-muted/30 p-3 rounded-xl border border-border/50",children:[u.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-widest block mb-1",children:"Entries"}),u.jsx("span",{className:"text-base font-black text-foreground",children:ee.entries.length})]}),u.jsxs("div",{className:"col-span-2 md:col-span-1 bg-destructive/5 p-3 rounded-xl border border-destructive/10",children:[u.jsx("span",{className:"text-[10px] text-destructive uppercase font-bold tracking-widest block mb-1",children:"Pending"}),u.jsxs("span",{className:"text-base font-black text-destructive",children:["",ee.pendingAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:u.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[u.jsx(Mc,{className:"w-3 h-3"})," ",ee.buyer.address]})})]}),u.jsxs("div",{className:"px-6 py-3 bg-muted/20 border-t border-border/50 flex items-center justify-between group-hover:bg-blue-500/5 transition-colors",children:[u.jsxs("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["Date: ",new Date(ee.date).toLocaleDateString()]}),u.jsx(O1,{className:"w-4 h-4 text-blue-600 opacity-0 group-hover:opacity-100 transition-all"})]})]},ee.id))})}):u.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-3xl border border-dashed border-blue-200",children:[u.jsx(Dp,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-slate-700",children:h?"No Buyers Found":"No Watermelon Sales Yet"}),u.jsx("p",{className:"text-slate-500 mb-6",children:h?"Try searching with a different name or mobile number":"Start by adding your first watermelon sale"}),!h&&u.jsxs("button",{onClick:()=>{I(null),w(!0)},className:"btn-primary bg-gradient-to-r from-blue-500 to-cyan-600",children:[u.jsx(Rr,{className:"w-5 h-5 inline mr-2"}),"Add First Sale"]})]}))]}),u.jsx(Rle,{isOpen:f,onClose:()=>{b(!1),M(null)},onAdd:n,onUpdate:r,existingPurchase:C}),u.jsx(Lle,{isOpen:x,onClose:()=>{w(!1),I(null)},onAdd:i,onUpdate:o,existingSale:P}),v&&u.jsx(Fle,{isOpen:O,onClose:()=>{z(!1),_(null)},purchase:v,onUpdate:ee=>{r(ee.id,ee)},onDelete:ee=>{s(ee),z(!1),_(null)},onAddEntry:Y}),N&&u.jsx(Ble,{isOpen:k,onClose:()=>{A(!1),R(null)},sale:N,onUpdate:ee=>{o(ee.id,ee)},onDelete:ee=>{a(ee),A(!1),R(null)},onAddEntry:ae})]})},zle=()=>{const e=yf();return L.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},$le=new M$,qle=()=>u.jsx(F$,{client:$le,children:u.jsx(FX,{children:u.jsx(VX,{children:u.jsxs(h$,{children:[u.jsx(GB,{}),u.jsx(AU,{}),u.jsx(Dq,{children:u.jsxs(Pq,{children:[u.jsx(Ql,{path:"/",element:u.jsx(Sne,{})}),u.jsx(Ql,{path:"/sales",element:u.jsx(Ale,{})}),u.jsx(Ql,{path:"/purchases",element:u.jsx(Ple,{})}),u.jsx(Ql,{path:"/watermelon",element:u.jsx(Ule,{})}),u.jsx(Ql,{path:"/expenses",element:u.jsx(kle,{})}),u.jsx(Ql,{path:"/history",element:u.jsx(Ile,{})}),u.jsx(Ql,{path:"*",element:u.jsx(zle,{})})]})})]})})})});Bk(document.getElementById("root")).render(u.jsx(qle,{}));export{mn as _,Hle as c,EC as g};
