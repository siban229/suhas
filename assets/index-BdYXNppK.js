var vO=Object.defineProperty;var XN=t=>{throw TypeError(t)};var xO=(t,e,n)=>e in t?vO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pn=(t,e,n)=>xO(t,typeof e!="symbol"?e+"":e,n),Qv=(t,e,n)=>e.has(t)||XN("Cannot "+n);var Ce=(t,e,n)=>(Qv(t,e,"read from private field"),n?n.call(t):e.get(t)),on=(t,e,n)=>e.has(t)?XN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Dt=(t,e,n,r)=>(Qv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),rs=(t,e,n)=>(Qv(t,e,"access private method"),n);var Og=(t,e,n,r)=>({set _(s){Dt(t,e,s,n)},get _(){return Ce(t,e,r)}});function bO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ule=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CC={exports:{}},Py={},kC={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm=Symbol.for("react.element"),wO=Symbol.for("react.portal"),_O=Symbol.for("react.fragment"),SO=Symbol.for("react.strict_mode"),NO=Symbol.for("react.profiler"),AO=Symbol.for("react.provider"),EO=Symbol.for("react.context"),TO=Symbol.for("react.forward_ref"),PO=Symbol.for("react.suspense"),CO=Symbol.for("react.memo"),kO=Symbol.for("react.lazy"),ZN=Symbol.iterator;function jO(t){return t===null||typeof t!="object"?null:(t=ZN&&t[ZN]||t["@@iterator"],typeof t=="function"?t:null)}var jC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IC=Object.assign,RC={};function of(t,e,n){this.props=t,this.context=e,this.refs=RC,this.updater=n||jC}of.prototype.isReactComponent={};of.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};of.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LC(){}LC.prototype=of.prototype;function m5(t,e,n){this.props=t,this.context=e,this.refs=RC,this.updater=n||jC}var g5=m5.prototype=new LC;g5.constructor=m5;IC(g5,of.prototype);g5.isPureReactComponent=!0;var JN=Array.isArray,DC=Object.prototype.hasOwnProperty,y5={current:null},MC={key:!0,ref:!0,__self:!0,__source:!0};function OC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)DC.call(e,r)&&!MC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:qm,type:t,key:i,ref:o,props:s,_owner:y5.current}}function IO(t,e){return{$$typeof:qm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function v5(t){return typeof t=="object"&&t!==null&&t.$$typeof===qm}function RO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eA=/\/+/g;function Xv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RO(""+t.key):e.toString(36)}function I0(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qm:case wO:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Xv(o,0):r,JN(s)?(n="",t!=null&&(n=t.replace(eA,"$&/")+"/"),I0(s,e,n,"",function(c){return c})):s!=null&&(v5(s)&&(s=IO(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(eA,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",JN(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Xv(i,a);o+=I0(i,e,n,l,s)}else if(l=jO(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Xv(i,a++),o+=I0(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fg(t,e,n){if(t==null)return t;var r=[],s=0;return I0(t,r,"","",function(i){return e.call(n,i,s++)}),r}function LO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Os={current:null},R0={transition:null},DO={ReactCurrentDispatcher:Os,ReactCurrentBatchConfig:R0,ReactCurrentOwner:y5};function FC(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:Fg,forEach:function(t,e,n){Fg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fg(t,function(){e++}),e},toArray:function(t){return Fg(t,function(e){return e})||[]},only:function(t){if(!v5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$t.Component=of;$t.Fragment=_O;$t.Profiler=NO;$t.PureComponent=m5;$t.StrictMode=SO;$t.Suspense=PO;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DO;$t.act=FC;$t.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=IC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=y5.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)DC.call(e,l)&&!MC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:qm,type:t.type,key:s,ref:i,props:r,_owner:o}};$t.createContext=function(t){return t={$$typeof:EO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AO,_context:t},t.Consumer=t};$t.createElement=OC;$t.createFactory=function(t){var e=OC.bind(null,t);return e.type=t,e};$t.createRef=function(){return{current:null}};$t.forwardRef=function(t){return{$$typeof:TO,render:t}};$t.isValidElement=v5;$t.lazy=function(t){return{$$typeof:kO,_payload:{_status:-1,_result:t},_init:LO}};$t.memo=function(t,e){return{$$typeof:CO,type:t,compare:e===void 0?null:e}};$t.startTransition=function(t){var e=R0.transition;R0.transition={};try{t()}finally{R0.transition=e}};$t.unstable_act=FC;$t.useCallback=function(t,e){return Os.current.useCallback(t,e)};$t.useContext=function(t){return Os.current.useContext(t)};$t.useDebugValue=function(){};$t.useDeferredValue=function(t){return Os.current.useDeferredValue(t)};$t.useEffect=function(t,e){return Os.current.useEffect(t,e)};$t.useId=function(){return Os.current.useId()};$t.useImperativeHandle=function(t,e,n){return Os.current.useImperativeHandle(t,e,n)};$t.useInsertionEffect=function(t,e){return Os.current.useInsertionEffect(t,e)};$t.useLayoutEffect=function(t,e){return Os.current.useLayoutEffect(t,e)};$t.useMemo=function(t,e){return Os.current.useMemo(t,e)};$t.useReducer=function(t,e,n){return Os.current.useReducer(t,e,n)};$t.useRef=function(t){return Os.current.useRef(t)};$t.useState=function(t){return Os.current.useState(t)};$t.useSyncExternalStore=function(t,e,n){return Os.current.useSyncExternalStore(t,e,n)};$t.useTransition=function(){return Os.current.useTransition()};$t.version="18.3.1";kC.exports=$t;var L=kC.exports;const Ve=PC(L),x5=bO({__proto__:null,default:Ve},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO=L,OO=Symbol.for("react.element"),FO=Symbol.for("react.fragment"),VO=Object.prototype.hasOwnProperty,BO=MO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UO={key:!0,ref:!0,__self:!0,__source:!0};function VC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VO.call(e,r)&&!UO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:OO,type:t,key:i,ref:o,props:s,_owner:BO.current}}Py.Fragment=FO;Py.jsx=VC;Py.jsxs=VC;CC.exports=Py;var u=CC.exports,BC={exports:{}},Ti={},UC={exports:{}},zC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,ee){var se=Y.length;Y.push(ee);e:for(;0<se;){var ce=se-1>>>1,V=Y[ce];if(0<s(V,ee))Y[ce]=ee,Y[se]=V,se=ce;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ee=Y[0],se=Y.pop();if(se!==ee){Y[0]=se;e:for(var ce=0,V=Y.length,Q=V>>>1;ce<Q;){var Z=2*(ce+1)-1,le=Y[Z],de=Z+1,pe=Y[de];if(0>s(le,se))de<V&&0>s(pe,le)?(Y[ce]=pe,Y[de]=se,ce=de):(Y[ce]=le,Y[Z]=se,ce=Z);else if(de<V&&0>s(pe,se))Y[ce]=pe,Y[de]=se,ce=de;else break e}}return ee}function s(Y,ee){var se=Y.sortIndex-ee.sortIndex;return se!==0?se:Y.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,f=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Y){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=Y)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function R(Y){if(x=!1,A(Y),!b)if(n(l)!==null)b=!0,ae(F);else{var ee=n(c);ee!==null&&ie(R,ee.startTime-Y)}}function F(Y,ee){b=!1,x&&(x=!1,v(E),E=-1),f=!0;var se=p;try{for(A(ee),h=n(l);h!==null&&(!(h.expirationTime>ee)||Y&&!N());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,p=h.priorityLevel;var V=ce(h.expirationTime<=ee);ee=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&r(l),A(ee)}else r(l);h=n(l)}if(h!==null)var Q=!0;else{var Z=n(c);Z!==null&&ie(R,Z.startTime-ee),Q=!1}return Q}finally{h=null,p=se,f=!1}}var $=!1,I=null,E=-1,C=5,M=-1;function N(){return!(t.unstable_now()-M<C)}function T(){if(I!==null){var Y=t.unstable_now();M=Y;var ee=!0;try{ee=I(!0,Y)}finally{ee?k():($=!1,I=null)}}else $=!1}var k;if(typeof _=="function")k=function(){_(T)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=T,k=function(){K.postMessage(null)}}else k=function(){w(T,0)};function ae(Y){I=Y,$||($=!0,k())}function ie(Y,ee){E=w(function(){Y(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){b||f||(b=!0,ae(F))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var se=p;p=ee;try{return Y()}finally{p=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=p;p=Y;try{return ee()}finally{p=se}},t.unstable_scheduleCallback=function(Y,ee,se){var ce=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ce+se:ce):se=ce,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=se+V,Y={id:d++,callback:ee,priorityLevel:Y,startTime:se,expirationTime:V,sortIndex:-1},se>ce?(Y.sortIndex=se,e(c,Y),n(l)===null&&Y===n(c)&&(x?(v(E),E=-1):x=!0,ie(R,se-ce))):(Y.sortIndex=V,e(l,Y),b||f||(b=!0,ae(F))),Y},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Y){var ee=p;return function(){var se=p;p=ee;try{return Y.apply(this,arguments)}finally{p=se}}}})(zC);UC.exports=zC;var zO=UC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $O=L,Ni=zO;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $C=new Set,Xp={};function ad(t,e){Fh(t,e),Fh(t+"Capture",e)}function Fh(t,e){for(Xp[t]=e,t=0;t<e.length;t++)$C.add(e[t])}var ll=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Y2=Object.prototype.hasOwnProperty,qO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tA={},nA={};function WO(t){return Y2.call(nA,t)?!0:Y2.call(tA,t)?!1:qO.test(t)?nA[t]=!0:(tA[t]=!0,!1)}function HO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GO(t,e,n,r){if(e===null||typeof e>"u"||HO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fs(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xr[t]=new Fs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xr[e]=new Fs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xr[t]=new Fs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xr[t]=new Fs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xr[t]=new Fs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xr[t]=new Fs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xr[t]=new Fs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xr[t]=new Fs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xr[t]=new Fs(t,5,!1,t.toLowerCase(),null,!1,!1)});var b5=/[\-:]([a-z])/g;function w5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(b5,w5);Xr[e]=new Fs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(b5,w5);Xr[e]=new Fs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(b5,w5);Xr[e]=new Fs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xr[t]=new Fs(t,1,!1,t.toLowerCase(),null,!1,!1)});Xr.xlinkHref=new Fs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xr[t]=new Fs(t,1,!1,t.toLowerCase(),null,!0,!0)});function _5(t,e,n,r){var s=Xr.hasOwnProperty(e)?Xr[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GO(e,n,s,r)&&(n=null),r||s===null?WO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wl=$O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vg=Symbol.for("react.element"),Hd=Symbol.for("react.portal"),Gd=Symbol.for("react.fragment"),S5=Symbol.for("react.strict_mode"),Q2=Symbol.for("react.profiler"),qC=Symbol.for("react.provider"),WC=Symbol.for("react.context"),N5=Symbol.for("react.forward_ref"),X2=Symbol.for("react.suspense"),Z2=Symbol.for("react.suspense_list"),A5=Symbol.for("react.memo"),ec=Symbol.for("react.lazy"),HC=Symbol.for("react.offscreen"),rA=Symbol.iterator;function Yf(t){return t===null||typeof t!="object"?null:(t=rA&&t[rA]||t["@@iterator"],typeof t=="function"?t:null)}var Zn=Object.assign,Zv;function up(t){if(Zv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zv=e&&e[1]||""}return`
`+Zv+t}var Jv=!1;function ex(t,e){if(!t||Jv)return"";Jv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?up(t):""}function KO(t){switch(t.tag){case 5:return up(t.type);case 16:return up("Lazy");case 13:return up("Suspense");case 19:return up("SuspenseList");case 0:case 2:case 15:return t=ex(t.type,!1),t;case 11:return t=ex(t.type.render,!1),t;case 1:return t=ex(t.type,!0),t;default:return""}}function J2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gd:return"Fragment";case Hd:return"Portal";case Q2:return"Profiler";case S5:return"StrictMode";case X2:return"Suspense";case Z2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WC:return(t.displayName||"Context")+".Consumer";case qC:return(t._context.displayName||"Context")+".Provider";case N5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A5:return e=t.displayName||null,e!==null?e:J2(t.type)||"Memo";case ec:e=t._payload,t=t._init;try{return J2(t(e))}catch{}}return null}function YO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J2(e);case 8:return e===S5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QO(t){var e=GC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bg(t){t._valueTracker||(t._valueTracker=QO(t))}function KC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function h1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eb(t,e){var n=e.checked;return Zn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Dc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YC(t,e){e=e.checked,e!=null&&_5(t,"checked",e,!1)}function tb(t,e){YC(t,e);var n=Dc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nb(t,e.type,n):e.hasOwnProperty("defaultValue")&&nb(t,e.type,Dc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nb(t,e,n){(e!=="number"||h1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dp=Array.isArray;function ch(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Dc(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function rb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return Zn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(De(92));if(dp(n)){if(1<n.length)throw Error(De(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dc(n)}}function QC(t,e){var n=Dc(e.value),r=Dc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function aA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ug,ZC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ug=Ug||document.createElement("div"),Ug.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ug.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _p={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XO=["Webkit","ms","Moz","O"];Object.keys(_p).forEach(function(t){XO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_p[e]=_p[t]})});function JC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_p.hasOwnProperty(t)&&_p[t]?(""+e).trim():e+"px"}function e6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=JC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ZO=Zn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ib(t,e){if(e){if(ZO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function ob(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ab=null;function E5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lb=null,uh=null,dh=null;function lA(t){if(t=Gm(t)){if(typeof lb!="function")throw Error(De(280));var e=t.stateNode;e&&(e=Ry(e),lb(t.stateNode,t.type,e))}}function t6(t){uh?dh?dh.push(t):dh=[t]:uh=t}function n6(){if(uh){var t=uh,e=dh;if(dh=uh=null,lA(t),e)for(t=0;t<e.length;t++)lA(e[t])}}function r6(t,e){return t(e)}function s6(){}var tx=!1;function i6(t,e,n){if(tx)return t(e,n);tx=!0;try{return r6(t,e,n)}finally{tx=!1,(uh!==null||dh!==null)&&(s6(),n6())}}function Jp(t,e){var n=t.stateNode;if(n===null)return null;var r=Ry(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(De(231,e,typeof n));return n}var cb=!1;if(ll)try{var Qf={};Object.defineProperty(Qf,"passive",{get:function(){cb=!0}}),window.addEventListener("test",Qf,Qf),window.removeEventListener("test",Qf,Qf)}catch{cb=!1}function JO(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Sp=!1,f1=null,p1=!1,ub=null,eF={onError:function(t){Sp=!0,f1=t}};function tF(t,e,n,r,s,i,o,a,l){Sp=!1,f1=null,JO.apply(eF,arguments)}function nF(t,e,n,r,s,i,o,a,l){if(tF.apply(this,arguments),Sp){if(Sp){var c=f1;Sp=!1,f1=null}else throw Error(De(198));p1||(p1=!0,ub=c)}}function ld(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cA(t){if(ld(t)!==t)throw Error(De(188))}function rF(t){var e=t.alternate;if(!e){if(e=ld(t),e===null)throw Error(De(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return cA(s),t;if(i===r)return cA(s),e;i=i.sibling}throw Error(De(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?t:e}function a6(t){return t=rF(t),t!==null?l6(t):null}function l6(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=l6(t);if(e!==null)return e;t=t.sibling}return null}var c6=Ni.unstable_scheduleCallback,uA=Ni.unstable_cancelCallback,sF=Ni.unstable_shouldYield,iF=Ni.unstable_requestPaint,dr=Ni.unstable_now,oF=Ni.unstable_getCurrentPriorityLevel,T5=Ni.unstable_ImmediatePriority,u6=Ni.unstable_UserBlockingPriority,m1=Ni.unstable_NormalPriority,aF=Ni.unstable_LowPriority,d6=Ni.unstable_IdlePriority,Cy=null,ma=null;function lF(t){if(ma&&typeof ma.onCommitFiberRoot=="function")try{ma.onCommitFiberRoot(Cy,t,void 0,(t.current.flags&128)===128)}catch{}}var Po=Math.clz32?Math.clz32:dF,cF=Math.log,uF=Math.LN2;function dF(t){return t>>>=0,t===0?32:31-(cF(t)/uF|0)|0}var zg=64,$g=4194304;function hp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function g1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=hp(a):(i&=o,i!==0&&(r=hp(i)))}else o=n&~s,o!==0?r=hp(o):i!==0&&(r=hp(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Po(e),s=1<<n,r|=t[n],e&=~s;return r}function hF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Po(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=hF(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function db(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function h6(){var t=zg;return zg<<=1,!(zg&4194240)&&(zg=64),t}function nx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Po(e),t[e]=n}function pF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Po(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function P5(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Po(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var gn=0;function f6(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var p6,C5,m6,g6,y6,hb=!1,qg=[],vc=null,xc=null,bc=null,em=new Map,tm=new Map,rc=[],mF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dA(t,e){switch(t){case"focusin":case"focusout":vc=null;break;case"dragenter":case"dragleave":xc=null;break;case"mouseover":case"mouseout":bc=null;break;case"pointerover":case"pointerout":em.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tm.delete(e.pointerId)}}function Xf(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Gm(e),e!==null&&C5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function gF(t,e,n,r,s){switch(e){case"focusin":return vc=Xf(vc,t,e,n,r,s),!0;case"dragenter":return xc=Xf(xc,t,e,n,r,s),!0;case"mouseover":return bc=Xf(bc,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return em.set(i,Xf(em.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,tm.set(i,Xf(tm.get(i)||null,t,e,n,r,s)),!0}return!1}function v6(t){var e=Nu(t.target);if(e!==null){var n=ld(e);if(n!==null){if(e=n.tag,e===13){if(e=o6(n),e!==null){t.blockedOn=e,y6(t.priority,function(){m6(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function L0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ab=r,n.target.dispatchEvent(r),ab=null}else return e=Gm(n),e!==null&&C5(e),t.blockedOn=n,!1;e.shift()}return!0}function hA(t,e,n){L0(t)&&n.delete(e)}function yF(){hb=!1,vc!==null&&L0(vc)&&(vc=null),xc!==null&&L0(xc)&&(xc=null),bc!==null&&L0(bc)&&(bc=null),em.forEach(hA),tm.forEach(hA)}function Zf(t,e){t.blockedOn===e&&(t.blockedOn=null,hb||(hb=!0,Ni.unstable_scheduleCallback(Ni.unstable_NormalPriority,yF)))}function nm(t){function e(s){return Zf(s,t)}if(0<qg.length){Zf(qg[0],t);for(var n=1;n<qg.length;n++){var r=qg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vc!==null&&Zf(vc,t),xc!==null&&Zf(xc,t),bc!==null&&Zf(bc,t),em.forEach(e),tm.forEach(e),n=0;n<rc.length;n++)r=rc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rc.length&&(n=rc[0],n.blockedOn===null);)v6(n),n.blockedOn===null&&rc.shift()}var hh=wl.ReactCurrentBatchConfig,y1=!0;function vF(t,e,n,r){var s=gn,i=hh.transition;hh.transition=null;try{gn=1,k5(t,e,n,r)}finally{gn=s,hh.transition=i}}function xF(t,e,n,r){var s=gn,i=hh.transition;hh.transition=null;try{gn=4,k5(t,e,n,r)}finally{gn=s,hh.transition=i}}function k5(t,e,n,r){if(y1){var s=fb(t,e,n,r);if(s===null)hx(t,e,r,v1,n),dA(t,r);else if(gF(s,t,e,n,r))r.stopPropagation();else if(dA(t,r),e&4&&-1<mF.indexOf(t)){for(;s!==null;){var i=Gm(s);if(i!==null&&p6(i),i=fb(t,e,n,r),i===null&&hx(t,e,r,v1,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hx(t,e,r,null,n)}}var v1=null;function fb(t,e,n,r){if(v1=null,t=E5(r),t=Nu(t),t!==null)if(e=ld(t),e===null)t=null;else if(n=e.tag,n===13){if(t=o6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return v1=t,null}function x6(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oF()){case T5:return 1;case u6:return 4;case m1:case aF:return 16;case d6:return 536870912;default:return 16}default:return 16}}var dc=null,j5=null,D0=null;function b6(){if(D0)return D0;var t,e=j5,n=e.length,r,s="value"in dc?dc.value:dc.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return D0=s.slice(t,1<r?1-r:void 0)}function M0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wg(){return!0}function fA(){return!1}function Pi(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wg:fA,this.isPropagationStopped=fA,this}return Zn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wg)},persist:function(){},isPersistent:Wg}),e}var af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I5=Pi(af),Hm=Zn({},af,{view:0,detail:0}),bF=Pi(Hm),rx,sx,Jf,ky=Zn({},Hm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jf&&(Jf&&t.type==="mousemove"?(rx=t.screenX-Jf.screenX,sx=t.screenY-Jf.screenY):sx=rx=0,Jf=t),rx)},movementY:function(t){return"movementY"in t?t.movementY:sx}}),pA=Pi(ky),wF=Zn({},ky,{dataTransfer:0}),_F=Pi(wF),SF=Zn({},Hm,{relatedTarget:0}),ix=Pi(SF),NF=Zn({},af,{animationName:0,elapsedTime:0,pseudoElement:0}),AF=Pi(NF),EF=Zn({},af,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TF=Pi(EF),PF=Zn({},af,{data:0}),mA=Pi(PF),CF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jF[t])?!!e[t]:!1}function R5(){return IF}var RF=Zn({},Hm,{key:function(t){if(t.key){var e=CF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=M0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R5,charCode:function(t){return t.type==="keypress"?M0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?M0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LF=Pi(RF),DF=Zn({},ky,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gA=Pi(DF),MF=Zn({},Hm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R5}),OF=Pi(MF),FF=Zn({},af,{propertyName:0,elapsedTime:0,pseudoElement:0}),VF=Pi(FF),BF=Zn({},ky,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UF=Pi(BF),zF=[9,13,27,32],L5=ll&&"CompositionEvent"in window,Np=null;ll&&"documentMode"in document&&(Np=document.documentMode);var $F=ll&&"TextEvent"in window&&!Np,w6=ll&&(!L5||Np&&8<Np&&11>=Np),yA=" ",vA=!1;function _6(t,e){switch(t){case"keyup":return zF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kd=!1;function qF(t,e){switch(t){case"compositionend":return S6(e);case"keypress":return e.which!==32?null:(vA=!0,yA);case"textInput":return t=e.data,t===yA&&vA?null:t;default:return null}}function WF(t,e){if(Kd)return t==="compositionend"||!L5&&_6(t,e)?(t=b6(),D0=j5=dc=null,Kd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w6&&e.locale!=="ko"?null:e.data;default:return null}}var HF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HF[t.type]:e==="textarea"}function N6(t,e,n,r){t6(r),e=x1(e,"onChange"),0<e.length&&(n=new I5("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ap=null,rm=null;function GF(t){D6(t,0)}function jy(t){var e=Xd(t);if(KC(e))return t}function KF(t,e){if(t==="change")return e}var A6=!1;if(ll){var ox;if(ll){var ax="oninput"in document;if(!ax){var bA=document.createElement("div");bA.setAttribute("oninput","return;"),ax=typeof bA.oninput=="function"}ox=ax}else ox=!1;A6=ox&&(!document.documentMode||9<document.documentMode)}function wA(){Ap&&(Ap.detachEvent("onpropertychange",E6),rm=Ap=null)}function E6(t){if(t.propertyName==="value"&&jy(rm)){var e=[];N6(e,rm,t,E5(t)),i6(GF,e)}}function YF(t,e,n){t==="focusin"?(wA(),Ap=e,rm=n,Ap.attachEvent("onpropertychange",E6)):t==="focusout"&&wA()}function QF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jy(rm)}function XF(t,e){if(t==="click")return jy(e)}function ZF(t,e){if(t==="input"||t==="change")return jy(e)}function JF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Io=typeof Object.is=="function"?Object.is:JF;function sm(t,e){if(Io(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Y2.call(e,s)||!Io(t[s],e[s]))return!1}return!0}function _A(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function SA(t,e){var n=_A(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_A(n)}}function T6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?T6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function P6(){for(var t=window,e=h1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=h1(t.document)}return e}function D5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function e9(t){var e=P6(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&T6(n.ownerDocument.documentElement,n)){if(r!==null&&D5(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=SA(n,i);var o=SA(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var t9=ll&&"documentMode"in document&&11>=document.documentMode,Yd=null,pb=null,Ep=null,mb=!1;function NA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mb||Yd==null||Yd!==h1(r)||(r=Yd,"selectionStart"in r&&D5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ep&&sm(Ep,r)||(Ep=r,r=x1(pb,"onSelect"),0<r.length&&(e=new I5("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yd)))}function Hg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qd={animationend:Hg("Animation","AnimationEnd"),animationiteration:Hg("Animation","AnimationIteration"),animationstart:Hg("Animation","AnimationStart"),transitionend:Hg("Transition","TransitionEnd")},lx={},C6={};ll&&(C6=document.createElement("div").style,"AnimationEvent"in window||(delete Qd.animationend.animation,delete Qd.animationiteration.animation,delete Qd.animationstart.animation),"TransitionEvent"in window||delete Qd.transitionend.transition);function Iy(t){if(lx[t])return lx[t];if(!Qd[t])return t;var e=Qd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in C6)return lx[t]=e[n];return t}var k6=Iy("animationend"),j6=Iy("animationiteration"),I6=Iy("animationstart"),R6=Iy("transitionend"),L6=new Map,AA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qc(t,e){L6.set(t,e),ad(e,[t])}for(var cx=0;cx<AA.length;cx++){var ux=AA[cx],n9=ux.toLowerCase(),r9=ux[0].toUpperCase()+ux.slice(1);Qc(n9,"on"+r9)}Qc(k6,"onAnimationEnd");Qc(j6,"onAnimationIteration");Qc(I6,"onAnimationStart");Qc("dblclick","onDoubleClick");Qc("focusin","onFocus");Qc("focusout","onBlur");Qc(R6,"onTransitionEnd");Fh("onMouseEnter",["mouseout","mouseover"]);Fh("onMouseLeave",["mouseout","mouseover"]);Fh("onPointerEnter",["pointerout","pointerover"]);Fh("onPointerLeave",["pointerout","pointerover"]);ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s9=new Set("cancel close invalid load scroll toggle".split(" ").concat(fp));function EA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nF(r,e,void 0,t),t.currentTarget=null}function D6(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;EA(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;EA(s,a,c),i=l}}}if(p1)throw t=ub,p1=!1,ub=null,t}function On(t,e){var n=e[bb];n===void 0&&(n=e[bb]=new Set);var r=t+"__bubble";n.has(r)||(M6(e,t,2,!1),n.add(r))}function dx(t,e,n){var r=0;e&&(r|=4),M6(n,t,r,e)}var Gg="_reactListening"+Math.random().toString(36).slice(2);function im(t){if(!t[Gg]){t[Gg]=!0,$C.forEach(function(n){n!=="selectionchange"&&(s9.has(n)||dx(n,!1,t),dx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gg]||(e[Gg]=!0,dx("selectionchange",!1,e))}}function M6(t,e,n,r){switch(x6(e)){case 1:var s=vF;break;case 4:s=xF;break;default:s=k5}n=s.bind(null,e,n,t),s=void 0,!cb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function hx(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Nu(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}i6(function(){var c=i,d=E5(n),h=[];e:{var p=L6.get(t);if(p!==void 0){var f=I5,b=t;switch(t){case"keypress":if(M0(n)===0)break e;case"keydown":case"keyup":f=LF;break;case"focusin":b="focus",f=ix;break;case"focusout":b="blur",f=ix;break;case"beforeblur":case"afterblur":f=ix;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=pA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_F;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=OF;break;case k6:case j6:case I6:f=AF;break;case R6:f=VF;break;case"scroll":f=bF;break;case"wheel":f=UF;break;case"copy":case"cut":case"paste":f=TF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=gA}var x=(e&4)!==0,w=!x&&t==="scroll",v=x?p!==null?p+"Capture":null:p;x=[];for(var _=c,A;_!==null;){A=_;var R=A.stateNode;if(A.tag===5&&R!==null&&(A=R,v!==null&&(R=Jp(_,v),R!=null&&x.push(om(_,R,A)))),w)break;_=_.return}0<x.length&&(p=new f(p,b,null,n,d),h.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",p&&n!==ab&&(b=n.relatedTarget||n.fromElement)&&(Nu(b)||b[cl]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(b=n.relatedTarget||n.toElement,f=c,b=b?Nu(b):null,b!==null&&(w=ld(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=c),f!==b)){if(x=pA,R="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=gA,R="onPointerLeave",v="onPointerEnter",_="pointer"),w=f==null?p:Xd(f),A=b==null?p:Xd(b),p=new x(R,_+"leave",f,n,d),p.target=w,p.relatedTarget=A,R=null,Nu(d)===c&&(x=new x(v,_+"enter",b,n,d),x.target=A,x.relatedTarget=w,R=x),w=R,f&&b)t:{for(x=f,v=b,_=0,A=x;A;A=jd(A))_++;for(A=0,R=v;R;R=jd(R))A++;for(;0<_-A;)x=jd(x),_--;for(;0<A-_;)v=jd(v),A--;for(;_--;){if(x===v||v!==null&&x===v.alternate)break t;x=jd(x),v=jd(v)}x=null}else x=null;f!==null&&TA(h,p,f,x,!1),b!==null&&w!==null&&TA(h,w,b,x,!0)}}e:{if(p=c?Xd(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var F=KF;else if(xA(p))if(A6)F=ZF;else{F=QF;var $=YF}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=XF);if(F&&(F=F(t,c))){N6(h,F,n,d);break e}$&&$(t,p,c),t==="focusout"&&($=p._wrapperState)&&$.controlled&&p.type==="number"&&nb(p,"number",p.value)}switch($=c?Xd(c):window,t){case"focusin":(xA($)||$.contentEditable==="true")&&(Yd=$,pb=c,Ep=null);break;case"focusout":Ep=pb=Yd=null;break;case"mousedown":mb=!0;break;case"contextmenu":case"mouseup":case"dragend":mb=!1,NA(h,n,d);break;case"selectionchange":if(t9)break;case"keydown":case"keyup":NA(h,n,d)}var I;if(L5)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Kd?_6(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(w6&&n.locale!=="ko"&&(Kd||E!=="onCompositionStart"?E==="onCompositionEnd"&&Kd&&(I=b6()):(dc=d,j5="value"in dc?dc.value:dc.textContent,Kd=!0)),$=x1(c,E),0<$.length&&(E=new mA(E,t,null,n,d),h.push({event:E,listeners:$}),I?E.data=I:(I=S6(n),I!==null&&(E.data=I)))),(I=$F?qF(t,n):WF(t,n))&&(c=x1(c,"onBeforeInput"),0<c.length&&(d=new mA("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}D6(h,e)})}function om(t,e,n){return{instance:t,listener:e,currentTarget:n}}function x1(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jp(t,n),i!=null&&r.unshift(om(t,i,s)),i=Jp(t,e),i!=null&&r.push(om(t,i,s))),t=t.return}return r}function jd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TA(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Jp(n,i),l!=null&&o.unshift(om(n,l,a))):s||(l=Jp(n,i),l!=null&&o.push(om(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var i9=/\r\n?/g,o9=/\u0000|\uFFFD/g;function PA(t){return(typeof t=="string"?t:""+t).replace(i9,`
`).replace(o9,"")}function Kg(t,e,n){if(e=PA(e),PA(t)!==e&&n)throw Error(De(425))}function b1(){}var gb=null,yb=null;function vb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xb=typeof setTimeout=="function"?setTimeout:void 0,a9=typeof clearTimeout=="function"?clearTimeout:void 0,CA=typeof Promise=="function"?Promise:void 0,l9=typeof queueMicrotask=="function"?queueMicrotask:typeof CA<"u"?function(t){return CA.resolve(null).then(t).catch(c9)}:xb;function c9(t){setTimeout(function(){throw t})}function fx(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),nm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);nm(e)}function wc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lf=Math.random().toString(36).slice(2),ca="__reactFiber$"+lf,am="__reactProps$"+lf,cl="__reactContainer$"+lf,bb="__reactEvents$"+lf,u9="__reactListeners$"+lf,d9="__reactHandles$"+lf;function Nu(t){var e=t[ca];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cl]||n[ca]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kA(t);t!==null;){if(n=t[ca])return n;t=kA(t)}return e}t=n,n=t.parentNode}return null}function Gm(t){return t=t[ca]||t[cl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function Ry(t){return t[am]||null}var wb=[],Zd=-1;function Xc(t){return{current:t}}function Un(t){0>Zd||(t.current=wb[Zd],wb[Zd]=null,Zd--)}function Rn(t,e){Zd++,wb[Zd]=t.current,t.current=e}var Mc={},gs=Xc(Mc),ti=Xc(!1),Wu=Mc;function Vh(t,e){var n=t.type.contextTypes;if(!n)return Mc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ni(t){return t=t.childContextTypes,t!=null}function w1(){Un(ti),Un(gs)}function jA(t,e,n){if(gs.current!==Mc)throw Error(De(168));Rn(gs,e),Rn(ti,n)}function O6(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(De(108,YO(t)||"Unknown",s));return Zn({},n,r)}function _1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mc,Wu=gs.current,Rn(gs,t),Rn(ti,ti.current),!0}function IA(t,e,n){var r=t.stateNode;if(!r)throw Error(De(169));n?(t=O6(t,e,Wu),r.__reactInternalMemoizedMergedChildContext=t,Un(ti),Un(gs),Rn(gs,t)):Un(ti),Rn(ti,n)}var el=null,Ly=!1,px=!1;function F6(t){el===null?el=[t]:el.push(t)}function h9(t){Ly=!0,F6(t)}function Zc(){if(!px&&el!==null){px=!0;var t=0,e=gn;try{var n=el;for(gn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}el=null,Ly=!1}catch(s){throw el!==null&&(el=el.slice(t+1)),c6(T5,Zc),s}finally{gn=e,px=!1}}return null}var Jd=[],eh=0,S1=null,N1=0,Wi=[],Hi=0,Hu=null,sl=1,il="";function yu(t,e){Jd[eh++]=N1,Jd[eh++]=S1,S1=t,N1=e}function V6(t,e,n){Wi[Hi++]=sl,Wi[Hi++]=il,Wi[Hi++]=Hu,Hu=t;var r=sl;t=il;var s=32-Po(r)-1;r&=~(1<<s),n+=1;var i=32-Po(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,sl=1<<32-Po(e)+s|n<<s|r,il=i+t}else sl=1<<i|n<<s|r,il=t}function M5(t){t.return!==null&&(yu(t,1),V6(t,1,0))}function O5(t){for(;t===S1;)S1=Jd[--eh],Jd[eh]=null,N1=Jd[--eh],Jd[eh]=null;for(;t===Hu;)Hu=Wi[--Hi],Wi[Hi]=null,il=Wi[--Hi],Wi[Hi]=null,sl=Wi[--Hi],Wi[Hi]=null}var wi=null,vi=null,Hn=!1,Ao=null;function B6(t,e){var n=Qi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function RA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wi=t,vi=wc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wi=t,vi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hu!==null?{id:sl,overflow:il}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wi=t,vi=null,!0):!1;default:return!1}}function _b(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sb(t){if(Hn){var e=vi;if(e){var n=e;if(!RA(t,e)){if(_b(t))throw Error(De(418));e=wc(n.nextSibling);var r=wi;e&&RA(t,e)?B6(r,n):(t.flags=t.flags&-4097|2,Hn=!1,wi=t)}}else{if(_b(t))throw Error(De(418));t.flags=t.flags&-4097|2,Hn=!1,wi=t}}}function LA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wi=t}function Yg(t){if(t!==wi)return!1;if(!Hn)return LA(t),Hn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vb(t.type,t.memoizedProps)),e&&(e=vi)){if(_b(t))throw U6(),Error(De(418));for(;e;)B6(t,e),e=wc(e.nextSibling)}if(LA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vi=wc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vi=null}}else vi=wi?wc(t.stateNode.nextSibling):null;return!0}function U6(){for(var t=vi;t;)t=wc(t.nextSibling)}function Bh(){vi=wi=null,Hn=!1}function F5(t){Ao===null?Ao=[t]:Ao.push(t)}var f9=wl.ReactCurrentBatchConfig;function ep(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,t))}return t}function Qg(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DA(t){var e=t._init;return e(t._payload)}function z6(t){function e(v,_){if(t){var A=v.deletions;A===null?(v.deletions=[_],v.flags|=16):A.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=Ac(v,_),v.index=0,v.sibling=null,v}function i(v,_,A){return v.index=A,t?(A=v.alternate,A!==null?(A=A.index,A<_?(v.flags|=2,_):A):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,A,R){return _===null||_.tag!==6?(_=wx(A,v.mode,R),_.return=v,_):(_=s(_,A),_.return=v,_)}function l(v,_,A,R){var F=A.type;return F===Gd?d(v,_,A.props.children,R,A.key):_!==null&&(_.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ec&&DA(F)===_.type)?(R=s(_,A.props),R.ref=ep(v,_,A),R.return=v,R):(R=$0(A.type,A.key,A.props,null,v.mode,R),R.ref=ep(v,_,A),R.return=v,R)}function c(v,_,A,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=_x(A,v.mode,R),_.return=v,_):(_=s(_,A.children||[]),_.return=v,_)}function d(v,_,A,R,F){return _===null||_.tag!==7?(_=Uu(A,v.mode,R,F),_.return=v,_):(_=s(_,A),_.return=v,_)}function h(v,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=wx(""+_,v.mode,A),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vg:return A=$0(_.type,_.key,_.props,null,v.mode,A),A.ref=ep(v,null,_),A.return=v,A;case Hd:return _=_x(_,v.mode,A),_.return=v,_;case ec:var R=_._init;return h(v,R(_._payload),A)}if(dp(_)||Yf(_))return _=Uu(_,v.mode,A,null),_.return=v,_;Qg(v,_)}return null}function p(v,_,A,R){var F=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return F!==null?null:a(v,_,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Vg:return A.key===F?l(v,_,A,R):null;case Hd:return A.key===F?c(v,_,A,R):null;case ec:return F=A._init,p(v,_,F(A._payload),R)}if(dp(A)||Yf(A))return F!==null?null:d(v,_,A,R,null);Qg(v,A)}return null}function f(v,_,A,R,F){if(typeof R=="string"&&R!==""||typeof R=="number")return v=v.get(A)||null,a(_,v,""+R,F);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Vg:return v=v.get(R.key===null?A:R.key)||null,l(_,v,R,F);case Hd:return v=v.get(R.key===null?A:R.key)||null,c(_,v,R,F);case ec:var $=R._init;return f(v,_,A,$(R._payload),F)}if(dp(R)||Yf(R))return v=v.get(A)||null,d(_,v,R,F,null);Qg(_,R)}return null}function b(v,_,A,R){for(var F=null,$=null,I=_,E=_=0,C=null;I!==null&&E<A.length;E++){I.index>E?(C=I,I=null):C=I.sibling;var M=p(v,I,A[E],R);if(M===null){I===null&&(I=C);break}t&&I&&M.alternate===null&&e(v,I),_=i(M,_,E),$===null?F=M:$.sibling=M,$=M,I=C}if(E===A.length)return n(v,I),Hn&&yu(v,E),F;if(I===null){for(;E<A.length;E++)I=h(v,A[E],R),I!==null&&(_=i(I,_,E),$===null?F=I:$.sibling=I,$=I);return Hn&&yu(v,E),F}for(I=r(v,I);E<A.length;E++)C=f(I,v,E,A[E],R),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?E:C.key),_=i(C,_,E),$===null?F=C:$.sibling=C,$=C);return t&&I.forEach(function(N){return e(v,N)}),Hn&&yu(v,E),F}function x(v,_,A,R){var F=Yf(A);if(typeof F!="function")throw Error(De(150));if(A=F.call(A),A==null)throw Error(De(151));for(var $=F=null,I=_,E=_=0,C=null,M=A.next();I!==null&&!M.done;E++,M=A.next()){I.index>E?(C=I,I=null):C=I.sibling;var N=p(v,I,M.value,R);if(N===null){I===null&&(I=C);break}t&&I&&N.alternate===null&&e(v,I),_=i(N,_,E),$===null?F=N:$.sibling=N,$=N,I=C}if(M.done)return n(v,I),Hn&&yu(v,E),F;if(I===null){for(;!M.done;E++,M=A.next())M=h(v,M.value,R),M!==null&&(_=i(M,_,E),$===null?F=M:$.sibling=M,$=M);return Hn&&yu(v,E),F}for(I=r(v,I);!M.done;E++,M=A.next())M=f(I,v,E,M.value,R),M!==null&&(t&&M.alternate!==null&&I.delete(M.key===null?E:M.key),_=i(M,_,E),$===null?F=M:$.sibling=M,$=M);return t&&I.forEach(function(T){return e(v,T)}),Hn&&yu(v,E),F}function w(v,_,A,R){if(typeof A=="object"&&A!==null&&A.type===Gd&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Vg:e:{for(var F=A.key,$=_;$!==null;){if($.key===F){if(F=A.type,F===Gd){if($.tag===7){n(v,$.sibling),_=s($,A.props.children),_.return=v,v=_;break e}}else if($.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ec&&DA(F)===$.type){n(v,$.sibling),_=s($,A.props),_.ref=ep(v,$,A),_.return=v,v=_;break e}n(v,$);break}else e(v,$);$=$.sibling}A.type===Gd?(_=Uu(A.props.children,v.mode,R,A.key),_.return=v,v=_):(R=$0(A.type,A.key,A.props,null,v.mode,R),R.ref=ep(v,_,A),R.return=v,v=R)}return o(v);case Hd:e:{for($=A.key;_!==null;){if(_.key===$)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(v,_.sibling),_=s(_,A.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=_x(A,v.mode,R),_.return=v,v=_}return o(v);case ec:return $=A._init,w(v,_,$(A._payload),R)}if(dp(A))return b(v,_,A,R);if(Yf(A))return x(v,_,A,R);Qg(v,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(n(v,_.sibling),_=s(_,A),_.return=v,v=_):(n(v,_),_=wx(A,v.mode,R),_.return=v,v=_),o(v)):n(v,_)}return w}var Uh=z6(!0),$6=z6(!1),A1=Xc(null),E1=null,th=null,V5=null;function B5(){V5=th=E1=null}function U5(t){var e=A1.current;Un(A1),t._currentValue=e}function Nb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fh(t,e){E1=t,V5=th=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Js=!0),t.firstContext=null)}function no(t){var e=t._currentValue;if(V5!==t)if(t={context:t,memoizedValue:e,next:null},th===null){if(E1===null)throw Error(De(308));th=t,E1.dependencies={lanes:0,firstContext:t}}else th=th.next=t;return e}var Au=null;function z5(t){Au===null?Au=[t]:Au.push(t)}function q6(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,z5(e)):(n.next=s.next,s.next=n),e.interleaved=n,ul(t,r)}function ul(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tc=!1;function $5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function al(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _c(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,rn&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ul(t,n)}return s=r.interleaved,s===null?(e.next=e,z5(r)):(e.next=s.next,s.next=e),r.interleaved=e,ul(t,n)}function O0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,P5(t,n)}}function MA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function T1(t,e,n,r){var s=t.updateQueue;tc=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,f=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,x=a;switch(p=e,f=n,x.tag){case 1:if(b=x.payload,typeof b=="function"){h=b.call(f,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,p=typeof b=="function"?b.call(f,h,p):b,p==null)break e;h=Zn({},h,p);break e;case 2:tc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=f,l=h):d=d.next=f,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ku|=o,t.lanes=o,t.memoizedState=h}}function OA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(De(191,s));s.call(r)}}}var Km={},ga=Xc(Km),lm=Xc(Km),cm=Xc(Km);function Eu(t){if(t===Km)throw Error(De(174));return t}function q5(t,e){switch(Rn(cm,e),Rn(lm,t),Rn(ga,Km),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sb(e,t)}Un(ga),Rn(ga,e)}function zh(){Un(ga),Un(lm),Un(cm)}function H6(t){Eu(cm.current);var e=Eu(ga.current),n=sb(e,t.type);e!==n&&(Rn(lm,t),Rn(ga,n))}function W5(t){lm.current===t&&(Un(ga),Un(lm))}var Yn=Xc(0);function P1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mx=[];function H5(){for(var t=0;t<mx.length;t++)mx[t]._workInProgressVersionPrimary=null;mx.length=0}var F0=wl.ReactCurrentDispatcher,gx=wl.ReactCurrentBatchConfig,Gu=0,Xn=null,kr=null,Vr=null,C1=!1,Tp=!1,um=0,p9=0;function ss(){throw Error(De(321))}function G5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Io(t[n],e[n]))return!1;return!0}function K5(t,e,n,r,s,i){if(Gu=i,Xn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,F0.current=t===null||t.memoizedState===null?v9:x9,t=n(r,s),Tp){i=0;do{if(Tp=!1,um=0,25<=i)throw Error(De(301));i+=1,Vr=kr=null,e.updateQueue=null,F0.current=b9,t=n(r,s)}while(Tp)}if(F0.current=k1,e=kr!==null&&kr.next!==null,Gu=0,Vr=kr=Xn=null,C1=!1,e)throw Error(De(300));return t}function Y5(){var t=um!==0;return um=0,t}function na(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?Xn.memoizedState=Vr=t:Vr=Vr.next=t,Vr}function ro(){if(kr===null){var t=Xn.alternate;t=t!==null?t.memoizedState:null}else t=kr.next;var e=Vr===null?Xn.memoizedState:Vr.next;if(e!==null)Vr=e,kr=t;else{if(t===null)throw Error(De(310));kr=t,t={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Vr===null?Xn.memoizedState=Vr=t:Vr=Vr.next=t}return Vr}function dm(t,e){return typeof e=="function"?e(t):e}function yx(t){var e=ro(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=kr,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Gu&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Xn.lanes|=d,Ku|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Io(r,e.memoizedState)||(Js=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xn.lanes|=i,Ku|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vx(t){var e=ro(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Io(i,e.memoizedState)||(Js=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function G6(){}function K6(t,e){var n=Xn,r=ro(),s=e(),i=!Io(r.memoizedState,s);if(i&&(r.memoizedState=s,Js=!0),r=r.queue,Q5(X6.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Vr!==null&&Vr.memoizedState.tag&1){if(n.flags|=2048,hm(9,Q6.bind(null,n,r,s,e),void 0,null),Ur===null)throw Error(De(349));Gu&30||Y6(n,e,s)}return s}function Y6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xn.updateQueue,e===null?(e={lastEffect:null,stores:null},Xn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Q6(t,e,n,r){e.value=n,e.getSnapshot=r,Z6(e)&&J6(t)}function X6(t,e,n){return n(function(){Z6(e)&&J6(t)})}function Z6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Io(t,n)}catch{return!0}}function J6(t){var e=ul(t,1);e!==null&&Co(e,t,1,-1)}function FA(t){var e=na();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dm,lastRenderedState:t},e.queue=t,t=t.dispatch=y9.bind(null,Xn,t),[e.memoizedState,t]}function hm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xn.updateQueue,e===null?(e={lastEffect:null,stores:null},Xn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ek(){return ro().memoizedState}function V0(t,e,n,r){var s=na();Xn.flags|=t,s.memoizedState=hm(1|e,n,void 0,r===void 0?null:r)}function Dy(t,e,n,r){var s=ro();r=r===void 0?null:r;var i=void 0;if(kr!==null){var o=kr.memoizedState;if(i=o.destroy,r!==null&&G5(r,o.deps)){s.memoizedState=hm(e,n,i,r);return}}Xn.flags|=t,s.memoizedState=hm(1|e,n,i,r)}function VA(t,e){return V0(8390656,8,t,e)}function Q5(t,e){return Dy(2048,8,t,e)}function tk(t,e){return Dy(4,2,t,e)}function nk(t,e){return Dy(4,4,t,e)}function rk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sk(t,e,n){return n=n!=null?n.concat([t]):null,Dy(4,4,rk.bind(null,e,t),n)}function X5(){}function ik(t,e){var n=ro();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&G5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ok(t,e){var n=ro();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&G5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ak(t,e,n){return Gu&21?(Io(n,e)||(n=h6(),Xn.lanes|=n,Ku|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Js=!0),t.memoizedState=n)}function m9(t,e){var n=gn;gn=n!==0&&4>n?n:4,t(!0);var r=gx.transition;gx.transition={};try{t(!1),e()}finally{gn=n,gx.transition=r}}function lk(){return ro().memoizedState}function g9(t,e,n){var r=Nc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ck(t))uk(e,n);else if(n=q6(t,e,n,r),n!==null){var s=Ls();Co(n,t,r,s),dk(n,e,r)}}function y9(t,e,n){var r=Nc(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ck(t))uk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Io(a,o)){var l=e.interleaved;l===null?(s.next=s,z5(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=q6(t,e,s,r),n!==null&&(s=Ls(),Co(n,t,r,s),dk(n,e,r))}}function ck(t){var e=t.alternate;return t===Xn||e!==null&&e===Xn}function uk(t,e){Tp=C1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,P5(t,n)}}var k1={readContext:no,useCallback:ss,useContext:ss,useEffect:ss,useImperativeHandle:ss,useInsertionEffect:ss,useLayoutEffect:ss,useMemo:ss,useReducer:ss,useRef:ss,useState:ss,useDebugValue:ss,useDeferredValue:ss,useTransition:ss,useMutableSource:ss,useSyncExternalStore:ss,useId:ss,unstable_isNewReconciler:!1},v9={readContext:no,useCallback:function(t,e){return na().memoizedState=[t,e===void 0?null:e],t},useContext:no,useEffect:VA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,V0(4194308,4,rk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return V0(4194308,4,t,e)},useInsertionEffect:function(t,e){return V0(4,2,t,e)},useMemo:function(t,e){var n=na();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=na();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=g9.bind(null,Xn,t),[r.memoizedState,t]},useRef:function(t){var e=na();return t={current:t},e.memoizedState=t},useState:FA,useDebugValue:X5,useDeferredValue:function(t){return na().memoizedState=t},useTransition:function(){var t=FA(!1),e=t[0];return t=m9.bind(null,t[1]),na().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xn,s=na();if(Hn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=e(),Ur===null)throw Error(De(349));Gu&30||Y6(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,VA(X6.bind(null,r,i,t),[t]),r.flags|=2048,hm(9,Q6.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=na(),e=Ur.identifierPrefix;if(Hn){var n=il,r=sl;n=(r&~(1<<32-Po(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=um++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=p9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},x9={readContext:no,useCallback:ik,useContext:no,useEffect:Q5,useImperativeHandle:sk,useInsertionEffect:tk,useLayoutEffect:nk,useMemo:ok,useReducer:yx,useRef:ek,useState:function(){return yx(dm)},useDebugValue:X5,useDeferredValue:function(t){var e=ro();return ak(e,kr.memoizedState,t)},useTransition:function(){var t=yx(dm)[0],e=ro().memoizedState;return[t,e]},useMutableSource:G6,useSyncExternalStore:K6,useId:lk,unstable_isNewReconciler:!1},b9={readContext:no,useCallback:ik,useContext:no,useEffect:Q5,useImperativeHandle:sk,useInsertionEffect:tk,useLayoutEffect:nk,useMemo:ok,useReducer:vx,useRef:ek,useState:function(){return vx(dm)},useDebugValue:X5,useDeferredValue:function(t){var e=ro();return kr===null?e.memoizedState=t:ak(e,kr.memoizedState,t)},useTransition:function(){var t=vx(dm)[0],e=ro().memoizedState;return[t,e]},useMutableSource:G6,useSyncExternalStore:K6,useId:lk,unstable_isNewReconciler:!1};function bo(t,e){if(t&&t.defaultProps){e=Zn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ab(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Zn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var My={isMounted:function(t){return(t=t._reactInternals)?ld(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ls(),s=Nc(t),i=al(r,s);i.payload=e,n!=null&&(i.callback=n),e=_c(t,i,s),e!==null&&(Co(e,t,s,r),O0(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ls(),s=Nc(t),i=al(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=_c(t,i,s),e!==null&&(Co(e,t,s,r),O0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ls(),r=Nc(t),s=al(n,r);s.tag=2,e!=null&&(s.callback=e),e=_c(t,s,r),e!==null&&(Co(e,t,r,n),O0(e,t,r))}};function BA(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!sm(n,r)||!sm(s,i):!0}function hk(t,e,n){var r=!1,s=Mc,i=e.contextType;return typeof i=="object"&&i!==null?i=no(i):(s=ni(e)?Wu:gs.current,r=e.contextTypes,i=(r=r!=null)?Vh(t,s):Mc),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=My,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function UA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&My.enqueueReplaceState(e,e.state,null)}function Eb(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$5(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=no(i):(i=ni(e)?Wu:gs.current,s.context=Vh(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ab(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&My.enqueueReplaceState(s,s.state,null),T1(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $h(t,e){try{var n="",r=e;do n+=KO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function xx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var w9=typeof WeakMap=="function"?WeakMap:Map;function fk(t,e,n){n=al(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){I1||(I1=!0,Ob=r),Tb(t,e)},n}function pk(t,e,n){n=al(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Tb(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Tb(t,e),typeof r!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new w9;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=D9.bind(null,t,e,n),e.then(t,t))}function $A(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qA(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=al(-1,1),e.tag=2,_c(n,e,1))),n.lanes|=1),t)}var _9=wl.ReactCurrentOwner,Js=!1;function Ps(t,e,n,r){e.child=t===null?$6(e,null,n,r):Uh(e,t.child,n,r)}function WA(t,e,n,r,s){n=n.render;var i=e.ref;return fh(e,s),r=K5(t,e,n,r,i,s),n=Y5(),t!==null&&!Js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dl(t,e,s)):(Hn&&n&&M5(e),e.flags|=1,Ps(t,e,r,s),e.child)}function HA(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!i_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mk(t,e,i,r,s)):(t=$0(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:sm,n(o,r)&&t.ref===e.ref)return dl(t,e,s)}return e.flags|=1,t=Ac(i,r),t.ref=e.ref,t.return=e,e.child=t}function mk(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(sm(i,r)&&t.ref===e.ref)if(Js=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Js=!0);else return e.lanes=t.lanes,dl(t,e,s)}return Pb(t,e,n,r,s)}function gk(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(rh,gi),gi|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rn(rh,gi),gi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Rn(rh,gi),gi|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Rn(rh,gi),gi|=r;return Ps(t,e,s,n),e.child}function yk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pb(t,e,n,r,s){var i=ni(n)?Wu:gs.current;return i=Vh(e,i),fh(e,s),n=K5(t,e,n,r,i,s),r=Y5(),t!==null&&!Js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dl(t,e,s)):(Hn&&r&&M5(e),e.flags|=1,Ps(t,e,n,s),e.child)}function GA(t,e,n,r,s){if(ni(n)){var i=!0;_1(e)}else i=!1;if(fh(e,s),e.stateNode===null)B0(t,e),hk(e,n,r),Eb(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=no(c):(c=ni(n)?Wu:gs.current,c=Vh(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&UA(e,o,r,c),tc=!1;var p=e.memoizedState;o.state=p,T1(e,r,o,s),l=e.memoizedState,a!==r||p!==l||ti.current||tc?(typeof d=="function"&&(Ab(e,n,d,r),l=e.memoizedState),(a=tc||BA(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,W6(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:bo(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=no(l):(l=ni(n)?Wu:gs.current,l=Vh(e,l));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&UA(e,o,r,l),tc=!1,p=e.memoizedState,o.state=p,T1(e,r,o,s);var b=e.memoizedState;a!==h||p!==b||ti.current||tc?(typeof f=="function"&&(Ab(e,n,f,r),b=e.memoizedState),(c=tc||BA(e,n,c,r,p,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Cb(t,e,n,r,i,s)}function Cb(t,e,n,r,s,i){yk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&IA(e,n,!1),dl(t,e,i);r=e.stateNode,_9.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Uh(e,t.child,null,i),e.child=Uh(e,null,a,i)):Ps(t,e,a,i),e.memoizedState=r.state,s&&IA(e,n,!0),e.child}function vk(t){var e=t.stateNode;e.pendingContext?jA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jA(t,e.context,!1),q5(t,e.containerInfo)}function KA(t,e,n,r,s){return Bh(),F5(s),e.flags|=256,Ps(t,e,n,r),e.child}var kb={dehydrated:null,treeContext:null,retryLane:0};function jb(t){return{baseLanes:t,cachePool:null,transitions:null}}function xk(t,e,n){var r=e.pendingProps,s=Yn.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Rn(Yn,s&1),t===null)return Sb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vy(o,r,0,null),t=Uu(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jb(n),e.memoizedState=kb,t):Z5(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return S9(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ac(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ac(a,i):(i=Uu(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?jb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=kb,r}return i=t.child,t=i.sibling,r=Ac(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Z5(t,e){return e=Vy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xg(t,e,n,r){return r!==null&&F5(r),Uh(e,t.child,null,n),t=Z5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S9(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=xx(Error(De(422))),Xg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Vy({mode:"visible",children:r.children},s,0,null),i=Uu(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Uh(e,t.child,null,o),e.child.memoizedState=jb(o),e.memoizedState=kb,i);if(!(e.mode&1))return Xg(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(De(419)),r=xx(i,r,void 0),Xg(t,e,o,r)}if(a=(o&t.childLanes)!==0,Js||a){if(r=Ur,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ul(t,s),Co(r,t,s,-1))}return s_(),r=xx(Error(De(421))),Xg(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=M9.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,vi=wc(s.nextSibling),wi=e,Hn=!0,Ao=null,t!==null&&(Wi[Hi++]=sl,Wi[Hi++]=il,Wi[Hi++]=Hu,sl=t.id,il=t.overflow,Hu=e),e=Z5(e,r.children),e.flags|=4096,e)}function YA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nb(t.return,e,n)}function bx(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function bk(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ps(t,e,r.children,n),r=Yn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YA(t,n,e);else if(t.tag===19)YA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rn(Yn,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&P1(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),bx(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&P1(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}bx(e,!0,n,null,i);break;case"together":bx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function B0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ku|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,n=Ac(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ac(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function N9(t,e,n){switch(e.tag){case 3:vk(e),Bh();break;case 5:H6(e);break;case 1:ni(e.type)&&_1(e);break;case 4:q5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Rn(A1,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rn(Yn,Yn.current&1),e.flags|=128,null):n&e.child.childLanes?xk(t,e,n):(Rn(Yn,Yn.current&1),t=dl(t,e,n),t!==null?t.sibling:null);Rn(Yn,Yn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bk(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Rn(Yn,Yn.current),r)break;return null;case 22:case 23:return e.lanes=0,gk(t,e,n)}return dl(t,e,n)}var wk,Ib,_k,Sk;wk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ib=function(){};_k=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Eu(ga.current);var i=null;switch(n){case"input":s=eb(t,s),r=eb(t,r),i=[];break;case"select":s=Zn({},s,{value:void 0}),r=Zn({},r,{value:void 0}),i=[];break;case"textarea":s=rb(t,s),r=rb(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=b1)}ib(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xp.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&On("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Sk=function(t,e,n,r){n!==r&&(e.flags|=4)};function tp(t,e){if(!Hn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function is(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function A9(t,e,n){var r=e.pendingProps;switch(O5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return is(e),null;case 1:return ni(e.type)&&w1(),is(e),null;case 3:return r=e.stateNode,zh(),Un(ti),Un(gs),H5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ao!==null&&(Bb(Ao),Ao=null))),Ib(t,e),is(e),null;case 5:W5(e);var s=Eu(cm.current);if(n=e.type,t!==null&&e.stateNode!=null)_k(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return is(e),null}if(t=Eu(ga.current),Yg(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ca]=e,r[am]=i,t=(e.mode&1)!==0,n){case"dialog":On("cancel",r),On("close",r);break;case"iframe":case"object":case"embed":On("load",r);break;case"video":case"audio":for(s=0;s<fp.length;s++)On(fp[s],r);break;case"source":On("error",r);break;case"img":case"image":case"link":On("error",r),On("load",r);break;case"details":On("toggle",r);break;case"input":sA(r,i),On("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},On("invalid",r);break;case"textarea":oA(r,i),On("invalid",r)}ib(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Kg(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Kg(r.textContent,a,t),s=["children",""+a]):Xp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&On("scroll",r)}switch(n){case"input":Bg(r),iA(r,i,!0);break;case"textarea":Bg(r),aA(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=b1)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ca]=e,t[am]=r,wk(t,e,!1,!1),e.stateNode=t;e:{switch(o=ob(n,r),n){case"dialog":On("cancel",t),On("close",t),s=r;break;case"iframe":case"object":case"embed":On("load",t),s=r;break;case"video":case"audio":for(s=0;s<fp.length;s++)On(fp[s],t);s=r;break;case"source":On("error",t),s=r;break;case"img":case"image":case"link":On("error",t),On("load",t),s=r;break;case"details":On("toggle",t),s=r;break;case"input":sA(t,r),s=eb(t,r),On("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Zn({},r,{value:void 0}),On("invalid",t);break;case"textarea":oA(t,r),s=rb(t,r),On("invalid",t);break;default:s=r}ib(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?e6(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zp(t,l):typeof l=="number"&&Zp(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xp.hasOwnProperty(i)?l!=null&&i==="onScroll"&&On("scroll",t):l!=null&&_5(t,i,l,o))}switch(n){case"input":Bg(t),iA(t,r,!1);break;case"textarea":Bg(t),aA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Dc(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ch(t,!!r.multiple,i,!1):r.defaultValue!=null&&ch(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=b1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return is(e),null;case 6:if(t&&e.stateNode!=null)Sk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(n=Eu(cm.current),Eu(ga.current),Yg(e)){if(r=e.stateNode,n=e.memoizedProps,r[ca]=e,(i=r.nodeValue!==n)&&(t=wi,t!==null))switch(t.tag){case 3:Kg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kg(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ca]=e,e.stateNode=r}return is(e),null;case 13:if(Un(Yn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Hn&&vi!==null&&e.mode&1&&!(e.flags&128))U6(),Bh(),e.flags|=98560,i=!1;else if(i=Yg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(De(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(De(317));i[ca]=e}else Bh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;is(e),i=!1}else Ao!==null&&(Bb(Ao),Ao=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Yn.current&1?jr===0&&(jr=3):s_())),e.updateQueue!==null&&(e.flags|=4),is(e),null);case 4:return zh(),Ib(t,e),t===null&&im(e.stateNode.containerInfo),is(e),null;case 10:return U5(e.type._context),is(e),null;case 17:return ni(e.type)&&w1(),is(e),null;case 19:if(Un(Yn),i=e.memoizedState,i===null)return is(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)tp(i,!1);else{if(jr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=P1(t),o!==null){for(e.flags|=128,tp(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rn(Yn,Yn.current&1|2),e.child}t=t.sibling}i.tail!==null&&dr()>qh&&(e.flags|=128,r=!0,tp(i,!1),e.lanes=4194304)}else{if(!r)if(t=P1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Hn)return is(e),null}else 2*dr()-i.renderingStartTime>qh&&n!==1073741824&&(e.flags|=128,r=!0,tp(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=dr(),e.sibling=null,n=Yn.current,Rn(Yn,r?n&1|2:n&1),e):(is(e),null);case 22:case 23:return r_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gi&1073741824&&(is(e),e.subtreeFlags&6&&(e.flags|=8192)):is(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function E9(t,e){switch(O5(e),e.tag){case 1:return ni(e.type)&&w1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zh(),Un(ti),Un(gs),H5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return W5(e),null;case 13:if(Un(Yn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));Bh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Un(Yn),null;case 4:return zh(),null;case 10:return U5(e.type._context),null;case 22:case 23:return r_(),null;case 24:return null;default:return null}}var Zg=!1,fs=!1,T9=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function nh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ir(t,e,r)}else n.current=null}function Rb(t,e,n){try{n()}catch(r){ir(t,e,r)}}var QA=!1;function P9(t,e){if(gb=y1,t=P6(),D5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yb={focusedElem:t,selectionRange:n},y1=!1,Ke=e;Ke!==null;)if(e=Ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ke=t;else for(;Ke!==null;){e=Ke;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,w=b.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:bo(e.type,x),w);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(R){ir(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,Ke=t;break}Ke=e.return}return b=QA,QA=!1,b}function Pp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rb(e,n,i)}s=s.next}while(s!==r)}}function Oy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Nk(t){var e=t.alternate;e!==null&&(t.alternate=null,Nk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ca],delete e[am],delete e[bb],delete e[u9],delete e[d9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ak(t){return t.tag===5||t.tag===3||t.tag===4}function XA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ak(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Db(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=b1));else if(r!==4&&(t=t.child,t!==null))for(Db(t,e,n),t=t.sibling;t!==null;)Db(t,e,n),t=t.sibling}function Mb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mb(t,e,n),t=t.sibling;t!==null;)Mb(t,e,n),t=t.sibling}var Wr=null,No=!1;function Wl(t,e,n){for(n=n.child;n!==null;)Ek(t,e,n),n=n.sibling}function Ek(t,e,n){if(ma&&typeof ma.onCommitFiberUnmount=="function")try{ma.onCommitFiberUnmount(Cy,n)}catch{}switch(n.tag){case 5:fs||nh(n,e);case 6:var r=Wr,s=No;Wr=null,Wl(t,e,n),Wr=r,No=s,Wr!==null&&(No?(t=Wr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wr.removeChild(n.stateNode));break;case 18:Wr!==null&&(No?(t=Wr,n=n.stateNode,t.nodeType===8?fx(t.parentNode,n):t.nodeType===1&&fx(t,n),nm(t)):fx(Wr,n.stateNode));break;case 4:r=Wr,s=No,Wr=n.stateNode.containerInfo,No=!0,Wl(t,e,n),Wr=r,No=s;break;case 0:case 11:case 14:case 15:if(!fs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rb(n,e,o),s=s.next}while(s!==r)}Wl(t,e,n);break;case 1:if(!fs&&(nh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ir(n,e,a)}Wl(t,e,n);break;case 21:Wl(t,e,n);break;case 22:n.mode&1?(fs=(r=fs)||n.memoizedState!==null,Wl(t,e,n),fs=r):Wl(t,e,n);break;default:Wl(t,e,n)}}function ZA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new T9),e.forEach(function(r){var s=O9.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Wr=a.stateNode,No=!1;break e;case 3:Wr=a.stateNode.containerInfo,No=!0;break e;case 4:Wr=a.stateNode.containerInfo,No=!0;break e}a=a.return}if(Wr===null)throw Error(De(160));Ek(i,o,s),Wr=null,No=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ir(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tk(e,t),e=e.sibling}function Tk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mo(e,t),Jo(t),r&4){try{Pp(3,t,t.return),Oy(3,t)}catch(x){ir(t,t.return,x)}try{Pp(5,t,t.return)}catch(x){ir(t,t.return,x)}}break;case 1:mo(e,t),Jo(t),r&512&&n!==null&&nh(n,n.return);break;case 5:if(mo(e,t),Jo(t),r&512&&n!==null&&nh(n,n.return),t.flags&32){var s=t.stateNode;try{Zp(s,"")}catch(x){ir(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&YC(s,i),ob(a,o);var c=ob(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?e6(s,h):d==="dangerouslySetInnerHTML"?ZC(s,h):d==="children"?Zp(s,h):_5(s,d,h,c)}switch(a){case"input":tb(s,i);break;case"textarea":QC(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?ch(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?ch(s,!!i.multiple,i.defaultValue,!0):ch(s,!!i.multiple,i.multiple?[]:"",!1))}s[am]=i}catch(x){ir(t,t.return,x)}}break;case 6:if(mo(e,t),Jo(t),r&4){if(t.stateNode===null)throw Error(De(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ir(t,t.return,x)}}break;case 3:if(mo(e,t),Jo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nm(e.containerInfo)}catch(x){ir(t,t.return,x)}break;case 4:mo(e,t),Jo(t);break;case 13:mo(e,t),Jo(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(t_=dr())),r&4&&ZA(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(fs=(c=fs)||d,mo(e,t),fs=c):mo(e,t),Jo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Ke=t,d=t.child;d!==null;){for(h=Ke=d;Ke!==null;){switch(p=Ke,f=p.child,p.tag){case 0:case 11:case 14:case 15:Pp(4,p,p.return);break;case 1:nh(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){ir(r,n,x)}}break;case 5:nh(p,p.return);break;case 22:if(p.memoizedState!==null){e4(h);continue}}f!==null?(f.return=p,Ke=f):e4(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JC("display",o))}catch(x){ir(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){ir(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mo(e,t),Jo(t),r&4&&ZA(t);break;case 21:break;default:mo(e,t),Jo(t)}}function Jo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ak(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zp(s,""),r.flags&=-33);var i=XA(t);Mb(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=XA(t);Db(t,a,o);break;default:throw Error(De(161))}}catch(l){ir(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C9(t,e,n){Ke=t,Pk(t)}function Pk(t,e,n){for(var r=(t.mode&1)!==0;Ke!==null;){var s=Ke,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zg;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||fs;a=Zg;var c=fs;if(Zg=o,(fs=l)&&!c)for(Ke=s;Ke!==null;)o=Ke,l=o.child,o.tag===22&&o.memoizedState!==null?t4(s):l!==null?(l.return=o,Ke=l):t4(s);for(;i!==null;)Ke=i,Pk(i),i=i.sibling;Ke=s,Zg=a,fs=c}JA(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ke=i):JA(t)}}function JA(t){for(;Ke!==null;){var e=Ke;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fs||Oy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fs)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:bo(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&OA(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}OA(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&nm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}fs||e.flags&512&&Lb(e)}catch(p){ir(e,e.return,p)}}if(e===t){Ke=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function e4(t){for(;Ke!==null;){var e=Ke;if(e===t){Ke=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ke=n;break}Ke=e.return}}function t4(t){for(;Ke!==null;){var e=Ke;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oy(4,e)}catch(l){ir(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ir(e,s,l)}}var i=e.return;try{Lb(e)}catch(l){ir(e,i,l)}break;case 5:var o=e.return;try{Lb(e)}catch(l){ir(e,o,l)}}}catch(l){ir(e,e.return,l)}if(e===t){Ke=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ke=a;break}Ke=e.return}}var k9=Math.ceil,j1=wl.ReactCurrentDispatcher,J5=wl.ReactCurrentOwner,Ji=wl.ReactCurrentBatchConfig,rn=0,Ur=null,vr=null,Qr=0,gi=0,rh=Xc(0),jr=0,fm=null,Ku=0,Fy=0,e_=0,Cp=null,Zs=null,t_=0,qh=1/0,Ja=null,I1=!1,Ob=null,Sc=null,Jg=!1,hc=null,R1=0,kp=0,Fb=null,U0=-1,z0=0;function Ls(){return rn&6?dr():U0!==-1?U0:U0=dr()}function Nc(t){return t.mode&1?rn&2&&Qr!==0?Qr&-Qr:f9.transition!==null?(z0===0&&(z0=h6()),z0):(t=gn,t!==0||(t=window.event,t=t===void 0?16:x6(t.type)),t):1}function Co(t,e,n,r){if(50<kp)throw kp=0,Fb=null,Error(De(185));Wm(t,n,r),(!(rn&2)||t!==Ur)&&(t===Ur&&(!(rn&2)&&(Fy|=n),jr===4&&sc(t,Qr)),ri(t,r),n===1&&rn===0&&!(e.mode&1)&&(qh=dr()+500,Ly&&Zc()))}function ri(t,e){var n=t.callbackNode;fF(t,e);var r=g1(t,t===Ur?Qr:0);if(r===0)n!==null&&uA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uA(n),e===1)t.tag===0?h9(n4.bind(null,t)):F6(n4.bind(null,t)),l9(function(){!(rn&6)&&Zc()}),n=null;else{switch(f6(r)){case 1:n=T5;break;case 4:n=u6;break;case 16:n=m1;break;case 536870912:n=d6;break;default:n=m1}n=Mk(n,Ck.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ck(t,e){if(U0=-1,z0=0,rn&6)throw Error(De(327));var n=t.callbackNode;if(ph()&&t.callbackNode!==n)return null;var r=g1(t,t===Ur?Qr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=L1(t,r);else{e=r;var s=rn;rn|=2;var i=jk();(Ur!==t||Qr!==e)&&(Ja=null,qh=dr()+500,Bu(t,e));do try{R9();break}catch(a){kk(t,a)}while(!0);B5(),j1.current=i,rn=s,vr!==null?e=0:(Ur=null,Qr=0,e=jr)}if(e!==0){if(e===2&&(s=db(t),s!==0&&(r=s,e=Vb(t,s))),e===1)throw n=fm,Bu(t,0),sc(t,r),ri(t,dr()),n;if(e===6)sc(t,r);else{if(s=t.current.alternate,!(r&30)&&!j9(s)&&(e=L1(t,r),e===2&&(i=db(t),i!==0&&(r=i,e=Vb(t,i))),e===1))throw n=fm,Bu(t,0),sc(t,r),ri(t,dr()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:vu(t,Zs,Ja);break;case 3:if(sc(t,r),(r&130023424)===r&&(e=t_+500-dr(),10<e)){if(g1(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ls(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xb(vu.bind(null,t,Zs,Ja),e);break}vu(t,Zs,Ja);break;case 4:if(sc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Po(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=dr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k9(r/1960))-r,10<r){t.timeoutHandle=xb(vu.bind(null,t,Zs,Ja),r);break}vu(t,Zs,Ja);break;case 5:vu(t,Zs,Ja);break;default:throw Error(De(329))}}}return ri(t,dr()),t.callbackNode===n?Ck.bind(null,t):null}function Vb(t,e){var n=Cp;return t.current.memoizedState.isDehydrated&&(Bu(t,e).flags|=256),t=L1(t,e),t!==2&&(e=Zs,Zs=n,e!==null&&Bb(e)),t}function Bb(t){Zs===null?Zs=t:Zs.push.apply(Zs,t)}function j9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Io(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sc(t,e){for(e&=~e_,e&=~Fy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Po(e),r=1<<n;t[n]=-1,e&=~r}}function n4(t){if(rn&6)throw Error(De(327));ph();var e=g1(t,0);if(!(e&1))return ri(t,dr()),null;var n=L1(t,e);if(t.tag!==0&&n===2){var r=db(t);r!==0&&(e=r,n=Vb(t,r))}if(n===1)throw n=fm,Bu(t,0),sc(t,e),ri(t,dr()),n;if(n===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vu(t,Zs,Ja),ri(t,dr()),null}function n_(t,e){var n=rn;rn|=1;try{return t(e)}finally{rn=n,rn===0&&(qh=dr()+500,Ly&&Zc())}}function Yu(t){hc!==null&&hc.tag===0&&!(rn&6)&&ph();var e=rn;rn|=1;var n=Ji.transition,r=gn;try{if(Ji.transition=null,gn=1,t)return t()}finally{gn=r,Ji.transition=n,rn=e,!(rn&6)&&Zc()}}function r_(){gi=rh.current,Un(rh)}function Bu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,a9(n)),vr!==null)for(n=vr.return;n!==null;){var r=n;switch(O5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&w1();break;case 3:zh(),Un(ti),Un(gs),H5();break;case 5:W5(r);break;case 4:zh();break;case 13:Un(Yn);break;case 19:Un(Yn);break;case 10:U5(r.type._context);break;case 22:case 23:r_()}n=n.return}if(Ur=t,vr=t=Ac(t.current,null),Qr=gi=e,jr=0,fm=null,e_=Fy=Ku=0,Zs=Cp=null,Au!==null){for(e=0;e<Au.length;e++)if(n=Au[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Au=null}return t}function kk(t,e){do{var n=vr;try{if(B5(),F0.current=k1,C1){for(var r=Xn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}C1=!1}if(Gu=0,Vr=kr=Xn=null,Tp=!1,um=0,J5.current=null,n===null||n.return===null){jr=1,fm=e,vr=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Qr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=$A(o);if(f!==null){f.flags&=-257,qA(f,o,a,i,e),f.mode&1&&zA(i,c,e),e=f,l=c;var b=e.updateQueue;if(b===null){var x=new Set;x.add(l),e.updateQueue=x}else b.add(l);break e}else{if(!(e&1)){zA(i,c,e),s_();break e}l=Error(De(426))}}else if(Hn&&a.mode&1){var w=$A(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),qA(w,o,a,i,e),F5($h(l,a));break e}}i=l=$h(l,a),jr!==4&&(jr=2),Cp===null?Cp=[i]:Cp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=fk(i,l,e);MA(i,v);break e;case 1:a=l;var _=i.type,A=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Sc===null||!Sc.has(A)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=pk(i,a,e);MA(i,R);break e}}i=i.return}while(i!==null)}Rk(n)}catch(F){e=F,vr===n&&n!==null&&(vr=n=n.return);continue}break}while(!0)}function jk(){var t=j1.current;return j1.current=k1,t===null?k1:t}function s_(){(jr===0||jr===3||jr===2)&&(jr=4),Ur===null||!(Ku&268435455)&&!(Fy&268435455)||sc(Ur,Qr)}function L1(t,e){var n=rn;rn|=2;var r=jk();(Ur!==t||Qr!==e)&&(Ja=null,Bu(t,e));do try{I9();break}catch(s){kk(t,s)}while(!0);if(B5(),rn=n,j1.current=r,vr!==null)throw Error(De(261));return Ur=null,Qr=0,jr}function I9(){for(;vr!==null;)Ik(vr)}function R9(){for(;vr!==null&&!sF();)Ik(vr)}function Ik(t){var e=Dk(t.alternate,t,gi);t.memoizedProps=t.pendingProps,e===null?Rk(t):vr=e,J5.current=null}function Rk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=E9(n,e),n!==null){n.flags&=32767,vr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jr=6,vr=null;return}}else if(n=A9(n,e,gi),n!==null){vr=n;return}if(e=e.sibling,e!==null){vr=e;return}vr=e=t}while(e!==null);jr===0&&(jr=5)}function vu(t,e,n){var r=gn,s=Ji.transition;try{Ji.transition=null,gn=1,L9(t,e,n,r)}finally{Ji.transition=s,gn=r}return null}function L9(t,e,n,r){do ph();while(hc!==null);if(rn&6)throw Error(De(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(pF(t,i),t===Ur&&(vr=Ur=null,Qr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jg||(Jg=!0,Mk(m1,function(){return ph(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ji.transition,Ji.transition=null;var o=gn;gn=1;var a=rn;rn|=4,J5.current=null,P9(t,n),Tk(n,t),e9(yb),y1=!!gb,yb=gb=null,t.current=n,C9(n),iF(),rn=a,gn=o,Ji.transition=i}else t.current=n;if(Jg&&(Jg=!1,hc=t,R1=s),i=t.pendingLanes,i===0&&(Sc=null),lF(n.stateNode),ri(t,dr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(I1)throw I1=!1,t=Ob,Ob=null,t;return R1&1&&t.tag!==0&&ph(),i=t.pendingLanes,i&1?t===Fb?kp++:(kp=0,Fb=t):kp=0,Zc(),null}function ph(){if(hc!==null){var t=f6(R1),e=Ji.transition,n=gn;try{if(Ji.transition=null,gn=16>t?16:t,hc===null)var r=!1;else{if(t=hc,hc=null,R1=0,rn&6)throw Error(De(331));var s=rn;for(rn|=4,Ke=t.current;Ke!==null;){var i=Ke,o=i.child;if(Ke.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ke=c;Ke!==null;){var d=Ke;switch(d.tag){case 0:case 11:case 15:Pp(8,d,i)}var h=d.child;if(h!==null)h.return=d,Ke=h;else for(;Ke!==null;){d=Ke;var p=d.sibling,f=d.return;if(Nk(d),d===c){Ke=null;break}if(p!==null){p.return=f,Ke=p;break}Ke=f}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}Ke=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ke=o;else e:for(;Ke!==null;){if(i=Ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pp(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ke=v;break e}Ke=i.return}}var _=t.current;for(Ke=_;Ke!==null;){o=Ke;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Ke=A;else e:for(o=_;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oy(9,a)}}catch(F){ir(a,a.return,F)}if(a===o){Ke=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Ke=R;break e}Ke=a.return}}if(rn=s,Zc(),ma&&typeof ma.onPostCommitFiberRoot=="function")try{ma.onPostCommitFiberRoot(Cy,t)}catch{}r=!0}return r}finally{gn=n,Ji.transition=e}}return!1}function r4(t,e,n){e=$h(n,e),e=fk(t,e,1),t=_c(t,e,1),e=Ls(),t!==null&&(Wm(t,1,e),ri(t,e))}function ir(t,e,n){if(t.tag===3)r4(t,t,n);else for(;e!==null;){if(e.tag===3){r4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sc===null||!Sc.has(r))){t=$h(n,t),t=pk(e,t,1),e=_c(e,t,1),t=Ls(),e!==null&&(Wm(e,1,t),ri(e,t));break}}e=e.return}}function D9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ls(),t.pingedLanes|=t.suspendedLanes&n,Ur===t&&(Qr&n)===n&&(jr===4||jr===3&&(Qr&130023424)===Qr&&500>dr()-t_?Bu(t,0):e_|=n),ri(t,e)}function Lk(t,e){e===0&&(t.mode&1?(e=$g,$g<<=1,!($g&130023424)&&($g=4194304)):e=1);var n=Ls();t=ul(t,e),t!==null&&(Wm(t,e,n),ri(t,n))}function M9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lk(t,n)}function O9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),Lk(t,n)}var Dk;Dk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ti.current)Js=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Js=!1,N9(t,e,n);Js=!!(t.flags&131072)}else Js=!1,Hn&&e.flags&1048576&&V6(e,N1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;B0(t,e),t=e.pendingProps;var s=Vh(e,gs.current);fh(e,n),s=K5(null,e,r,t,s,n);var i=Y5();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ni(r)?(i=!0,_1(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$5(e),s.updater=My,e.stateNode=s,s._reactInternals=e,Eb(e,r,t,n),e=Cb(null,e,r,!0,i,n)):(e.tag=0,Hn&&i&&M5(e),Ps(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(B0(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=V9(r),t=bo(r,t),s){case 0:e=Pb(null,e,r,t,n);break e;case 1:e=GA(null,e,r,t,n);break e;case 11:e=WA(null,e,r,t,n);break e;case 14:e=HA(null,e,r,bo(r.type,t),n);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bo(r,s),Pb(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bo(r,s),GA(t,e,r,s,n);case 3:e:{if(vk(e),t===null)throw Error(De(387));r=e.pendingProps,i=e.memoizedState,s=i.element,W6(t,e),T1(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$h(Error(De(423)),e),e=KA(t,e,r,n,s);break e}else if(r!==s){s=$h(Error(De(424)),e),e=KA(t,e,r,n,s);break e}else for(vi=wc(e.stateNode.containerInfo.firstChild),wi=e,Hn=!0,Ao=null,n=$6(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bh(),r===s){e=dl(t,e,n);break e}Ps(t,e,r,n)}e=e.child}return e;case 5:return H6(e),t===null&&Sb(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,vb(r,s)?o=null:i!==null&&vb(r,i)&&(e.flags|=32),yk(t,e),Ps(t,e,o,n),e.child;case 6:return t===null&&Sb(e),null;case 13:return xk(t,e,n);case 4:return q5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uh(e,null,r,n):Ps(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bo(r,s),WA(t,e,r,s,n);case 7:return Ps(t,e,e.pendingProps,n),e.child;case 8:return Ps(t,e,e.pendingProps.children,n),e.child;case 12:return Ps(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Rn(A1,r._currentValue),r._currentValue=o,i!==null)if(Io(i.value,o)){if(i.children===s.children&&!ti.current){e=dl(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=al(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Nb(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(De(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nb(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ps(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,fh(e,n),s=no(s),r=r(s),e.flags|=1,Ps(t,e,r,n),e.child;case 14:return r=e.type,s=bo(r,e.pendingProps),s=bo(r.type,s),HA(t,e,r,s,n);case 15:return mk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bo(r,s),B0(t,e),e.tag=1,ni(r)?(t=!0,_1(e)):t=!1,fh(e,n),hk(e,r,s),Eb(e,r,s,n),Cb(null,e,r,!0,t,n);case 19:return bk(t,e,n);case 22:return gk(t,e,n)}throw Error(De(156,e.tag))};function Mk(t,e){return c6(t,e)}function F9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(t,e,n,r){return new F9(t,e,n,r)}function i_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V9(t){if(typeof t=="function")return i_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N5)return 11;if(t===A5)return 14}return 2}function Ac(t,e){var n=t.alternate;return n===null?(n=Qi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $0(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")i_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gd:return Uu(n.children,s,i,e);case S5:o=8,s|=8;break;case Q2:return t=Qi(12,n,e,s|2),t.elementType=Q2,t.lanes=i,t;case X2:return t=Qi(13,n,e,s),t.elementType=X2,t.lanes=i,t;case Z2:return t=Qi(19,n,e,s),t.elementType=Z2,t.lanes=i,t;case HC:return Vy(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qC:o=10;break e;case WC:o=9;break e;case N5:o=11;break e;case A5:o=14;break e;case ec:o=16,r=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=Qi(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Uu(t,e,n,r){return t=Qi(7,t,r,e),t.lanes=n,t}function Vy(t,e,n,r){return t=Qi(22,t,r,e),t.elementType=HC,t.lanes=n,t.stateNode={isHidden:!1},t}function wx(t,e,n){return t=Qi(6,t,null,e),t.lanes=n,t}function _x(t,e,n){return e=Qi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function B9(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nx(0),this.expirationTimes=nx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nx(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function o_(t,e,n,r,s,i,o,a,l){return t=new B9(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Qi(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$5(i),t}function U9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ok(t){if(!t)return Mc;t=t._reactInternals;e:{if(ld(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var n=t.type;if(ni(n))return O6(t,n,e)}return e}function Fk(t,e,n,r,s,i,o,a,l){return t=o_(n,r,!0,t,s,i,o,a,l),t.context=Ok(null),n=t.current,r=Ls(),s=Nc(n),i=al(r,s),i.callback=e??null,_c(n,i,s),t.current.lanes=s,Wm(t,s,r),ri(t,r),t}function By(t,e,n,r){var s=e.current,i=Ls(),o=Nc(s);return n=Ok(n),e.context===null?e.context=n:e.pendingContext=n,e=al(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_c(s,e,o),t!==null&&(Co(t,s,o,i),O0(t,s,o)),o}function D1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function s4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function a_(t,e){s4(t,e),(t=t.alternate)&&s4(t,e)}function z9(){return null}var Vk=typeof reportError=="function"?reportError:function(t){console.error(t)};function l_(t){this._internalRoot=t}Uy.prototype.render=l_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));By(t,e,null,null)};Uy.prototype.unmount=l_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yu(function(){By(null,t,null,null)}),e[cl]=null}};function Uy(t){this._internalRoot=t}Uy.prototype.unstable_scheduleHydration=function(t){if(t){var e=g6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rc.length&&e!==0&&e<rc[n].priority;n++);rc.splice(n,0,t),n===0&&v6(t)}};function c_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function i4(){}function $9(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=D1(o);i.call(c)}}var o=Fk(e,r,t,0,null,!1,!1,"",i4);return t._reactRootContainer=o,t[cl]=o.current,im(t.nodeType===8?t.parentNode:t),Yu(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=D1(l);a.call(c)}}var l=o_(t,0,!1,null,null,!1,!1,"",i4);return t._reactRootContainer=l,t[cl]=l.current,im(t.nodeType===8?t.parentNode:t),Yu(function(){By(e,l,n,r)}),l}function $y(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=D1(o);a.call(l)}}By(e,o,t,s)}else o=$9(n,e,t,s,r);return D1(o)}p6=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hp(e.pendingLanes);n!==0&&(P5(e,n|1),ri(e,dr()),!(rn&6)&&(qh=dr()+500,Zc()))}break;case 13:Yu(function(){var r=ul(t,1);if(r!==null){var s=Ls();Co(r,t,1,s)}}),a_(t,1)}};C5=function(t){if(t.tag===13){var e=ul(t,134217728);if(e!==null){var n=Ls();Co(e,t,134217728,n)}a_(t,134217728)}};m6=function(t){if(t.tag===13){var e=Nc(t),n=ul(t,e);if(n!==null){var r=Ls();Co(n,t,e,r)}a_(t,e)}};g6=function(){return gn};y6=function(t,e){var n=gn;try{return gn=t,e()}finally{gn=n}};lb=function(t,e,n){switch(e){case"input":if(tb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ry(r);if(!s)throw Error(De(90));KC(r),tb(r,s)}}}break;case"textarea":QC(t,n);break;case"select":e=n.value,e!=null&&ch(t,!!n.multiple,e,!1)}};r6=n_;s6=Yu;var q9={usingClientEntryPoint:!1,Events:[Gm,Xd,Ry,t6,n6,n_]},np={findFiberByHostInstance:Nu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W9={bundleType:np.bundleType,version:np.version,rendererPackageName:np.rendererPackageName,rendererConfig:np.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a6(t),t===null?null:t.stateNode},findFiberByHostInstance:np.findFiberByHostInstance||z9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e0.isDisabled&&e0.supportsFiber)try{Cy=e0.inject(W9),ma=e0}catch{}}Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q9;Ti.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c_(e))throw Error(De(200));return U9(t,e,null,n)};Ti.createRoot=function(t,e){if(!c_(t))throw Error(De(299));var n=!1,r="",s=Vk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=o_(t,1,!1,null,null,n,!1,r,s),t[cl]=e.current,im(t.nodeType===8?t.parentNode:t),new l_(e)};Ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=a6(e),t=t===null?null:t.stateNode,t};Ti.flushSync=function(t){return Yu(t)};Ti.hydrate=function(t,e,n){if(!zy(e))throw Error(De(200));return $y(null,t,e,!0,n)};Ti.hydrateRoot=function(t,e,n){if(!c_(t))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fk(e,null,t,1,n??null,s,!1,i,o),t[cl]=e.current,im(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Uy(e)};Ti.render=function(t,e,n){if(!zy(e))throw Error(De(200));return $y(null,t,e,!1,n)};Ti.unmountComponentAtNode=function(t){if(!zy(t))throw Error(De(40));return t._reactRootContainer?(Yu(function(){$y(null,null,t,!1,function(){t._reactRootContainer=null,t[cl]=null})}),!0):!1};Ti.unstable_batchedUpdates=n_;Ti.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zy(n))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return $y(t,e,n,!1,r)};Ti.version="18.3.1-next-f1338f8080-20240426";function Bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bk)}catch(t){console.error(t)}}Bk(),BC.exports=Ti;var Ym=BC.exports;const Uk=PC(Ym);var zk,o4=Ym;zk=o4.createRoot,o4.hydrateRoot;const H9=1,G9=1e6;let Sx=0;function K9(){return Sx=(Sx+1)%Number.MAX_SAFE_INTEGER,Sx.toString()}const Nx=new Map,a4=t=>{if(Nx.has(t))return;const e=setTimeout(()=>{Nx.delete(t),jp({type:"REMOVE_TOAST",toastId:t})},G9);Nx.set(t,e)},Y9=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,H9)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?a4(n):t.toasts.forEach(r=>{a4(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},q0=[];let W0={toasts:[]};function jp(t){W0=Y9(W0,t),q0.forEach(e=>{e(W0)})}function Q9({...t}){const e=K9(),n=s=>jp({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>jp({type:"DISMISS_TOAST",toastId:e});return jp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function X9(){const[t,e]=L.useState(W0);return L.useEffect(()=>(q0.push(e),()=>{const n=q0.indexOf(e);n>-1&&q0.splice(n,1)}),[t]),{...t,toast:Q9,dismiss:n=>jp({type:"DISMISS_TOAST",toastId:n})}}function Gn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function l4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $k(...t){return e=>{let n=!1;const r=t.map(s=>{const i=l4(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():l4(t[s],null)}}}}function Ms(...t){return L.useCallback($k(...t),t)}function Z9(t,e){const n=L.createContext(e),r=i=>{const{children:o,...a}=i,l=L.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=L.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Qm(t,e=[]){let n=[];function r(i,o){const a=L.createContext(o),l=n.length;n=[...n,o];const c=h=>{var v;const{scope:p,children:f,...b}=h,x=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,w=L.useMemo(()=>b,Object.values(b));return u.jsx(x.Provider,{value:w,children:f})};c.displayName=i+"Provider";function d(h,p){var x;const f=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,b=L.useContext(f);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>L.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return L.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,J9(s,...e)]}function J9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return L.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function M1(t){const e=eV(t),n=L.forwardRef((r,s)=>{const{children:i,...o}=r,a=L.Children.toArray(i),l=a.find(nV);if(l){const c=l.props.children,d=a.map(h=>h===l?L.Children.count(c)>1?L.Children.only(null):L.isValidElement(c)?c.props.children:null:h);return u.jsx(e,{...o,ref:s,children:L.isValidElement(c)?L.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function eV(t){const e=L.forwardRef((n,r)=>{const{children:s,...i}=n;if(L.isValidElement(s)){const o=sV(s),a=rV(i,s.props);return s.type!==L.Fragment&&(a.ref=r?$k(r,o):o),L.cloneElement(s,a)}return L.Children.count(s)>1?L.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qk=Symbol("radix.slottable");function tV(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=qk,e}function nV(t){return L.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qk}function rV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function sV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function iV(t){const e=t+"CollectionProvider",[n,r]=Qm(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:v}=x,_=Ve.useRef(null),A=Ve.useRef(new Map).current;return u.jsx(s,{scope:w,itemMap:A,collectionRef:_,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=M1(a),c=Ve.forwardRef((x,w)=>{const{scope:v,children:_}=x,A=i(a,v),R=Ms(w,A.collectionRef);return u.jsx(l,{ref:R,children:_})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=M1(d),f=Ve.forwardRef((x,w)=>{const{scope:v,children:_,...A}=x,R=Ve.useRef(null),F=Ms(w,R),$=i(d,v);return Ve.useEffect(()=>($.itemMap.set(R,{ref:R,...A}),()=>void $.itemMap.delete(R))),u.jsx(p,{[h]:"",ref:F,children:_})});f.displayName=d;function b(x){const w=i(t+"CollectionConsumer",x);return Ve.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const A=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort(($,I)=>A.indexOf($.ref.current)-A.indexOf(I.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},b,r]}var oV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_r=oV.reduce((t,e)=>{const n=M1(`Primitive.${e}`),r=L.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Wk(t,e){t&&Ym.flushSync(()=>t.dispatchEvent(e))}function Ea(t){const e=L.useRef(t);return L.useEffect(()=>{e.current=t}),L.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function aV(t,e=globalThis==null?void 0:globalThis.document){const n=Ea(t);L.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lV="DismissableLayer",Ub="dismissableLayer.update",cV="dismissableLayer.pointerDownOutside",uV="dismissableLayer.focusOutside",c4,Hk=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qy=L.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=L.useContext(Hk),[d,h]=L.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=L.useState({}),b=Ms(e,I=>h(I)),x=Array.from(c.layers),[w]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(w),_=d?x.indexOf(d):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,R=_>=v,F=hV(I=>{const E=I.target,C=[...c.branches].some(M=>M.contains(E));!R||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),$=fV(I=>{const E=I.target;[...c.branches].some(M=>M.contains(E))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return aV(I=>{_===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),L.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(c4=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),u4(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=c4)}},[d,p,n,c]),L.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),u4())},[d,c]),L.useEffect(()=>{const I=()=>f({});return document.addEventListener(Ub,I),()=>document.removeEventListener(Ub,I)},[]),u.jsx(_r.div,{...l,ref:b,style:{pointerEvents:A?R?"auto":"none":void 0,...t.style},onFocusCapture:Gn(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Gn(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Gn(t.onPointerDownCapture,F.onPointerDownCapture)})});qy.displayName=lV;var dV="DismissableLayerBranch",Gk=L.forwardRef((t,e)=>{const n=L.useContext(Hk),r=L.useRef(null),s=Ms(e,r);return L.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(_r.div,{...t,ref:s})});Gk.displayName=dV;function hV(t,e=globalThis==null?void 0:globalThis.document){const n=Ea(t),r=L.useRef(!1),s=L.useRef(()=>{});return L.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Kk(cV,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fV(t,e=globalThis==null?void 0:globalThis.document){const n=Ea(t),r=L.useRef(!1);return L.useEffect(()=>{const s=i=>{i.target&&!r.current&&Kk(uV,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function u4(){const t=new CustomEvent(Ub);document.dispatchEvent(t)}function Kk(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Wk(s,i):s.dispatchEvent(i)}var pV=qy,mV=Gk,hl=globalThis!=null&&globalThis.document?L.useLayoutEffect:()=>{},gV="Portal",u_=L.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=L.useState(!1);hl(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Uk.createPortal(u.jsx(_r.div,{...r,ref:e}),o):null});u_.displayName=gV;function yV(t,e){return L.useReducer((n,r)=>e[n][r]??n,t)}var cf=t=>{const{present:e,children:n}=t,r=vV(e),s=typeof n=="function"?n({present:r.isPresent}):L.Children.only(n),i=Ms(r.ref,xV(s));return typeof n=="function"||r.isPresent?L.cloneElement(s,{ref:i}):null};cf.displayName="Presence";function vV(t){const[e,n]=L.useState(),r=L.useRef(null),s=L.useRef(t),i=L.useRef("none"),o=t?"mounted":"unmounted",[a,l]=yV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const c=t0(r.current);i.current=a==="mounted"?c:"none"},[a]),hl(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,f=t0(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),hl(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=f=>{const x=t0(r.current).includes(f.animationName);if(f.target===e&&x&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=f=>{f.target===e&&(i.current=t0(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:L.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function t0(t){return(t==null?void 0:t.animationName)||"none"}function xV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bV=x5[" useInsertionEffect ".trim().toString()]||hl;function Yk({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=wV({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=L.useRef(t!==void 0);L.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=L.useCallback(d=>{var h;if(a){const p=_V(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[l,c]}function wV({defaultProp:t,onChange:e}){const[n,r]=L.useState(t),s=L.useRef(n),i=L.useRef(e);return bV(()=>{i.current=e},[e]),L.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function _V(t){return typeof t=="function"}var SV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NV="VisuallyHidden",Wy=L.forwardRef((t,e)=>u.jsx(_r.span,{...t,ref:e,style:{...SV,...t.style}}));Wy.displayName=NV;var AV=Wy,d_="ToastProvider",[h_,EV,TV]=iV("Toast"),[Qk,zle]=Qm("Toast",[TV]),[PV,Hy]=Qk(d_),Xk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=L.useState(null),[c,d]=L.useState(0),h=L.useRef(!1),p=L.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${d_}\`. Expected non-empty \`string\`.`),u.jsx(h_.Provider,{scope:e,children:u.jsx(PV,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:L.useCallback(()=>d(f=>f+1),[]),onToastRemove:L.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};Xk.displayName=d_;var Zk="ToastViewport",CV=["F8"],zb="toast.viewportPause",$b="toast.viewportResume",Jk=L.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=CV,label:s="Notifications ({hotkey})",...i}=t,o=Hy(Zk,n),a=EV(n),l=L.useRef(null),c=L.useRef(null),d=L.useRef(null),h=L.useRef(null),p=Ms(e,h,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;L.useEffect(()=>{const w=v=>{var A;r.length!==0&&r.every(R=>v[R]||v.code===R)&&((A=h.current)==null||A.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),L.useEffect(()=>{const w=l.current,v=h.current;if(b&&w&&v){const _=()=>{if(!o.isClosePausedRef.current){const $=new CustomEvent(zb);v.dispatchEvent($),o.isClosePausedRef.current=!0}},A=()=>{if(o.isClosePausedRef.current){const $=new CustomEvent($b);v.dispatchEvent($),o.isClosePausedRef.current=!1}},R=$=>{!w.contains($.relatedTarget)&&A()},F=()=>{w.contains(document.activeElement)||A()};return w.addEventListener("focusin",_),w.addEventListener("focusout",R),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",F),window.addEventListener("blur",_),window.addEventListener("focus",A),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",R),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",F),window.removeEventListener("blur",_),window.removeEventListener("focus",A)}}},[b,o.isClosePausedRef]);const x=L.useCallback(({tabbingDirection:w})=>{const _=a().map(A=>{const R=A.ref.current,F=[R,...zV(R)];return w==="forwards"?F:F.reverse()});return(w==="forwards"?_.reverse():_).flat()},[a]);return L.useEffect(()=>{const w=h.current;if(w){const v=_=>{var F,$,I;const A=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!A){const E=document.activeElement,C=_.shiftKey;if(_.target===w&&C){(F=c.current)==null||F.focus();return}const T=x({tabbingDirection:C?"backwards":"forwards"}),k=T.findIndex(z=>z===E);Ax(T.slice(k+1))?_.preventDefault():C?($=c.current)==null||$.focus():(I=d.current)==null||I.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,x]),u.jsxs(mV,{ref:l,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&u.jsx(qb,{ref:c,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});Ax(w)}}),u.jsx(h_.Slot,{scope:n,children:u.jsx(_r.ol,{tabIndex:-1,...i,ref:p})}),b&&u.jsx(qb,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});Ax(w)}})]})});Jk.displayName=Zk;var ej="ToastFocusProxy",qb=L.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Hy(ej,n);return u.jsx(Wy,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});qb.displayName=ej;var Xm="Toast",kV="toast.swipeStart",jV="toast.swipeMove",IV="toast.swipeCancel",RV="toast.swipeEnd",tj=L.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Yk({prop:r,defaultProp:s??!0,onChange:i,caller:Xm});return u.jsx(cf,{present:n||a,children:u.jsx(MV,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ea(t.onPause),onResume:Ea(t.onResume),onSwipeStart:Gn(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Gn(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Gn(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Gn(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});tj.displayName=Xm;var[LV,DV]=Qk(Xm,{onClose(){}}),MV=L.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...b}=t,x=Hy(Xm,n),[w,v]=L.useState(null),_=Ms(e,z=>v(z)),A=L.useRef(null),R=L.useRef(null),F=s||x.duration,$=L.useRef(0),I=L.useRef(F),E=L.useRef(0),{onToastAdd:C,onToastRemove:M}=x,N=Ea(()=>{var K;(w==null?void 0:w.contains(document.activeElement))&&((K=x.viewport)==null||K.focus()),o()}),T=L.useCallback(z=>{!z||z===1/0||(window.clearTimeout(E.current),$.current=new Date().getTime(),E.current=window.setTimeout(N,z))},[N]);L.useEffect(()=>{const z=x.viewport;if(z){const K=()=>{T(I.current),c==null||c()},ae=()=>{const ie=new Date().getTime()-$.current;I.current=I.current-ie,window.clearTimeout(E.current),l==null||l()};return z.addEventListener(zb,ae),z.addEventListener($b,K),()=>{z.removeEventListener(zb,ae),z.removeEventListener($b,K)}}},[x.viewport,F,l,c,T]),L.useEffect(()=>{i&&!x.isClosePausedRef.current&&T(F)},[i,F,x.isClosePausedRef,T]),L.useEffect(()=>(C(),()=>M()),[C,M]);const k=L.useMemo(()=>w?lj(w):null,[w]);return x.viewport?u.jsxs(u.Fragment,{children:[k&&u.jsx(OV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),u.jsx(LV,{scope:n,onClose:N,children:Ym.createPortal(u.jsx(h_.ItemSlot,{scope:n,children:u.jsx(pV,{asChild:!0,onEscapeKeyDown:Gn(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||N(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(_r.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Gn(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:Gn(t.onPointerDown,z=>{z.button===0&&(A.current={x:z.clientX,y:z.clientY})}),onPointerMove:Gn(t.onPointerMove,z=>{if(!A.current)return;const K=z.clientX-A.current.x,ae=z.clientY-A.current.y,ie=!!R.current,Y=["left","right"].includes(x.swipeDirection),ee=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,se=Y?ee(0,K):0,ce=Y?0:ee(0,ae),V=z.pointerType==="touch"?10:2,Q={x:se,y:ce},Z={originalEvent:z,delta:Q};ie?(R.current=Q,n0(jV,h,Z,{discrete:!1})):d4(Q,x.swipeDirection,V)?(R.current=Q,n0(kV,d,Z,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(K)>V||Math.abs(ae)>V)&&(A.current=null)}),onPointerUp:Gn(t.onPointerUp,z=>{const K=R.current,ae=z.target;if(ae.hasPointerCapture(z.pointerId)&&ae.releasePointerCapture(z.pointerId),R.current=null,A.current=null,K){const ie=z.currentTarget,Y={originalEvent:z,delta:K};d4(K,x.swipeDirection,x.swipeThreshold)?n0(RV,f,Y,{discrete:!0}):n0(IV,p,Y,{discrete:!0}),ie.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),OV=t=>{const{__scopeToast:e,children:n,...r}=t,s=Hy(Xm,e),[i,o]=L.useState(!1),[a,l]=L.useState(!1);return BV(()=>o(!0)),L.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(u_,{asChild:!0,children:u.jsx(Wy,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},FV="ToastTitle",nj=L.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(_r.div,{...r,ref:e})});nj.displayName=FV;var VV="ToastDescription",rj=L.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(_r.div,{...r,ref:e})});rj.displayName=VV;var sj="ToastAction",ij=L.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(aj,{altText:n,asChild:!0,children:u.jsx(f_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${sj}\`. Expected non-empty \`string\`.`),null)});ij.displayName=sj;var oj="ToastClose",f_=L.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=DV(oj,n);return u.jsx(aj,{asChild:!0,children:u.jsx(_r.button,{type:"button",...r,ref:e,onClick:Gn(t.onClick,s.onClose)})})});f_.displayName=oj;var aj=L.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(_r.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function lj(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),UV(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...lj(r))}}),e}function n0(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Wk(s,i):s.dispatchEvent(i)}var d4=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function BV(t=()=>{}){const e=Ea(t);hl(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function UV(t){return t.nodeType===t.ELEMENT_NODE}function zV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ax(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var $V=Xk,cj=Jk,uj=tj,dj=nj,hj=rj,fj=ij,pj=f_;function mj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=mj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gj(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=mj(t))&&(r&&(r+=" "),r+=e);return r}const h4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,f4=gj,qV=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return f4(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const p=h4(d)||h4(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(b=>{let[x,w]=b;return Array.isArray(w)?w.includes({...i,...a}[x]):{...i,...a}[x]===w})?[...c,h,p]:c},[]);return f4(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>L.createElement("svg",{ref:l,...HV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:yj("lucide",s),...a},[...o.map(([c,d])=>L.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(t,e)=>{const n=L.forwardRef(({className:r,...s},i)=>L.createElement(GV,{ref:i,iconNode:e,className:yj(`lucide-${WV(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ot("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=Ot("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Ot("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=Ot("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=Ot("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=Ot("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=Ot("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=Ot("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=Ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=Ot("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=Ot("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=Ot("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=Ot("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=Ot("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=Ot("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=Ot("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Ot("Grape",[["path",{d:"M22 5V2l-5.89 5.89",key:"1eenpo"}],["circle",{cx:"16.6",cy:"15.89",r:"3",key:"xjtalx"}],["circle",{cx:"8.11",cy:"7.4",r:"3",key:"u2fv6i"}],["circle",{cx:"12.35",cy:"11.65",r:"3",key:"i6i8g7"}],["circle",{cx:"13.91",cy:"5.85",r:"3",key:"6ye0dv"}],["circle",{cx:"18.15",cy:"10.09",r:"3",key:"snx9no"}],["circle",{cx:"6.56",cy:"13.2",r:"3",key:"17x4xg"}],["circle",{cx:"10.8",cy:"17.44",r:"3",key:"1hogw9"}],["circle",{cx:"5",cy:"19",r:"3",key:"1sn6vo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Ot("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=Ot("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=Ot("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=Ot("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Ot("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=Ot("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=Ot("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Ot("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Ot("Salad",[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Ot("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=Ot("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Ot("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Ot("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=Ot("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=Ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=Ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Ot("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=Ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g_="-",cB=t=>{const e=dB(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(g_);return a[0]===""&&a.length!==1&&a.shift(),wj(a,e)||uB(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},wj=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?wj(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(g_);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},p4=/^\[(.+)\]$/,uB=t=>{if(p4.test(t)){const e=p4.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dB=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return fB(Object.entries(t.classGroups),n).forEach(([i,o])=>{Wb(o,r,i,e)}),r},Wb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:m4(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(hB(s)){Wb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Wb(o,m4(e,i),n,r)})})},m4=(t,e)=>{let n=t;return e.split(g_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},hB=t=>t.isThemeGetter,fB=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,pB=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},_j="!",mB=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let w=0;w<a.length;w++){let v=a[w];if(c===0){if(v===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(d,w)),d=w+i;continue}if(v==="/"){h=w;continue}}v==="["?c++:v==="]"&&c--}const p=l.length===0?a:a.substring(d),f=p.startsWith(_j),b=f?p.substring(1):p,x=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:b,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},gB=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},yB=t=>({cache:pB(t.cacheSize),parseClassName:mB(t),...cB(t)}),vB=/\s+/,xB=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(vB);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=n(c);let b=!!f,x=r(b?p.substring(0,f):p);if(!x){if(!b){a=c+(a.length>0?" "+a:a);continue}if(x=r(p),!x){a=c+(a.length>0?" "+a:a);continue}b=!1}const w=gB(d).join(":"),v=h?w+_j:w,_=v+x;if(i.includes(_))continue;i.push(_);const A=s(x,b);for(let R=0;R<A.length;++R){const F=A[R];i.push(v+F)}a=c+(a.length>0?" "+a:a)}return a};function bB(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Sj(e))&&(r&&(r+=" "),r+=n);return r}const Sj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Sj(t[r]))&&(n&&(n+=" "),n+=e);return n};function wB(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=yB(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=xB(l,n);return s(l,d),d}return function(){return i(bB.apply(null,arguments))}}const Mn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Nj=/^\[(?:([a-z-]+):)?(.+)\]$/i,_B=/^\d+\/\d+$/,SB=new Set(["px","full","screen"]),NB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ya=t=>mh(t)||SB.has(t)||_B.test(t),Hl=t=>df(t,"length",MB),mh=t=>!!t&&!Number.isNaN(Number(t)),Tx=t=>df(t,"number",mh),rp=t=>!!t&&Number.isInteger(Number(t)),CB=t=>t.endsWith("%")&&mh(t.slice(0,-1)),Bt=t=>Nj.test(t),Gl=t=>NB.test(t),kB=new Set(["length","size","percentage"]),jB=t=>df(t,kB,Aj),IB=t=>df(t,"position",Aj),RB=new Set(["image","url"]),LB=t=>df(t,RB,FB),DB=t=>df(t,"",OB),sp=()=>!0,df=(t,e,n)=>{const r=Nj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},MB=t=>AB.test(t)&&!EB.test(t),Aj=()=>!1,OB=t=>TB.test(t),FB=t=>PB.test(t),VB=()=>{const t=Mn("colors"),e=Mn("spacing"),n=Mn("blur"),r=Mn("brightness"),s=Mn("borderColor"),i=Mn("borderRadius"),o=Mn("borderSpacing"),a=Mn("borderWidth"),l=Mn("contrast"),c=Mn("grayscale"),d=Mn("hueRotate"),h=Mn("invert"),p=Mn("gap"),f=Mn("gradientColorStops"),b=Mn("gradientColorStopPositions"),x=Mn("inset"),w=Mn("margin"),v=Mn("opacity"),_=Mn("padding"),A=Mn("saturate"),R=Mn("scale"),F=Mn("sepia"),$=Mn("skew"),I=Mn("space"),E=Mn("translate"),C=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",Bt,e],T=()=>[Bt,e],k=()=>["",Ya,Hl],z=()=>["auto",mh,Bt],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Bt],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[mh,Bt];return{cacheSize:500,separator:":",theme:{colors:[sp],spacing:[Ya,Hl],blur:["none","",Gl,Bt],brightness:ce(),borderColor:[t],borderRadius:["none","","full",Gl,Bt],borderSpacing:T(),borderWidth:k(),contrast:ce(),grayscale:ee(),hueRotate:ce(),invert:ee(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[CB,Hl],inset:N(),margin:N(),opacity:ce(),padding:T(),saturate:ce(),scale:ce(),sepia:ee(),skew:ce(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Bt]}],container:["container"],columns:[{columns:[Gl]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Bt]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rp,Bt]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Bt]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",rp,Bt]}],"grid-cols":[{"grid-cols":[sp]}],"col-start-end":[{col:["auto",{span:["full",rp,Bt]},Bt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[sp]}],"row-start-end":[{row:["auto",{span:[rp,Bt]},Bt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Bt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Bt,e]}],"min-w":[{"min-w":[Bt,e,"min","max","fit"]}],"max-w":[{"max-w":[Bt,e,"none","full","min","max","fit","prose",{screen:[Gl]},Gl]}],h:[{h:[Bt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Bt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Bt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Bt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Gl,Hl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tx]}],"font-family":[{font:[sp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Bt]}],"line-clamp":[{"line-clamp":["none",mh,Tx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ya,Bt]}],"list-image":[{"list-image":["none",Bt]}],"list-style-type":[{list:["none","disc","decimal",Bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ya,Hl]}],"underline-offset":[{"underline-offset":["auto",Ya,Bt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),IB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LB]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ae()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[Ya,Bt]}],"outline-w":[{outline:[Ya,Hl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ya,Hl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Gl,DB]}],"shadow-color":[{shadow:[sp]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Gl,Bt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[A]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Bt]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",Bt]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",Bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[rp,Bt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Bt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ya,Hl,Tx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BB=wB(VB);function io(...t){return BB(gj(t))}const UB=$V,Ej=L.forwardRef(({className:t,...e},n)=>u.jsx(cj,{ref:n,className:io("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Ej.displayName=cj.displayName;const zB=qV("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Tj=L.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(uj,{ref:r,className:io(zB({variant:e}),t),...n}));Tj.displayName=uj.displayName;const $B=L.forwardRef(({className:t,...e},n)=>u.jsx(fj,{ref:n,className:io("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));$B.displayName=fj.displayName;const Pj=L.forwardRef(({className:t,...e},n)=>u.jsx(pj,{ref:n,className:io("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Ci,{className:"h-4 w-4"})}));Pj.displayName=pj.displayName;const Cj=L.forwardRef(({className:t,...e},n)=>u.jsx(dj,{ref:n,className:io("text-sm font-semibold",t),...e}));Cj.displayName=dj.displayName;const kj=L.forwardRef(({className:t,...e},n)=>u.jsx(hj,{ref:n,className:io("text-sm opacity-90",t),...e}));kj.displayName=hj.displayName;function qB(){const{toasts:t}=X9();return u.jsxs(UB,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(Tj,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Cj,{children:n}),r&&u.jsx(kj,{children:r})]}),s,u.jsx(Pj,{})]},e)}),u.jsx(Ej,{})]})}var g4=["light","dark"],WB="(prefers-color-scheme: dark)",HB=L.createContext(void 0),GB={setTheme:t=>{},themes:[]},KB=()=>{var t;return(t=L.useContext(HB))!=null?t:GB};L.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?g4.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,x=!1,w=!0)=>{let v=o?o[b]:b,_=x?b+"|| ''":`'${v}'`,A="";return s&&w&&!x&&g4.includes(b)&&(A+=`d.style.colorScheme = '${b}';`),n==="class"?x||v?A+=`c.add(${_})`:A+="null":v&&(A+=`d[s](n,${_})`),A},f=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${WB}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return L.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var YB=t=>{switch(t){case"success":return ZB;case"info":return eU;case"warning":return JB;case"error":return tU;default:return null}},QB=Array(12).fill(0),XB=({visible:t,className:e})=>Ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ve.createElement("div",{className:"sonner-spinner"},QB.map((n,r)=>Ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ZB=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JB=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eU=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tU=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nU=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rU=()=>{let[t,e]=Ve.useState(document.hidden);return Ve.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Hb=1,sU=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Hb++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],Ve.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(oU(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Hb++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Qs=new sU,iU=(t,e)=>{let n=(e==null?void 0:e.id)||Hb++;return Qs.addToast({title:t,...e,id:n}),n},oU=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",aU=iU,lU=()=>Qs.toasts,cU=()=>Qs.getActiveToasts();Object.assign(aU,{success:Qs.success,info:Qs.info,warning:Qs.warning,error:Qs.error,custom:Qs.custom,message:Qs.message,promise:Qs.promise,dismiss:Qs.dismiss,loading:Qs.loading},{getHistory:lU,getToasts:cU});function uU(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}uU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function s0(t){return t.label!==void 0}var dU=3,hU="32px",fU="16px",y4=4e3,pU=356,mU=14,gU=20,yU=200;function go(...t){return t.filter(Boolean).join(" ")}function vU(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var xU=t=>{var e,n,r,s,i,o,a,l,c,d,h;let{invert:p,toast:f,unstyled:b,interacting:x,setHeights:w,visibleToasts:v,heights:_,index:A,toasts:R,expanded:F,removeToast:$,defaultRichColors:I,closeButton:E,style:C,cancelButtonStyle:M,actionButtonStyle:N,className:T="",descriptionClassName:k="",duration:z,position:K,gap:ae,loadingIcon:ie,expandByDefault:Y,classNames:ee,icons:se,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:V}=t,[Q,Z]=Ve.useState(null),[le,de]=Ve.useState(null),[pe,oe]=Ve.useState(!1),[fe,_e]=Ve.useState(!1),[Pe,Me]=Ve.useState(!1),[Oe,$e]=Ve.useState(!1),[J,Be]=Ve.useState(!1),[St,ot]=Ve.useState(0),[Ne,qe]=Ve.useState(0),ze=Ve.useRef(f.duration||z||y4),ht=Ve.useRef(null),Ye=Ve.useRef(null),Xt=A===0,kt=A+1<=v,lt=f.type,Pt=f.dismissible!==!1,Mt=f.className||"",et=f.descriptionClassName||"",bt=Ve.useMemo(()=>_.findIndex(ft=>ft.toastId===f.id)||0,[_,f.id]),tt=Ve.useMemo(()=>{var ft;return(ft=f.closeButton)!=null?ft:E},[f.closeButton,E]),yn=Ve.useMemo(()=>f.duration||z||y4,[f.duration,z]),Rt=Ve.useRef(0),xt=Ve.useRef(0),Et=Ve.useRef(0),Ut=Ve.useRef(null),[ct,tn]=K.split("-"),mt=Ve.useMemo(()=>_.reduce((ft,Nt,qt)=>qt>=bt?ft:ft+Nt.height,0),[_,bt]),yt=rU(),un=f.invert||p,ut=lt==="loading";xt.current=Ve.useMemo(()=>bt*ae+mt,[bt,mt]),Ve.useEffect(()=>{ze.current=yn},[yn]),Ve.useEffect(()=>{oe(!0)},[]),Ve.useEffect(()=>{let ft=Ye.current;if(ft){let Nt=ft.getBoundingClientRect().height;return qe(Nt),w(qt=>[{toastId:f.id,height:Nt,position:f.position},...qt]),()=>w(qt=>qt.filter(dn=>dn.toastId!==f.id))}},[w,f.id]),Ve.useLayoutEffect(()=>{if(!pe)return;let ft=Ye.current,Nt=ft.style.height;ft.style.height="auto";let qt=ft.getBoundingClientRect().height;ft.style.height=Nt,qe(qt),w(dn=>dn.find(Xe=>Xe.toastId===f.id)?dn.map(Xe=>Xe.toastId===f.id?{...Xe,height:qt}:Xe):[{toastId:f.id,height:qt,position:f.position},...dn])},[pe,f.title,f.description,w,f.id]);let nt=Ve.useCallback(()=>{_e(!0),ot(xt.current),w(ft=>ft.filter(Nt=>Nt.toastId!==f.id)),setTimeout(()=>{$(f)},yU)},[f,$,w,xt]);Ve.useEffect(()=>{if(f.promise&&lt==="loading"||f.duration===1/0||f.type==="loading")return;let ft;return F||x||V&&yt?(()=>{if(Et.current<Rt.current){let Nt=new Date().getTime()-Rt.current;ze.current=ze.current-Nt}Et.current=new Date().getTime()})():ze.current!==1/0&&(Rt.current=new Date().getTime(),ft=setTimeout(()=>{var Nt;(Nt=f.onAutoClose)==null||Nt.call(f,f),nt()},ze.current)),()=>clearTimeout(ft)},[F,x,f,lt,V,yt,nt]),Ve.useEffect(()=>{f.delete&&nt()},[nt,f.delete]);function zt(){var ft,Nt,qt;return se!=null&&se.loading?Ve.createElement("div",{className:go(ee==null?void 0:ee.loader,(ft=f==null?void 0:f.classNames)==null?void 0:ft.loader,"sonner-loader"),"data-visible":lt==="loading"},se.loading):ie?Ve.createElement("div",{className:go(ee==null?void 0:ee.loader,(Nt=f==null?void 0:f.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":lt==="loading"},ie):Ve.createElement(XB,{className:go(ee==null?void 0:ee.loader,(qt=f==null?void 0:f.classNames)==null?void 0:qt.loader),visible:lt==="loading"})}return Ve.createElement("li",{tabIndex:0,ref:Ye,className:go(T,Mt,ee==null?void 0:ee.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,ee==null?void 0:ee.default,ee==null?void 0:ee[lt],(n=f==null?void 0:f.classNames)==null?void 0:n[lt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:I,"data-styled":!(f.jsx||f.unstyled||b),"data-mounted":pe,"data-promise":!!f.promise,"data-swiped":J,"data-removed":fe,"data-visible":kt,"data-y-position":ct,"data-x-position":tn,"data-index":A,"data-front":Xt,"data-swiping":Pe,"data-dismissible":Pt,"data-type":lt,"data-invert":un,"data-swipe-out":Oe,"data-swipe-direction":le,"data-expanded":!!(F||Y&&pe),style:{"--index":A,"--toasts-before":A,"--z-index":R.length-A,"--offset":`${fe?St:xt.current}px`,"--initial-height":Y?"auto":`${Ne}px`,...C,...f.style},onDragEnd:()=>{Me(!1),Z(null),Ut.current=null},onPointerDown:ft=>{ut||!Pt||(ht.current=new Date,ot(xt.current),ft.target.setPointerCapture(ft.pointerId),ft.target.tagName!=="BUTTON"&&(Me(!0),Ut.current={x:ft.clientX,y:ft.clientY}))},onPointerUp:()=>{var ft,Nt,qt,dn;if(Oe||!Pt)return;Ut.current=null;let Xe=Number(((ft=Ye.current)==null?void 0:ft.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),mr=Number(((Nt=Ye.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),er=new Date().getTime()-((qt=ht.current)==null?void 0:qt.getTime()),vn=Q==="x"?Xe:mr,$n=Math.abs(vn)/er;if(Math.abs(vn)>=gU||$n>.11){ot(xt.current),(dn=f.onDismiss)==null||dn.call(f,f),de(Q==="x"?Xe>0?"right":"left":mr>0?"down":"up"),nt(),$e(!0),Be(!1);return}Me(!1),Z(null)},onPointerMove:ft=>{var Nt,qt,dn,Xe;if(!Ut.current||!Pt||((Nt=window.getSelection())==null?void 0:Nt.toString().length)>0)return;let mr=ft.clientY-Ut.current.y,er=ft.clientX-Ut.current.x,vn=(qt=t.swipeDirections)!=null?qt:vU(K);!Q&&(Math.abs(er)>1||Math.abs(mr)>1)&&Z(Math.abs(er)>Math.abs(mr)?"x":"y");let $n={x:0,y:0};Q==="y"?(vn.includes("top")||vn.includes("bottom"))&&(vn.includes("top")&&mr<0||vn.includes("bottom")&&mr>0)&&($n.y=mr):Q==="x"&&(vn.includes("left")||vn.includes("right"))&&(vn.includes("left")&&er<0||vn.includes("right")&&er>0)&&($n.x=er),(Math.abs($n.x)>0||Math.abs($n.y)>0)&&Be(!0),(dn=Ye.current)==null||dn.style.setProperty("--swipe-amount-x",`${$n.x}px`),(Xe=Ye.current)==null||Xe.style.setProperty("--swipe-amount-y",`${$n.y}px`)}},tt&&!f.jsx?Ve.createElement("button",{"aria-label":ce,"data-disabled":ut,"data-close-button":!0,onClick:ut||!Pt?()=>{}:()=>{var ft;nt(),(ft=f.onDismiss)==null||ft.call(f,f)},className:go(ee==null?void 0:ee.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=se==null?void 0:se.close)!=null?i:nU):null,f.jsx||L.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:Ve.createElement(Ve.Fragment,null,lt||f.icon||f.promise?Ve.createElement("div",{"data-icon":"",className:go(ee==null?void 0:ee.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||zt():null,f.type!=="loading"?f.icon||(se==null?void 0:se[lt])||YB(lt):null):null,Ve.createElement("div",{"data-content":"",className:go(ee==null?void 0:ee.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},Ve.createElement("div",{"data-title":"",className:go(ee==null?void 0:ee.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?Ve.createElement("div",{"data-description":"",className:go(k,et,ee==null?void 0:ee.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),L.isValidElement(f.cancel)?f.cancel:f.cancel&&s0(f.cancel)?Ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||M,onClick:ft=>{var Nt,qt;s0(f.cancel)&&Pt&&((qt=(Nt=f.cancel).onClick)==null||qt.call(Nt,ft),nt())},className:go(ee==null?void 0:ee.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,L.isValidElement(f.action)?f.action:f.action&&s0(f.action)?Ve.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||N,onClick:ft=>{var Nt,qt;s0(f.action)&&((qt=(Nt=f.action).onClick)==null||qt.call(Nt,ft),!ft.defaultPrevented&&nt())},className:go(ee==null?void 0:ee.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function v4(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function bU(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?fU:hU;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var wU=L.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:b=dU,toastOptions:x,dir:w=v4(),gap:v=mU,loadingIcon:_,icons:A,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:F}=t,[$,I]=Ve.useState([]),E=Ve.useMemo(()=>Array.from(new Set([r].concat($.filter(V=>V.position).map(V=>V.position)))),[$,r]),[C,M]=Ve.useState([]),[N,T]=Ve.useState(!1),[k,z]=Ve.useState(!1),[K,ae]=Ve.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=Ve.useRef(null),Y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=Ve.useRef(null),se=Ve.useRef(!1),ce=Ve.useCallback(V=>{I(Q=>{var Z;return(Z=Q.find(le=>le.id===V.id))!=null&&Z.delete||Qs.dismiss(V.id),Q.filter(({id:le})=>le!==V.id)})},[]);return Ve.useEffect(()=>Qs.subscribe(V=>{if(V.dismiss){I(Q=>Q.map(Z=>Z.id===V.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{Uk.flushSync(()=>{I(Q=>{let Z=Q.findIndex(le=>le.id===V.id);return Z!==-1?[...Q.slice(0,Z),{...Q[Z],...V},...Q.slice(Z+1)]:[V,...Q]})})})}),[]),Ve.useEffect(()=>{if(d!=="system"){ae(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:Q})=>{ae(Q?"dark":"light")})}catch{V.addListener(({matches:Z})=>{try{ae(Z?"dark":"light")}catch(le){console.error(le)}})}},[d]),Ve.useEffect(()=>{$.length<=1&&T(!1)},[$]),Ve.useEffect(()=>{let V=Q=>{var Z,le;s.every(de=>Q[de]||Q.code===de)&&(T(!0),(Z=ie.current)==null||Z.focus()),Q.code==="Escape"&&(document.activeElement===ie.current||(le=ie.current)!=null&&le.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),Ve.useEffect(()=>{if(ie.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,se.current=!1)}},[ie.current]),Ve.createElement("section",{ref:e,"aria-label":`${R} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((V,Q)=>{var Z;let[le,de]=V.split("-");return $.length?Ve.createElement("ol",{key:V,dir:w==="auto"?v4():w,tabIndex:-1,ref:ie,className:a,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":le,"data-lifted":N&&$.length>1&&!i,"data-x-position":de,style:{"--front-toast-height":`${((Z=C[0])==null?void 0:Z.height)||0}px`,"--width":`${pU}px`,"--gap":`${v}px`,...f,...bU(l,c)},onBlur:pe=>{se.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(se.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||se.current||(se.current=!0,ee.current=pe.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{k||T(!1)},onDragEnd:()=>T(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},$.filter(pe=>!pe.position&&Q===0||pe.position===V).map((pe,oe)=>{var fe,_e;return Ve.createElement(xU,{key:pe.id,icons:A,index:oe,toast:pe,defaultRichColors:h,duration:(fe=x==null?void 0:x.duration)!=null?fe:p,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:b,closeButton:(_e=x==null?void 0:x.closeButton)!=null?_e:o,interacting:k,position:V,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:ce,toasts:$.filter(Pe=>Pe.position==pe.position),heights:C.filter(Pe=>Pe.position==pe.position),setHeights:M,expandByDefault:i,gap:v,loadingIcon:_,expanded:N,pauseWhenPageIsHidden:F,swipeDirections:t.swipeDirections})})):null}))});const _U=({...t})=>{const{theme:e="system"}=KB();return u.jsx(wU,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var SU=x5[" useId ".trim().toString()]||(()=>{}),NU=0;function Px(t){const[e,n]=L.useState(SU());return hl(()=>{t||n(r=>r??String(NU++))},[t]),t||(e?`radix-${e}`:"")}const AU=["top","right","bottom","left"],Vc=Math.min,yi=Math.max,B1=Math.round,i0=Math.floor,va=t=>({x:t,y:t}),EU={left:"right",right:"left",bottom:"top",top:"bottom"},TU={start:"end",end:"start"};function Gb(t,e,n){return yi(t,Vc(e,n))}function fl(t,e){return typeof t=="function"?t(e):t}function pl(t){return t.split("-")[0]}function hf(t){return t.split("-")[1]}function y_(t){return t==="x"?"y":"x"}function v_(t){return t==="y"?"height":"width"}const PU=new Set(["top","bottom"]);function fa(t){return PU.has(pl(t))?"y":"x"}function x_(t){return y_(fa(t))}function CU(t,e,n){n===void 0&&(n=!1);const r=hf(t),s=x_(t),i=v_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=U1(o)),[o,U1(o)]}function kU(t){const e=U1(t);return[Kb(t),e,Kb(e)]}function Kb(t){return t.replace(/start|end/g,e=>TU[e])}const x4=["left","right"],b4=["right","left"],jU=["top","bottom"],IU=["bottom","top"];function RU(t,e,n){switch(t){case"top":case"bottom":return n?e?b4:x4:e?x4:b4;case"left":case"right":return e?jU:IU;default:return[]}}function LU(t,e,n,r){const s=hf(t);let i=RU(pl(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Kb)))),i}function U1(t){return t.replace(/left|right|bottom|top/g,e=>EU[e])}function DU(t){return{top:0,right:0,bottom:0,left:0,...t}}function jj(t){return typeof t!="number"?DU(t):{top:t,right:t,bottom:t,left:t}}function z1(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function w4(t,e,n){let{reference:r,floating:s}=t;const i=fa(e),o=x_(e),a=v_(o),l=pl(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let f;switch(l){case"top":f={x:d,y:r.y-s.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-s.width,y:h};break;default:f={x:r.x,y:r.y}}switch(hf(e)){case"start":f[o]-=p*(n&&c?-1:1);break;case"end":f[o]+=p*(n&&c?-1:1);break}return f}const MU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=w4(c,r,l),p=r,f={},b=0;for(let x=0;x<a.length;x++){const{name:w,fn:v}=a[x],{x:_,y:A,data:R,reset:F}=await v({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});d=_??d,h=A??h,f={...f,[w]:{...f[w],...R}},F&&b<=50&&(b++,typeof F=="object"&&(F.placement&&(p=F.placement),F.rects&&(c=F.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):F.rects),{x:d,y:h}=w4(c,p,l)),x=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:f}};async function pm(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=fl(e,t),b=jj(f),w=a[p?h==="floating"?"reference":"floating":h],v=z1(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},F=z1(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:A,strategy:l}):_);return{top:(v.top-F.top+b.top)/R.y,bottom:(F.bottom-v.bottom+b.bottom)/R.y,left:(v.left-F.left+b.left)/R.x,right:(F.right-v.right+b.right)/R.x}}const OU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=fl(t,e)||{};if(c==null)return{};const h=jj(d),p={x:n,y:r},f=x_(s),b=v_(f),x=await o.getDimensions(c),w=f==="y",v=w?"top":"left",_=w?"bottom":"right",A=w?"clientHeight":"clientWidth",R=i.reference[b]+i.reference[f]-p[f]-i.floating[b],F=p[f]-i.reference[f],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=$?$[A]:0;(!I||!await(o.isElement==null?void 0:o.isElement($)))&&(I=a.floating[A]||i.floating[b]);const E=R/2-F/2,C=I/2-x[b]/2-1,M=Vc(h[v],C),N=Vc(h[_],C),T=M,k=I-x[b]-N,z=I/2-x[b]/2+E,K=Gb(T,z,k),ae=!l.arrow&&hf(s)!=null&&z!==K&&i.reference[b]/2-(z<T?M:N)-x[b]/2<0,ie=ae?z<T?z-T:z-k:0;return{[f]:p[f]+ie,data:{[f]:K,centerOffset:z-K-ie,...ae&&{alignmentOffset:ie}},reset:ae}}}),FU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...w}=fl(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=pl(s),_=fa(a),A=pl(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),F=p||(A||!x?[U1(a)]:kU(a)),$=b!=="none";!p&&$&&F.push(...LU(a,x,b,R));const I=[a,...F],E=await pm(e,w),C=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(E[v]),h){const z=CU(s,o,R);C.push(E[z[0]],E[z[1]])}if(M=[...M,{placement:s,overflows:C}],!C.every(z=>z<=0)){var N,T;const z=(((N=i.flip)==null?void 0:N.index)||0)+1,K=I[z];if(K&&(!(h==="alignment"?_!==fa(K):!1)||M.every(Y=>Y.overflows[0]>0&&fa(Y.placement)===_)))return{data:{index:z,overflows:M},reset:{placement:K}};let ae=(T=M.filter(ie=>ie.overflows[0]<=0).sort((ie,Y)=>ie.overflows[1]-Y.overflows[1])[0])==null?void 0:T.placement;if(!ae)switch(f){case"bestFit":{var k;const ie=(k=M.filter(Y=>{if($){const ee=fa(Y.placement);return ee===_||ee==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ee=>ee>0).reduce((ee,se)=>ee+se,0)]).sort((Y,ee)=>Y[1]-ee[1])[0])==null?void 0:k[0];ie&&(ae=ie);break}case"initialPlacement":ae=a;break}if(s!==ae)return{reset:{placement:ae}}}return{}}}};function _4(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function S4(t){return AU.some(e=>t[e]>=0)}const VU=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=fl(t,e);switch(r){case"referenceHidden":{const i=await pm(e,{...s,elementContext:"reference"}),o=_4(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:S4(o)}}}case"escaped":{const i=await pm(e,{...s,altBoundary:!0}),o=_4(i,n.floating);return{data:{escapedOffsets:o,escaped:S4(o)}}}default:return{}}}}},Ij=new Set(["left","top"]);async function BU(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=pl(n),a=hf(n),l=fa(n)==="y",c=Ij.has(o)?-1:1,d=i&&l?-1:1,h=fl(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(f=a==="end"?b*-1:b),l?{x:f*d,y:p*c}:{x:p*c,y:f*d}}const UU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await BU(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},zU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:v,y:_}=w;return{x:v,y:_}}},...l}=fl(t,e),c={x:n,y:r},d=await pm(e,l),h=fa(pl(s)),p=y_(h);let f=c[p],b=c[h];if(i){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",_=f+d[w],A=f-d[v];f=Gb(_,f,A)}if(o){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",_=b+d[w],A=b-d[v];b=Gb(_,b,A)}const x=a.fn({...e,[p]:f,[h]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:i,[h]:o}}}}}},$U=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=fl(t,e),d={x:n,y:r},h=fa(s),p=y_(h);let f=d[p],b=d[h];const x=fl(a,e),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const A=p==="y"?"height":"width",R=i.reference[p]-i.floating[A]+w.mainAxis,F=i.reference[p]+i.reference[A]-w.mainAxis;f<R?f=R:f>F&&(f=F)}if(c){var v,_;const A=p==="y"?"width":"height",R=Ij.has(pl(s)),F=i.reference[h]-i.floating[A]+(R&&((v=o.offset)==null?void 0:v[h])||0)+(R?0:w.crossAxis),$=i.reference[h]+i.reference[A]+(R?0:((_=o.offset)==null?void 0:_[h])||0)-(R?w.crossAxis:0);b<F?b=F:b>$&&(b=$)}return{[p]:f,[h]:b}}}},qU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=fl(t,e),d=await pm(e,c),h=pl(s),p=hf(s),f=fa(s)==="y",{width:b,height:x}=i.floating;let w,v;h==="top"||h==="bottom"?(w=h,v=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,w=p==="end"?"top":"bottom");const _=x-d.top-d.bottom,A=b-d.left-d.right,R=Vc(x-d[w],_),F=Vc(b-d[v],A),$=!e.middlewareData.shift;let I=R,E=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=_),$&&!p){const M=yi(d.left,0),N=yi(d.right,0),T=yi(d.top,0),k=yi(d.bottom,0);f?E=b-2*(M!==0||N!==0?M+N:yi(d.left,d.right)):I=x-2*(T!==0||k!==0?T+k:yi(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:I});const C=await o.getDimensions(a.floating);return b!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function Yy(){return typeof window<"u"}function ff(t){return Rj(t)?(t.nodeName||"").toLowerCase():"#document"}function _i(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ra(t){var e;return(e=(Rj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Rj(t){return Yy()?t instanceof Node||t instanceof _i(t).Node:!1}function Ro(t){return Yy()?t instanceof Element||t instanceof _i(t).Element:!1}function Ta(t){return Yy()?t instanceof HTMLElement||t instanceof _i(t).HTMLElement:!1}function N4(t){return!Yy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _i(t).ShadowRoot}const WU=new Set(["inline","contents"]);function Zm(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Lo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!WU.has(s)}const HU=new Set(["table","td","th"]);function GU(t){return HU.has(ff(t))}const KU=[":popover-open",":modal"];function Qy(t){return KU.some(e=>{try{return t.matches(e)}catch{return!1}})}const YU=["transform","translate","scale","rotate","perspective"],QU=["transform","translate","scale","rotate","perspective","filter"],XU=["paint","layout","strict","content"];function b_(t){const e=w_(),n=Ro(t)?Lo(t):t;return YU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||QU.some(r=>(n.willChange||"").includes(r))||XU.some(r=>(n.contain||"").includes(r))}function ZU(t){let e=Bc(t);for(;Ta(e)&&!Wh(e);){if(b_(e))return e;if(Qy(e))return null;e=Bc(e)}return null}function w_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const JU=new Set(["html","body","#document"]);function Wh(t){return JU.has(ff(t))}function Lo(t){return _i(t).getComputedStyle(t)}function Xy(t){return Ro(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bc(t){if(ff(t)==="html")return t;const e=t.assignedSlot||t.parentNode||N4(t)&&t.host||Ra(t);return N4(e)?e.host:e}function Lj(t){const e=Bc(t);return Wh(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ta(e)&&Zm(e)?e:Lj(e)}function mm(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Lj(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=_i(s);if(i){const a=Yb(o);return e.concat(o,o.visualViewport||[],Zm(s)?s:[],a&&n?mm(a):[])}return e.concat(s,mm(s,[],n))}function Yb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Dj(t){const e=Lo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ta(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=B1(n)!==i||B1(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function __(t){return Ro(t)?t:t.contextElement}function gh(t){const e=__(t);if(!Ta(e))return va(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Dj(e);let o=(i?B1(n.width):n.width)/r,a=(i?B1(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const ez=va(0);function Mj(t){const e=_i(t);return!w_()||!e.visualViewport?ez:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tz(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_i(t)?!1:e}function Xu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=__(t);let o=va(1);e&&(r?Ro(r)&&(o=gh(r)):o=gh(t));const a=tz(i,n,r)?Mj(i):va(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=_i(i),f=r&&Ro(r)?_i(r):r;let b=p,x=Yb(b);for(;x&&r&&f!==b;){const w=gh(x),v=x.getBoundingClientRect(),_=Lo(x),A=v.left+(x.clientLeft+parseFloat(_.paddingLeft))*w.x,R=v.top+(x.clientTop+parseFloat(_.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,h*=w.y,l+=A,c+=R,b=_i(x),x=Yb(b)}}return z1({width:d,height:h,x:l,y:c})}function S_(t,e){const n=Xy(t).scrollLeft;return e?e.left+n:Xu(Ra(t)).left+n}function Oj(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:S_(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function nz(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ra(r),a=e?Qy(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=va(1);const d=va(0),h=Ta(r);if((h||!h&&!i)&&((ff(r)!=="body"||Zm(o))&&(l=Xy(r)),Ta(r))){const f=Xu(r);c=gh(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}const p=o&&!h&&!i?Oj(o,l,!0):va(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function rz(t){return Array.from(t.getClientRects())}function sz(t){const e=Ra(t),n=Xy(t),r=t.ownerDocument.body,s=yi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=yi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+S_(t);const a=-n.scrollTop;return Lo(r).direction==="rtl"&&(o+=yi(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function iz(t,e){const n=_i(t),r=Ra(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=w_();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const oz=new Set(["absolute","fixed"]);function az(t,e){const n=Xu(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ta(t)?gh(t):va(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function A4(t,e,n){let r;if(e==="viewport")r=iz(t,n);else if(e==="document")r=sz(Ra(t));else if(Ro(e))r=az(e,n);else{const s=Mj(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return z1(r)}function Fj(t,e){const n=Bc(t);return n===e||!Ro(n)||Wh(n)?!1:Lo(n).position==="fixed"||Fj(n,e)}function lz(t,e){const n=e.get(t);if(n)return n;let r=mm(t,[],!1).filter(a=>Ro(a)&&ff(a)!=="body"),s=null;const i=Lo(t).position==="fixed";let o=i?Bc(t):t;for(;Ro(o)&&!Wh(o);){const a=Lo(o),l=b_(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&oz.has(s.position)||Zm(o)&&!l&&Fj(t,o))?r=r.filter(d=>d!==o):s=a,o=Bc(o)}return e.set(t,r),r}function cz(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Qy(e)?[]:lz(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=A4(e,d,s);return c.top=yi(h.top,c.top),c.right=Vc(h.right,c.right),c.bottom=Vc(h.bottom,c.bottom),c.left=yi(h.left,c.left),c},A4(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function uz(t){const{width:e,height:n}=Dj(t);return{width:e,height:n}}function dz(t,e,n){const r=Ta(e),s=Ra(e),i=n==="fixed",o=Xu(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=va(0);function c(){l.x=S_(s)}if(r||!r&&!i)if((ff(e)!=="body"||Zm(s))&&(a=Xy(e)),r){const f=Xu(e,!0,i,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?Oj(s,a):va(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Cx(t){return Lo(t).position==="static"}function E4(t,e){if(!Ta(t)||Lo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ra(t)===n&&(n=n.ownerDocument.body),n}function Vj(t,e){const n=_i(t);if(Qy(t))return n;if(!Ta(t)){let s=Bc(t);for(;s&&!Wh(s);){if(Ro(s)&&!Cx(s))return s;s=Bc(s)}return n}let r=E4(t,e);for(;r&&GU(r)&&Cx(r);)r=E4(r,e);return r&&Wh(r)&&Cx(r)&&!b_(r)?n:r||ZU(t)||n}const hz=async function(t){const e=this.getOffsetParent||Vj,n=this.getDimensions,r=await n(t.floating);return{reference:dz(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function fz(t){return Lo(t).direction==="rtl"}const pz={convertOffsetParentRelativeRectToViewportRelativeRect:nz,getDocumentElement:Ra,getClippingRect:cz,getOffsetParent:Vj,getElementRects:hz,getClientRects:rz,getDimensions:uz,getScale:gh,isElement:Ro,isRTL:fz};function Bj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function mz(t,e){let n=null,r;const s=Ra(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=c;if(a||e(),!p||!f)return;const b=i0(h),x=i0(s.clientWidth-(d+p)),w=i0(s.clientHeight-(h+f)),v=i0(d),A={rootMargin:-b+"px "+-x+"px "+-w+"px "+-v+"px",threshold:yi(0,Vc(1,l))||1};let R=!0;function F($){const I=$[0].intersectionRatio;if(I!==l){if(!R)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!Bj(c,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(F,{...A,root:s.ownerDocument})}catch{n=new IntersectionObserver(F,A)}n.observe(t)}return o(!0),i}function gz(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=__(t),d=s||i?[...c?mm(c):[],...mm(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=c&&a?mz(c,n):null;let p=-1,f=null;o&&(f=new ResizeObserver(v=>{let[_]=v;_&&_.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var A;(A=f)==null||A.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let b,x=l?Xu(t):null;l&&w();function w(){const v=Xu(t);x&&!Bj(x,v)&&n(),x=v,b=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(b)}}const yz=UU,vz=zU,xz=FU,bz=qU,wz=VU,T4=OU,_z=$U,Sz=(t,e,n)=>{const r=new Map,s={platform:pz,...n},i={...s.platform,_c:r};return MU(t,e,{...s,platform:i})};var Nz=typeof document<"u",Az=function(){},H0=Nz?L.useLayoutEffect:Az;function $1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!$1(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!$1(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Uj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function P4(t,e){const n=Uj(t);return Math.round(e*n)/n}function kx(t){const e=L.useRef(t);return H0(()=>{e.current=t}),e}function Ez(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=L.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=L.useState(r);$1(p,r)||f(r);const[b,x]=L.useState(null),[w,v]=L.useState(null),_=L.useCallback(Y=>{Y!==$.current&&($.current=Y,x(Y))},[]),A=L.useCallback(Y=>{Y!==I.current&&(I.current=Y,v(Y))},[]),R=i||b,F=o||w,$=L.useRef(null),I=L.useRef(null),E=L.useRef(d),C=l!=null,M=kx(l),N=kx(s),T=kx(c),k=L.useCallback(()=>{if(!$.current||!I.current)return;const Y={placement:e,strategy:n,middleware:p};N.current&&(Y.platform=N.current),Sz($.current,I.current,Y).then(ee=>{const se={...ee,isPositioned:T.current!==!1};z.current&&!$1(E.current,se)&&(E.current=se,Ym.flushSync(()=>{h(se)}))})},[p,e,n,N,T]);H0(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(Y=>({...Y,isPositioned:!1})))},[c]);const z=L.useRef(!1);H0(()=>(z.current=!0,()=>{z.current=!1}),[]),H0(()=>{if(R&&($.current=R),F&&(I.current=F),R&&F){if(M.current)return M.current(R,F,k);k()}},[R,F,k,M,C]);const K=L.useMemo(()=>({reference:$,floating:I,setReference:_,setFloating:A}),[_,A]),ae=L.useMemo(()=>({reference:R,floating:F}),[R,F]),ie=L.useMemo(()=>{const Y={position:n,left:0,top:0};if(!ae.floating)return Y;const ee=P4(ae.floating,d.x),se=P4(ae.floating,d.y);return a?{...Y,transform:"translate("+ee+"px, "+se+"px)",...Uj(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:se}},[n,a,ae.floating,d.x,d.y]);return L.useMemo(()=>({...d,update:k,refs:K,elements:ae,floatingStyles:ie}),[d,k,K,ae,ie])}const Tz=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?T4({element:r.current,padding:s}).fn(n):{}:r?T4({element:r,padding:s}).fn(n):{}}}},Pz=(t,e)=>({...yz(t),options:[t,e]}),Cz=(t,e)=>({...vz(t),options:[t,e]}),kz=(t,e)=>({..._z(t),options:[t,e]}),jz=(t,e)=>({...xz(t),options:[t,e]}),Iz=(t,e)=>({...bz(t),options:[t,e]}),Rz=(t,e)=>({...wz(t),options:[t,e]}),Lz=(t,e)=>({...Tz(t),options:[t,e]});var Dz="Arrow",zj=L.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(_r.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});zj.displayName=Dz;var Mz=zj;function Oz(t){const[e,n]=L.useState(void 0);return hl(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var $j="Popper",[qj,Wj]=Qm($j),[qle,Hj]=qj($j),Gj="PopperAnchor",Kj=L.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Hj(Gj,n),o=L.useRef(null),a=Ms(e,o);return L.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(_r.div,{...s,ref:a})});Kj.displayName=Gj;var N_="PopperContent",[Fz,Vz]=qj(N_),Yj=L.forwardRef((t,e)=>{var pe,oe,fe,_e,Pe,Me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:b,...x}=t,w=Hj(N_,n),[v,_]=L.useState(null),A=Ms(e,Oe=>_(Oe)),[R,F]=L.useState(null),$=Oz(R),I=($==null?void 0:$.width)??0,E=($==null?void 0:$.height)??0,C=r+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],T=N.length>0,k={padding:M,boundary:N.filter(Uz),altBoundary:T},{refs:z,floatingStyles:K,placement:ae,isPositioned:ie,middlewareData:Y}=Ez({strategy:"fixed",placement:C,whileElementsMounted:(...Oe)=>gz(...Oe,{animationFrame:f==="always"}),elements:{reference:w.anchor},middleware:[Pz({mainAxis:s+E,alignmentAxis:o}),l&&Cz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?kz():void 0,...k}),l&&jz({...k}),Iz({...k,apply:({elements:Oe,rects:$e,availableWidth:J,availableHeight:Be})=>{const{width:St,height:ot}=$e.reference,Ne=Oe.floating.style;Ne.setProperty("--radix-popper-available-width",`${J}px`),Ne.setProperty("--radix-popper-available-height",`${Be}px`),Ne.setProperty("--radix-popper-anchor-width",`${St}px`),Ne.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),R&&Lz({element:R,padding:a}),zz({arrowWidth:I,arrowHeight:E}),p&&Rz({strategy:"referenceHidden",...k})]}),[ee,se]=Zj(ae),ce=Ea(b);hl(()=>{ie&&(ce==null||ce())},[ie,ce]);const V=(pe=Y.arrow)==null?void 0:pe.x,Q=(oe=Y.arrow)==null?void 0:oe.y,Z=((fe=Y.arrow)==null?void 0:fe.centerOffset)!==0,[le,de]=L.useState();return hl(()=>{v&&de(window.getComputedStyle(v).zIndex)},[v]),u.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ie?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(_e=Y.transformOrigin)==null?void 0:_e.x,(Pe=Y.transformOrigin)==null?void 0:Pe.y].join(" "),...((Me=Y.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(Fz,{scope:n,placedSide:ee,onArrowChange:F,arrowX:V,arrowY:Q,shouldHideArrow:Z,children:u.jsx(_r.div,{"data-side":ee,"data-align":se,...x,ref:A,style:{...x.style,animation:ie?void 0:"none"}})})})});Yj.displayName=N_;var Qj="PopperArrow",Bz={top:"bottom",right:"left",bottom:"top",left:"right"},Xj=L.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Vz(Qj,r),o=Bz[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(Mz,{...s,ref:n,style:{...s.style,display:"block"}})})});Xj.displayName=Qj;function Uz(t){return t!==null}var zz=t=>({name:"transformOrigin",options:t,fn(e){var w,v,_;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=Zj(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,f=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let b="",x="";return c==="bottom"?(b=o?h:`${p}px`,x=`${-l}px`):c==="top"?(b=o?h:`${p}px`,x=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,x=o?h:`${f}px`):c==="left"&&(b=`${r.floating.width+l}px`,x=o?h:`${f}px`),{data:{x:b,y:x}}}});function Zj(t){const[e,n="center"]=t.split("-");return[e,n]}var $z=Kj,qz=Yj,Wz=Xj,[Zy,Wle]=Qm("Tooltip",[Wj]),A_=Wj(),Jj="TooltipProvider",Hz=700,C4="tooltip.open",[Gz,eI]=Zy(Jj),tI=t=>{const{__scopeTooltip:e,delayDuration:n=Hz,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=L.useRef(!0),a=L.useRef(!1),l=L.useRef(0);return L.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(Gz,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:L.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:L.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:L.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};tI.displayName=Jj;var nI="Tooltip",[Hle,Jy]=Zy(nI),Qb="TooltipTrigger",Kz=L.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Jy(Qb,n),i=eI(Qb,n),o=A_(n),a=L.useRef(null),l=Ms(e,a,s.onTriggerChange),c=L.useRef(!1),d=L.useRef(!1),h=L.useCallback(()=>c.current=!1,[]);return L.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx($z,{asChild:!0,...o,children:u.jsx(_r.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Gn(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Gn(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Gn(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Gn(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Gn(t.onBlur,s.onClose),onClick:Gn(t.onClick,s.onClose)})})});Kz.displayName=Qb;var Yz="TooltipPortal",[Gle,Qz]=Zy(Yz,{forceMount:void 0}),Hh="TooltipContent",rI=L.forwardRef((t,e)=>{const n=Qz(Hh,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Jy(Hh,t.__scopeTooltip);return u.jsx(cf,{present:r||o.open,children:o.disableHoverableContent?u.jsx(sI,{side:s,...i,ref:e}):u.jsx(Xz,{side:s,...i,ref:e})})}),Xz=L.forwardRef((t,e)=>{const n=Jy(Hh,t.__scopeTooltip),r=eI(Hh,t.__scopeTooltip),s=L.useRef(null),i=Ms(e,s),[o,a]=L.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=L.useCallback(()=>{a(null),h(!1)},[h]),f=L.useCallback((b,x)=>{const w=b.currentTarget,v={x:b.clientX,y:b.clientY},_=n$(v,w.getBoundingClientRect()),A=r$(v,_),R=s$(x.getBoundingClientRect()),F=o$([...A,...R]);a(F),h(!0)},[h]);return L.useEffect(()=>()=>p(),[p]),L.useEffect(()=>{if(l&&d){const b=w=>f(w,d),x=w=>f(w,l);return l.addEventListener("pointerleave",b),d.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",x)}}},[l,d,f,p]),L.useEffect(()=>{if(o){const b=x=>{const w=x.target,v={x:x.clientX,y:x.clientY},_=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),A=!i$(v,o);_?p():A&&(p(),c())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,d,o,c,p]),u.jsx(sI,{...t,ref:i})}),[Zz,Jz]=Zy(nI,{isInside:!1}),e$=tV("TooltipContent"),sI=L.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Jy(Hh,n),c=A_(n),{onClose:d}=l;return L.useEffect(()=>(document.addEventListener(C4,d),()=>document.removeEventListener(C4,d)),[d]),L.useEffect(()=>{if(l.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(qy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(qz,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(e$,{children:r}),u.jsx(Zz,{scope:n,isInside:!0,children:u.jsx(AV,{id:l.contentId,role:"tooltip",children:s||r})})]})})});rI.displayName=Hh;var iI="TooltipArrow",t$=L.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=A_(n);return Jz(iI,n).isInside?null:u.jsx(Wz,{...s,...r,ref:e})});t$.displayName=iI;function n$(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function r$(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function s$(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function i$(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function o$(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),a$(e)}function a$(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var l$=tI,oI=rI;const c$=l$,u$=L.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(oI,{ref:r,sideOffset:e,className:io("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));u$.displayName=oI.displayName;var ev=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tv=typeof window>"u"||"Deno"in globalThis;function wo(){}function d$(t,e){return typeof t=="function"?t(e):t}function h$(t){return typeof t=="number"&&t>=0&&t!==1/0}function f$(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Xb(t,e){return typeof t=="function"?t(e):t}function p$(t,e){return typeof t=="function"?t(e):t}function k4(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==E_(o,e.options))return!1}else if(!ym(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function j4(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(gm(e.options.mutationKey)!==gm(i))return!1}else if(!ym(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function E_(t,e){return((e==null?void 0:e.queryKeyHashFn)||gm)(t)}function gm(t){return JSON.stringify(t,(e,n)=>Zb(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ym(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ym(t[n],e[n])):!1}function aI(t,e){if(t===e)return t;const n=I4(t)&&I4(e);if(n||Zb(t)&&Zb(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=aI(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function I4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zb(t){if(!R4(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!R4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function R4(t){return Object.prototype.toString.call(t)==="[object Object]"}function m$(t){return new Promise(e=>{setTimeout(e,t)})}function g$(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?aI(t,e):e}function y$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function v$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var T_=Symbol();function lI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===T_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Lu,oc,kh,bC,x$=(bC=class extends ev{constructor(){super();on(this,Lu);on(this,oc);on(this,kh);Dt(this,kh,e=>{if(!tv&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ce(this,oc)||this.setEventListener(Ce(this,kh))}onUnsubscribe(){var e;this.hasListeners()||((e=Ce(this,oc))==null||e.call(this),Dt(this,oc,void 0))}setEventListener(e){var n;Dt(this,kh,e),(n=Ce(this,oc))==null||n.call(this),Dt(this,oc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Ce(this,Lu)!==e&&(Dt(this,Lu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Ce(this,Lu)=="boolean"?Ce(this,Lu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Lu=new WeakMap,oc=new WeakMap,kh=new WeakMap,bC),cI=new x$,jh,ac,Ih,wC,b$=(wC=class extends ev{constructor(){super();on(this,jh,!0);on(this,ac);on(this,Ih);Dt(this,Ih,e=>{if(!tv&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ce(this,ac)||this.setEventListener(Ce(this,Ih))}onUnsubscribe(){var e;this.hasListeners()||((e=Ce(this,ac))==null||e.call(this),Dt(this,ac,void 0))}setEventListener(e){var n;Dt(this,Ih,e),(n=Ce(this,ac))==null||n.call(this),Dt(this,ac,e(this.setOnline.bind(this)))}setOnline(e){Ce(this,jh)!==e&&(Dt(this,jh,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Ce(this,jh)}},jh=new WeakMap,ac=new WeakMap,Ih=new WeakMap,wC),q1=new b$;function w$(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function _$(t){return Math.min(1e3*2**t,3e4)}function uI(t){return(t??"online")==="online"?q1.isOnline():!0}var dI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function jx(t){return t instanceof dI}function hI(t){let e=!1,n=0,r=!1,s;const i=w$(),o=x=>{var w;r||(p(new dI(x)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>cI.isFocused()&&(t.networkMode==="always"||q1.isOnline())&&t.canRun(),d=()=>uI(t.networkMode)&&t.canRun(),h=x=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,x),s==null||s(),i.resolve(x))},p=x=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,x),s==null||s(),i.reject(x))},f=()=>new Promise(x=>{var w;s=v=>{(r||c())&&x(v)},(w=t.onPause)==null||w.call(t)}).then(()=>{var x;s=void 0,r||(x=t.onContinue)==null||x.call(t)}),b=()=>{if(r)return;let x;const w=n===0?t.initialPromise:void 0;try{x=w??t.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(h).catch(v=>{var $;if(r)return;const _=t.retry??(tv?0:3),A=t.retryDelay??_$,R=typeof A=="function"?A(n,v):A,F=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!F){p(v);return}n++,($=t.onFail)==null||$.call(t,n,v),m$(R).then(()=>c()?void 0:f()).then(()=>{e?p(v):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?b():f().then(b),i)}}var S$=t=>setTimeout(t,0);function N$(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=S$;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Cs=N$(),Du,_C,fI=(_C=class{constructor(){on(this,Du)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),h$(this.gcTime)&&Dt(this,Du,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(tv?1/0:5*60*1e3))}clearGcTimeout(){Ce(this,Du)&&(clearTimeout(Ce(this,Du)),Dt(this,Du,void 0))}},Du=new WeakMap,_C),Rh,Mu,qi,Ou,ds,zm,Fu,_o,Za,SC,A$=(SC=class extends fI{constructor(n){super();on(this,_o);on(this,Rh);on(this,Mu);on(this,qi);on(this,Ou);on(this,ds);on(this,zm);on(this,Fu);Dt(this,Fu,!1),Dt(this,zm,n.defaultOptions),this.setOptions(n.options),this.observers=[],Dt(this,Ou,n.client),Dt(this,qi,Ce(this,Ou).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Dt(this,Rh,T$(this.options)),this.state=n.state??Ce(this,Rh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Ce(this,ds))==null?void 0:n.promise}setOptions(n){this.options={...Ce(this,zm),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ce(this,qi).remove(this)}setData(n,r){const s=g$(this.state.data,n,this.options);return rs(this,_o,Za).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){rs(this,_o,Za).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=Ce(this,ds))==null?void 0:s.promise;return(i=Ce(this,ds))==null||i.cancel(n),r?r.then(wo).catch(wo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ce(this,Rh))}isActive(){return this.observers.some(n=>p$(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===T_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Xb(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!f$(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Ce(this,ds))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Ce(this,ds))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Ce(this,qi).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Ce(this,ds)&&(Ce(this,Fu)?Ce(this,ds).cancel({revert:!0}):Ce(this,ds).cancelRetry()),this.scheduleGc()),Ce(this,qi).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rs(this,_o,Za).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ce(this,ds))return Ce(this,ds).continueRetry(),Ce(this,ds).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(b=>b.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Dt(this,Fu,!0),s.signal)})},o=()=>{const f=lI(this.options,r),x=(()=>{const w={client:Ce(this,Ou),queryKey:this.queryKey,meta:this.meta};return i(w),w})();return Dt(this,Fu,!1),this.options.persister?this.options.persister(f,x,this):f(x)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ce(this,Ou),state:this.state,fetchFn:o};return i(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),Dt(this,Mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&rs(this,_o,Za).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=f=>{var b,x,w,v;jx(f)&&f.silent||rs(this,_o,Za).call(this,{type:"error",error:f}),jx(f)||((x=(b=Ce(this,qi).config).onError)==null||x.call(b,f,this),(v=(w=Ce(this,qi).config).onSettled)==null||v.call(w,this.state.data,f,this)),this.scheduleGc()};return Dt(this,ds,hI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var b,x,w,v;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(_){c(_);return}(x=(b=Ce(this,qi).config).onSuccess)==null||x.call(b,f,this),(v=(w=Ce(this,qi).config).onSettled)==null||v.call(w,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,b)=>{rs(this,_o,Za).call(this,{type:"failed",failureCount:f,error:b})},onPause:()=>{rs(this,_o,Za).call(this,{type:"pause"})},onContinue:()=>{rs(this,_o,Za).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Ce(this,ds).start()}},Rh=new WeakMap,Mu=new WeakMap,qi=new WeakMap,Ou=new WeakMap,ds=new WeakMap,zm=new WeakMap,Fu=new WeakMap,_o=new WeakSet,Za=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...E$(s.data,this.options),fetchMeta:n.meta??null};case"success":return Dt(this,Mu,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return jx(i)&&i.revert&&Ce(this,Mu)?{...Ce(this,Mu),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Cs.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Ce(this,qi).notify({query:this,type:"updated",action:n})})},SC);function E$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function T$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var sa,NC,P$=(NC=class extends ev{constructor(e={}){super();on(this,sa);this.config=e,Dt(this,sa,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??E_(s,n);let o=this.get(i);return o||(o=new A$({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Ce(this,sa).has(e.queryHash)||(Ce(this,sa).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Ce(this,sa).get(e.queryHash);n&&(e.destroy(),n===e&&Ce(this,sa).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ce(this,sa).get(e)}getAll(){return[...Ce(this,sa).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>k4(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>k4(e,r)):n}notify(e){Cs.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Cs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},sa=new WeakMap,NC),ia,Ts,Vu,oa,Ql,AC,C$=(AC=class extends fI{constructor(n){super();on(this,oa);on(this,ia);on(this,Ts);on(this,Vu);this.mutationId=n.mutationId,Dt(this,Ts,n.mutationCache),Dt(this,ia,[]),this.state=n.state||k$(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Ce(this,ia).includes(n)||(Ce(this,ia).push(n),this.clearGcTimeout(),Ce(this,Ts).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Dt(this,ia,Ce(this,ia).filter(r=>r!==n)),this.scheduleGc(),Ce(this,Ts).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Ce(this,ia).length||(this.state.status==="pending"?this.scheduleGc():Ce(this,Ts).remove(this))}continue(){var n;return((n=Ce(this,Vu))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,d,h,p,f,b,x,w,v,_,A,R,F,$,I,E,C;const r=()=>{rs(this,oa,Ql).call(this,{type:"continue"})};Dt(this,Vu,hI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(M,N)=>{rs(this,oa,Ql).call(this,{type:"failed",failureCount:M,error:N})},onPause:()=>{rs(this,oa,Ql).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ce(this,Ts).canRun(this)}));const s=this.state.status==="pending",i=!Ce(this,Vu).canStart();try{if(s)r();else{rs(this,oa,Ql).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=Ce(this,Ts).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));N!==this.state.context&&rs(this,oa,Ql).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const M=await Ce(this,Vu).start();return await((h=(d=Ce(this,Ts).config).onSuccess)==null?void 0:h.call(d,M,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,M,n,this.state.context)),await((x=(b=Ce(this,Ts).config).onSettled)==null?void 0:x.call(b,M,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,M,null,n,this.state.context)),rs(this,oa,Ql).call(this,{type:"success",data:M}),M}catch(M){try{throw await((A=(_=Ce(this,Ts).config).onError)==null?void 0:A.call(_,M,n,this.state.context,this)),await((F=(R=this.options).onError)==null?void 0:F.call(R,M,n,this.state.context)),await((I=($=Ce(this,Ts).config).onSettled)==null?void 0:I.call($,void 0,M,this.state.variables,this.state.context,this)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,M,n,this.state.context)),M}finally{rs(this,oa,Ql).call(this,{type:"error",error:M})}}finally{Ce(this,Ts).runNext(this)}}},ia=new WeakMap,Ts=new WeakMap,Vu=new WeakMap,oa=new WeakSet,Ql=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Cs.batch(()=>{Ce(this,ia).forEach(s=>{s.onMutationUpdate(n)}),Ce(this,Ts).notify({mutation:this,type:"updated",action:n})})},AC);function k$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rl,So,$m,EC,j$=(EC=class extends ev{constructor(e={}){super();on(this,rl);on(this,So);on(this,$m);this.config=e,Dt(this,rl,new Set),Dt(this,So,new Map),Dt(this,$m,0)}build(e,n,r){const s=new C$({mutationCache:this,mutationId:++Og(this,$m)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){Ce(this,rl).add(e);const n=o0(e);if(typeof n=="string"){const r=Ce(this,So).get(n);r?r.push(e):Ce(this,So).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ce(this,rl).delete(e)){const n=o0(e);if(typeof n=="string"){const r=Ce(this,So).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Ce(this,So).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=o0(e);if(typeof n=="string"){const r=Ce(this,So).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=o0(e);if(typeof n=="string"){const s=(r=Ce(this,So).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Cs.batch(()=>{Ce(this,rl).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ce(this,rl).clear(),Ce(this,So).clear()})}getAll(){return Array.from(Ce(this,rl))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>j4(n,r))}findAll(e={}){return this.getAll().filter(n=>j4(e,n))}notify(e){Cs.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Cs.batch(()=>Promise.all(e.map(n=>n.continue().catch(wo))))}},rl=new WeakMap,So=new WeakMap,$m=new WeakMap,EC);function o0(t){var e;return(e=t.options.scope)==null?void 0:e.id}function L4(t){return{onFetch:(e,n)=>{var d,h,p,f,b;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const w=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},v=lI(e.options,e.fetchOptions),_=async(A,R,F)=>{if(x)return Promise.reject();if(R==null&&A.pages.length)return Promise.resolve(A);const I=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:R,direction:F?"backward":"forward",meta:e.options.meta};return w(N),N})(),E=await v(I),{maxPages:C}=e.options,M=F?v$:y$;return{pages:M(A.pages,E,C),pageParams:M(A.pageParams,R,C)}};if(s&&i.length){const A=s==="backward",R=A?I$:D4,F={pages:i,pageParams:o},$=R(r,F);a=await _(F,$,A)}else{const A=t??i.length;do{const R=l===0?o[0]??r.initialPageParam:D4(r,a);if(l>0&&R==null)break;a=await _(a,R),l++}while(l<A)}return a};e.options.persister?e.fetchFn=()=>{var x,w;return(w=(x=e.options).persister)==null?void 0:w.call(x,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function D4(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function I$(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var rr,lc,cc,Lh,Dh,uc,Mh,Oh,TC,R$=(TC=class{constructor(t={}){on(this,rr);on(this,lc);on(this,cc);on(this,Lh);on(this,Dh);on(this,uc);on(this,Mh);on(this,Oh);Dt(this,rr,t.queryCache||new P$),Dt(this,lc,t.mutationCache||new j$),Dt(this,cc,t.defaultOptions||{}),Dt(this,Lh,new Map),Dt(this,Dh,new Map),Dt(this,uc,0)}mount(){Og(this,uc)._++,Ce(this,uc)===1&&(Dt(this,Mh,cI.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ce(this,rr).onFocus())})),Dt(this,Oh,q1.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ce(this,rr).onOnline())})))}unmount(){var t,e;Og(this,uc)._--,Ce(this,uc)===0&&((t=Ce(this,Mh))==null||t.call(this),Dt(this,Mh,void 0),(e=Ce(this,Oh))==null||e.call(this),Dt(this,Oh,void 0))}isFetching(t){return Ce(this,rr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ce(this,lc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ce(this,rr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Ce(this,rr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Xb(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Ce(this,rr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Ce(this,rr).get(r.queryHash),i=s==null?void 0:s.state.data,o=d$(e,i);if(o!==void 0)return Ce(this,rr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Cs.batch(()=>Ce(this,rr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ce(this,rr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Ce(this,rr);Cs.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Ce(this,rr);return Cs.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Cs.batch(()=>Ce(this,rr).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(wo).catch(wo)}invalidateQueries(t,e={}){return Cs.batch(()=>(Ce(this,rr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Cs.batch(()=>Ce(this,rr).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(wo)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(wo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Ce(this,rr).build(this,e);return n.isStaleByTime(Xb(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wo).catch(wo)}fetchInfiniteQuery(t){return t.behavior=L4(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wo).catch(wo)}ensureInfiniteQueryData(t){return t.behavior=L4(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return q1.isOnline()?Ce(this,lc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ce(this,rr)}getMutationCache(){return Ce(this,lc)}getDefaultOptions(){return Ce(this,cc)}setDefaultOptions(t){Dt(this,cc,t)}setQueryDefaults(t,e){Ce(this,Lh).set(gm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ce(this,Lh).values()],n={};return e.forEach(r=>{ym(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Ce(this,Dh).set(gm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ce(this,Dh).values()],n={};return e.forEach(r=>{ym(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ce(this,cc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=E_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===T_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ce(this,cc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ce(this,rr).clear(),Ce(this,lc).clear()}},rr=new WeakMap,lc=new WeakMap,cc=new WeakMap,Lh=new WeakMap,Dh=new WeakMap,uc=new WeakMap,Mh=new WeakMap,Oh=new WeakMap,TC),L$=L.createContext(void 0),D$=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(L$.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(this,arguments)}var fc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fc||(fc={}));const M4="popstate";function M$(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Jb("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:W1(s)}return F$(e,n,null,t)}function wr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O$(){return Math.random().toString(36).substr(2,8)}function O4(t,e){return{usr:t.state,key:t.key,idx:e}}function Jb(t,e,n,r){return n===void 0&&(n=null),vm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pf(e):e,{state:n,key:e&&e.key||r||O$()})}function W1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function F$(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=fc.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(vm({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=fc.Pop;let w=d(),v=w==null?null:w-c;c=w,l&&l({action:a,location:x.location,delta:v})}function p(w,v){a=fc.Push;let _=Jb(x.location,w,v);c=d()+1;let A=O4(_,c),R=x.createHref(_);try{o.pushState(A,"",R)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(R)}i&&l&&l({action:a,location:x.location,delta:1})}function f(w,v){a=fc.Replace;let _=Jb(x.location,w,v);c=d();let A=O4(_,c),R=x.createHref(_);o.replaceState(A,"",R),i&&l&&l({action:a,location:x.location,delta:0})}function b(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof w=="string"?w:W1(w);return _=_.replace(/ $/,"%20"),wr(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let x={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(M4,h),l=w,()=>{s.removeEventListener(M4,h),l=null}},createHref(w){return e(s,w)},createURL:b,encodeLocation(w){let v=b(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:f,go(w){return o.go(w)}};return x}var F4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(F4||(F4={}));function V$(t,e,n){return n===void 0&&(n="/"),B$(t,e,n,!1)}function B$(t,e,n,r){let s=typeof e=="string"?pf(e):e,i=P_(s.pathname||"/",n);if(i==null)return null;let o=mI(t);U$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Z$(i);a=Q$(o[l],c,r)}return a}function mI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(wr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ec([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(wr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),mI(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:K$(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of gI(i.path))s(i,o,l)}),e}function gI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=gI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function U$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const z$=/^:[\w-]+$/,$$=3,q$=2,W$=1,H$=10,G$=-2,V4=t=>t==="*";function K$(t,e){let n=t.split("/"),r=n.length;return n.some(V4)&&(r+=G$),e&&(r+=q$),n.filter(s=>!V4(s)).reduce((s,i)=>s+(z$.test(i)?$$:i===""?W$:H$),r)}function Y$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Q$(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=B4({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=B4({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ec([i,h.pathname]),pathnameBase:nq(Ec([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ec([i,h.pathnameBase]))}return o}function B4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=X$(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let x=a[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const b=a[h];return f&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function X$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Z$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function P_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function J$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?pf(t):t;return{pathname:n?n.startsWith("/")?n:eq(n,e):e,search:rq(r),hash:sq(s)}}function eq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ix(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yI(t,e){let n=tq(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vI(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=pf(t):(s=vm({},t),wr(!s.pathname||!s.pathname.includes("?"),Ix("?","pathname","search",s)),wr(!s.pathname||!s.pathname.includes("#"),Ix("#","pathname","hash",s)),wr(!s.search||!s.search.includes("#"),Ix("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=J$(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ec=t=>t.join("/").replace(/\/\/+/g,"/"),nq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xI=["post","put","patch","delete"];new Set(xI);const oq=["get",...xI];new Set(oq);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}const C_=L.createContext(null),aq=L.createContext(null),cd=L.createContext(null),nv=L.createContext(null),ud=L.createContext({outlet:null,matches:[],isDataRoute:!1}),bI=L.createContext(null);function lq(t,e){let{relative:n}=e===void 0?{}:e;Jm()||wr(!1);let{basename:r,navigator:s}=L.useContext(cd),{hash:i,pathname:o,search:a}=_I(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ec([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Jm(){return L.useContext(nv)!=null}function mf(){return Jm()||wr(!1),L.useContext(nv).location}function wI(t){L.useContext(cd).static||L.useLayoutEffect(t)}function cq(){let{isDataRoute:t}=L.useContext(ud);return t?_q():uq()}function uq(){Jm()||wr(!1);let t=L.useContext(C_),{basename:e,future:n,navigator:r}=L.useContext(cd),{matches:s}=L.useContext(ud),{pathname:i}=mf(),o=JSON.stringify(yI(s,n.v7_relativeSplatPath)),a=L.useRef(!1);return wI(()=>{a.current=!0}),L.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=vI(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ec([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function _I(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(cd),{matches:s}=L.useContext(ud),{pathname:i}=mf(),o=JSON.stringify(yI(s,r.v7_relativeSplatPath));return L.useMemo(()=>vI(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function dq(t,e){return hq(t,e)}function hq(t,e,n,r){Jm()||wr(!1);let{navigator:s}=L.useContext(cd),{matches:i}=L.useContext(ud),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=mf(),d;if(e){var h;let w=typeof e=="string"?pf(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||wr(!1),d=w}else d=c;let p=d.pathname||"/",f=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=V$(t,{pathname:f}),x=yq(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ec([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ec([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&x?L.createElement(nv.Provider,{value:{location:xm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fc.Pop}},x):x}function fq(){let t=wq(),e=iq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,null)}const pq=L.createElement(fq,null);class mq extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(ud.Provider,{value:this.props.routeContext},L.createElement(bI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gq(t){let{routeContext:e,match:n,children:r}=t,s=L.useContext(C_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(ud.Provider,{value:e},r)}function yq(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||wr(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:f}=n,b=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,b=!1,x=null,w=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||pq,l&&(c<0&&p===0?(b=!0,w=null):c===p&&(b=!0,w=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),_=()=>{let A;return f?A=x:b?A=w:h.route.Component?A=L.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,L.createElement(gq,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:A})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?L.createElement(mq,{location:n.location,revalidation:n.revalidation,component:x,error:f,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var SI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SI||{}),H1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(H1||{});function vq(t){let e=L.useContext(C_);return e||wr(!1),e}function xq(t){let e=L.useContext(aq);return e||wr(!1),e}function bq(t){let e=L.useContext(ud);return e||wr(!1),e}function NI(t){let e=bq(),n=e.matches[e.matches.length-1];return n.route.id||wr(!1),n.route.id}function wq(){var t;let e=L.useContext(bI),n=xq(H1.UseRouteError),r=NI(H1.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _q(){let{router:t}=vq(SI.UseNavigateStable),e=NI(H1.UseNavigateStable),n=L.useRef(!1);return wI(()=>{n.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,xm({fromRouteId:e},i)))},[t,e])}function Sq(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Xl(t){wr(!1)}function Nq(t){let{basename:e="/",children:n=null,location:r,navigationType:s=fc.Pop,navigator:i,static:o=!1,future:a}=t;Jm()&&wr(!1);let l=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:i,static:o,future:xm({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=pf(r));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:b="default"}=r,x=L.useMemo(()=>{let w=P_(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:f,key:b},navigationType:s}},[l,d,h,p,f,b,s]);return x==null?null:L.createElement(cd.Provider,{value:c},L.createElement(nv.Provider,{children:n,value:x}))}function Aq(t){let{children:e,location:n}=t;return dq(ew(e),n)}new Promise(()=>{});function ew(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,s)=>{if(!L.isValidElement(r))return;let i=[...e,s];if(r.type===L.Fragment){n.push.apply(n,ew(r.props.children,i));return}r.type!==Xl&&wr(!1),!r.props.index||!r.props.children||wr(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ew(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function Eq(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Tq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pq(t,e){return t.button===0&&(!e||e==="_self")&&!Tq(t)}const Cq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kq="6";try{window.__reactRouterVersion=kq}catch{}const jq="startTransition",U4=x5[jq];function Iq(t){let{basename:e,children:n,future:r,window:s}=t,i=L.useRef();i.current==null&&(i.current=M$({window:s,v5Compat:!0}));let o=i.current,[a,l]=L.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=L.useCallback(h=>{c&&U4?U4(()=>l(h)):l(h)},[l,c]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.useEffect(()=>Sq(r),[r]),L.createElement(Nq,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Rq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dq=L.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=Eq(e,Cq),{basename:f}=L.useContext(cd),b,x=!1;if(typeof c=="string"&&Lq.test(c)&&(b=c,Rq))try{let A=new URL(window.location.href),R=c.startsWith("//")?new URL(A.protocol+c):new URL(c),F=P_(R.pathname,f);R.origin===A.origin&&F!=null?c=F+R.search+R.hash:x=!0}catch{}let w=lq(c,{relative:s}),v=Mq(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function _(A){r&&r(A),A.defaultPrevented||v(A)}return L.createElement("a",tw({},p,{href:b||w,onClick:x||i?r:_,ref:n,target:l}))});var z4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(z4||(z4={}));var $4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($4||($4={}));function Mq(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=cq(),c=mf(),d=_I(t,{relative:o});return L.useCallback(h=>{if(Pq(h,n)){h.preventDefault();let p=r!==void 0?r:W1(c)===W1(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const Oq=()=>{};var q4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Fq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},EI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(p=64)),r.push(n[d],n[h],n[p],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Fq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new Vq;const p=i<<2|a>>4;if(r.push(p),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const b=c<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bq=function(t){const e=AI(t);return EI.encodeByteArray(e,!0)},G1=function(t){return Bq(t).replace(/\./g,"")},Uq=function(t){try{return EI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q=()=>zq().__FIREBASE_DEFAULTS__,qq=()=>{if(typeof process>"u"||typeof q4>"u")return;const t=q4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Uq(t[1]);return e&&JSON.parse(e)},k_=()=>{try{return Oq()||$q()||qq()||Wq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hq=t=>{var e,n;return(n=(e=k_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},TI=t=>{const e=Hq(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PI=()=>{var t;return(t=k_())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[G1(JSON.stringify(n)),G1(JSON.stringify(o)),""].join(".")}const Rp={};function Kq(){const t={prod:[],emulator:[]};for(const e of Object.keys(Rp))Rp[e]?t.emulator.push(e):t.prod.push(e);return t}function Yq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let W4=!1;function jI(t,e){if(typeof window>"u"||typeof document>"u"||!rv(window.location.host)||Rp[t]===e||Rp[t]||W4)return;Rp[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=Kq().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,f){p.setAttribute("width","24"),p.setAttribute("id",f),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{W4=!0,o()},p}function d(p,f){p.setAttribute("id",f),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=Yq(r),f=n("text"),b=document.getElementById(f)||document.createElement("span"),x=n("learnmore"),w=document.getElementById(x)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;a(A),d(w,x);const R=c();l(_,v),A.append(_,b,w,R),document.body.appendChild(A)}i?(b.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xq(){var e;const t=(e=k_())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zq(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Jq(){return!Xq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function II(){try{return typeof indexedDB=="object"}catch{return!1}}function RI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function eW(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tW="FirebaseError";class _l extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tW,Object.setPrototypeOf(this,_l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sv.prototype.create)}}class sv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?nW(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new _l(s,a,r)}}function nW(t,e){return t.replace(rW,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const rW=/\{\$([^}]+)}/g;function bm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(H4(i)&&H4(o)){if(!bm(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function H4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=1e3,iW=2,oW=4*60*60*1e3,aW=.5;function G4(t,e=sW,n=iW){const r=e*Math.pow(n,t),s=Math.round(aW*r*(Math.random()-.5)*2);return Math.min(oW,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){return t&&t._delegate?t._delegate:t}class Ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uW(e))try{this.getOrInitializeService({instanceIdentifier:xu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=xu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xu){return this.instances.has(e)}getOptions(e=xu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xu){return this.component?this.component.multipleInstances?e:xu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cW(t){return t===xu?void 0:t}function uW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(en||(en={}));const hW={debug:en.DEBUG,verbose:en.VERBOSE,info:en.INFO,warn:en.WARN,error:en.ERROR,silent:en.SILENT},fW=en.INFO,pW={[en.DEBUG]:"log",[en.VERBOSE]:"log",[en.INFO]:"info",[en.WARN]:"warn",[en.ERROR]:"error"},mW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=pW[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class j_{constructor(e){this.name=e,this._logLevel=fW,this._logHandler=mW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in en))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,en.DEBUG,...e),this._logHandler(this,en.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,en.VERBOSE,...e),this._logHandler(this,en.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,en.INFO,...e),this._logHandler(this,en.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,en.WARN,...e),this._logHandler(this,en.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,en.ERROR,...e),this._logHandler(this,en.ERROR,...e)}}const gW=(t,e)=>e.some(n=>t instanceof n);let K4,Y4;function yW(){return K4||(K4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vW(){return Y4||(Y4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LI=new WeakMap,nw=new WeakMap,DI=new WeakMap,Rx=new WeakMap,I_=new WeakMap;function xW(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Tc(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LI.set(n,t)}).catch(()=>{}),I_.set(e,t),e}function bW(t){if(nw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});nw.set(t,e)}let rw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wW(t){rw=t(rw)}function _W(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lx(this),e,...n);return DI.set(r,e.sort?e.sort():[e]),Tc(r)}:vW().includes(t)?function(...e){return t.apply(Lx(this),e),Tc(LI.get(this))}:function(...e){return Tc(t.apply(Lx(this),e))}}function SW(t){return typeof t=="function"?_W(t):(t instanceof IDBTransaction&&bW(t),gW(t,yW())?new Proxy(t,rw):t)}function Tc(t){if(t instanceof IDBRequest)return xW(t);if(Rx.has(t))return Rx.get(t);const e=SW(t);return e!==t&&(Rx.set(t,e),I_.set(e,t)),e}const Lx=t=>I_.get(t);function MI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Tc(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Tc(o.result),l.oldVersion,l.newVersion,Tc(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const NW=["get","getKey","getAll","getAllKeys","count"],AW=["put","add","delete","clear"],Dx=new Map;function Q4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dx.get(e))return Dx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=AW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||NW.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Dx.set(e,i),i}wW(t=>({...t,get:(e,n,r)=>Q4(e,n)||t.get(e,n,r),has:(e,n)=>!!Q4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sw="@firebase/app",X4="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new j_("@firebase/app"),PW="@firebase/app-compat",CW="@firebase/analytics-compat",kW="@firebase/analytics",jW="@firebase/app-check-compat",IW="@firebase/app-check",RW="@firebase/auth",LW="@firebase/auth-compat",DW="@firebase/database",MW="@firebase/data-connect",OW="@firebase/database-compat",FW="@firebase/functions",VW="@firebase/functions-compat",BW="@firebase/installations",UW="@firebase/installations-compat",zW="@firebase/messaging",$W="@firebase/messaging-compat",qW="@firebase/performance",WW="@firebase/performance-compat",HW="@firebase/remote-config",GW="@firebase/remote-config-compat",KW="@firebase/storage",YW="@firebase/storage-compat",QW="@firebase/firestore",XW="@firebase/ai",ZW="@firebase/firestore-compat",JW="firebase",eH="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="[DEFAULT]",tH={[sw]:"fire-core",[PW]:"fire-core-compat",[kW]:"fire-analytics",[CW]:"fire-analytics-compat",[IW]:"fire-app-check",[jW]:"fire-app-check-compat",[RW]:"fire-auth",[LW]:"fire-auth-compat",[DW]:"fire-rtdb",[MW]:"fire-data-connect",[OW]:"fire-rtdb-compat",[FW]:"fire-fn",[VW]:"fire-fn-compat",[BW]:"fire-iid",[UW]:"fire-iid-compat",[zW]:"fire-fcm",[$W]:"fire-fcm-compat",[qW]:"fire-perf",[WW]:"fire-perf-compat",[HW]:"fire-rc",[GW]:"fire-rc-compat",[KW]:"fire-gcs",[YW]:"fire-gcs-compat",[QW]:"fire-fst",[ZW]:"fire-fst-compat",[XW]:"fire-vertex","fire-js":"fire-js",[JW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new Map,nH=new Map,ow=new Map;function Z4(t,e){try{t.container.addComponent(e)}catch(n){ml.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gl(t){const e=t.name;if(ow.has(e))return ml.debug(`There were multiple attempts to register component ${e}.`),!1;ow.set(e,t);for(const n of K1.values())Z4(n,t);for(const n of nH.values())Z4(n,t);return!0}function gf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function OI(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pc=new sv("app","Firebase",rH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=eH;function VI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:iw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Pc.create("bad-app-name",{appName:String(s)});if(n||(n=PI()),!n)throw Pc.create("no-options");const i=K1.get(s);if(i){if(bm(n,i.options)&&bm(r,i.config))return i;throw Pc.create("duplicate-app",{appName:s})}const o=new dW(s);for(const l of ow.values())o.addComponent(l);const a=new sH(n,r,o);return K1.set(s,a),a}function R_(t=iw){const e=K1.get(t);if(!e&&t===iw&&PI())return VI();if(!e)throw Pc.create("no-app",{appName:t});return e}function eo(t,e,n){let r=tH[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ml.warn(o.join(" "));return}gl(new Ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="firebase-heartbeat-database",oH=1,wm="firebase-heartbeat-store";let Mx=null;function BI(){return Mx||(Mx=MI(iH,oH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pc.create("idb-open",{originalErrorMessage:t.message})})),Mx}async function aH(t){try{const n=(await BI()).transaction(wm),r=await n.objectStore(wm).get(UI(t));return await n.done,r}catch(e){if(e instanceof _l)ml.warn(e.message);else{const n=Pc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ml.warn(n.message)}}}async function J4(t,e){try{const r=(await BI()).transaction(wm,"readwrite");await r.objectStore(wm).put(e,UI(t)),await r.done}catch(n){if(n instanceof _l)ml.warn(n.message);else{const r=Pc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ml.warn(r.message)}}}function UI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=1024,cH=30;class uH{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hH(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=e3();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>cH){const o=fH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ml.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e3(),{heartbeatsToSend:r,unsentEntries:s}=dH(this._heartbeatsCache.heartbeats),i=G1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ml.warn(n),""}}}function e3(){return new Date().toISOString().substring(0,10)}function dH(t,e=lH){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),t3(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),t3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return II()?RI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aH(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return J4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return J4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function t3(t){return G1(JSON.stringify({version:2,heartbeats:t})).length}function fH(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pH(t){gl(new Ca("platform-logger",e=>new EW(e),"PRIVATE")),gl(new Ca("heartbeat",e=>new uH(e),"PRIVATE")),eo(sw,X4,t),eo(sw,X4,"esm2020"),eo("fire-js","")}pH("");var n3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cc,zI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function C(){}C.prototype=E.prototype,I.F=E.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(M,N,T){for(var k=Array(arguments.length-2),z=2;z<arguments.length;z++)k[z-2]=arguments[z];return E.prototype[N].apply(M,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,E,C){C||(C=0);const M=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)M[N]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(N=0;N<16;++N)M[N]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=I.g[0],C=I.g[1],N=I.g[2];let T=I.g[3],k;k=E+(T^C&(N^T))+M[0]+3614090360&4294967295,E=C+(k<<7&4294967295|k>>>25),k=T+(N^E&(C^N))+M[1]+3905402710&4294967295,T=E+(k<<12&4294967295|k>>>20),k=N+(C^T&(E^C))+M[2]+606105819&4294967295,N=T+(k<<17&4294967295|k>>>15),k=C+(E^N&(T^E))+M[3]+3250441966&4294967295,C=N+(k<<22&4294967295|k>>>10),k=E+(T^C&(N^T))+M[4]+4118548399&4294967295,E=C+(k<<7&4294967295|k>>>25),k=T+(N^E&(C^N))+M[5]+1200080426&4294967295,T=E+(k<<12&4294967295|k>>>20),k=N+(C^T&(E^C))+M[6]+2821735955&4294967295,N=T+(k<<17&4294967295|k>>>15),k=C+(E^N&(T^E))+M[7]+4249261313&4294967295,C=N+(k<<22&4294967295|k>>>10),k=E+(T^C&(N^T))+M[8]+1770035416&4294967295,E=C+(k<<7&4294967295|k>>>25),k=T+(N^E&(C^N))+M[9]+2336552879&4294967295,T=E+(k<<12&4294967295|k>>>20),k=N+(C^T&(E^C))+M[10]+4294925233&4294967295,N=T+(k<<17&4294967295|k>>>15),k=C+(E^N&(T^E))+M[11]+2304563134&4294967295,C=N+(k<<22&4294967295|k>>>10),k=E+(T^C&(N^T))+M[12]+1804603682&4294967295,E=C+(k<<7&4294967295|k>>>25),k=T+(N^E&(C^N))+M[13]+4254626195&4294967295,T=E+(k<<12&4294967295|k>>>20),k=N+(C^T&(E^C))+M[14]+2792965006&4294967295,N=T+(k<<17&4294967295|k>>>15),k=C+(E^N&(T^E))+M[15]+1236535329&4294967295,C=N+(k<<22&4294967295|k>>>10),k=E+(N^T&(C^N))+M[1]+4129170786&4294967295,E=C+(k<<5&4294967295|k>>>27),k=T+(C^N&(E^C))+M[6]+3225465664&4294967295,T=E+(k<<9&4294967295|k>>>23),k=N+(E^C&(T^E))+M[11]+643717713&4294967295,N=T+(k<<14&4294967295|k>>>18),k=C+(T^E&(N^T))+M[0]+3921069994&4294967295,C=N+(k<<20&4294967295|k>>>12),k=E+(N^T&(C^N))+M[5]+3593408605&4294967295,E=C+(k<<5&4294967295|k>>>27),k=T+(C^N&(E^C))+M[10]+38016083&4294967295,T=E+(k<<9&4294967295|k>>>23),k=N+(E^C&(T^E))+M[15]+3634488961&4294967295,N=T+(k<<14&4294967295|k>>>18),k=C+(T^E&(N^T))+M[4]+3889429448&4294967295,C=N+(k<<20&4294967295|k>>>12),k=E+(N^T&(C^N))+M[9]+568446438&4294967295,E=C+(k<<5&4294967295|k>>>27),k=T+(C^N&(E^C))+M[14]+3275163606&4294967295,T=E+(k<<9&4294967295|k>>>23),k=N+(E^C&(T^E))+M[3]+4107603335&4294967295,N=T+(k<<14&4294967295|k>>>18),k=C+(T^E&(N^T))+M[8]+1163531501&4294967295,C=N+(k<<20&4294967295|k>>>12),k=E+(N^T&(C^N))+M[13]+2850285829&4294967295,E=C+(k<<5&4294967295|k>>>27),k=T+(C^N&(E^C))+M[2]+4243563512&4294967295,T=E+(k<<9&4294967295|k>>>23),k=N+(E^C&(T^E))+M[7]+1735328473&4294967295,N=T+(k<<14&4294967295|k>>>18),k=C+(T^E&(N^T))+M[12]+2368359562&4294967295,C=N+(k<<20&4294967295|k>>>12),k=E+(C^N^T)+M[5]+4294588738&4294967295,E=C+(k<<4&4294967295|k>>>28),k=T+(E^C^N)+M[8]+2272392833&4294967295,T=E+(k<<11&4294967295|k>>>21),k=N+(T^E^C)+M[11]+1839030562&4294967295,N=T+(k<<16&4294967295|k>>>16),k=C+(N^T^E)+M[14]+4259657740&4294967295,C=N+(k<<23&4294967295|k>>>9),k=E+(C^N^T)+M[1]+2763975236&4294967295,E=C+(k<<4&4294967295|k>>>28),k=T+(E^C^N)+M[4]+1272893353&4294967295,T=E+(k<<11&4294967295|k>>>21),k=N+(T^E^C)+M[7]+4139469664&4294967295,N=T+(k<<16&4294967295|k>>>16),k=C+(N^T^E)+M[10]+3200236656&4294967295,C=N+(k<<23&4294967295|k>>>9),k=E+(C^N^T)+M[13]+681279174&4294967295,E=C+(k<<4&4294967295|k>>>28),k=T+(E^C^N)+M[0]+3936430074&4294967295,T=E+(k<<11&4294967295|k>>>21),k=N+(T^E^C)+M[3]+3572445317&4294967295,N=T+(k<<16&4294967295|k>>>16),k=C+(N^T^E)+M[6]+76029189&4294967295,C=N+(k<<23&4294967295|k>>>9),k=E+(C^N^T)+M[9]+3654602809&4294967295,E=C+(k<<4&4294967295|k>>>28),k=T+(E^C^N)+M[12]+3873151461&4294967295,T=E+(k<<11&4294967295|k>>>21),k=N+(T^E^C)+M[15]+530742520&4294967295,N=T+(k<<16&4294967295|k>>>16),k=C+(N^T^E)+M[2]+3299628645&4294967295,C=N+(k<<23&4294967295|k>>>9),k=E+(N^(C|~T))+M[0]+4096336452&4294967295,E=C+(k<<6&4294967295|k>>>26),k=T+(C^(E|~N))+M[7]+1126891415&4294967295,T=E+(k<<10&4294967295|k>>>22),k=N+(E^(T|~C))+M[14]+2878612391&4294967295,N=T+(k<<15&4294967295|k>>>17),k=C+(T^(N|~E))+M[5]+4237533241&4294967295,C=N+(k<<21&4294967295|k>>>11),k=E+(N^(C|~T))+M[12]+1700485571&4294967295,E=C+(k<<6&4294967295|k>>>26),k=T+(C^(E|~N))+M[3]+2399980690&4294967295,T=E+(k<<10&4294967295|k>>>22),k=N+(E^(T|~C))+M[10]+4293915773&4294967295,N=T+(k<<15&4294967295|k>>>17),k=C+(T^(N|~E))+M[1]+2240044497&4294967295,C=N+(k<<21&4294967295|k>>>11),k=E+(N^(C|~T))+M[8]+1873313359&4294967295,E=C+(k<<6&4294967295|k>>>26),k=T+(C^(E|~N))+M[15]+4264355552&4294967295,T=E+(k<<10&4294967295|k>>>22),k=N+(E^(T|~C))+M[6]+2734768916&4294967295,N=T+(k<<15&4294967295|k>>>17),k=C+(T^(N|~E))+M[13]+1309151649&4294967295,C=N+(k<<21&4294967295|k>>>11),k=E+(N^(C|~T))+M[4]+4149444226&4294967295,E=C+(k<<6&4294967295|k>>>26),k=T+(C^(E|~N))+M[11]+3174756917&4294967295,T=E+(k<<10&4294967295|k>>>22),k=N+(E^(T|~C))+M[2]+718787259&4294967295,N=T+(k<<15&4294967295|k>>>17),k=C+(T^(N|~E))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+T&4294967295}r.prototype.v=function(I,E){E===void 0&&(E=I.length);const C=E-this.blockSize,M=this.C;let N=this.h,T=0;for(;T<E;){if(N==0)for(;T<=C;)s(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<E;)if(M[N++]=I.charCodeAt(T++),N==this.blockSize){s(this,M),N=0;break}}else for(;T<E;)if(M[N++]=I[T++],N==this.blockSize){s(this,M),N=0;break}}this.h=N,this.o+=E},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;E=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=E&255,E/=256;for(this.v(I),I=Array(16),E=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)I[E++]=this.g[C]>>>M&255;return I};function i(I,E){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=E(I)}function o(I,E){this.h=E;const C=[];let M=!0;for(let N=I.length-1;N>=0;N--){const T=I[N]|0;M&&T==E||(C[N]=T,M=!1)}this.g=C}var a={};function l(I){return-128<=I&&I<128?i(I,function(E){return new o([E|0],E<0?-1:0)}):new o([I|0],I<0?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(I<0)return w(c(-I));const E=[];let C=1;for(let M=0;I>=C;M++)E[M]=I/C|0,C*=4294967296;return new o(E,0)}function d(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return w(d(I.substring(1),E));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(E,8));let M=h;for(let T=0;T<I.length;T+=8){var N=Math.min(8,I.length-T);const k=parseInt(I.substring(T,T+N),E);N<8?(N=c(Math.pow(E,N)),M=M.j(N).add(c(k))):(M=M.j(C),M=M.add(c(k)))}return M}var h=l(0),p=l(1),f=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-w(this).m();let I=0,E=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);I+=(M>=0?M:4294967296+M)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(x(this))return"-"+w(this).toString(I);const E=c(Math.pow(I,6));var C=this;let M="";for(;;){const N=R(C,E).g;C=v(C,N.j(E));let T=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,b(C))return T+M;for(;T.length<6;)T="0"+T;M=T+M}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(let E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=v(this,I),x(I)?-1:b(I)?0:1};function w(I){const E=I.g.length,C=[];for(let M=0;M<E;M++)C[M]=~I.g[M];return new o(C,~I.h).add(p)}t.abs=function(){return x(this)?w(this):this},t.add=function(I){const E=Math.max(this.g.length,I.g.length),C=[];let M=0;for(let N=0;N<=E;N++){let T=M+(this.i(N)&65535)+(I.i(N)&65535),k=(T>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);M=k>>>16,T&=65535,k&=65535,C[N]=k<<16|T}return new o(C,C[C.length-1]&-2147483648?-1:0)};function v(I,E){return I.add(w(E))}t.j=function(I){if(b(this)||b(I))return h;if(x(this))return x(I)?w(this).j(w(I)):w(w(this).j(I));if(x(I))return w(this.j(w(I)));if(this.l(f)<0&&I.l(f)<0)return c(this.m()*I.m());const E=this.g.length+I.g.length,C=[];for(var M=0;M<2*E;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<I.g.length;N++){const T=this.i(M)>>>16,k=this.i(M)&65535,z=I.i(N)>>>16,K=I.i(N)&65535;C[2*M+2*N]+=k*K,_(C,2*M+2*N),C[2*M+2*N+1]+=T*K,_(C,2*M+2*N+1),C[2*M+2*N+1]+=k*z,_(C,2*M+2*N+1),C[2*M+2*N+2]+=T*z,_(C,2*M+2*N+2)}for(I=0;I<E;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=E;I<2*E;I++)C[I]=0;return new o(C,0)};function _(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function A(I,E){this.g=I,this.h=E}function R(I,E){if(b(E))throw Error("division by zero");if(b(I))return new A(h,h);if(x(I))return E=R(w(I),E),new A(w(E.g),w(E.h));if(x(E))return E=R(I,w(E)),new A(w(E.g),E.h);if(I.g.length>30){if(x(I)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var C=p,M=E;M.l(I)<=0;)C=F(C),M=F(M);var N=$(C,1),T=$(M,1);for(M=$(M,2),C=$(C,2);!b(M);){var k=T.add(M);k.l(I)<=0&&(N=N.add(C),T=k),M=$(M,1),C=$(C,1)}return E=v(I,N.j(E)),new A(N,E)}for(N=h;I.l(E)>=0;){for(C=Math.max(1,Math.floor(I.m()/E.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),T=c(C),k=T.j(E);x(k)||k.l(I)>0;)C-=M,T=c(C),k=T.j(E);b(T)&&(T=p),N=N.add(T),I=v(I,k)}return new A(N,I)}t.B=function(I){return R(this,I).h},t.and=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<E;M++)C[M]=this.i(M)&I.i(M);return new o(C,this.h&I.h)},t.or=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<E;M++)C[M]=this.i(M)|I.i(M);return new o(C,this.h|I.h)},t.xor=function(I){const E=Math.max(this.g.length,I.g.length),C=[];for(let M=0;M<E;M++)C[M]=this.i(M)^I.i(M);return new o(C,this.h^I.h)};function F(I){const E=I.g.length+1,C=[];for(let M=0;M<E;M++)C[M]=I.i(M)<<1|I.i(M-1)>>>31;return new o(C,I.h)}function $(I,E){const C=E>>5;E%=32;const M=I.g.length-C,N=[];for(let T=0;T<M;T++)N[T]=E>0?I.i(T+C)>>>E|I.i(T+C+1)<<32-E:I.i(T+C);return new o(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Cc=o}).apply(typeof n3<"u"?n3:typeof self<"u"?self:typeof window<"u"?window:{});var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $I,mp,qI,G0,aw,WI,HI,GI;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof a0=="object"&&a0];for(var j=0;j<g.length;++j){var O=g[j];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function s(g,j){if(j)e:{var O=r;g=g.split(".");for(var G=0;G<g.length-1;G++){var ye=g[G];if(!(ye in O))break e;O=O[ye]}g=g[g.length-1],G=O[g],j=j(G),j!=G&&j!=null&&e(O,g,{configurable:!0,writable:!0,value:j})}}s("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(g){return g||function(j){var O=[],G;for(G in j)Object.prototype.hasOwnProperty.call(j,G)&&O.push([G,j[G]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(g){var j=typeof g;return j=="object"&&g!=null||j=="function"}function l(g,j,O){return g.call.apply(g.bind,arguments)}function c(g,j,O){return c=l,c.apply(null,arguments)}function d(g,j){var O=Array.prototype.slice.call(arguments,1);return function(){var G=O.slice();return G.push.apply(G,arguments),g.apply(this,G)}}function h(g,j){function O(){}O.prototype=j.prototype,g.Z=j.prototype,g.prototype=new O,g.prototype.constructor=g,g.Ob=function(G,ye,we){for(var Fe=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)Fe[Tt-2]=arguments[Tt];return j.prototype[ye].apply(G,Fe)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function f(g){const j=g.length;if(j>0){const O=Array(j);for(let G=0;G<j;G++)O[G]=g[G];return O}return[]}function b(g,j){for(let G=1;G<arguments.length;G++){const ye=arguments[G];var O=typeof ye;if(O=O!="object"?O:ye?Array.isArray(ye)?"array":O:"null",O=="array"||O=="object"&&typeof ye.length=="number"){O=g.length||0;const we=ye.length||0;g.length=O+we;for(let Fe=0;Fe<we;Fe++)g[O+Fe]=ye[Fe]}else g.push(ye)}}class x{constructor(j,O){this.i=j,this.j=O,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function w(g){o.setTimeout(()=>{throw g},0)}function v(){var g=I;let j=null;return g.g&&(j=g.g,g.g=g.g.next,g.g||(g.h=null),j.next=null),j}class _{constructor(){this.h=this.g=null}add(j,O){const G=A.get();G.set(j,O),this.h?this.h.next=G:this.g=G,this.h=G}}var A=new x(()=>new R,g=>g.reset());class R{constructor(){this.next=this.g=this.h=null}set(j,O){this.h=j,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let F,$=!1,I=new _,E=()=>{const g=Promise.resolve(void 0);F=()=>{g.then(C)}};function C(){for(var g;g=v();){try{g.h.call(g.g)}catch(O){w(O)}var j=A;j.j(g),j.h<100&&(j.h++,g.next=j.g,j.g=g)}$=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(g,j){this.type=g,this.g=this.target=j,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,j=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const O=()=>{};o.addEventListener("test",O,j),o.removeEventListener("test",O,j)}catch{}return g}();function k(g){return/^[\s\xa0]*$/.test(g)}function z(g,j){N.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,j)}h(z,N),z.prototype.init=function(g,j){const O=this.type=g.type,G=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=j,j=g.relatedTarget,j||(O=="mouseover"?j=g.fromElement:O=="mouseout"&&(j=g.toElement)),this.relatedTarget=j,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),ae=0;function ie(g,j,O,G,ye){this.listener=g,this.proxy=null,this.src=j,this.type=O,this.capture=!!G,this.ha=ye,this.key=++ae,this.da=this.fa=!1}function Y(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ee(g,j,O){for(const G in g)j.call(O,g[G],G,g)}function se(g,j){for(const O in g)j.call(void 0,g[O],O,g)}function ce(g){const j={};for(const O in g)j[O]=g[O];return j}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(g,j){let O,G;for(let ye=1;ye<arguments.length;ye++){G=arguments[ye];for(O in G)g[O]=G[O];for(let we=0;we<V.length;we++)O=V[we],Object.prototype.hasOwnProperty.call(G,O)&&(g[O]=G[O])}}function Z(g){this.src=g,this.g={},this.h=0}Z.prototype.add=function(g,j,O,G,ye){const we=g.toString();g=this.g[we],g||(g=this.g[we]=[],this.h++);const Fe=de(g,j,G,ye);return Fe>-1?(j=g[Fe],O||(j.fa=!1)):(j=new ie(j,this.src,we,!!G,ye),j.fa=O,g.push(j)),j};function le(g,j){const O=j.type;if(O in g.g){var G=g.g[O],ye=Array.prototype.indexOf.call(G,j,void 0),we;(we=ye>=0)&&Array.prototype.splice.call(G,ye,1),we&&(Y(j),g.g[O].length==0&&(delete g.g[O],g.h--))}}function de(g,j,O,G){for(let ye=0;ye<g.length;++ye){const we=g[ye];if(!we.da&&we.listener==j&&we.capture==!!O&&we.ha==G)return ye}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),oe={};function fe(g,j,O,G,ye){if(Array.isArray(j)){for(let we=0;we<j.length;we++)fe(g,j[we],O,G,ye);return null}return O=ot(O),g&&g[K]?g.J(j,O,a(G)?!!G.capture:!!G,ye):_e(g,j,O,!1,G,ye)}function _e(g,j,O,G,ye,we){if(!j)throw Error("Invalid event type");const Fe=a(ye)?!!ye.capture:!!ye;let Tt=Be(g);if(Tt||(g[pe]=Tt=new Z(g)),O=Tt.add(j,O,G,Fe,we),O.proxy)return O;if(G=Pe(),O.proxy=G,G.src=g,G.listener=O,g.addEventListener)T||(ye=Fe),ye===void 0&&(ye=!1),g.addEventListener(j.toString(),G,ye);else if(g.attachEvent)g.attachEvent($e(j.toString()),G);else if(g.addListener&&g.removeListener)g.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Pe(){function g(O){return j.call(g.src,g.listener,O)}const j=J;return g}function Me(g,j,O,G,ye){if(Array.isArray(j))for(var we=0;we<j.length;we++)Me(g,j[we],O,G,ye);else G=a(G)?!!G.capture:!!G,O=ot(O),g&&g[K]?(g=g.i,we=String(j).toString(),we in g.g&&(j=g.g[we],O=de(j,O,G,ye),O>-1&&(Y(j[O]),Array.prototype.splice.call(j,O,1),j.length==0&&(delete g.g[we],g.h--)))):g&&(g=Be(g))&&(j=g.g[j.toString()],g=-1,j&&(g=de(j,O,G,ye)),(O=g>-1?j[g]:null)&&Oe(O))}function Oe(g){if(typeof g!="number"&&g&&!g.da){var j=g.src;if(j&&j[K])le(j.i,g);else{var O=g.type,G=g.proxy;j.removeEventListener?j.removeEventListener(O,G,g.capture):j.detachEvent?j.detachEvent($e(O),G):j.addListener&&j.removeListener&&j.removeListener(G),(O=Be(j))?(le(O,g),O.h==0&&(O.src=null,j[pe]=null)):Y(g)}}}function $e(g){return g in oe?oe[g]:oe[g]="on"+g}function J(g,j){if(g.da)g=!0;else{j=new z(j,this);const O=g.listener,G=g.ha||g.src;g.fa&&Oe(g),g=O.call(G,j)}return g}function Be(g){return g=g[pe],g instanceof Z?g:null}var St="__closure_events_fn_"+(Math.random()*1e9>>>0);function ot(g){return typeof g=="function"?g:(g[St]||(g[St]=function(j){return g.handleEvent(j)}),g[St])}function Ne(){M.call(this),this.i=new Z(this),this.M=this,this.G=null}h(Ne,M),Ne.prototype[K]=!0,Ne.prototype.removeEventListener=function(g,j,O,G){Me(this,g,j,O,G)};function qe(g,j){var O,G=g.G;if(G)for(O=[];G;G=G.G)O.push(G);if(g=g.M,G=j.type||j,typeof j=="string")j=new N(j,g);else if(j instanceof N)j.target=j.target||g;else{var ye=j;j=new N(G,g),Q(j,ye)}ye=!0;let we,Fe;if(O)for(Fe=O.length-1;Fe>=0;Fe--)we=j.g=O[Fe],ye=ze(we,G,!0,j)&&ye;if(we=j.g=g,ye=ze(we,G,!0,j)&&ye,ye=ze(we,G,!1,j)&&ye,O)for(Fe=0;Fe<O.length;Fe++)we=j.g=O[Fe],ye=ze(we,G,!1,j)&&ye}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var g=this.i;for(const j in g.g){const O=g.g[j];for(let G=0;G<O.length;G++)Y(O[G]);delete g.g[j],g.h--}}this.G=null},Ne.prototype.J=function(g,j,O,G){return this.i.add(String(g),j,!1,O,G)},Ne.prototype.K=function(g,j,O,G){return this.i.add(String(g),j,!0,O,G)};function ze(g,j,O,G){if(j=g.i.g[String(j)],!j)return!0;j=j.concat();let ye=!0;for(let we=0;we<j.length;++we){const Fe=j[we];if(Fe&&!Fe.da&&Fe.capture==O){const Tt=Fe.listener,Tn=Fe.ha||Fe.src;Fe.fa&&le(g.i,Fe),ye=Tt.call(Tn,G)!==!1&&ye}}return ye&&!G.defaultPrevented}function ht(g,j){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=c(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:o.setTimeout(g,j||0)}function Ye(g){g.g=ht(()=>{g.g=null,g.i&&(g.i=!1,Ye(g))},g.l);const j=g.h;g.h=null,g.m.apply(null,j)}class Xt extends M{constructor(j,O){super(),this.m=j,this.l=O,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Ye(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kt(g){M.call(this),this.h=g,this.g={}}h(kt,M);var lt=[];function Pt(g){ee(g.g,function(j,O){this.g.hasOwnProperty(O)&&Oe(j)},g),g.g={}}kt.prototype.N=function(){kt.Z.N.call(this),Pt(this)},kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mt=o.JSON.stringify,et=o.JSON.parse,bt=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function tt(){}function yn(){}var Rt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xt(){N.call(this,"d")}h(xt,N);function Et(){N.call(this,"c")}h(Et,N);var Ut={},ct=null;function tn(){return ct=ct||new Ne}Ut.Ia="serverreachability";function mt(g){N.call(this,Ut.Ia,g)}h(mt,N);function yt(g){const j=tn();qe(j,new mt(j))}Ut.STAT_EVENT="statevent";function un(g,j){N.call(this,Ut.STAT_EVENT,g),this.stat=j}h(un,N);function ut(g){const j=tn();qe(j,new un(j,g))}Ut.Ja="timingevent";function nt(g,j){N.call(this,Ut.Ja,g),this.size=j}h(nt,N);function zt(g,j){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},j)}function ft(){this.g=!0}ft.prototype.ua=function(){this.g=!1};function Nt(g,j,O,G,ye,we){g.info(function(){if(g.g)if(we){var Fe="",Tt=we.split("&");for(let Ht=0;Ht<Tt.length;Ht++){var Tn=Tt[Ht].split("=");if(Tn.length>1){const Pn=Tn[0];Tn=Tn[1];const Mr=Pn.split("_");Fe=Mr.length>=2&&Mr[1]=="type"?Fe+(Pn+"="+Tn+"&"):Fe+(Pn+"=redacted&")}}}else Fe=null;else Fe=we;return"XMLHTTP REQ ("+G+") [attempt "+ye+"]: "+j+`
`+O+`
`+Fe})}function qt(g,j,O,G,ye,we,Fe){g.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ye+"]: "+j+`
`+O+`
`+we+" "+Fe})}function dn(g,j,O,G){g.info(function(){return"XMLHTTP TEXT ("+j+"): "+mr(g,O)+(G?" "+G:"")})}function Xe(g,j){g.info(function(){return"TIMEOUT: "+j})}ft.prototype.info=function(){};function mr(g,j){if(!g.g)return j;if(!j)return null;try{const we=JSON.parse(j);if(we){for(g=0;g<we.length;g++)if(Array.isArray(we[g])){var O=we[g];if(!(O.length<2)){var G=O[1];if(Array.isArray(G)&&!(G.length<1)){var ye=G[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(let Fe=1;Fe<G.length;Fe++)G[Fe]=""}}}}return Mt(we)}catch{return j}}var er={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$n;function Sn(){}h(Sn,tt),Sn.prototype.g=function(){return new XMLHttpRequest},$n=new Sn;function qn(g){return encodeURIComponent(String(g))}function Sr(g){var j=1;g=g.split(":");const O=[];for(;j>0&&g.length;)O.push(g.shift()),j--;return g.length&&O.push(g.join(":")),O}function Jr(g,j,O,G){this.j=g,this.i=j,this.l=O,this.S=G||1,this.V=new kt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oo}function oo(){this.i=null,this.g="",this.h=!1}var Vs={},Bs={};function ys(g,j,O){g.M=1,g.A=Va($s(j)),g.u=O,g.R=!0,Us(g,null)}function Us(g,j){g.F=Date.now(),ji(g),g.B=$s(g.A);var O=g.B,G=g.S;Array.isArray(G)||(G=[String(G)]),_d(O.i,"t",G),g.C=0,O=g.j.L,g.h=new oo,g.g=Ge(g.j,O?j:null,!g.u),g.P>0&&(g.O=new Xt(c(g.Y,g,g.g),g.P)),j=g.V,O=g.g,G=g.ba;var ye="readystatechange";Array.isArray(ye)||(ye&&(lt[0]=ye.toString()),ye=lt);for(let we=0;we<ye.length;we++){const Fe=fe(O,ye[we],G||j.handleEvent,!1,j.h||j);if(!Fe)break;j.g[Fe.key]=Fe}j=g.J?ce(g.J):{},g.u?(g.v||(g.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,j)):(g.v="GET",g.g.ea(g.B,g.v,null,j)),yt(),Nt(g.i,g.v,g.B,g.l,g.S,g.u)}Jr.prototype.ba=function(g){g=g.target;const j=this.O;j&&Gs(g)==3?j.j():this.Y(g)},Jr.prototype.Y=function(g){try{if(g==this.g)e:{const Tt=Gs(this.g),Tn=this.g.ya(),Ht=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Cl(this.g)))){this.K||Tt!=4||Tn==7||(Tn==8||Ht<=0?yt(3):yt(2)),Uo(this);var j=this.g.ca();this.X=j;var O=zs(this);if(this.o=j==200,qt(this.i,this.v,this.B,this.l,this.S,Tt,j),this.o){if(this.U&&!this.L){t:{if(this.g){var G,ye=this.g;if((G=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(G)){var we=G;break t}}we=null}if(g=we)dn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oa(this,g);else{this.o=!1,this.m=3,ut(12),ao(this),Ii(this);break e}}if(this.R){g=!0;let Pn;for(;!this.K&&this.C<O.length;)if(Pn=ki(this,O),Pn==Bs){Tt==4&&(this.m=4,ut(14),g=!1),dn(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Vs){this.m=4,ut(15),dn(this.i,this.l,O,"[Invalid Chunk]"),g=!1;break}else dn(this.i,this.l,Pn,null),Oa(this,Pn);if(Bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||O.length!=0||this.h.h||(this.m=1,ut(16),g=!1),this.o=this.o&&g,!g)dn(this.i,this.l,O,"[Invalid Chunked Response]"),ao(this),Ii(this);else if(O.length>0&&!this.W){this.W=!0;var Fe=this.j;Fe.g==this&&Fe.aa&&!Fe.P&&(Fe.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),jl(Fe),Fe.P=!0,ut(11))}}else dn(this.i,this.l,O,null),Oa(this,O);Tt==4&&ao(this),this.o&&!this.K&&(Tt==4?te(this.j,this):(this.o=!1,ji(this)))}else Ad(this.g),j==400&&O.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),ao(this),Ii(this)}}}catch{}finally{}};function zs(g){if(!Bo(g))return g.g.la();const j=Cl(g.g);if(j==="")return"";let O="";const G=j.length,ye=Gs(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return ao(g),Ii(g),"";g.h.i=new o.TextDecoder}for(let we=0;we<G;we++)g.h.h=!0,O+=g.h.i.decode(j[we],{stream:!(ye&&we==G-1)});return j.length=0,g.h.g+=O,g.C=0,g.h.g}function Bo(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function ki(g,j){var O=g.C,G=j.indexOf(`
`,O);return G==-1?Bs:(O=Number(j.substring(O,G)),isNaN(O)?Vs:(G+=1,G+O>j.length?Bs:(j=j.slice(G,G+O),g.C=G+O,j)))}Jr.prototype.cancel=function(){this.K=!0,ao(this)};function ji(g){g.T=Date.now()+g.H,Ma(g,g.H)}function Ma(g,j){if(g.D!=null)throw Error("WatchDog timer not null");g.D=zt(c(g.aa,g),j)}function Uo(g){g.D&&(o.clearTimeout(g.D),g.D=null)}Jr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Xe(this.i,this.B),this.M!=2&&(yt(),ut(17)),ao(this),this.m=2,Ii(this)):Ma(this,this.T-g)};function Ii(g){g.j.I==0||g.K||te(g.j,g)}function ao(g){Uo(g);var j=g.O;j&&typeof j.dispose=="function"&&j.dispose(),g.O=null,Pt(g.V),g.g&&(j=g.g,g.g=null,j.abort(),j.dispose())}function Oa(g,j){try{var O=g.j;if(O.I!=0&&(O.g==g||Nl(O.h,g))){if(!g.L&&Nl(O.h,g)&&O.I==3){try{var G=O.Ba.g.parse(j)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ye=G;if(ye[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<g.F)B(O),Go(O);else break e;uo(O),ut(18)}}else O.xa=ye[1],0<O.xa-O.K&&ye[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=zt(c(O.Va,O),6e3));Sl(O.h)<=1&&O.ta&&(O.ta=void 0)}else ge(O,11)}else if((g.L||O.g==g)&&B(O),!k(j))for(ye=O.Ba.g.parse(j),j=0;j<ye.length;j++){let Ht=ye[j];const Pn=Ht[0];if(!(Pn<=O.K))if(O.K=Pn,Ht=Ht[1],O.I==2)if(Ht[0]=="c"){O.M=Ht[1],O.ba=Ht[2];const Mr=Ht[3];Mr!=null&&(O.ka=Mr,O.j.info("VER="+O.ka));const es=Ht[4];es!=null&&(O.za=es,O.j.info("SVER="+O.za));const Cn=Ht[5];Cn!=null&&typeof Cn=="number"&&Cn>0&&(G=1.5*Cn,O.O=G,O.j.info("backChannelRequestTimeoutMs_="+G)),G=O;const ts=g.g;if(ts){const Fi=ts.g?ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var we=G.h;we.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(Fa(we,we.h),we.h=null))}if(G.G){const za=ts.g?ts.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(G.wa=za,sn(G.J,G.G,za))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-g.F,O.j.info("Handshake RTT: "+O.T+"ms")),G=O;var Fe=g;if(G.na=Ie(G,G.L?G.ba:null,G.W),Fe.L){tu(G.h,Fe);var Tt=Fe,Tn=G.O;Tn&&(Tt.H=Tn),Tt.D&&(Uo(Tt),ji(Tt)),G.g=Fe}else lu(G);O.i.length>0&&Yo(O)}else Ht[0]!="stop"&&Ht[0]!="close"||ge(O,7);else O.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?ge(O,7):Ho(O):Ht[0]!="noop"&&O.l&&O.l.qa(Ht),O.A=0)}}yt(4)}catch{}}var vd=class{constructor(g,j){this.g=g,this.map=j}};function eu(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vs(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Sl(g){return g.h?1:g.g?g.g.size:0}function Nl(g,j){return g.h?g.h==j:g.g?g.g.has(j):!1}function Fa(g,j){g.g?g.g.add(j):g.h=j}function tu(g,j){g.h&&g.h==j?g.h=null:g.g&&g.g.has(j)&&g.g.delete(j)}eu.prototype.cancel=function(){if(this.i=nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function nu(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let j=g.i;for(const O of g.g.values())j=j.concat(O.G);return j}return f(g.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ri(g,j){if(g){g=g.split("&");for(let O=0;O<g.length;O++){const G=g[O].indexOf("=");let ye,we=null;G>=0?(ye=g[O].substring(0,G),we=g[O].substring(G+1)):ye=g[O],j(ye,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function xs(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;g instanceof xs?(this.l=g.l,Nn(this,g.j),this.o=g.o,this.g=g.g,zo(this,g.u),this.h=g.h,qs(this,Al(g.i)),this.m=g.m):g&&(j=String(g).match(ru))?(this.l=!1,Nn(this,j[1]||"",!0),this.o=Dr(j[2]||""),this.g=Dr(j[3]||"",!0),zo(this,j[4]),this.h=Dr(j[5]||"",!0),qs(this,j[6]||"",!0),this.m=Dr(j[7]||"")):(this.l=!1,this.i=new $o(null,this.l))}xs.prototype.toString=function(){const g=[];var j=this.j;j&&g.push(Ln(j,su,!0),":");var O=this.g;return(O||j=="file")&&(g.push("//"),(j=this.o)&&g.push(Ln(j,su,!0),"@"),g.push(qn(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&g.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&g.push("/"),g.push(Ln(O,O.charAt(0)=="/"?jf:kf,!0))),(O=this.i.toString())&&g.push("?",O),(O=this.m)&&g.push("#",Ln(O,xd)),g.join("")},xs.prototype.resolve=function(g){const j=$s(this);let O=!!g.j;O?Nn(j,g.j):O=!!g.o,O?j.o=g.o:O=!!g.g,O?j.g=g.g:O=g.u!=null;var G=g.h;if(O)zo(j,g.u);else if(O=!!g.h){if(G.charAt(0)!="/")if(this.g&&!this.h)G="/"+G;else{var ye=j.h.lastIndexOf("/");ye!=-1&&(G=j.h.slice(0,ye+1)+G)}if(ye=G,ye==".."||ye==".")G="";else if(ye.indexOf("./")!=-1||ye.indexOf("/.")!=-1){G=ye.lastIndexOf("/",0)==0,ye=ye.split("/");const we=[];for(let Fe=0;Fe<ye.length;){const Tt=ye[Fe++];Tt=="."?G&&Fe==ye.length&&we.push(""):Tt==".."?((we.length>1||we.length==1&&we[0]!="")&&we.pop(),G&&Fe==ye.length&&we.push("")):(we.push(Tt),G=!0)}G=we.join("/")}else G=ye}return O?j.h=G:O=g.i.toString()!=="",O?qs(j,Al(g.i)):O=!!g.m,O&&(j.m=g.m),j};function $s(g){return new xs(g)}function Nn(g,j,O){g.j=O?Dr(j,!0):j,g.j&&(g.j=g.j.replace(/:$/,""))}function zo(g,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);g.u=j}else g.u=null}function qs(g,j,O){j instanceof $o?(g.i=j,ii(g.i,g.l)):(O||(j=Ln(j,Li)),g.i=new $o(j,g.l))}function sn(g,j,O){g.i.set(j,O)}function Va(g){return sn(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Dr(g,j){return g?j?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ln(g,j,O){return typeof g=="string"?(g=encodeURI(g).replace(j,lo),O&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function lo(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var su=/[#\/\?@]/g,kf=/[#\?:]/g,jf=/[#\?]/g,Li=/[#\?@]/g,xd=/#/g;function $o(g,j){this.h=this.g=null,this.i=g||null,this.j=!!j}function Ws(g){g.g||(g.g=new Map,g.h=0,g.i&&Ri(g.i,function(j,O){g.add(decodeURIComponent(j.replace(/\+/g," ")),O)}))}t=$o.prototype,t.add=function(g,j){Ws(this),this.i=null,g=co(this,g);let O=this.g.get(g);return O||this.g.set(g,O=[]),O.push(j),this.h+=1,this};function qo(g,j){Ws(g),j=co(g,j),g.g.has(j)&&(g.i=null,g.h-=g.g.get(j).length,g.g.delete(j))}function bd(g,j){return Ws(g),j=co(g,j),g.g.has(j)}t.forEach=function(g,j){Ws(this),this.g.forEach(function(O,G){O.forEach(function(ye){g.call(j,ye,G,this)},this)},this)};function wd(g,j){Ws(g);let O=[];if(typeof j=="string")bd(g,j)&&(O=O.concat(g.g.get(co(g,j))));else for(g=Array.from(g.g.values()),j=0;j<g.length;j++)O=O.concat(g[j]);return O}t.set=function(g,j){return Ws(this),this.i=null,g=co(this,g),bd(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[j]),this.h+=1,this},t.get=function(g,j){return g?(g=wd(this,g),g.length>0?String(g[0]):j):j};function _d(g,j,O){qo(g,j),O.length>0&&(g.i=null,g.g.set(co(g,j),f(O)),g.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],j=Array.from(this.g.keys());for(let G=0;G<j.length;G++){var O=j[G];const ye=qn(O);O=wd(this,O);for(let we=0;we<O.length;we++){let Fe=ye;O[we]!==""&&(Fe+="="+qn(O[we])),g.push(Fe)}}return this.i=g.join("&")};function Al(g){const j=new $o;return j.i=g.i,g.g&&(j.g=new Map(g.g),j.h=g.h),j}function co(g,j){return j=String(j),g.j&&(j=j.toLowerCase()),j}function ii(g,j){j&&!g.j&&(Ws(g),g.i=null,g.g.forEach(function(O,G){const ye=G.toLowerCase();G!=ye&&(qo(this,G),_d(this,ye,O))},g)),g.j=j}function If(g,j){const O=new ft;if(o.Image){const G=new Image;G.onload=d(Hs,O,"TestLoadImage: loaded",!0,j,G),G.onerror=d(Hs,O,"TestLoadImage: error",!1,j,G),G.onabort=d(Hs,O,"TestLoadImage: abort",!1,j,G),G.ontimeout=d(Hs,O,"TestLoadImage: timeout",!1,j,G),o.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=g}else j(!1)}function Ba(g,j){const O=new ft,G=new AbortController,ye=setTimeout(()=>{G.abort(),Hs(O,"TestPingServer: timeout",!1,j)},1e4);fetch(g,{signal:G.signal}).then(we=>{clearTimeout(ye),we.ok?Hs(O,"TestPingServer: ok",!0,j):Hs(O,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(ye),Hs(O,"TestPingServer: error",!1,j)})}function Hs(g,j,O,G,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),G(O)}catch{}}function Rf(){this.g=new bt}function wt(g){this.i=g.Sb||null,this.h=g.ab||!1}h(wt,tt),wt.prototype.g=function(){return new El(this.i,this.h)};function El(g,j){Ne.call(this),this.H=g,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(El,Ne),t=El.prototype,t.open=function(g,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=j,this.readyState=1,bs(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(j.body=g),(this.H||o).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sd(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sd(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var j=g.value?g.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!g.done}))&&(this.response=this.responseText+=j)}g.done?Ua(this):bs(this),this.readyState==3&&Sd(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Ua(this))},t.Na=function(g){this.g&&(this.response=g,Ua(this))},t.ga=function(){this.g&&Ua(this)};function Ua(g){g.readyState=4,g.l=null,g.j=null,g.B=null,bs(g)}t.setRequestHeader=function(g,j){this.A.append(g,j)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],j=this.h.entries();for(var O=j.next();!O.done;)O=O.value,g.push(O[0]+": "+O[1]),O=j.next();return g.join(`\r
`)};function bs(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(El.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Di(g){let j="";return ee(g,function(O,G){j+=G,j+=":",j+=O,j+=`\r
`}),j}function iu(g,j,O){e:{for(G in O){var G=!1;break e}G=!0}G||(O=Di(O),typeof g=="string"?O!=null&&qn(O):sn(g,j,O))}function An(g){Ne.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(An,Ne);var Tl=/^https?$/i,ou=["POST","PUT"];t=An.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,j,O,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);j=j?j.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$n.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(j,String(g),!0),this.B=!1}catch(we){Wo(this,we);return}if(g=O||"",O=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ye in G)O.set(ye,G[ye]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const we of G.keys())O.set(we,G.get(we));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(O.keys()).find(we=>we.toLowerCase()=="content-type"),ye=o.FormData&&g instanceof o.FormData,!(Array.prototype.indexOf.call(ou,j,void 0)>=0)||G||ye||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,Fe]of O)this.g.setRequestHeader(we,Fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(we){Wo(this,we)}};function Wo(g,j){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=j,g.o=5,Nd(g),Pl(g)}function Nd(g){g.A||(g.A=!0,qe(g,"complete"),qe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,qe(this,"complete"),qe(this,"abort"),Pl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pl(this,!0)),An.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Mi(this):this.Xa())},t.Xa=function(){Mi(this)};function Mi(g){if(g.h&&typeof i<"u"){if(g.v&&Gs(g)==4)setTimeout(g.Ca.bind(g),0);else if(qe(g,"readystatechange"),Gs(g)==4){g.h=!1;try{const we=g.ca();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var O;if(!(O=j)){var G;if(G=we===0){let Fe=String(g.D).match(ru)[1]||null;!Fe&&o.self&&o.self.location&&(Fe=o.self.location.protocol.slice(0,-1)),G=!Tl.test(Fe?Fe.toLowerCase():"")}O=G}if(O)qe(g,"complete"),qe(g,"success");else{g.o=6;try{var ye=Gs(g)>2?g.g.statusText:""}catch{ye=""}g.l=ye+" ["+g.ca()+"]",Nd(g)}}finally{Pl(g)}}}}function Pl(g,j){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const O=g.g;g.g=null,j||qe(g,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gs(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Gs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var j=this.g.responseText;return g&&j.indexOf(g)==0&&(j=j.substring(g.length)),et(j)}};function Cl(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ad(g){const j={};g=(g.g&&Gs(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<g.length;G++){if(k(g[G]))continue;var O=Sr(g[G]);const ye=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const we=j[ye]||[];j[ye]=we,we.push(O)}se(j,function(G){return G.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(g,j,O){return O&&O.internalChannelParams&&O.internalChannelParams[g]||j}function kl(g){this.za=0,this.i=[],this.j=new ft,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ws("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ws("baseRetryDelayMs",5e3,g),this.Za=ws("retryDelaySeedMs",1e4,g),this.Ta=ws("forwardChannelMaxRetries",2,g),this.va=ws("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new eu(g&&g.concurrentRequestLimit),this.Ba=new Rf,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=kl.prototype,t.ka=8,t.I=1,t.connect=function(g,j,O,G){ut(0),this.W=g,this.H=j||{},O&&G!==void 0&&(this.H.OSID=O,this.H.OAID=G),this.F=this.X,this.J=Ie(this,null,this.W),Yo(this)};function Ho(g){if(Ko(g),g.I==3){var j=g.V++,O=$s(g.J);if(sn(O,"SID",g.M),sn(O,"RID",j),sn(O,"TYPE","terminate"),_s(g,O),j=new Jr(g,g.j,j),j.M=2,j.A=Va($s(O)),O=!1,o.navigator&&o.navigator.sendBeacon)try{O=o.navigator.sendBeacon(j.A.toString(),"")}catch{}!O&&o.Image&&(new Image().src=j.A,O=!0),O||(j.g=Ge(j.j,null),j.g.ea(j.A)),j.F=Date.now(),ji(j)}Ae(g)}function Go(g){g.g&&(jl(g),g.g.cancel(),g.g=null)}function Ko(g){Go(g),g.v&&(o.clearTimeout(g.v),g.v=null),B(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&o.clearTimeout(g.m),g.m=null)}function Yo(g){if(!vs(g.h)&&!g.m){g.m=!0;var j=g.Ea;F||E(),$||(F(),$=!0),I.add(j,g),g.D=0}}function Ed(g,j){return Sl(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=j.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=zt(c(g.Ea,g,j),ue(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const ye=new Jr(this,this.j,g);let we=this.o;if(this.U&&(we?(we=ce(we),Q(we,this.U)):we=this.U),this.u!==null||this.R||(ye.J=we,we=null),this.S)e:{for(var j=0,O=0;O<this.i.length;O++){t:{var G=this.i[O];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(j+=G,j>4096){j=O;break e}if(j===4096||O===this.i.length-1){j=O+1;break e}}j=1e3}else j=1e3;j=Oi(this,ye,j),O=$s(this.J),sn(O,"RID",g),sn(O,"CVER",22),this.G&&sn(O,"X-HTTP-Session-Id",this.G),_s(this,O),we&&(this.R?j="headers="+qn(Di(we))+"&"+j:this.u&&iu(O,this.u,we)),Fa(this.h,ye),this.Ra&&sn(O,"TYPE","init"),this.S?(sn(O,"$req",j),sn(O,"SID","null"),ye.U=!0,ys(ye,O,null)):ys(ye,O,j),this.I=2}}else this.I==3&&(g?au(this,g):this.i.length==0||vs(this.h)||au(this))};function au(g,j){var O;j?O=j.l:O=g.V++;const G=$s(g.J);sn(G,"SID",g.M),sn(G,"RID",O),sn(G,"AID",g.K),_s(g,G),g.u&&g.o&&iu(G,g.u,g.o),O=new Jr(g,g.j,O,g.D+1),g.u===null&&(O.J=g.o),j&&(g.i=j.G.concat(g.i)),j=Oi(g,O,1e3),O.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Fa(g.h,O),ys(O,G,j)}function _s(g,j){g.H&&ee(g.H,function(O,G){sn(j,G,O)}),g.l&&ee({},function(O,G){sn(j,G,O)})}function Oi(g,j,O){O=Math.min(g.i.length,O);const G=g.l?c(g.l.Ka,g.l,g):null;e:{var ye=g.i;let Tt=-1;for(;;){const Tn=["count="+O];Tt==-1?O>0?(Tt=ye[0].g,Tn.push("ofs="+Tt)):Tt=0:Tn.push("ofs="+Tt);let Ht=!0;for(let Pn=0;Pn<O;Pn++){var we=ye[Pn].g;const Mr=ye[Pn].map;if(we-=Tt,we<0)Tt=Math.max(0,ye[Pn].g-100),Ht=!1;else try{we="req"+we+"_"||"";try{var Fe=Mr instanceof Map?Mr:Object.entries(Mr);for(const[es,Cn]of Fe){let ts=Cn;a(Cn)&&(ts=Mt(Cn)),Tn.push(we+es+"="+encodeURIComponent(ts))}}catch(es){throw Tn.push(we+"type="+encodeURIComponent("_badmap")),es}}catch{G&&G(Mr)}}if(Ht){Fe=Tn.join("&");break e}}Fe=void 0}return g=g.i.splice(0,O),j.G=g,Fe}function lu(g){if(!g.g&&!g.v){g.Y=1;var j=g.Da;F||E(),$||(F(),$=!0),I.add(j,g),g.A=0}}function uo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=zt(c(g.Da,g),ue(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,S(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=zt(c(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),Go(this),S(this))};function jl(g){g.B!=null&&(o.clearTimeout(g.B),g.B=null)}function S(g){g.g=new Jr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var j=$s(g.na);sn(j,"RID","rpc"),sn(j,"SID",g.M),sn(j,"AID",g.K),sn(j,"CI",g.F?"0":"1"),!g.F&&g.ia&&sn(j,"TO",g.ia),sn(j,"TYPE","xmlhttp"),_s(g,j),g.u&&g.o&&iu(j,g.u,g.o),g.O&&(g.g.H=g.O);var O=g.g;g=g.ba,O.M=1,O.A=Va($s(j)),O.u=null,O.R=!0,Us(O,g)}t.Va=function(){this.C!=null&&(this.C=null,Go(this),uo(this),ut(19))};function B(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function te(g,j){var O=null;if(g.g==j){B(g),jl(g),g.g=null;var G=2}else if(Nl(g.h,j))O=j.G,tu(g.h,j),G=1;else return;if(g.I!=0){if(j.o)if(G==1){O=j.u?j.u.length:0,j=Date.now()-j.F;var ye=g.D;G=tn(),qe(G,new nt(G,O)),Yo(g)}else lu(g);else if(ye=j.m,ye==3||ye==0&&j.X>0||!(G==1&&Ed(g,j)||G==2&&uo(g)))switch(O&&O.length>0&&(j=g.h,j.i=j.i.concat(O)),ye){case 1:ge(g,5);break;case 4:ge(g,10);break;case 3:ge(g,6);break;default:ge(g,2)}}}function ue(g,j){let O=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(O*=2),O*j}function ge(g,j){if(g.j.info("Error code "+j),j==2){var O=c(g.bb,g),G=g.Ua;const ye=!G;G=new xs(G||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Nn(G,"https"),Va(G),ye?If(G.toString(),O):Ba(G.toString(),O)}else ut(2);g.I=0,g.l&&g.l.pa(j),Ae(g),Ko(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Ae(g){if(g.I=0,g.ja=[],g.l){const j=nu(g.h);(j.length!=0||g.i.length!=0)&&(b(g.ja,j),b(g.ja,g.i),g.h.i.length=0,f(g.i),g.i.length=0),g.l.oa()}}function Ie(g,j,O){var G=O instanceof xs?$s(O):new xs(O);if(G.g!="")j&&(G.g=j+"."+G.g),zo(G,G.u);else{var ye=o.location;G=ye.protocol,j=j?j+"."+ye.hostname:ye.hostname,ye=+ye.port;const we=new xs(null);G&&Nn(we,G),j&&(we.g=j),ye&&zo(we,ye),O&&(we.h=O),G=we}return O=g.G,j=g.wa,O&&j&&sn(G,O,j),sn(G,"VER",g.ka),_s(g,G),G}function Ge(g,j,O){if(j&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=g.Aa&&!g.ma?new An(new wt({ab:O})):new An(g.ma),j.Fa(g.L),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rt(){}t=rt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vt(){}vt.prototype.g=function(g,j){return new pt(g,j)};function pt(g,j){Ne.call(this),this.g=new kl(j),this.l=g,this.h=j&&j.messageUrlParams||null,g=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(g?g["X-WebChannel-Content-Type"]=j.messageContentType:g={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(g?g["X-WebChannel-Client-Profile"]=j.sa:g={"X-WebChannel-Client-Profile":j.sa}),this.g.U=g,(g=j&&j.Qb)&&!k(g)&&(this.g.u=g),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!k(j)&&(this.g.G=j,g=this.h,g!==null&&j in g&&(g=this.h,j in g&&delete g[j])),this.j=new xn(this)}h(pt,Ne),pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pt.prototype.close=function(){Ho(this.g)},pt.prototype.o=function(g){var j=this.g;if(typeof g=="string"){var O={};O.__data__=g,g=O}else this.v&&(O={},O.__data__=Mt(g),g=O);j.i.push(new vd(j.Ya++,g)),j.I==3&&Yo(j)},pt.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,pt.Z.N.call(this)};function Wt(g){xt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var j=g.__sm__;if(j){e:{for(const O in j){g=O;break e}g=void 0}(this.i=g)&&(g=this.i,j=j!==null&&g in j?j[g]:void 0),this.data=j}else this.data=g}h(Wt,xt);function En(){Et.call(this),this.status=1}h(En,Et);function xn(g){this.g=g}h(xn,rt),xn.prototype.ra=function(){qe(this.g,"a")},xn.prototype.qa=function(g){qe(this.g,new Wt(g))},xn.prototype.pa=function(g){qe(this.g,new En)},xn.prototype.oa=function(){qe(this.g,"b")},vt.prototype.createWebChannel=vt.prototype.g,pt.prototype.send=pt.prototype.o,pt.prototype.open=pt.prototype.m,pt.prototype.close=pt.prototype.close,GI=function(){return new vt},HI=function(){return tn()},WI=Ut,aw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,G0=er,vn.COMPLETE="complete",qI=vn,yn.EventType=Rt,Rt.OPEN="a",Rt.CLOSE="b",Rt.ERROR="c",Rt.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,mp=yn,An.prototype.listenOnce=An.prototype.K,An.prototype.getLastError=An.prototype.Ha,An.prototype.getLastErrorCode=An.prototype.ya,An.prototype.getStatus=An.prototype.ca,An.prototype.getResponseJson=An.prototype.La,An.prototype.getResponseText=An.prototype.la,An.prototype.send=An.prototype.ea,An.prototype.setWithCredentials=An.prototype.Fa,$I=An}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hs.UNAUTHENTICATED=new hs(null),hs.GOOGLE_CREDENTIALS=new hs("google-credentials-uid"),hs.FIRST_PARTY=new hs("first-party-uid"),hs.MOCK_USER=new hs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf="12.8.0";function mH(t){yf=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new j_("@firebase/firestore");function Bd(){return Zu.logLevel}function He(t,...e){if(Zu.logLevel<=en.DEBUG){const n=e.map(L_);Zu.debug(`Firestore (${yf}): ${t}`,...n)}}function yl(t,...e){if(Zu.logLevel<=en.ERROR){const n=e.map(L_);Zu.error(`Firestore (${yf}): ${t}`,...n)}}function Gh(t,...e){if(Zu.logLevel<=en.WARN){const n=e.map(L_);Zu.warn(`Firestore (${yf}): ${t}`,...n)}}function L_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KI(t,r,n)}function KI(t,e,n){let r=`FIRESTORE (${yf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yl(r),new Error(r)}function cn(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||KI(e,s,r)}function It(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends _l{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hs.UNAUTHENTICATED))}shutdown(){}}class yH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vH{constructor(e){this.t=e,this.currentUser=hs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){cn(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new kc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new kc,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new kc)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(cn(typeof r.accessToken=="string",31837,{l:r}),new YI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return cn(e===null||typeof e=="string",2055,{h:e}),new hs(e)}}class xH{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hs.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bH{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new xH(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(hs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wH{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,OI(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){cn(this.o===void 0,3512);const r=i=>{i.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,He("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r3(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(cn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _H(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=_H(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Gt(t,e){return t<e?-1:t>e?1:0}function lw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Ox(s)===Ox(i)?Gt(s,i):Ox(s)?1:-1}return Gt(t.length,e.length)}const SH=55296,NH=57343;function Ox(t){const e=t.charCodeAt(0);return e>=SH&&e<=NH}function Kh(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="__name__";class ra{constructor(e,n,r){n===void 0?n=0:n>e.length&&_t(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_t(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ra.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ra?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ra.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Gt(e.length,n.length)}static compareSegments(e,n){const r=ra.isNumericId(e),s=ra.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ra.extractNumericId(e).compare(ra.extractNumericId(n)):lw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cc.fromString(e.substring(4,e.length-2))}}class In extends ra{construct(e,n,r){return new In(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new We(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new In(n)}static emptyPath(){return new In([])}}const AH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yr extends ra{construct(e,n,r){return new Yr(e,n,r)}static isValidIdentifier(e){return AH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s3}static keyField(){return new Yr([s3])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new We(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new We(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new We(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new We(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yr(n)}static emptyPath(){return new Yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(In.fromString(e))}static fromName(e){return new gt(In.fromString(e).popFirst(5))}static empty(){return new gt(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&In.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return In.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new In(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t,e,n){if(!n)throw new We(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EH(t,e,n,r){if(e===!0&&r===!0)throw new We(ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function i3(t){if(!gt.isDocumentKey(t))throw new We(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o3(t){if(gt.isDocumentKey(t))throw new We(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function iv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_t(12329,{type:typeof t})}function Ju(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iv(t);throw new We(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,e){const n={typeString:t};return e&&(n.value=e),n}function eg(t,e){if(!XI(t))throw new We(ke.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new We(ke.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=-62135596800,l3=1e6;class Fn{static now(){return Fn.fromMillis(Date.now())}static fromDate(e){return Fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*l3);return new Fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new We(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<a3)throw new We(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l3}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eg(e,Fn._jsonSchema))return new Fn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-a3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fn._jsonSchemaVersion="firestore/timestamp/1.0",Fn._jsonSchema={type:br("string",Fn._jsonSchemaVersion),seconds:br("number"),nanoseconds:br("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Fn(0,0))}static max(){return new Ct(new Fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=-1;function TH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ct.fromTimestamp(r===1e9?new Fn(n+1,0):new Fn(n,r));return new Uc(s,gt.empty(),e)}function PH(t){return new Uc(t.readTime,t.key,_m)}class Uc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Uc(Ct.min(),gt.empty(),_m)}static max(){return new Uc(Ct.max(),gt.empty(),_m)}}function CH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=gt.comparator(t.documentKey,e.documentKey),n!==0?n:Gt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==kH)throw t;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):je.reject(n)}static resolve(e){return new je((n,r)=>{n(e)})}static reject(e){return new je((n,r)=>{r(e)})}static waitFor(e){return new je((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next(s=>s?je.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new je((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new je((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function IH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ov.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=-1;function av(t){return t==null}function Y1(t){return t===0&&1/t==-1/0}function RH(t){return typeof t=="number"&&Number.isInteger(t)&&!Y1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="";function LH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=c3(e)),e=DH(t.get(n),e);return c3(e)}function DH(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case ZI:n+="";break;default:n+=i}}return n}function c3(t){return t+ZI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n){this.comparator=e,this.root=n||Kr.EMPTY}insert(e,n){return new Jn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new Jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new l0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new l0(this.root,e,this.comparator,!1)}getReverseIterator(){return new l0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new l0(this.root,e,this.comparator,!0)}}class l0{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Kr.RED,this.left=s??Kr.EMPTY,this.right=i??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Kr(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Kr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1;Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Kr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.comparator=e,this.data=new Jn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d3(this.data.getIterator())}getIteratorFrom(e){return new d3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lr(this.comparator);return n.data=e,n}}class d3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.fields=e,e.sort(Yr.comparator)}static empty(){return new Eo([])}unionWith(e){let n=new Lr(Yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Eo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eR("Invalid base64 string: "+i):i}}(e);return new Zr(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Zr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const MH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zc(t){if(cn(!!t,39018),typeof t=="string"){let e=0;const n=MH.exec(t);if(cn(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ur(t.seconds),nanos:ur(t.nanos)}}function ur(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $c(t){return typeof t=="string"?Zr.fromBase64String(t):Zr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="server_timestamp",nR="__type__",rR="__previous_value__",sR="__local_write_time__";function O_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[nR])==null?void 0:r.stringValue)===tR}function lv(t){const e=t.mapValue.fields[rR];return O_(e)?lv(e):e}function Sm(t){const e=zc(t.mapValue.fields[sR].timestampValue);return new Fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n,r,s,i,o,a,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d,this.apiKey=h}}const Q1="(default)";class Nm{constructor(e,n){this.projectId=e,this.database=n||Q1}static empty(){return new Nm("","")}get isDefaultDatabase(){return this.database===Q1}isEqual(e){return e instanceof Nm&&e.projectId===this.projectId&&e.database===this.database}}function FH(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new We(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nm(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="__type__",oR="__max__",c0={mapValue:{fields:{__type__:{stringValue:oR}}}},aR="__vector__",X1="value";function qc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?O_(t)?4:BH(t)?9007199254740991:VH(t)?10:11:_t(28295,{value:t})}function ka(t,e){if(t===e)return!0;const n=qc(t);if(n!==qc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sm(t).isEqual(Sm(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=zc(s.timestampValue),a=zc(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return $c(s.bytesValue).isEqual($c(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ur(s.geoPointValue.latitude)===ur(i.geoPointValue.latitude)&&ur(s.geoPointValue.longitude)===ur(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ur(s.integerValue)===ur(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ur(s.doubleValue),a=ur(i.doubleValue);return o===a?Y1(o)===Y1(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Kh(t.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(u3(o)!==u3(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ka(o[l],a[l])))return!1;return!0}(t,e);default:return _t(52216,{left:t})}}function Am(t,e){return(t.values||[]).find(n=>ka(n,e))!==void 0}function Yh(t,e){if(t===e)return 0;const n=qc(t),r=qc(e);if(n!==r)return Gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ur(i.integerValue||i.doubleValue),l=ur(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return h3(t.timestampValue,e.timestampValue);case 4:return h3(Sm(t),Sm(e));case 5:return lw(t.stringValue,e.stringValue);case 6:return function(i,o){const a=$c(i),l=$c(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Gt(a[c],l[c]);if(d!==0)return d}return Gt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Gt(ur(i.latitude),ur(o.latitude));return a!==0?a:Gt(ur(i.longitude),ur(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f3(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,f,b,x;const a=i.fields||{},l=o.fields||{},c=(p=a[X1])==null?void 0:p.arrayValue,d=(f=l[X1])==null?void 0:f.arrayValue,h=Gt(((b=c==null?void 0:c.values)==null?void 0:b.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return h!==0?h:f3(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===c0.mapValue&&o===c0.mapValue)return 0;if(i===c0.mapValue)return 1;if(o===c0.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=lw(l[h],d[h]);if(p!==0)return p;const f=Yh(a[l[h]],c[d[h]]);if(f!==0)return f}return Gt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw _t(23264,{he:n})}}function h3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Gt(t,e);const n=zc(t),r=zc(e),s=Gt(n.seconds,r.seconds);return s!==0?s:Gt(n.nanos,r.nanos)}function f3(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Yh(n[s],r[s]);if(i)return i}return Gt(n.length,r.length)}function Qh(t){return cw(t)}function cw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $c(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return gt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=cw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${cw(n.fields[o])}`;return s+"}"}(t.mapValue):_t(61005,{value:t})}function K0(t){switch(qc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lv(t);return e?16+K0(e):16;case 5:return 2*t.stringValue.length;case 6:return $c(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+K0(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return dd(r.fields,(i,o)=>{s+=i.length+K0(o)}),s}(t.mapValue);default:throw _t(13486,{value:t})}}function p3(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uw(t){return!!t&&"integerValue"in t}function F_(t){return!!t&&"arrayValue"in t}function m3(t){return!!t&&"nullValue"in t}function g3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Y0(t){return!!t&&"mapValue"in t}function VH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[iR])==null?void 0:r.stringValue)===aR}function Lp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return dd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lp(t.arrayValue.values[n]);return e}return{...t}}function BH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.value=e}static empty(){return new Gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Y0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lp(n)}setAll(e){let n=Yr.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Lp(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Y0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ka(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Y0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){dd(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Gi(Lp(this.value))}}function lR(t){const e=[];return dd(t.fields,(n,r)=>{const s=new Yr([n]);if(Y0(r)){const i=lR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Eo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ps(e,0,Ct.min(),Ct.min(),Ct.min(),Gi.empty(),0)}static newFoundDocument(e,n,r,s){return new ps(e,1,n,Ct.min(),r,s,0)}static newNoDocument(e,n){return new ps(e,2,n,Ct.min(),Ct.min(),Gi.empty(),0)}static newUnknownDocument(e,n){return new ps(e,3,n,Ct.min(),Ct.min(),Gi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ps&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ps(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.position=e,this.inclusive=n}}function y3(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=gt.comparator(gt.fromName(o.referenceValue),n.key):r=Yh(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function v3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ka(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n="asc"){this.field=e,this.dir=n}}function UH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{}class xr extends cR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $H(e,n,r):n==="array-contains"?new HH(e,r):n==="in"?new GH(e,r):n==="not-in"?new KH(e,r):n==="array-contains-any"?new YH(e,r):new xr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qH(e,r):new WH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yh(n,this.value)):n!==null&&qc(this.value)===qc(n)&&this.matchesComparison(Yh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Do extends cR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Do(e,n)}matches(e){return uR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uR(t){return t.op==="and"}function dR(t){return zH(t)&&uR(t)}function zH(t){for(const e of t.filters)if(e instanceof Do)return!1;return!0}function dw(t){if(t instanceof xr)return t.field.canonicalString()+t.op.toString()+Qh(t.value);if(dR(t))return t.filters.map(e=>dw(e)).join(",");{const e=t.filters.map(n=>dw(n)).join(",");return`${t.op}(${e})`}}function hR(t,e){return t instanceof xr?function(r,s){return s instanceof xr&&r.op===s.op&&r.field.isEqual(s.field)&&ka(r.value,s.value)}(t,e):t instanceof Do?function(r,s){return s instanceof Do&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&hR(o,s.filters[a]),!0):!1}(t,e):void _t(19439)}function fR(t){return t instanceof xr?function(n){return`${n.field.canonicalString()} ${n.op} ${Qh(n.value)}`}(t):t instanceof Do?function(n){return n.op.toString()+" {"+n.getFilters().map(fR).join(" ,")+"}"}(t):"Filter"}class $H extends xr{constructor(e,n,r){super(e,n,r),this.key=gt.fromName(r.referenceValue)}matches(e){const n=gt.comparator(e.key,this.key);return this.matchesComparison(n)}}class qH extends xr{constructor(e,n){super(e,"in",n),this.keys=pR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WH extends xr{constructor(e,n){super(e,"not-in",n),this.keys=pR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>gt.fromName(r.referenceValue))}class HH extends xr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return F_(n)&&Am(n.arrayValue,this.value)}}class GH extends xr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Am(this.value.arrayValue,n)}}class KH extends xr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Am(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Am(this.value.arrayValue,n)}}class YH extends xr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!F_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Am(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function x3(t,e=null,n=[],r=[],s=null,i=null,o=null){return new QH(t,e,n,r,s,i,o)}function V_(t){const e=It(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),av(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qh(r)).join(",")),e.Te=n}return e.Te}function B_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v3(t.startAt,e.startAt)&&v3(t.endAt,e.endAt)}function hw(t){return gt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function XH(t,e,n,r,s,i,o,a){return new bf(t,e,n,r,s,i,o,a)}function mR(t){return new bf(t)}function b3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZH(t){return gt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function gR(t){return t.collectionGroup!==null}function Dp(t){const e=It(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lr(Yr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Em(i,r))}),n.has(Yr.keyField().canonicalString())||e.Ie.push(new Em(Yr.keyField(),r))}return e.Ie}function xa(t){const e=It(t);return e.Ee||(e.Ee=JH(e,Dp(t))),e.Ee}function JH(t,e){if(t.limitType==="F")return x3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Em(s.field,i)});const n=t.endAt?new Z1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Z1(t.startAt.position,t.startAt.inclusive):null;return x3(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fw(t,e){const n=t.filters.concat([e]);return new bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eG(t,e){const n=t.explicitOrderBy.concat([e]);return new bf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function pw(t,e,n){return new bf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cv(t,e){return B_(xa(t),xa(e))&&t.limitType===e.limitType}function yR(t){return`${V_(xa(t))}|lt:${t.limitType}`}function Ud(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>fR(s)).join(", ")}]`),av(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Qh(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Qh(s)).join(",")),`Target(${r})`}(xa(t))}; limitType=${t.limitType})`}function uv(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):gt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Dp(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=y3(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Dp(r),s)||r.endAt&&!function(o,a,l){const c=y3(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Dp(r),s))}(t,e)}function tG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vR(t){return(e,n)=>{let r=!1;for(const s of Dp(t)){const i=nG(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function nG(t,e,n){const r=t.field.isKeyField()?gt.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Yh(l,c):_t(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){dd(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return JI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=new Jn(gt.comparator);function vl(){return rG}const xR=new Jn(gt.comparator);function gp(...t){let e=xR;for(const n of t)e=e.insert(n.key,n);return e}function bR(t){let e=xR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Tu(){return Mp()}function wR(){return Mp()}function Mp(){return new hd(t=>t.toString(),(t,e)=>t.isEqual(e))}const sG=new Jn(gt.comparator),iG=new Lr(gt.comparator);function Kt(...t){let e=iG;for(const n of t)e=e.add(n);return e}const oG=new Lr(Gt);function aG(){return oG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Y1(e)?"-0":e}}function _R(t){return{integerValue:""+t}}function lG(t,e){return RH(e)?_R(e):U_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(){this._=void 0}}function cG(t,e,n){return t instanceof J1?function(s,i){const o={fields:{[nR]:{stringValue:tR},[sR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&O_(i)&&(i=lv(i)),i&&(o.fields[rR]=i),{mapValue:o}}(n,e):t instanceof Tm?NR(t,e):t instanceof Pm?AR(t,e):function(s,i){const o=SR(s,i),a=w3(o)+w3(s.Ae);return uw(o)&&uw(s.Ae)?_R(a):U_(s.serializer,a)}(t,e)}function uG(t,e,n){return t instanceof Tm?NR(t,e):t instanceof Pm?AR(t,e):n}function SR(t,e){return t instanceof ey?function(r){return uw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class J1 extends dv{}class Tm extends dv{constructor(e){super(),this.elements=e}}function NR(t,e){const n=ER(e);for(const r of t.elements)n.some(s=>ka(s,r))||n.push(r);return{arrayValue:{values:n}}}class Pm extends dv{constructor(e){super(),this.elements=e}}function AR(t,e){let n=ER(e);for(const r of t.elements)n=n.filter(s=>!ka(s,r));return{arrayValue:{values:n}}}class ey extends dv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function w3(t){return ur(t.integerValue||t.doubleValue)}function ER(t){return F_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dG(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Tm&&s instanceof Tm||r instanceof Pm&&s instanceof Pm?Kh(r.elements,s.elements,ka):r instanceof ey&&s instanceof ey?ka(r.Ae,s.Ae):r instanceof J1&&s instanceof J1}(t.transform,e.transform)}class hG{constructor(e,n){this.version=e,this.transformResults=n}}class ko{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ko}static exists(e){return new ko(void 0,e)}static updateTime(e){return new ko(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Q0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hv{}function TR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new z_(t.key,ko.none()):new tg(t.key,t.data,ko.none());{const n=t.data,r=Gi.empty();let s=new Lr(Yr.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new fd(t.key,r,new Eo(s.toArray()),ko.none())}}function fG(t,e,n){t instanceof tg?function(s,i,o){const a=s.value.clone(),l=S3(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fd?function(s,i,o){if(!Q0(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=S3(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(PR(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Op(t,e,n,r){return t instanceof tg?function(i,o,a,l){if(!Q0(i.precondition,o))return a;const c=i.value.clone(),d=N3(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fd?function(i,o,a,l){if(!Q0(i.precondition,o))return a;const c=N3(i.fieldTransforms,l,o),d=o.data;return d.setAll(PR(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Q0(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function pG(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=SR(r.transform,s||null);i!=null&&(n===null&&(n=Gi.empty()),n.set(r.field,i))}return n||null}function _3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Kh(r,s,(i,o)=>dG(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tg extends hv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fd extends hv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function PR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function S3(t,e,n){const r=new Map;cn(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,uG(o,a,n[s]))}return r}function N3(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,cG(i,o,e))}return r}class z_ extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mG extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&fG(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Op(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Op(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=TR(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Kt())}isEqual(e){return this.batchId===e.batchId&&Kh(this.mutations,e.mutations,(n,r)=>_3(n,r))&&Kh(this.baseMutations,e.baseMutations,(n,r)=>_3(n,r))}}class $_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){cn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return sG}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new $_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yG=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr,Jt;function xG(t){switch(t){case ke.OK:return _t(64938);case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0;default:return _t(15467,{code:t})}}function CR(t){if(t===void 0)return yl("GRPC error has no .code"),ke.UNKNOWN;switch(t){case gr.OK:return ke.OK;case gr.CANCELLED:return ke.CANCELLED;case gr.UNKNOWN:return ke.UNKNOWN;case gr.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case gr.INTERNAL:return ke.INTERNAL;case gr.UNAVAILABLE:return ke.UNAVAILABLE;case gr.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case gr.NOT_FOUND:return ke.NOT_FOUND;case gr.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case gr.ABORTED:return ke.ABORTED;case gr.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case gr.DATA_LOSS:return ke.DATA_LOSS;default:return _t(39323,{code:t})}}(Jt=gr||(gr={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG=new Cc([4294967295,4294967295],0);function A3(t){const e=bG().encode(t),n=new zI;return n.update(e),new Uint8Array(n.digest())}function E3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Cc([n,r],0),new Cc([s,i],0)]}class q_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yp(`Invalid padding: ${n}`);if(r<0)throw new yp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cc.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Cc.fromNumber(r)));return s.compare(wG)===1&&(s=new Cc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=A3(e),[r,s]=E3(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new q_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=A3(e),[r,s]=E3(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ng.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fv(Ct.min(),s,new Jn(Gt),vl(),Kt())}}class ng{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ng(r,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class kR{constructor(e,n){this.targetId=e,this.Ce=n}}class jR{constructor(e,n,r=Zr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class T3{constructor(){this.ve=0,this.Fe=P3(),this.Me=Zr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Kt(),n=Kt(),r=Kt();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:_t(38017,{changeType:i})}}),new ng(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=P3()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,cn(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class _G{constructor(e){this.Ge=e,this.ze=new Map,this.je=vl(),this.He=u0(),this.Je=u0(),this.Ze=new Jn(Gt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(hw(i))if(r===0){const o=new gt(i.path);this.et(n,o,ps.newNoDocument(o,Ct.min()))}else cn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=$c(r).toUint8Array()}catch(l){if(l instanceof eR)return Gh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new q_(o,s,i)}catch(l){return Gh(l instanceof yp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&hw(a.target)){const l=new gt(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,ps.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=Kt();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new fv(e,n,this.Ze,this.je,r);return this.je=vl(),this.He=u0(),this.Je=u0(),this.Ze=new Jn(Gt),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new T3,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lr(Gt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lr(Gt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||He("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T3),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function u0(){return new Jn(gt.comparator)}function P3(){return new Jn(gt.comparator)}const SG={asc:"ASCENDING",desc:"DESCENDING"},NG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AG={and:"AND",or:"OR"};class EG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mw(t,e){return t.useProto3Json||av(e)?e:{value:e}}function ty(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TG(t,e){return ty(t,e.toTimestamp())}function ba(t){return cn(!!t,49232),Ct.fromTimestamp(function(n){const r=zc(n);return new Fn(r.seconds,r.nanos)}(t))}function W_(t,e){return gw(t,e).canonicalString()}function gw(t,e){const n=function(s){return new In(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RR(t){const e=In.fromString(t);return cn(FR(e),10190,{key:e.toString()}),e}function yw(t,e){return W_(t.databaseId,e.path)}function Fx(t,e){const n=RR(e);if(n.get(1)!==t.databaseId.projectId)throw new We(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new We(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gt(DR(n))}function LR(t,e){return W_(t.databaseId,e)}function PG(t){const e=RR(t);return e.length===4?In.emptyPath():DR(e)}function vw(t){return new In(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DR(t){return cn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function C3(t,e,n){return{name:yw(t,e),fields:n.value.mapValue.fields}}function CG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_t(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(cn(d===void 0||typeof d=="string",58123),Zr.fromBase64String(d||"")):(cn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Zr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?ke.UNKNOWN:CR(c.code);return new We(d,c.message||"")}(o);n=new jR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Fx(t,r.document.name),i=ba(r.document.updateTime),o=r.document.createTime?ba(r.document.createTime):Ct.min(),a=new Gi({mapValue:{fields:r.document.fields}}),l=ps.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new X0(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Fx(t,r.document),i=r.readTime?ba(r.readTime):Ct.min(),o=ps.newNoDocument(s,i),a=r.removedTargetIds||[];n=new X0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Fx(t,r.document),i=r.removedTargetIds||[];n=new X0([],i,s,null)}else{if(!("filter"in e))return _t(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new vG(s,i),a=r.targetId;n=new kR(a,o)}}return n}function kG(t,e){let n;if(e instanceof tg)n={update:C3(t,e.key,e.value)};else if(e instanceof z_)n={delete:yw(t,e.key)};else if(e instanceof fd)n={update:C3(t,e.key,e.data),updateMask:VG(e.fieldMask)};else{if(!(e instanceof mG))return _t(16599,{dt:e.type});n={verify:yw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof J1)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Tm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ey)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw _t(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:TG(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_t(27497)}(t,e.precondition)),n}function jG(t,e){return t&&t.length>0?(cn(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ba(s.updateTime):ba(i);return o.isEqual(Ct.min())&&(o=ba(i)),new hG(o,s.transformResults||[])}(n,e))):[]}function IG(t,e){return{documents:[LR(t,e.path)]}}function RG(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LR(t,s);const i=function(c){if(c.length!==0)return OR(Do.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:zd(p.field),direction:MG(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=mw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function LG(t){let e=PG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){cn(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=MR(h);return p instanceof Do&&dR(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(b){return new Em($d(b.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,av(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,f=h.values||[];return new Z1(f,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,f=h.values||[];return new Z1(f,p)}(n.endAt)),XH(e,s,o,i,a,"F",l,c)}function DG(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$d(n.unaryFilter.field);return xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$d(n.unaryFilter.field);return xr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$d(n.unaryFilter.field);return xr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$d(n.unaryFilter.field);return xr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(t):t.fieldFilter!==void 0?function(n){return xr.create($d(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Do.create(n.compositeFilter.filters.map(r=>MR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(n.compositeFilter.op))}(t):_t(30097,{filter:t})}function MG(t){return SG[t]}function OG(t){return NG[t]}function FG(t){return AG[t]}function zd(t){return{fieldPath:t.canonicalString()}}function $d(t){return Yr.fromServerFormat(t.fieldPath)}function OR(t){return t instanceof xr?function(n){if(n.op==="=="){if(g3(n.value))return{unaryFilter:{field:zd(n.field),op:"IS_NAN"}};if(m3(n.value))return{unaryFilter:{field:zd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g3(n.value))return{unaryFilter:{field:zd(n.field),op:"IS_NOT_NAN"}};if(m3(n.value))return{unaryFilter:{field:zd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zd(n.field),op:OG(n.op),value:n.value}}}(t):t instanceof Do?function(n){const r=n.getFilters().map(s=>OR(s));return r.length===1?r[0]:{compositeFilter:{op:FG(n.op),filters:r}}}(t):_t(54877,{filter:t})}function VG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function VR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n,r,s,i=Ct.min(),o=Ct.min(),a=Zr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new pc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e){this.yt=e}}function UG(t){const e=LG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(){this.Sn=new $G}addToCollectionParentIndex(e,n){return this.Sn.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(Uc.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(Uc.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class $G{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Lr(In.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lr(In.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BR=41943040;class Xs{static withCacheSize(e){return new Xs(e,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(BR,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Xh(0)}static ar(){return new Xh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="LruGarbageCollector",qG=1048576;function I3([t,e],[n,r]){const s=Gt(t,n);return s===0?Gt(e,r):s}class WG{constructor(e){this.Pr=e,this.buffer=new Lr(I3),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();I3(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){He(j3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xf(n)?He(j3,"Ignoring IndexedDB error during garbage collection: ",n):await vf(n)}await this.Ar(3e5)})}}class GG{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return je.resolve(ov.ce);const r=new WG(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(k3)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k3):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Bd()<=en.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function KG(t,e){return new GG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(){this.changes=new hd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ps.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Op(r.mutation,s,Eo.empty(),Fn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Kt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Kt()){const s=Tu();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=gp();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Tu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Kt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=vl();const o=Mp(),a=function(){return Mp()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof fd)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Op(d.mutation,c,d.mutation.getFieldMask(),Fn.now())):o.set(c.key,Eo.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new QG(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Mp();let s=new Jn((o,a)=>o-a),i=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Eo.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||Kt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=wR();d.forEach(p=>{if(!i.has(p)){const f=TR(n.get(p),r.get(p));f!==null&&h.set(p,f),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return je.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return ZH(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):je.resolve(Tu());let a=_m,l=i;return o.next(c=>je.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?je.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Kt())).next(d=>({batchId:a,changes:bR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new gt(n)).next(r=>{let s=gp();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=gp();return this.indexManager.getCollectionParents(e,i).next(a=>je.forEach(a,l=>{const c=function(h,p){return new bf(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,ps.newInvalidDocument(d)))});let a=gp();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Op(d.mutation,c,Eo.empty(),Fn.now()),uv(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return je.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ba(s.createTime)}}(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:UG(s.bundledQuery),readTime:ba(s.readTime)}}(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(){this.overlays=new Jn(gt.comparator),this.Lr=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Tu();return je.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),je.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const s=Tu(),i=n.length+1,o=new gt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return je.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Jn((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Tu(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Tu(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return je.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new yG(n,r));let i=this.Lr.get(n);i===void 0&&(i=Kt(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(){this.sessionToken=Zr.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.kr=new Lr(Fr.Kr),this.qr=new Lr(Fr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Fr(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Fr(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new gt(new In([])),r=new Fr(n,e),s=new Fr(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new gt(new In([])),r=new Fr(n,e),s=new Fr(n,e+1);let i=Kt();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Fr(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fr{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return gt.comparator(e.key,n.key)||Gt(e.Hr,n.Hr)}static Ur(e,n){return Gt(e.Hr,n.Hr)||gt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lr(Fr.Kr)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gG(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new Fr(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return je.resolve(o)}lookupMutationBatch(e,n){return je.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return je.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?M_:this.Yn-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fr(n,0),s=new Fr(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),je.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lr(Gt);return n.forEach(s=>{const i=new Fr(s,0),o=new Fr(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),je.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;gt.isDocumentKey(i)||(i=i.child(""));const o=new Fr(new gt(i),0);let a=new Lr(Gt);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),je.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){cn(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return je.forEach(n.mutations,s=>{const i=new Fr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Fr(n,0),s=this.Jr.firstAfterOrEqual(r);return je.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e){this.ti=e,this.docs=function(){return new Jn(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():ps.newInvalidDocument(n))}getEntries(e,n){let r=vl();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ps.newInvalidDocument(s))}),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=vl();const o=n.path,a=new gt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||CH(PH(d),r)<=0||(s.has(d.key)||uv(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return je.resolve(i)}getAllFromCollectionGroup(e,n,r,s){_t(9500)}ni(e,n){return je.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rK(this)}getSize(e){return je.resolve(this.size)}}class rK extends YG{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),je.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e){this.persistence=e,this.ri=new hd(n=>V_(n),B_),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.ii=0,this.si=new H_,this.targetCount=0,this.oi=Xh._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),je.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Xh(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.lr(n),je.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),je.waitFor(i).next(()=>s)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),je.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),je.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this._i={},this.overlays={},this.ai=new ov(0),this.ui=!1,this.ui=!0,this.ci=new eK,this.referenceDelegate=e(this),this.li=new sK(this),this.indexManager=new zG,this.remoteDocumentCache=function(s){return new nK(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new BG(n),this.Pi=new ZG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new tK(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){He("MemoryPersistence","Starting transaction:",e);const s=new iK(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return je.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class iK extends jH{constructor(e){super(),this.currentSequenceNumber=e}}class G_{constructor(e){this.persistence=e,this.Ri=new H_,this.Ai=null}static Vi(e){return new G_(e)}get di(){if(this.Ai)return this.Ai;throw _t(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),je.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.di,r=>{const s=gt.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,Ct.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return je.or([()=>je.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ny{constructor(e,n){this.persistence=e,this.fi=new hd(r=>LH(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=KG(this,n)}static Vi(e,n){return new ny(e,n)}Ti(){}Ii(e){return je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return je.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?je.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ct.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),je.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),je.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),je.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=K0(e.data.value)),n}wr(e,n,r){return je.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return je.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=Kt(),s=Kt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new K_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return Jq()?8:IH(Qq())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new oK;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Bd()<=en.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",Ud(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),je.resolve()):(Bd()<=en.DEBUG&&He("QueryEngine","Query:",Ud(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Bd()<=en.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",Ud(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xa(n))):je.resolve())}gs(e,n){if(b3(n))return je.resolve(null);let r=xa(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=pw(n,null,"F"),r=xa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Kt(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ss(n,c,o,l.readTime)?this.gs(e,pw(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,s){return b3(n)||s.isEqual(Ct.min())?je.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?je.resolve(null):(Bd()<=en.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ud(n)),this.Ds(e,o,n,TH(s,_m)).next(a=>a))})}bs(e,n){let r=new Lr(vR(e));return n.forEach((s,i)=>{uv(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return Bd()<=en.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Ud(n)),this.fs.getDocumentsMatchingQuery(e,n,Uc.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="LocalStore",lK=3e8;class cK{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Jn(Gt),this.Fs=new hd(i=>V_(i),B_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XG(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function uK(t,e,n,r){return new cK(t,e,n,r)}async function zR(t,e){const n=It(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Kt();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function dK(t,e){const n=It(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let f=je.resolve();return p.forEach(b=>{f=f.next(()=>d.getEntry(l,b)).next(x=>{const w=c.docVersions.get(b);cn(w!==null,48541),x.version.compareTo(w)<0&&(h.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),d.addEntry(x)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Kt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function $R(t){const e=It(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function hK(t,e){const n=It(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.li.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.li.addMatchingKeys(i,d.addedDocuments,h)));let f=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Zr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):d.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(d.resumeToken,r)),s=s.insert(h,f),function(x,w,v){return x.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=lK?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,f,d)&&a.push(n.li.updateTargetData(i,f))});let l=vl(),c=Kt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(fK(i,o,e.documentUpdates).next(d=>{l=d.Bs,c=d.Ls})),!r.isEqual(Ct.min())){const d=n.li.getLastRemoteSnapshotVersion(i).next(h=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return je.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.vs=s,i))}function fK(t,e,n){let r=Kt(),s=Kt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=vl();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ct.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):He(Y_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Bs:o,Ls:s}})}function pK(t,e){const n=It(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=M_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mK(t,e){const n=It(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,je.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new pc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function xw(t,e,n){const r=It(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!xf(o))throw o;He(Y_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function R3(t,e,n){const r=It(t);let s=Ct.min(),i=Kt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=It(l),p=h.Fs.get(d);return p!==void 0?je.resolve(h.vs.get(p)):h.li.getTargetData(c,d)}(r,o,xa(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:Ct.min(),n?i:Kt())).next(a=>(gK(r,tG(e),a),{documents:a,ks:i})))}function gK(t,e,n){let r=t.Ms.get(e)||Ct.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class L3{constructor(){this.activeTargetIds=aG()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yK{constructor(){this.vo=new L3,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new L3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="ConnectivityMonitor";class M3{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){He(D3,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){He(D3,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0=null;function bw(){return d0===null?d0=function(){return 268435456+Math.round(2147483648*Math.random())}():d0++,"0x"+d0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="RestConnection",xK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class bK{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Q1?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=bw(),a=this.Qo(e,n.toUriEncodedString());He(Vx,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:c}=new URL(a),d=rv(c);return this.zo(e,a,l,r,d).then(h=>(He(Vx,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Gh(Vx,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=xK[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="WebChannelConnection",ip=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class yh extends bK{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!yh.c_){const e=HI();ip(e,WI.STAT_EVENT,n=>{n.stat===aw.PROXY?He(os,"STAT_EVENT: detected buffering proxy"):n.stat===aw.NOPROXY&&He(os,"STAT_EVENT: detected no buffering proxy")}),yh.c_=!0}}zo(e,n,r,s,i){const o=bw();return new Promise((a,l)=>{const c=new $I;c.setWithCredentials(!0),c.listenOnce(qI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case G0.NO_ERROR:const h=c.getResponseJson();He(os,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case G0.TIMEOUT:He(os,`RPC '${e}' ${o} timed out`),l(new We(ke.DEADLINE_EXCEEDED,"Request time out"));break;case G0.HTTP_ERROR:const p=c.getStatus();if(He(os,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const b=f==null?void 0:f.error;if(b&&b.status&&b.message){const x=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(_)>=0?_:ke.UNKNOWN}(b.status);l(new We(x,b.message))}else l(new We(ke.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new We(ke.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{He(os,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);He(os,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=bw(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=i.join("");He(os,`Creating RPC '${e}' stream ${s}: ${c}`,a);const d=o.createWebChannel(c,a);this.I_(d);let h=!1,p=!1;const f=new wK({Ho:b=>{p?He(os,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(h||(He(os,`Opening RPC '${e}' stream ${s} transport.`),d.open(),h=!0),He(os,`RPC '${e}' stream ${s} sending:`,b),d.send(b))},Jo:()=>d.close()});return ip(d,mp.EventType.OPEN,()=>{p||(He(os,`RPC '${e}' stream ${s} transport opened.`),f.i_())}),ip(d,mp.EventType.CLOSE,()=>{p||(p=!0,He(os,`RPC '${e}' stream ${s} transport closed`),f.o_(),this.E_(d))}),ip(d,mp.EventType.ERROR,b=>{p||(p=!0,Gh(os,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),f.o_(new We(ke.UNAVAILABLE,"The operation could not be completed")))}),ip(d,mp.EventType.MESSAGE,b=>{var x;if(!p){const w=b.data[0];cn(!!w,16349);const v=w,_=(v==null?void 0:v.error)||((x=v[0])==null?void 0:x.error);if(_){He(os,`RPC '${e}' stream ${s} received error:`,_);const A=_.status;let R=function(I){const E=gr[I];if(E!==void 0)return CR(E)}(A),F=_.message;R===void 0&&(R=ke.INTERNAL,F="Unknown error status: "+A+" with message "+_.message),p=!0,f.o_(new We(R,F)),d.close()}else He(os,`RPC '${e}' stream ${s} received:`,w),f.__(w)}}),yh.u_(),setTimeout(()=>{f.s_()},0),f}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return GI()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(t){return new yh(t)}function Bx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){return new EG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yh.c_=!1;class qR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&He("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="PersistentStream";class WR{constructor(e,n,r,s,i,o,a,l){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(yl(n.toString()),yl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new We(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return He(O3,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(He(O3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SK extends WR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CG(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ct.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ct.min():o.readTime?ba(o.readTime):Ct.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=vw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=hw(l)?{documents:IG(i,l)}:{query:RG(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IR(i,o.resumeToken);const c=mw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ct.min())>0){a.readTime=ty(i,o.snapshotVersion.toTimestamp());const c=mw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=DG(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=vw(this.serializer),n.removeTarget=e,this.K_(n)}}class NK extends WR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return cn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,cn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){cn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jG(e.writeResults,e.commitTime),r=ba(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=vw(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kG(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{}class EK extends AK{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new We(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,gw(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new We(ke.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,gw(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(ke.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function TK(t,e,n,r){return new EK(t,e,n,r)}class PK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yl(n),this.aa=!1):He("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="RemoteStore";class CK{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{pd(this)&&(He(ed,"Restarting streams for network reachability change."),await async function(l){const c=It(l);c.Ea.add(4),await rg(c),c.Va.set("Unknown"),c.Ea.delete(4),await mv(c)}(this))})}),this.Va=new PK(r,s)}}async function mv(t){if(pd(t))for(const e of t.Ra)await e(!0)}async function rg(t){for(const e of t.Ra)await e(!1)}function HR(t,e){const n=It(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),J_(n)?Z_(n):wf(n).O_()&&X_(n,e))}function Q_(t,e){const n=It(t),r=wf(n);n.Ia.delete(e),r.O_()&&GR(n,e),n.Ia.size===0&&(r.O_()?r.L_():pd(n)&&n.Va.set("Unknown"))}function X_(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wf(t).Z_(e)}function GR(t,e){t.da.$e(e),wf(t).X_(e)}function Z_(t){t.da=new _G({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wf(t).start(),t.Va.ua()}function J_(t){return pd(t)&&!wf(t).x_()&&t.Ia.size>0}function pd(t){return It(t).Ea.size===0}function KR(t){t.da=void 0}async function kK(t){t.Va.set("Online")}async function jK(t){t.Ia.forEach((e,n)=>{X_(t,e)})}async function IK(t,e){KR(t),J_(t)?(t.Va.ha(e),Z_(t)):t.Va.set("Unknown")}async function RK(t,e,n){if(t.Va.set("Online"),e instanceof jR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){He(ed,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ry(t,r)}else if(e instanceof X0?t.da.Xe(e):e instanceof kR?t.da.st(e):t.da.tt(e),!n.isEqual(Ct.min()))try{const r=await $R(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Zr.EMPTY_BYTE_STRING,d.snapshotVersion)),GR(i,l);const h=new pc(d.target,l,c,d.sequenceNumber);X_(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){He(ed,"Failed to raise snapshot:",r),await ry(t,r)}}async function ry(t,e,n){if(!xf(e))throw e;t.Ea.add(1),await rg(t),t.Va.set("Offline"),n||(n=()=>$R(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{He(ed,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await mv(t)})}function YR(t,e){return e().catch(n=>ry(t,n,e))}async function gv(t){const e=It(t),n=Wc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:M_;for(;LK(e);)try{const s=await pK(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,DK(e,s)}catch(s){await ry(e,s)}QR(e)&&XR(e)}function LK(t){return pd(t)&&t.Ta.length<10}function DK(t,e){t.Ta.push(e);const n=Wc(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function QR(t){return pd(t)&&!Wc(t).x_()&&t.Ta.length>0}function XR(t){Wc(t).start()}async function MK(t){Wc(t).ra()}async function OK(t){const e=Wc(t);for(const n of t.Ta)e.ea(n.mutations)}async function FK(t,e,n){const r=t.Ta.shift(),s=$_.from(r,e,n);await YR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await gv(t)}async function VK(t,e){e&&Wc(t).Y_&&await async function(r,s){if(function(o){return xG(o)&&o!==ke.ABORTED}(s.code)){const i=r.Ta.shift();Wc(r).B_(),await YR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await gv(r)}}(t,e),QR(t)&&XR(t)}async function F3(t,e){const n=It(t);n.asyncQueue.verifyOperationInProgress(),He(ed,"RemoteStore received new credentials");const r=pd(n);n.Ea.add(3),await rg(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mv(n)}async function BK(t,e){const n=It(t);e?(n.Ea.delete(2),await mv(n)):e||(n.Ea.add(2),await rg(n),n.Va.set("Unknown"))}function wf(t){return t.ma||(t.ma=function(n,r,s){const i=It(n);return i.sa(),new SK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:kK.bind(null,t),Yo:jK.bind(null,t),t_:IK.bind(null,t),J_:RK.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),J_(t)?Z_(t):t.Va.set("Unknown")):(await t.ma.stop(),KR(t))})),t.ma}function Wc(t){return t.fa||(t.fa=function(n,r,s){const i=It(n);return i.sa(),new NK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:MK.bind(null,t),t_:VK.bind(null,t),ta:OK.bind(null,t),na:FK.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await gv(t)):(await t.fa.stop(),t.Ta.length>0&&(He(ed,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new kc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new eS(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tS(t,e){if(yl("AsyncQueue",`${e}: ${t}`),xf(t))return new We(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{static emptySet(e){return new vh(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=gp(),this.sortedSet=new Jn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.ga=new Jn(gt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_t(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zh{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zh(e,n,vh.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class zK{constructor(){this.queries=B3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=It(n),i=s.queries;s.queries=B3(),i.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new We(ke.ABORTED,"Firestore shutting down"))}}function B3(){return new hd(t=>yR(t),cv)}async function $K(t,e){const n=It(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new UK,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=tS(o,`Initialization of query '${Ud(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&nS(n)}async function qK(t,e){const n=It(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WK(t,e){const n=It(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&nS(n)}function HK(t,e,n){const r=It(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function nS(t){t.Ca.forEach(e=>{e.next()})}var ww,U3;(U3=ww||(ww={})).Ma="default",U3.Cache="cache";class GK{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Zh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ww.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.key=e}}class JR{constructor(e){this.key=e}}class KK{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Kt(),this.mutatedKeys=Kt(),this.eu=vR(e),this.tu=new vh(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new V3,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),f=uv(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),x=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;p&&f?p.data.isEqual(f.data)?b!==x&&(r.track({type:3,doc:f}),w=!0):this.su(p,f)||(r.track({type:2,doc:f}),w=!0,(l&&this.eu(f,l)>0||c&&this.eu(f,c)<0)&&(a=!0)):!p&&f?(r.track({type:0,doc:f}),w=!0):p&&!f&&(r.track({type:1,doc:p}),w=!0,(l||c)&&(a=!0)),w&&(f?(o=o.add(f),i=x?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(f,b){const x=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:w})}};return x(f)-x(b)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,c=l!==this.Xa;return this.Xa=l,o.length!==0||c?{snapshot:new Zh(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V3,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Kt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new JR(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new ZR(r))}),n}cu(e){this.Za=e.ks,this.Ya=Kt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rS="SyncEngine";class YK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QK{constructor(e){this.key=e,this.hu=!1}}class XK{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new hd(a=>yR(a),cv),this.Iu=new Map,this.Eu=new Set,this.Ru=new Jn(gt.comparator),this.Au=new Map,this.Vu=new H_,this.du={},this.mu=new Map,this.fu=Xh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZK(t,e,n=!0){const r=iL(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await eL(r,e,n,!0),s}async function JK(t,e){const n=iL(t);await eL(n,e,!0,!1)}async function eL(t,e,n,r){const s=await mK(t.localStore,xa(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await eY(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&HR(t.remoteStore,s),a}async function eY(t,e,n,r,s){t.pu=(h,p,f)=>async function(x,w,v,_){let A=w.view.ru(v);A.Ss&&(A=await R3(x.localStore,w.query,!1).then(({documents:I})=>w.view.ru(I,A)));const R=_&&_.targetChanges.get(w.targetId),F=_&&_.targetMismatches.get(w.targetId)!=null,$=w.view.applyChanges(A,x.isPrimaryClient,R,F);return $3(x,w.targetId,$.au),$.snapshot}(t,h,p,f);const i=await R3(t.localStore,e,!0),o=new KK(e,i.ks),a=o.ru(i.documents),l=ng.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);$3(t,n,c.au);const d=new YK(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function tY(t,e,n){const r=It(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!cv(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await xw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Q_(r.remoteStore,s.targetId),_w(r,s.targetId)}).catch(vf)):(_w(r,s.targetId),await xw(r.localStore,s.targetId,!0))}async function nY(t,e){const n=It(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Q_(n.remoteStore,r.targetId))}async function rY(t,e,n){const r=uY(t);try{const s=await function(o,a){const l=It(o),c=Fn.now(),d=a.reduce((f,b)=>f.add(b.key),Kt());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let b=vl(),x=Kt();return l.xs.getEntries(f,d).next(w=>{b=w,b.forEach((v,_)=>{_.isValidDocument()||(x=x.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,b)).next(w=>{h=w;const v=[];for(const _ of a){const A=pG(_,h.get(_.key).overlayedDocument);A!=null&&v.push(new fd(_.key,A,lR(A.value.mapValue),ko.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(w=>{p=w;const v=w.applyToLocalDocumentSet(h,x);return l.documentOverlayCache.saveOverlays(f,w.batchId,v)})}).then(()=>({batchId:p.batchId,changes:bR(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.du[o.currentUser.toKey()];c||(c=new Jn(Gt)),c=c.insert(a,l),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await sg(r,s.changes),await gv(r.remoteStore)}catch(s){const i=tS(s,"Failed to persist write");n.reject(i)}}async function tL(t,e){const n=It(t);try{const r=await hK(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(cn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?cn(o.hu,14607):s.removedDocuments.size>0&&(cn(o.hu,42227),o.hu=!1))}),await sg(n,r,e)}catch(r){await vf(r)}}function z3(t,e,n){const r=It(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=It(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.ba)p.va(a)&&(c=!0)}),c&&nS(l)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sY(t,e,n){const r=It(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Jn(gt.comparator);o=o.insert(i,ps.newNoDocument(i,Ct.min()));const a=Kt().add(i),l=new fv(Ct.min(),new Map,new Jn(Gt),o,a);await tL(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(e),sS(r)}else await xw(r.localStore,e,!1).then(()=>_w(r,e,n)).catch(vf)}async function iY(t,e){const n=It(t),r=e.batch.batchId;try{const s=await dK(n.localStore,e);rL(n,r,null),nL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sg(n,s)}catch(s){await vf(s)}}async function oY(t,e,n){const r=It(t);try{const s=await function(o,a){const l=It(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(cn(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);rL(r,e,n),nL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sg(r,s)}catch(s){await vf(s)}}function nL(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function rL(t,e,n){const r=It(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function _w(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||sL(t,r)})}function sL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Q_(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),sS(t))}function $3(t,e,n){for(const r of n)r instanceof ZR?(t.Vu.addReference(r.key,e),aY(t,r)):r instanceof JR?(He(rS,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||sL(t,r.key)):_t(19791,{wu:r})}function aY(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(He(rS,"New document in limbo: "+n),t.Eu.add(r),sS(t))}function sS(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new gt(In.fromString(e)),r=t.fu.next();t.Au.set(r,new QK(n)),t.Ru=t.Ru.insert(n,r),HR(t.remoteStore,new pc(xa(mR(n.path)),r,"TargetPurposeLimboResolution",ov.ce))}}async function sg(t,e,n){const r=It(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=K_.Es(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(l,c){const d=It(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>je.forEach(c,p=>je.forEach(p.Ts,f=>d.persistence.referenceDelegate.addReference(h,p.targetId,f)).next(()=>je.forEach(p.Is,f=>d.persistence.referenceDelegate.removeReference(h,p.targetId,f)))))}catch(h){if(!xf(h))throw h;He(Y_,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const f=d.vs.get(p),b=f.snapshotVersion,x=f.withLastLimboFreeSnapshotVersion(b);d.vs=d.vs.insert(p,x)}}}(r.localStore,i))}async function lY(t,e){const n=It(t);if(!n.currentUser.isEqual(e)){He(rS,"User change. New user:",e.toKey());const r=await zR(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new We(ke.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sg(n,r.Ns)}}function cY(t,e){const n=It(t),r=n.Au.get(e);if(r&&r.hu)return Kt().add(r.key);{let s=Kt();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function iL(t){const e=It(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sY.bind(null,e),e.Pu.J_=WK.bind(null,e.eventManager),e.Pu.yu=HK.bind(null,e.eventManager),e}function uY(t){const e=It(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oY.bind(null,e),e}class sy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uK(this.persistence,new aK,e.initialUser,this.serializer)}Cu(e){return new UR(G_.Vi,this.serializer)}Du(e){return new yK}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sy.provider={build:()=>new sy};class dY extends sy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){cn(this.persistence.referenceDelegate instanceof ny,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xs.withCacheSize(this.cacheSizeBytes):Xs.DEFAULT;return new UR(r=>ny.Vi(r,n),this.serializer)}}class Sw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lY.bind(null,this.syncEngine),await BK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zK}()}createDatastore(e){const n=pv(e.databaseInfo.databaseId),r=_K(e.databaseInfo);return TK(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new CK(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>z3(this.syncEngine,n,0),function(){return M3.v()?new M3:new vK}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new XK(s,i,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=It(s);He(ed,"RemoteStore shutting down."),i.Ea.add(5),await rg(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Sw.provider={build:()=>new Sw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="FirestoreClient";class fY{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=hs.UNAUTHENTICATED,this.clientId=D_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{He(Hc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(He(Hc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ux(t,e){t.asyncQueue.verifyOperationInProgress(),He(Hc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function q3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pY(t);He(Hc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>F3(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>F3(e.remoteStore,s)),t._onlineComponents=e}async function pY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){He(Hc,"Using user provided OfflineComponentProvider");try{await Ux(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ke.FAILED_PRECONDITION||s.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Gh("Error using user provided cache. Falling back to memory cache: "+n),await Ux(t,new sy)}}else He(Hc,"Using default OfflineComponentProvider"),await Ux(t,new dY(void 0));return t._offlineComponents}async function oL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(He(Hc,"Using user provided OnlineComponentProvider"),await q3(t,t._uninitializedComponentsProvider._online)):(He(Hc,"Using default OnlineComponentProvider"),await q3(t,new Sw))),t._onlineComponents}function mY(t){return oL(t).then(e=>e.syncEngine)}async function gY(t){const e=await oL(t),n=e.eventManager;return n.onListen=ZK.bind(null,e.syncEngine),n.onUnlisten=tY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nY.bind(null,e.syncEngine),n}function yY(t,e,n={}){const r=new kc;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new hY({next:p=>{d.Nu(),o.enqueueAndForget(()=>qK(i,h)),p.fromCache&&l.source==="server"?c.reject(new We(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new GK(a,d,{includeMetadataChanges:!0,Ka:!0});return $K(i,h)}(await gY(t),t.asyncQueue,e,n,r)),r.promise}function vY(t,e){const n=new kc;return t.asyncQueue.enqueueAndForget(async()=>rY(await mY(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY="ComponentProvider",W3=new Map;function bY(t,e,n,r,s){return new OH(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,aL(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="firestore.googleapis.com",H3=!0;class G3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new We(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lL,this.ssl=H3}else this.host=e.host,this.ssl=e.ssl??H3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qG)throw new We(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aL(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new We(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new We(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new We(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new We(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gH;switch(r.type){case"firstParty":return new bH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new We(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=W3.get(n);r&&(He(xY,"Removing Datastore"),W3.delete(n),r.terminate())}(this),Promise.resolve()}}function wY(t,e,n,r={}){var c;t=Ju(t,yv);const s=rv(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(CI(`https://${a}`),jI("Firestore",!0)),i.host!==lL&&i.host!==a&&Gh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!bm(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=hs.MOCK_USER;else{d=kI(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new We(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new hs(p)}t._authCredentials=new yH(new YI(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new md(this.firestore,e,this._query)}}class Ir{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ir(this.firestore,e,this._key)}toJSON(){return{type:Ir._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(eg(n,Ir._jsonSchema))return new Ir(e,r||null,new gt(In.fromString(n.referencePath)))}}Ir._jsonSchemaVersion="firestore/documentReference/1.0",Ir._jsonSchema={type:br("string",Ir._jsonSchemaVersion),referencePath:br("string")};class jc extends md{constructor(e,n,r){super(e,n,mR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ir(this.firestore,null,new gt(e))}withConverter(e){return new jc(this.firestore,e,this._path)}}function la(t,e,...n){if(t=Pa(t),QI("collection","path",e),t instanceof yv){const r=In.fromString(e,...n);return o3(r),new jc(t,null,r)}{if(!(t instanceof Ir||t instanceof jc))throw new We(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(In.fromString(e,...n));return o3(r),new jc(t.firestore,null,r)}}function ua(t,e,...n){if(t=Pa(t),arguments.length===1&&(e=D_.newId()),QI("doc","path",e),t instanceof yv){const r=In.fromString(e,...n);return i3(r),new Ir(t,null,new gt(r))}{if(!(t instanceof Ir||t instanceof jc))throw new We(ke.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(In.fromString(e,...n));return i3(r),new Ir(t.firestore,t instanceof jc?t.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="AsyncQueue";class Y3{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qR(this,"async_queue_retry"),this._c=()=>{const r=Bx();r&&He(K3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Bx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new kc;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xf(e))throw e;He(K3,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,yl("INTERNAL UNHANDLED ERROR: ",Q3(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=eS.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&_t(47125,{Pc:Q3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ig extends yv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Y3,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y3(e),this._firestoreClient=void 0,await e}}}function _Y(t,e){const n=typeof t=="object"?t:R_(),r=typeof t=="string"?t:Q1,s=gf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=TI("firestore");i&&wY(s,...i)}return s}function cL(t){if(t._terminated)throw new We(ke.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SY(t),t._firestoreClient}function SY(t){var r,s,i,o;const e=t._freezeSettings(),n=bY(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fY(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ki(Zr.fromBase64String(e))}catch(n){throw new We(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ki(Zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eg(e,Ki._jsonSchema))return Ki.fromBase64String(e.bytes)}}Ki._jsonSchemaVersion="firestore/bytes/1.0",Ki._jsonSchema={type:br("string",Ki._jsonSchemaVersion),bytes:br("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new We(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new We(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new We(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wa._jsonSchemaVersion}}static fromJSON(e){if(eg(e,wa._jsonSchema))return new wa(e.latitude,e.longitude)}}wa._jsonSchemaVersion="firestore/geoPoint/1.0",wa._jsonSchema={type:br("string",wa._jsonSchemaVersion),latitude:br("number"),longitude:br("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:jo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eg(e,jo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new jo(e.vectorValues);throw new We(ke.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jo._jsonSchemaVersion="firestore/vectorValue/1.0",jo._jsonSchema={type:br("string",jo._jsonSchemaVersion),vectorValues:br("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY=/^__.*__$/;class AY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fd(e,this.data,this.fieldMask,n,this.fieldTransforms):new tg(e,this.data,n,this.fieldTransforms)}}function hL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{dataSource:t})}}class iS{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new iS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return iy(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(hL(this.dataSource)&&NY.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class EY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pv(e)}createContext(e,n,r,s=!1){return new iS({dataSource:e,methodName:n,targetDoc:r,path:Yr.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oS(t){const e=t._freezeSettings(),n=pv(t._databaseId);return new EY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fL(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);gL("Data must be an object, but it was:",o,r);const a=pL(r,o);let l,c;if(i.merge)l=new Eo(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=vv(e,h,n);if(!o.contains(p))throw new We(ke.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);kY(d,p)||d.push(p)}l=new Eo(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new AY(new Gi(a),l,c)}function TY(t,e,n,r=!1){return aS(n,t.createContext(r?4:3,e))}function aS(t,e){if(mL(t=Pa(t)))return gL("Unsupported field value:",e,t),pL(t,e);if(t instanceof dL)return function(r,s){if(!hL(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=aS(a,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Pa(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lG(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Fn.fromDate(r);return{timestampValue:ty(s.serializer,i)}}if(r instanceof Fn){const i=new Fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ty(s.serializer,i)}}if(r instanceof wa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ki)return{bytesValue:IR(s.serializer,r._byteString)};if(r instanceof Ir){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:W_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof jo)return function(o,a){const l=o instanceof jo?o.toArray():o;return{mapValue:{fields:{[iR]:{stringValue:aR},[X1]:{arrayValue:{values:l.map(d=>{if(typeof d!="number")throw a.createError("VectorValues must only contain numeric values.");return U_(a.serializer,d)})}}}}}}(r,s);if(VR(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${iv(r)}`)}(t,e)}function pL(t,e){const n={};return JI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dd(t,(r,s)=>{const i=aS(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function mL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fn||t instanceof wa||t instanceof Ki||t instanceof Ir||t instanceof dL||t instanceof jo||VR(t))}function gL(t,e,n){if(!mL(n)||!XI(n)){const r=iv(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function vv(t,e,n){if((e=Pa(e))instanceof uL)return e._internalPath;if(typeof e=="string")return CY(t,e);throw iy("Field path arguments must be of type string or ",t,!1,void 0,n)}const PY=new RegExp("[~\\*/\\[\\]]");function CY(t,e,n){if(e.search(PY)>=0)throw iy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uL(...e.split("."))._internalPath}catch{throw iy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iy(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new We(ke.INVALID_ARGUMENT,a+t+l)}function kY(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{convertValue(e,n="none"){switch(qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dd(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[X1].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ur(o.doubleValue));return new jo(n)}convertGeoPoint(e){return new wa(ur(e.latitude),ur(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sm(e));default:return null}}convertTimestamp(e){const n=zc(e);return new Fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=In.fromString(e);cn(FR(r),9688,{name:e});const s=new Nm(r.get(1),r.get(3)),i=new gt(r.popFirst(5));return s.isEqual(n)||yl(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY extends jY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ir(this.firestore,null,n)}}const X3="@firebase/firestore",Z3="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(vv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RY extends yL{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new We(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lS{}class vL extends lS{}function Fp(t,e,...n){let r=[];e instanceof lS&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof uS).length,a=i.filter(l=>l instanceof cS).length;if(o>1||o>0&&a>0)throw new We(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class cS extends vL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cS(e,n,r)}_apply(e){const n=this._parse(e);return xL(e._query,n),new md(e.firestore,e.converter,fw(e._query,n))}_parse(e){const n=oS(e.firestore);return function(i,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new We(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){eE(h,d);const b=[];for(const x of h)b.push(J3(l,i,x));p={arrayValue:{values:b}}}else p=J3(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||eE(h,d),p=TY(a,o,h,d==="in"||d==="not-in");return xr.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class uS extends lS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Do.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)xL(o,l),o=fw(o,l)}(e._query,n),new md(e.firestore,e.converter,fw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dS extends vL{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dS(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new We(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new We(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Em(i,o)}(e._query,this._field,this._direction);return new md(e.firestore,e.converter,eG(e._query,n))}}function Vp(t,e="asc"){const n=e,r=vv("orderBy",t);return dS._create(r,n)}function J3(t,e,n){if(typeof(n=Pa(n))=="string"){if(n==="")throw new We(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gR(e)&&n.indexOf("/")!==-1)throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(In.fromString(n));if(!gt.isDocumentKey(r))throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return p3(t,new gt(r))}if(n instanceof Ir)return p3(t,n._key);throw new We(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iv(n)}.`)}function eE(t,e){if(!Array.isArray(t)||t.length===0)throw new We(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xL(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new We(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new We(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function bL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class h0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xh extends yL{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Z0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new We(ke.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xh._jsonSchemaVersion="firestore/documentSnapshot/1.0",xh._jsonSchema={type:br("string",xh._jsonSchemaVersion),bundleSource:br("string","DocumentSnapshot"),bundleName:br("string"),bundle:br("string")};class Z0 extends xh{data(e={}){return super.data(e)}}class bh{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new h0(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Z0(this._firestore,this._userDataWriter,r.key,r,new h0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Z0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new h0(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Z0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new h0(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:DY(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new We(ke.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=D_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bh._jsonSchemaVersion="firestore/querySnapshot/1.0",bh._jsonSchema={type:br("string",bh._jsonSchemaVersion),bundleSource:br("string","QuerySnapshot"),bundleName:br("string"),bundle:br("string")};function Bp(t){t=Ju(t,md);const e=Ju(t.firestore,ig),n=cL(e),r=new IY(e);return LY(t._query),yY(n,t._query).then(s=>new bh(e,r,t,s))}function _u(t,e,n){t=Ju(t,Ir);const r=Ju(t.firestore,ig),s=bL(t.converter,e,n),i=oS(r);return hS(r,[fL(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ko.none())])}function tE(t){return hS(Ju(t.firestore,ig),[new z_(t._key,ko.none())])}function Up(t,e){const n=Ju(t.firestore,ig),r=ua(t),s=bL(t.converter,e),i=oS(t.firestore);return hS(n,[fL(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ko.exists(!1))]).then(()=>r)}function hS(t,e){const n=cL(t);return vY(n,e)}(function(e,n=!0){mH(FI),gl(new Ca("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ig(new vH(r.getProvider("auth-internal")),new wH(o,r.getProvider("app-check-internal")),FH(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),eo(X3,Z3,e),eo(X3,Z3,"esm2020")})();var MY="firebase",OY="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(MY,OY,"app");const wL="@firebase/installations",fS="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=1e4,SL=`w:${fS}`,NL="FIS_v2",FY="https://firebaseinstallations.googleapis.com/v1",VY=60*60*1e3,BY="installations",UY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},td=new sv(BY,UY,zY);function AL(t){return t instanceof _l&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL({projectId:t}){return`${FY}/projects/${t}/installations`}function TL(t){return{token:t.token,requestStatus:2,expiresIn:qY(t.expiresIn),creationTime:Date.now()}}async function PL(t,e){const r=(await e.json()).error;return td.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function CL({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $Y(t,{refreshToken:e}){const n=CL(t);return n.append("Authorization",WY(e)),n}async function kL(t){const e=await t();return e.status>=500&&e.status<600?t():e}function qY(t){return Number(t.replace("s","000"))}function WY(t){return`${NL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HY({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=EL(t),s=CL(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:NL,appId:t.appId,sdkVersion:SL},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await kL(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:TL(c.authToken)}}else throw await PL("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY=/^[cdef][\w-]{21}$/,Nw="";function YY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=QY(t);return KY.test(n)?n:Nw}catch{return Nw}}function QY(t){return GY(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=new Map;function RL(t,e){const n=xv(t);LL(n,e),XY(n,e)}function LL(t,e){const n=IL.get(t);if(n)for(const r of n)r(e)}function XY(t,e){const n=ZY();n&&n.postMessage({key:t,fid:e}),JY()}let Pu=null;function ZY(){return!Pu&&"BroadcastChannel"in self&&(Pu=new BroadcastChannel("[Firebase] FID Change"),Pu.onmessage=t=>{LL(t.data.key,t.data.fid)}),Pu}function JY(){IL.size===0&&Pu&&(Pu.close(),Pu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ="firebase-installations-database",tQ=1,nd="firebase-installations-store";let zx=null;function pS(){return zx||(zx=MI(eQ,tQ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(nd)}}})),zx}async function oy(t,e){const n=xv(t),s=(await pS()).transaction(nd,"readwrite"),i=s.objectStore(nd),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&RL(t,e.fid),e}async function DL(t){const e=xv(t),r=(await pS()).transaction(nd,"readwrite");await r.objectStore(nd).delete(e),await r.done}async function bv(t,e){const n=xv(t),s=(await pS()).transaction(nd,"readwrite"),i=s.objectStore(nd),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&RL(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mS(t){let e;const n=await bv(t.appConfig,r=>{const s=nQ(r),i=rQ(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Nw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function nQ(t){const e=t||{fid:YY(),registrationStatus:0};return ML(e)}function rQ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(td.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=sQ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iQ(t)}:{installationEntry:e}}async function sQ(t,e){try{const n=await HY(t,e);return oy(t.appConfig,n)}catch(n){throw AL(n)&&n.customData.serverCode===409?await DL(t.appConfig):await oy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iQ(t){let e=await nE(t.appConfig);for(;e.registrationStatus===1;)await jL(100),e=await nE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await mS(t);return r||n}return e}function nE(t){return bv(t,e=>{if(!e)throw td.create("installation-not-found");return ML(e)})}function ML(t){return oQ(t)?{fid:t.fid,registrationStatus:0}:t}function oQ(t){return t.registrationStatus===1&&t.registrationTime+_L<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aQ({appConfig:t,heartbeatServiceProvider:e},n){const r=lQ(t,n),s=$Y(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:SL,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await kL(()=>fetch(r,a));if(l.ok){const c=await l.json();return TL(c)}else throw await PL("Generate Auth Token",l)}function lQ(t,{fid:e}){return`${EL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(t,e=!1){let n;const r=await bv(t.appConfig,i=>{if(!OL(i))throw td.create("not-registered");const o=i.authToken;if(!e&&dQ(o))return i;if(o.requestStatus===1)return n=cQ(t,e),i;{if(!navigator.onLine)throw td.create("app-offline");const a=fQ(i);return n=uQ(t,a),a}});return n?await n:r.authToken}async function cQ(t,e){let n=await rE(t.appConfig);for(;n.authToken.requestStatus===1;)await jL(100),n=await rE(t.appConfig);const r=n.authToken;return r.requestStatus===0?gS(t,e):r}function rE(t){return bv(t,e=>{if(!OL(e))throw td.create("not-registered");const n=e.authToken;return pQ(n)?{...e,authToken:{requestStatus:0}}:e})}async function uQ(t,e){try{const n=await aQ(t,e),r={...e,authToken:n};return await oy(t.appConfig,r),n}catch(n){if(AL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await DL(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await oy(t.appConfig,r)}throw n}}function OL(t){return t!==void 0&&t.registrationStatus===2}function dQ(t){return t.requestStatus===2&&!hQ(t)}function hQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+VY}function fQ(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function pQ(t){return t.requestStatus===1&&t.requestTime+_L<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mQ(t){const e=t,{installationEntry:n,registrationPromise:r}=await mS(e);return r?r.catch(console.error):gS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gQ(t,e=!1){const n=t;return await yQ(n),(await gS(n,e)).token}async function yQ(t){const{registrationPromise:e}=await mS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vQ(t){if(!t||!t.options)throw $x("App Configuration");if(!t.name)throw $x("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $x(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $x(t){return td.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="installations",xQ="installations-internal",bQ=t=>{const e=t.getProvider("app").getImmediate(),n=vQ(e),r=gf(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wQ=t=>{const e=t.getProvider("app").getImmediate(),n=gf(e,FL).getImmediate();return{getId:()=>mQ(n),getToken:s=>gQ(n,s)}};function _Q(){gl(new Ca(FL,bQ,"PUBLIC")),gl(new Ca(xQ,wQ,"PRIVATE"))}_Q();eo(wL,fS);eo(wL,fS,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="analytics",SQ="firebase_id",NQ="origin",AQ=60*1e3,EQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new j_("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Si=new sv("analytics","Analytics",TQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PQ(t){if(!t.startsWith(yS)){const e=Si.create("invalid-gtag-resource",{gtagURL:t});return Ds.warn(e.message),""}return t}function VL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function CQ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function kQ(t,e){const n=CQ("firebase-js-sdk-policy",{createScriptURL:PQ}),r=document.createElement("script"),s=`${yS}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function jQ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function IQ(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await VL(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){Ds.error(a)}t("config",s,i)}async function RQ(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await VL(n);for(const l of o){const c=a.find(h=>h.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Ds.error(i)}}function LQ(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await RQ(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await IQ(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Ds.error(a)}}return s}function DQ(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=LQ(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function MQ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ=30,FQ=1e3;class VQ{constructor(e={},n=FQ){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const BL=new VQ;function BQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function UQ(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:BQ(n)},s=EQ.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Si.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function zQ(t,e=BL,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Si.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Si.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new WQ;return setTimeout(async()=>{a.abort()},AQ),UL({appId:r,apiKey:s,measurementId:i},o,a,e)}async function UL(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=BL){var a;const{appId:i,measurementId:o}=t;try{await $Q(r,e)}catch(l){if(o)return Ds.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await UQ(t);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!qQ(c)){if(s.deleteThrottleMetadata(i),o)return Ds.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const d=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?G4(n,s.intervalMillis,OQ):G4(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,h),Ds.debug(`Calling attemptFetch again in ${d} millis`),UL(t,h,r,s)}}function $Q(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Si.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qQ(t){if(!(t instanceof _l)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class WQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function HQ(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function GQ(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KQ(){if(II())try{await RI()}catch(t){return Ds.warn(Si.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ds.warn(Si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YQ(t,e,n,r,s,i,o){const a=zQ(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ds.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ds.error(p)),e.push(a);const l=KQ().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([a,l]);MQ(i)||kQ(i,c.measurementId),s("js",new Date);const h=(o==null?void 0:o.config)??{};return h[NQ]="firebase",h.update=!0,d!=null&&(h[SQ]=d),s("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(e){this.app=e}_delete(){return delete wh[this.app.options.appId],Promise.resolve()}}let wh={},sE=[];const iE={};let qx="dataLayer",XQ="gtag",oE,vS,aE=!1;function ZQ(){const t=[];if(Zq()&&t.push("This is a browser extension environment."),eW()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Si.create("invalid-analytics-context",{errorInfo:e});Ds.warn(n.message)}}function JQ(t,e,n){ZQ();const r=t.options.appId;if(!r)throw Si.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ds.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Si.create("no-api-key");if(wh[r]!=null)throw Si.create("already-exists",{id:r});if(!aE){jQ(qx);const{wrappedGtag:i,gtagCore:o}=DQ(wh,sE,iE,qx,XQ);vS=i,oE=o,aE=!0}return wh[r]=YQ(t,sE,iE,e,oE,qx,n),new QQ(t)}function eX(t=R_()){t=Pa(t);const e=gf(t,ay);return e.isInitialized()?e.getImmediate():tX(t)}function tX(t,e={}){const n=gf(t,ay);if(n.isInitialized()){const s=n.getImmediate();if(bm(e,n.getOptions()))return s;throw Si.create("already-initialized")}return n.initialize({options:e})}function nX(t,e,n){t=Pa(t),GQ(vS,wh[t.app.options.appId],e,n).catch(r=>Ds.error(r))}function rX(t,e,n,r){t=Pa(t),HQ(vS,wh[t.app.options.appId],e,n,r).catch(s=>Ds.error(s))}const lE="@firebase/analytics",cE="0.10.19";function sX(){gl(new Ca(ay,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return JQ(r,s,n)},"PUBLIC")),gl(new Ca("analytics-internal",t,"PRIVATE")),eo(lE,cE),eo(lE,cE,"esm2020");function t(e){try{const n=e.getProvider(ay).getImmediate();return{logEvent:(r,s,i)=>rX(n,r,s,i),setUserProperties:(r,s)=>nX(n,r,s)}}catch(n){throw Si.create("interop-component-reg-failed",{reason:n})}}}sX();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="firebasestorage.googleapis.com",iX="storageBucket",oX=2*60*1e3,aX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends _l{constructor(e,n,r=0){super(Wx(e),`Firebase Storage: ${n} (${Wx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,La.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ja;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ja||(ja={}));function Wx(t){return"storage/"+t}function lX(){const t="An unknown error occurred, please check the error payload for server response.";return new La(ja.UNKNOWN,t)}function cX(){return new La(ja.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uX(){return new La(ja.CANCELED,"User canceled the upload/download.")}function dX(t){return new La(ja.INVALID_URL,"Invalid URL '"+t+"'.")}function hX(t){return new La(ja.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uE(t){return new La(ja.INVALID_ARGUMENT,t)}function $L(){return new La(ja.APP_DELETED,"The Firebase app was deleted.")}function fX(t){return new La(ja.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=To.makeFromUrl(e,n)}catch{return new To(e,"")}if(r.path==="")return r;throw hX(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},x=n===zL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${x}/${s}/${w}`,"i"),A=[{regex:a,indices:l,postModify:i},{regex:f,indices:b,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<A.length;R++){const F=A[R],$=F.regex.exec(e);if($){const I=$[F.indices.bucket];let E=$[F.indices.path];E||(E=""),r=new To(I,E),F.postModify(r);break}}if(r==null)throw dX(e);return r}}class pX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...w){c||(c=!0,e.apply(null,w))}function h(w){s=setTimeout(()=>{s=null,t(f,l())},w)}function p(){i&&clearTimeout(i)}function f(w,...v){if(c){p();return}if(w){p(),d.call(null,w,...v);return}if(l()||o){p(),d.call(null,w,...v);return}r<64&&(r*=2);let A;a===1?(a=2,A=0):A=(r+Math.random())*1e3,h(A)}let b=!1;function x(w){b||(b=!0,p(),!c&&(s!==null?(w||(a=2),clearTimeout(s),h(0)):w||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,x(!0)},n),x}function gX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(t){return t!==void 0}function dE(t,e,n,r){if(r<e)throw uE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw uE(`Invalid value for '${t}'. Expected ${n} or less.`)}function vX(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ly;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ly||(ly={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(e,n,r,s,i,o,a,l,c,d,h,p=!0,f=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new f0(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ly.NO_ERROR,l=i.getStatus();if(!a||xX(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===ly.ABORT;r(!1,new f0(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new f0(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());yX(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=lX();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?$L():uX();o(l)}else{const l=cX();o(l)}};this.canceled_?n(!1,new f0(!1,null,!0)):this.backoffId_=mX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class f0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function wX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _X(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function NX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function AX(t,e,n,r,s,i,o=!0,a=!1){const l=vX(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return SX(d,e),wX(d,n),_X(d,i),NX(d,r),new bX(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TX(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this._service=e,n instanceof To?this._location=n:this._location=To.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cy(e,n)}get root(){const e=new To(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return TX(this._location.path)}get storage(){return this._service}get parent(){const e=EX(this._location.path);if(e===null)return null;const n=new To(this._location.bucket,e);return new cy(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw fX(e)}}function hE(t,e){const n=e==null?void 0:e[iX];return n==null?null:To.makeFromBucketSpec(n,t)}function PX(t,e,n,r={}){t.host=`${e}:${n}`;const s=rv(e);s&&(CI(`https://${t.host}/b`),jI("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:kI(i,t.app.options.projectId))}class CX{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=zL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oX,this._maxUploadRetryTime=aX,this._requests=new Set,s!=null?this._bucket=To.makeFromBucketSpec(s,this._host):this._bucket=hE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=To.makeFromBucketSpec(this._url,e):this._bucket=hE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(OI(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cy(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new pX($L());{const o=AX(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const fE="@firebase/storage",pE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="storage";function kX(t=R_(),e){t=Pa(t);const r=gf(t,qL).getImmediate({identifier:e}),s=TI("storage");return s&&jX(r,...s),r}function jX(t,e,n,r={}){PX(t,e,n,r)}function IX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new CX(n,r,s,e,FI)}function RX(){gl(new Ca(qL,IX,"PUBLIC").setMultipleInstances(!0)),eo(fE,pE,""),eo(fE,pE,"esm2020")}RX();const LX={apiKey:"AIzaSyBBUf1eOJCpiTFq-8z_Ch-MqHN6A99KrfY",authDomain:"food-suppliers-cd833.firebaseapp.com",projectId:"food-suppliers-cd833",storageBucket:"food-suppliers-cd833.firebasestorage.app",messagingSenderId:"913195417907",appId:"1:913195417907:web:9d30a9127b365980967e46",measurementId:"G-VZET3K4VBC"},xS=VI(LX);eX(xS);const Cr=_Y(xS);kX(xS);const mE=()=>new Date().toISOString().split("T")[0],WL=L.createContext(void 0),DX=({children:t})=>{const[e,n]=L.useState([]),[r,s]=L.useState([]),[i,o]=L.useState([]),[a,l]=L.useState(!0);L.useEffect(()=>{(async()=>{try{console.log(" Loading data from Firestore...");const I=performance.now(),[E,C,M]=await Promise.all([Bp(Fp(la(Cr,"purchases"),Vp("date","desc"))),Bp(Fp(la(Cr,"sales"),Vp("date","desc"))),Bp(Fp(la(Cr,"expenses"),Vp("date","desc")))]),N=E.docs.map(K=>({id:K.id,...K.data()})),T=C.docs.map(K=>({id:K.id,...K.data()})),k=M.docs.map(K=>({id:K.id,...K.data()}));n(N),s(T),o(k);const z=performance.now();console.log(` Data loaded in ${(z-I).toFixed(2)}ms`),console.log(` Loaded: ${N.length} purchases, ${T.length} sales, ${k.length} expenses`),l(!1)}catch(I){console.error(" Error loading data from Firestore:",I),l(!1)}})()},[]);const c=L.useCallback(async $=>{try{const I=await Up(la(Cr,"purchases"),$),E={...$,id:I.id};return n(C=>[E,...C]),E}catch(I){throw console.error("Error adding purchase to Firestore:",I),I}},[]),d=L.useCallback(async($,I)=>{const E={...I,id:$};try{const C=ua(Cr,"purchases",$);return await _u(C,{...I},{merge:!0}),n(M=>M.map(N=>N.id===$?E:N)),E}catch(C){throw console.error("Error updating purchase in Firestore:",C),C}},[]),h=L.useCallback(async $=>{try{const I={...$},E=await Up(la(Cr,"sales"),I),C={...I,id:E.id};return s(M=>[C,...M]),C}catch(I){throw console.error("Error adding sale to Firestore:",I),I}},[]),p=L.useCallback(async($,I)=>{try{const E=ua(Cr,"sales",$);await _u(E,{...I},{merge:!0}),s(C=>C.map(M=>M.id===$?{...I,id:$}:M))}catch(E){throw console.error("Error updating sale in Firestore:",E),E}},[]),f=L.useCallback(async $=>{try{const I=await Up(la(Cr,"expenses"),$),E={...$,id:I.id};return o(C=>[E,...C]),E}catch(I){throw console.error("Error adding expense to Firestore:",I),I}},[]),b=L.useCallback(async $=>{try{const I=ua(Cr,"purchases",$);await _u(I,{deleted:!0},{merge:!0}),n(E=>E.filter(C=>C.id!==$))}catch(I){throw console.error("Error deleting purchase from Firestore:",I),I}},[]),x=L.useCallback(async $=>{try{const I=ua(Cr,"sales",$);await _u(I,{deleted:!0},{merge:!0}),s(E=>E.filter(C=>C.id!==$))}catch(I){throw console.error("Error deleting sale from Firestore:",I),I}},[]),w=L.useCallback(async $=>{try{const I=ua(Cr,"expenses",$);await _u(I,{deleted:!0},{merge:!0}),o(E=>E.filter(C=>C.id!==$))}catch(I){throw console.error("Error deleting expense from Firestore:",I),I}},[]),v=L.useCallback($=>{const I=e.filter(K=>K.date===$),E=r.filter(K=>K.date===$),C=i.filter(K=>K.date===$),M=I.reduce((K,ae)=>K+ae.totalAmount,0),N=E.reduce((K,ae)=>K+ae.totalAmount,0),T=C.reduce((K,ae)=>K+ae.amount,0),k=N-M,z=k-T;return{date:$,totalPurchases:M,totalSales:N,totalExpenses:T,grossProfit:k,netProfit:z,purchaseCount:I.length,saleCount:E.length}},[e,r,i]),_=L.useMemo(()=>v(mE()),[v]),A=L.useCallback($=>{const I=$||mE(),E=e.filter(k=>k.date===I).map(k=>({id:`purchase-${k.id}`,type:"purchase",date:k.date,description:`Grapes from ${k.farmer.name}`,amount:k.totalAmount,paymentMethod:k.paymentMethod,details:`${k.items.length} lots | ${k.items.reduce((z,K)=>z+K.totalWeight,0).toFixed(1)} kg total`,originalData:k})),C=r.filter(k=>k.date===I).map(k=>{const z=k,K=k.buyer?`Invoice to ${k.buyer.name}`:`${z.itemName||"Item"} to ${z.customerName||"Customer"}`,ae=k.items?`${k.items.length} items | ${k.totalAmount.toLocaleString()}`:`${z.quantity||0} tons @ ${(z.pricePerTon||0).toLocaleString()}/ton`;return{id:`sale-${k.id}`,type:"sale",date:k.date,description:K,amount:k.totalAmount,paymentMethod:k.paymentMethod,details:ae,originalData:k}}),M=i.filter(k=>k.date===I).map(k=>({id:`expense-${k.id}`,type:"expense",date:k.date,description:k.description,amount:k.amount,paymentMethod:k.paymentMethod,details:k.type.charAt(0).toUpperCase()+k.type.slice(1),originalData:k})),N=[...E,...C,...M];return Array.from(new Map(N.map(k=>[k.id,k])).values())},[e,r,i]),R=L.useMemo(()=>A(),[A]),F={purchases:e,sales:r,expenses:i,addPurchase:c,updatePurchase:d,deletePurchase:b,addSale:h,updateSale:p,deleteSale:x,addExpense:f,deleteExpense:w,getDailySummary:v,todaySummary:_,getTransactions:A,todayTransactions:R,loading:a};return u.jsx(WL.Provider,{value:F,children:t})},og=()=>{const t=L.useContext(WL);if(t===void 0)throw new Error("useStore must be used within a StoreProvider");return t},HL=L.createContext(void 0),MX=({children:t})=>{const[e,n]=L.useState([]),[r,s]=L.useState([]),[i,o]=L.useState(!0);L.useEffect(()=>{(async()=>{try{console.log(" Loading watermelon data from Firestore...");const x=performance.now(),[w,v]=await Promise.all([Bp(Fp(la(Cr,"watermelon_purchases"),Vp("date","desc"))),Bp(Fp(la(Cr,"watermelon_sales"),Vp("date","desc")))]),_=w.docs.map(F=>({id:F.id,...F.data()})),A=v.docs.map(F=>({id:F.id,...F.data()}));n(_),s(A);const R=performance.now();console.log(` Watermelon data loaded in ${(R-x).toFixed(2)}ms`),console.log(` Loaded: ${_.length} purchases, ${A.length} sales`),o(!1)}catch(x){console.error(" Error loading watermelon data from Firestore:",x),o(!1)}})()},[]);const a=L.useCallback(async b=>{try{const x=await Up(la(Cr,"watermelon_purchases"),b),w={...b,id:x.id};return n(v=>[w,...v]),w}catch(x){throw console.error("Error adding watermelon purchase to Firestore:",x),x}},[]),l=L.useCallback(async(b,x)=>{const w={...x,id:b};try{const v=ua(Cr,"watermelon_purchases",b);return await _u(v,{...x},{merge:!0}),n(_=>_.map(A=>A.id===b?w:A)),w}catch(v){throw console.error("Error updating watermelon purchase in Firestore:",v),v}},[]),c=L.useCallback(async b=>{try{const x=ua(Cr,"watermelon_purchases",b);await tE(x),n(w=>w.filter(v=>v.id!==b))}catch(x){throw console.error("Error deleting watermelon purchase from Firestore:",x),x}},[]),d=L.useCallback(async b=>{try{const x=await Up(la(Cr,"watermelon_sales"),b),w={...b,id:x.id};return s(v=>[w,...v]),w}catch(x){throw console.error("Error adding watermelon sale to Firestore:",x),x}},[]),h=L.useCallback(async(b,x)=>{const w={...x,id:b};try{const v=ua(Cr,"watermelon_sales",b);return await _u(v,{...x},{merge:!0}),s(_=>_.map(A=>A.id===b?w:A)),w}catch(v){throw console.error("Error updating watermelon sale in Firestore:",v),v}},[]),p=L.useCallback(async b=>{try{const x=ua(Cr,"watermelon_sales",b);await tE(x),s(w=>w.filter(v=>v.id!==b))}catch(x){throw console.error("Error deleting watermelon sale from Firestore:",x),x}},[]),f={purchases:e,sales:r,addPurchase:a,updatePurchase:l,deletePurchase:c,addSale:d,updateSale:h,deleteSale:p,loading:i};return u.jsx(HL.Provider,{value:f,children:t})},bS=()=>{const t=L.useContext(HL);if(t===void 0)throw new Error("useWatermelonStore must be used within a WatermelonStoreProvider");return t},_f=()=>{const t=new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return u.jsx("header",{className:"bg-white border-b border-slate-100 sticky top-0 z-30",children:u.jsx("div",{className:"container mx-auto px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden border border-slate-100 shadow-sm",children:u.jsx("img",{src:"/sp-logo.jpg",alt:"SP Logo",className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold tracking-tight text-slate-800",children:"Shree Ganesh Fruit Suppliers"}),u.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-semibold text-slate-400 mt-0.5 uppercase tracking-wider",children:[u.jsx(QV,{size:12}),u.jsx("span",{children:t})]})]})]}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-slate-50 rounded-xl border border-slate-100",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-600 flex items-center justify-center text-white text-xs font-bold",children:"A"}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs font-bold text-slate-800",children:"Suhas Patil"}),u.jsx("p",{className:"text-[10px] text-emerald-600 font-bold uppercase tracking-tighter",children:"System Online"})]})]})})]})})})},gE={date:"",quality:"",unitCount:0,weightPerUnit:0,pricePerKg:0,advance:0},GL=({isOpen:t,onClose:e,onAdd:n,onUpdate:r,purchaseToEdit:s})=>{const[i,o]=L.useState({name:"",mobile:"",address:""}),[a,l]=L.useState([]),[c,d]=L.useState(gE),[h,p]=L.useState("cash"),[f,b]=L.useState(0),[x,w]=L.useState(new Date().toISOString().split("T")[0]),[v,_]=L.useState(!1);L.useEffect(()=>{s?(o({name:s.farmer.name,mobile:s.farmer.mobile,address:s.farmer.address}),l(s.items.map(T=>({date:T.date||s.date,quality:T.quality,unitCount:T.unitCount,weightPerUnit:T.weightPerUnit,totalWeight:T.totalWeight,pricePerKg:T.pricePerKg,totalAmount:T.totalAmount,advance:T.advance||0}))),p(s.paymentMethod),b(s.advanceAmount||0),w(s.date)):(o({name:"",mobile:"",address:""}),l([]),b(0),p("cash"),w(new Date().toISOString().split("T")[0]))},[s,t]);const A=c.unitCount*c.weightPerUnit,R=A*c.pricePerKg,F=()=>{!c.quality||c.unitCount<=0||c.weightPerUnit<=0||c.pricePerKg<=0||(l(T=>[...T,{...c,date:c.date||x,totalWeight:A,totalAmount:R,advance:c.advance||0}]),d(gE))},$=T=>{l(k=>k.filter((z,K)=>K!==T))},I=L.useMemo(()=>a.reduce((T,k)=>T+k.totalAmount,0),[a]),E=L.useMemo(()=>a.reduce((T,k)=>T+(k.advance||0),0),[a]),C=L.useMemo(()=>f+E,[f,E]),M=L.useMemo(()=>I-C,[I,C]),N=async T=>{if(T.preventDefault(),!(a.length===0||v)){_(!0);try{const k={date:x,farmer:{id:(s==null?void 0:s.farmer.id)||Math.random().toString(36).substr(2,9),...i},items:a.map(z=>({...z,id:Math.random().toString(36).substr(2,9)})),totalAmount:I,advanceAmount:C,pendingAmount:M,paymentMethod:h};s&&r?await r(s.id,k):await n(k),e()}catch(k){console.error("Error saving purchase:",k),alert("Failed to save purchase.")}finally{_(!1)}}};return t?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm transition-opacity",children:u.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-2xl border border-slate-200",children:[u.jsxs("div",{className:"sticky top-0 bg-white z-10 p-6 border-b border-slate-100 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2.5 rounded-xl bg-amber-50 text-amber-600",children:u.jsx(Ky,{className:"w-5 h-5"})}),u.jsx("h2",{className:"text-xl font-bold text-slate-800",children:s?"Edit Purchase Lot":"New Farmer Purchase"})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:u.jsx(Ci,{size:20,className:"text-slate-400"})})]}),u.jsxs("form",{onSubmit:N,className:"p-6 space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1.5 block",children:"Purchase Date"}),u.jsx("input",{required:!0,type:"date",value:x,onChange:T=>w(T.target.value),className:"input-premium"})]}),u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1.5 block",children:"Farmer Name"}),u.jsx("input",{required:!0,type:"text",value:i.name,onChange:T=>o(k=>({...k,name:T.target.value})),className:"input-premium",placeholder:"e.g. Rajesh Kumar"})]}),u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1.5 block",children:"Mobile"}),u.jsx("input",{required:!0,type:"tel",value:i.mobile,onChange:T=>o(k=>({...k,mobile:T.target.value})),className:"input-premium",placeholder:"9876543210"})]}),u.jsxs("div",{className:"md:col-span-1",children:[u.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1.5 block",children:"Address"}),u.jsx("input",{required:!0,type:"text",value:i.address,onChange:T=>o(k=>({...k,address:T.target.value})),className:"input-premium",placeholder:"Village/City"})]})]}),u.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[u.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4",children:"Add Items to Lot"}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-6 gap-3 mb-2",children:[u.jsx("input",{type:"text",placeholder:"Quality",value:c.quality,onChange:T=>d(k=>({...k,quality:T.target.value})),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Unit Count",value:c.unitCount||"",onChange:T=>d(k=>({...k,unitCount:parseFloat(T.target.value)||0})),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Crate Wt",value:c.weightPerUnit||"",onChange:T=>d(k=>({...k,weightPerUnit:parseFloat(T.target.value)||0})),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Price/Kg",value:c.pricePerKg||"",onChange:T=>d(k=>({...k,pricePerKg:parseFloat(T.target.value)||0})),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Advance",value:c.advance||"",onChange:T=>d(k=>({...k,advance:parseFloat(T.target.value)||0})),className:"input-premium text-sm"}),u.jsxs("button",{type:"button",onClick:F,className:"bg-emerald-600 text-white rounded-lg flex items-center justify-center hover:bg-emerald-700 transition-all font-bold",children:[u.jsx(Rr,{size:20})," Add"]})]})]}),u.jsx("div",{className:"border border-slate-100 rounded-xl overflow-hidden",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold uppercase text-[10px]",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3",children:"Item"}),u.jsx("th",{className:"p-3",children:"Qty"}),u.jsx("th",{className:"p-3",children:"Wt"}),u.jsx("th",{className:"p-3",children:"Rate"}),u.jsx("th",{className:"p-3 text-right",children:"Total"}),u.jsx("th",{className:"p-3 text-right",children:"Adv"}),u.jsx("th",{className:"p-3 w-10"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map((T,k)=>u.jsxs("tr",{children:[u.jsx("td",{className:"p-3 font-bold text-slate-800",children:T.quality}),u.jsx("td",{className:"p-3 text-slate-600",children:T.unitCount}),u.jsxs("td",{className:"p-3 text-slate-600",children:[T.weightPerUnit," kg"]}),u.jsxs("td",{className:"p-3 text-slate-600",children:["",T.pricePerKg]}),u.jsxs("td",{className:"p-3 text-right font-bold text-slate-900",children:["",T.totalAmount.toLocaleString()]}),u.jsxs("td",{className:"p-3 text-right text-amber-600",children:["",T.advance.toLocaleString()]}),u.jsx("td",{className:"p-3",children:u.jsx("button",{type:"button",onClick:()=>$(k),className:"text-rose-500 hover:bg-rose-50 p-1.5 rounded-lg transition-colors",children:u.jsx(ks,{size:16})})})]},k))})]})}),u.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between p-6 bg-slate-50 rounded-2xl border border-slate-100 gap-6",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("label",{className:`cursor-pointer px-6 py-2 rounded-xl text-sm font-bold border-2 transition-all ${h==="cash"?"bg-emerald-600 border-emerald-600 text-white shadow-lg":"bg-white border-slate-200 text-slate-400"}`,children:[u.jsx("input",{type:"radio",className:"hidden",name:"pay",checked:h==="cash",onChange:()=>p("cash")})," Cash"]}),u.jsxs("label",{className:`cursor-pointer px-6 py-2 rounded-xl text-sm font-bold border-2 transition-all ${h==="online"?"bg-emerald-600 border-emerald-600 text-white shadow-lg":"bg-white border-slate-200 text-slate-400"}`,children:[u.jsx("input",{type:"radio",className:"hidden",name:"pay",checked:h==="online",onChange:()=>p("online")})," Online"]})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Grand Total"}),u.jsxs("p",{className:"text-4xl font-black text-slate-900 tracking-tight",children:["",I.toLocaleString()]})]})]}),u.jsx("button",{type:"submit",disabled:a.length===0||v,className:"w-full btn-primary py-4 text-xl shadow-xl hover:shadow-emerald-500/20",children:v?"Processing...":s?"Update Lot":"Confirm Purchase"})]})]})}):null},wS=L.createContext({});function _S(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const KL=typeof window<"u",YL=KL?L.useLayoutEffect:L.useEffect,wv=L.createContext(null);function SS(t,e){t.indexOf(e)===-1&&t.push(e)}function NS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ia=(t,e,n)=>n>e?e:n<t?t:n;let _v=()=>{},Jh=()=>{};const xl={},QL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function XL(t){return typeof t=="object"&&t!==null}const ZL=t=>/^0[^.\s]+$/u.test(t);function AS(t){let e;return()=>(e===void 0&&(e=t()),e)}const to=t=>t,OX=(t,e)=>n=>e(t(n)),ag=(...t)=>t.reduce(OX),Cm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ES{constructor(){this.subscriptions=[]}add(e){return SS(this.subscriptions,e),()=>NS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _a=t=>t*1e3,Zi=t=>t/1e3;function JL(t,e){return e?t*(1e3/e):0}const e8=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,FX=1e-7,VX=12;function BX(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=e8(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>FX&&++a<VX);return o}function lg(t,e,n,r){if(t===e&&n===r)return to;const s=i=>BX(i,0,1,t,n);return i=>i===0||i===1?i:e8(s(i),e,r)}const t8=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,n8=t=>e=>1-t(1-e),r8=lg(.33,1.53,.69,.99),TS=n8(r8),s8=t8(TS),i8=t=>(t*=2)<1?.5*TS(t):.5*(2-Math.pow(2,-10*(t-1))),PS=t=>1-Math.sin(Math.acos(t)),o8=n8(PS),a8=t8(PS),UX=lg(.42,0,1,1),zX=lg(0,0,.58,1),l8=lg(.42,0,.58,1),$X=t=>Array.isArray(t)&&typeof t[0]!="number",c8=t=>Array.isArray(t)&&typeof t[0]=="number",yE={linear:to,easeIn:UX,easeInOut:l8,easeOut:zX,circIn:PS,circInOut:a8,circOut:o8,backIn:TS,backInOut:s8,backOut:r8,anticipate:i8},qX=t=>typeof t=="string",vE=t=>{if(c8(t)){Jh(t.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[e,n,r,s]=t;return lg(e,n,r,s)}else if(qX(t))return Jh(yE[t]!==void 0,`Invalid easing type '${t}'`,"invalid-easing-type"),yE[t];return t},p0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],xE={value:null,addProjectionMetrics:null};function WX(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,p=!1,f=!1)=>{const x=f&&s?n:r;return p&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&xE.value&&xE.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const HX=40;function u8(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=p0.reduce((A,R)=>(A[R]=WX(i,e?R:void 0),A),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:p,render:f,postRender:b}=o,x=()=>{const A=xl.useManualTiming?s.timestamp:performance.now();n=!1,xl.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(A-s.timestamp,HX),1)),s.timestamp=A,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),p.process(s),f.process(s),b.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(x))},w=()=>{n=!0,r=!0,s.isProcessing||t(x)};return{schedule:p0.reduce((A,R)=>{const F=o[R];return A[R]=($,I=!1,E=!1)=>(n||w(),F.schedule($,I,E)),A},{}),cancel:A=>{for(let R=0;R<p0.length;R++)o[p0[R]].cancel(A)},state:s,steps:o}}const{schedule:zn,cancel:Gc,state:Gr,steps:Hx}=u8(typeof requestAnimationFrame<"u"?requestAnimationFrame:to,!0);let J0;function GX(){J0=void 0}const js={now:()=>(J0===void 0&&js.set(Gr.isProcessing||xl.useManualTiming?Gr.timestamp:performance.now()),J0),set:t=>{J0=t,queueMicrotask(GX)}},d8=t=>e=>typeof e=="string"&&e.startsWith(t),h8=d8("--"),KX=d8("var(--"),CS=t=>KX(t)?YX.test(t.split("/*")[0].trim()):!1,YX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function bE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Sf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},km={...Sf,transform:t=>Ia(0,1,t)},m0={...Sf,default:1},zp=t=>Math.round(t*1e5)/1e5,kS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QX(t){return t==null}const XX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jS=(t,e)=>n=>!!(typeof n=="string"&&XX.test(n)&&n.startsWith(t)||e&&!QX(n)&&Object.prototype.hasOwnProperty.call(n,e)),f8=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(kS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ZX=t=>Ia(0,255,t),Gx={...Sf,transform:t=>Math.round(ZX(t))},Cu={test:jS("rgb","red"),parse:f8("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Gx.transform(t)+", "+Gx.transform(e)+", "+Gx.transform(n)+", "+zp(km.transform(r))+")"};function JX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Aw={test:jS("#"),parse:JX,transform:Cu.transform},cg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zl=cg("deg"),Sa=cg("%"),Ze=cg("px"),eZ=cg("vh"),tZ=cg("vw"),wE={...Sa,parse:t=>Sa.parse(t)/100,transform:t=>Sa.transform(t*100)},sh={test:jS("hsl","hue"),parse:f8("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Sa.transform(zp(e))+", "+Sa.transform(zp(n))+", "+zp(km.transform(r))+")"},yr={test:t=>Cu.test(t)||Aw.test(t)||sh.test(t),parse:t=>Cu.test(t)?Cu.parse(t):sh.test(t)?sh.parse(t):Aw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Cu.transform(t):sh.transform(t),getAnimatableNone:t=>{const e=yr.parse(t);return e.alpha=0,yr.transform(e)}},nZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rZ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(kS))==null?void 0:e.length)||0)+(((n=t.match(nZ))==null?void 0:n.length)||0)>0}const p8="number",m8="color",sZ="var",iZ="var(",_E="${}",oZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(oZ,l=>(yr.test(l)?(r.color.push(i),s.push(m8),n.push(yr.parse(l))):l.startsWith(iZ)?(r.var.push(i),s.push(sZ),n.push(l)):(r.number.push(i),s.push(p8),n.push(parseFloat(l))),++i,_E)).split(_E);return{values:n,split:a,indexes:r,types:s}}function g8(t){return jm(t).values}function y8(t){const{split:e,types:n}=jm(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===p8?i+=zp(s[o]):a===m8?i+=yr.transform(s[o]):i+=s[o]}return i}}const aZ=t=>typeof t=="number"?0:yr.test(t)?yr.getAnimatableNone(t):t;function lZ(t){const e=g8(t);return y8(t)(e.map(aZ))}const Kc={test:rZ,parse:g8,createTransformer:y8,getAnimatableNone:lZ};function Kx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cZ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Kx(l,a,t+1/3),i=Kx(l,a,t),o=Kx(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function uy(t,e){return n=>n>0?e:t}const Qn=(t,e,n)=>t+(e-t)*n,Yx=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},uZ=[Aw,Cu,sh],dZ=t=>uZ.find(e=>e.test(t));function SE(t){const e=dZ(t);if(_v(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let n=e.parse(t);return e===sh&&(n=cZ(n)),n}const NE=(t,e)=>{const n=SE(t),r=SE(e);if(!n||!r)return uy(t,e);const s={...n};return i=>(s.red=Yx(n.red,r.red,i),s.green=Yx(n.green,r.green,i),s.blue=Yx(n.blue,r.blue,i),s.alpha=Qn(n.alpha,r.alpha,i),Cu.transform(s))},Ew=new Set(["none","hidden"]);function hZ(t,e){return Ew.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function fZ(t,e){return n=>Qn(t,e,n)}function IS(t){return typeof t=="number"?fZ:typeof t=="string"?CS(t)?uy:yr.test(t)?NE:gZ:Array.isArray(t)?v8:typeof t=="object"?yr.test(t)?NE:pZ:uy}function v8(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>IS(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function pZ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=IS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function mZ(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const gZ=(t,e)=>{const n=Kc.createTransformer(e),r=jm(t),s=jm(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ew.has(t)&&!s.values.length||Ew.has(e)&&!r.values.length?hZ(t,e):ag(v8(mZ(r,s),s.values),n):(_v(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),uy(t,e))};function x8(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qn(t,e,n):IS(t)(t,e)}const yZ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>zn.update(e,n),stop:()=>Gc(e),now:()=>Gr.isProcessing?Gr.timestamp:js.now()}},b8=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},dy=2e4;function RS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<dy;)e+=n,r=t.next(e);return e>=dy?1/0:e}function vZ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(RS(r),dy);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Zi(s)}}const xZ=5;function w8(t,e,n){const r=Math.max(e-xZ,0);return JL(n-t(r),e-r)}const Kn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qx=.001;function bZ({duration:t=Kn.duration,bounce:e=Kn.bounce,velocity:n=Kn.velocity,mass:r=Kn.mass}){let s,i;_v(t<=_a(Kn.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-e;o=Ia(Kn.minDamping,Kn.maxDamping,o),t=Ia(Kn.minDuration,Kn.maxDuration,Zi(t)),o<1?(s=c=>{const d=c*o,h=d*t,p=d-n,f=Tw(c,o),b=Math.exp(-h);return Qx-p/f*b},i=c=>{const h=c*o*t,p=h*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,b=Math.exp(-h),x=Tw(Math.pow(c,2),o);return(-s(c)+Qx>0?-1:1)*((p-f)*b)/x}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Qx+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=_Z(s,i,a);if(t=_a(t),isNaN(l))return{stiffness:Kn.stiffness,damping:Kn.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const wZ=12;function _Z(t,e,n){let r=n;for(let s=1;s<wZ;s++)r=r-t(r)/e(r);return r}function Tw(t,e){return t*Math.sqrt(1-e*e)}const SZ=["duration","bounce"],NZ=["stiffness","damping","mass"];function AE(t,e){return e.some(n=>t[n]!==void 0)}function AZ(t){let e={velocity:Kn.velocity,stiffness:Kn.stiffness,damping:Kn.damping,mass:Kn.mass,isResolvedFromDuration:!1,...t};if(!AE(t,NZ)&&AE(t,SZ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ia(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Kn.mass,stiffness:s,damping:i}}else{const n=bZ(t);e={...e,...n,mass:Kn.mass},e.isResolvedFromDuration=!0}return e}function hy(t=Kn.visualDuration,e=Kn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:f}=AZ({...n,velocity:-Zi(n.velocity||0)}),b=p||0,x=c/(2*Math.sqrt(l*d)),w=o-i,v=Zi(Math.sqrt(l/d)),_=Math.abs(w)<5;r||(r=_?Kn.restSpeed.granular:Kn.restSpeed.default),s||(s=_?Kn.restDelta.granular:Kn.restDelta.default);let A;if(x<1){const F=Tw(v,x);A=$=>{const I=Math.exp(-x*v*$);return o-I*((b+x*v*w)/F*Math.sin(F*$)+w*Math.cos(F*$))}}else if(x===1)A=F=>o-Math.exp(-v*F)*(w+(b+v*w)*F);else{const F=v*Math.sqrt(x*x-1);A=$=>{const I=Math.exp(-x*v*$),E=Math.min(F*$,300);return o-I*((b+x*v*w)*Math.sinh(E)+F*w*Math.cosh(E))/F}}const R={calculatedDuration:f&&h||null,next:F=>{const $=A(F);if(f)a.done=F>=h;else{let I=F===0?b:0;x<1&&(I=F===0?_a(b):w8(A,F,$));const E=Math.abs(I)<=r,C=Math.abs(o-$)<=s;a.done=E&&C}return a.value=a.done?o:$,a},toString:()=>{const F=Math.min(RS(R),dy),$=b8(I=>R.next(F*I).value,F,30);return F+"ms "+$},toTransition:()=>{}};return R}hy.applyToOptions=t=>{const e=vZ(t,100,hy);return t.ease=e.ease,t.duration=_a(e.duration),t.type="keyframes",t};function Pw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},f=E=>a!==void 0&&E<a||l!==void 0&&E>l,b=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let x=n*e;const w=h+x,v=o===void 0?w:o(w);v!==w&&(x=v-h);const _=E=>-x*Math.exp(-E/r),A=E=>v+_(E),R=E=>{const C=_(E),M=A(E);p.done=Math.abs(C)<=c,p.value=p.done?v:M};let F,$;const I=E=>{f(p.value)&&(F=E,$=hy({keyframes:[p.value,b(p.value)],velocity:w8(A,E,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return I(0),{calculatedDuration:null,next:E=>{let C=!1;return!$&&F===void 0&&(C=!0,R(E),I(E)),F!==void 0&&E>=F?$.next(E-F):(!C&&R(E),p)}}}function EZ(t,e,n){const r=[],s=n||xl.mix||x8,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||to:e;a=ag(l,a)}r.push(a)}return r}function TZ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Jh(i===e.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=EZ(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=Cm(t[h],t[h+1],d);return a[h](p)};return n?d=>c(Ia(t[0],t[i-1],d)):c}function PZ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Cm(0,e,r);t.push(Qn(n,1,s))}}function CZ(t){const e=[0];return PZ(e,t.length-1),e}function kZ(t,e){return t.map(n=>n*e)}function jZ(t,e){return t.map(()=>e||l8).splice(0,t.length-1)}function $p({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=$X(r)?r.map(vE):vE(r),i={done:!1,value:e[0]},o=kZ(n&&n.length===e.length?n:CZ(e),t),a=TZ(o,e,{ease:Array.isArray(s)?s:jZ(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const IZ=t=>t!==null;function LS(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(IZ),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const RZ={decay:Pw,inertia:Pw,tween:$p,keyframes:$p,spring:hy};function _8(t){typeof t.type=="string"&&(t.type=RZ[t.type])}class DS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const LZ=t=>t/100;class MS extends DS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==js.now()&&this.tick(js.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_8(e);const{type:n=$p,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||$p;l!==$p&&typeof a[0]!="number"&&(this.mixKeyframes=ag(LZ,x8(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=RS(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:f,type:b,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let A=this.currentTime,R=r;if(h){const E=Math.min(this.currentTime,s)/a;let C=Math.floor(E),M=E%1;!M&&E>=1&&(M=1),M===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(p==="reverse"?(M=1-M,f&&(M-=f/a)):p==="mirror"&&(R=o)),A=Ia(0,1,M)*a}const F=_?{done:!1,value:d[0]}:R.next(A);i&&(F.value=i(F.value));let{done:$}=F;!_&&l!==null&&($=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return I&&b!==Pw&&(F.value=LS(d,this.options,w,this.speed)),x&&x(F.value),I&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return Zi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zi(e)}get time(){return Zi(this.currentTime)}set time(e){var n;e=_a(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(js.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zi(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=yZ,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(js.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function DZ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ku=t=>t*180/Math.PI,Cw=t=>{const e=ku(Math.atan2(t[1],t[0]));return kw(e)},MZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Cw,rotateZ:Cw,skewX:t=>ku(Math.atan(t[1])),skewY:t=>ku(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},kw=t=>(t=t%360,t<0&&(t+=360),t),EE=Cw,TE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),PE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),OZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TE,scaleY:PE,scale:t=>(TE(t)+PE(t))/2,rotateX:t=>kw(ku(Math.atan2(t[6],t[5]))),rotateY:t=>kw(ku(Math.atan2(-t[2],t[0]))),rotateZ:EE,rotate:EE,skewX:t=>ku(Math.atan(t[4])),skewY:t=>ku(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function jw(t){return t.includes("scale")?1:0}function Iw(t,e){if(!t||t==="none")return jw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=OZ,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=MZ,s=a}if(!s)return jw(e);const i=r[e],o=s[1].split(",").map(VZ);return typeof i=="function"?i(o):o[i]}const FZ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Iw(n,e)};function VZ(t){return parseFloat(t.trim())}const Nf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Af=new Set(Nf),CE=t=>t===Sf||t===Ze,BZ=new Set(["x","y","z"]),UZ=Nf.filter(t=>!BZ.has(t));function zZ(t){const e=[];return UZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const mc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Iw(e,"x"),y:(t,{transform:e})=>Iw(e,"y")};mc.translateX=mc.x;mc.translateY=mc.y;const $u=new Set;let Rw=!1,Lw=!1,Dw=!1;function S8(){if(Lw){const t=Array.from($u).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=zZ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lw=!1,Rw=!1,$u.forEach(t=>t.complete(Dw)),$u.clear()}function N8(){$u.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Lw=!0)})}function $Z(){Dw=!0,N8(),S8(),Dw=!1}class OS{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?($u.add(this),Rw||(Rw=!0,zn.read(N8),zn.resolveKeyframes(S8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}DZ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$u.delete(this)}cancel(){this.state==="scheduled"&&($u.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qZ=t=>t.startsWith("--");function WZ(t,e,n){qZ(e)?t.style.setProperty(e,n):t.style[e]=n}const HZ=AS(()=>window.ScrollTimeline!==void 0),GZ={};function KZ(t,e){const n=AS(t);return()=>GZ[e]??n()}const A8=KZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vp([0,.65,.55,1]),circOut:vp([.55,0,1,.45]),backIn:vp([.31,.01,.66,-.59]),backOut:vp([.33,1.53,.69,.99])};function E8(t,e){if(t)return typeof t=="function"?A8()?b8(t,e):"ease-out":c8(t)?vp(t):Array.isArray(t)?t.map(n=>E8(n,e)||kE.easeOut):kE[t]}function YZ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=E8(a,s);Array.isArray(h)&&(d.easing=h);const p={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function T8(t){return typeof t=="function"&&"applyToOptions"in t}function QZ({type:t,...e}){return T8(t)&&A8()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class XZ extends DS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Jh(typeof e.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=QZ(e);this.animation=YZ(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=LS(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):WZ(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Zi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zi(e)}get time(){return Zi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=_a(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&HZ()?(this.animation.timeline=e,to):n(this)}}const P8={anticipate:i8,backInOut:s8,circInOut:a8};function ZZ(t){return t in P8}function JZ(t){typeof t.ease=="string"&&ZZ(t.ease)&&(t.ease=P8[t.ease])}const Xx=10;class eJ extends XZ{constructor(e){JZ(e),_8(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new MS({...o,autoplay:!1}),l=Math.max(Xx,js.now()-this.startTime),c=Ia(0,Xx,l-Xx);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const jE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Kc.test(t)||t==="0")&&!t.startsWith("url("));function tJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function nJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=jE(s,e),a=jE(i,e);return _v(o===a,`You are trying to animate ${e} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:tJ(t)||(n==="spring"||T8(n))&&r}function Mw(t){t.duration=0,t.type="keyframes"}const rJ=new Set(["opacity","clipPath","filter","transform"]),sJ=AS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iJ(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return sJ()&&n&&rJ.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const oJ=40;class aJ extends DS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var b;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=js.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},f=(d==null?void 0:d.KeyframeResolver)||OS;this.keyframeResolver=new f(a,(x,w,v)=>this.onKeyframesResolved(x,w,p,!v),l,c,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,s){var w,v;this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=js.now(),nJ(e,i,o,a)||((xl.instantAnimations||!l)&&(d==null||d(LS(e,r,n))),e[0]=e[e.length-1],Mw(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>oJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},f=!c&&iJ(p),b=(v=(w=p.motionValue)==null?void 0:w.owner)==null?void 0:v.current,x=f?new eJ({...p,element:b}):new MS(p);x.finished.then(()=>{this.notifyFinished()}).catch(to),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),$Z()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function C8(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}const lJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cJ(t){const e=lJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}const uJ=4;function k8(t,e,n=1){Jh(n<=uJ,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=cJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return QL(o)?parseFloat(o):o}return CS(s)?k8(s,e,n+1):s}const dJ={type:"spring",stiffness:500,damping:25,restSpeed:10},hJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fJ={type:"keyframes",duration:.8},pJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mJ=(t,{keyframes:e})=>e.length>2?fJ:Af.has(t)?t.startsWith("scale")?hJ(e[1]):dJ:pJ,gJ=t=>t!==null;function yJ(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(gJ),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}function FS(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function vJ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const VS=(t,e,n,r={},s,i)=>o=>{const a=FS(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-_a(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};vJ(a)||Object.assign(d,mJ(t,d)),d.duration&&(d.duration=_a(d.duration)),d.repeatDelay&&(d.repeatDelay=_a(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Mw(d),d.delay===0&&(h=!0)),(xl.instantAnimations||xl.skipAnimations)&&(h=!0,Mw(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const p=yJ(d.keyframes,a);if(p!==void 0){zn.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new MS(d):new aJ(d)};function IE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function BS(t,e,n,r){if(typeof e=="function"){const[s,i]=IE(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=IE(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function _h(t,e,n){const r=t.getProps();return BS(r,e,n!==void 0?n:r.custom,t)}const j8=new Set(["width","height","top","left","right","bottom",...Nf]),RE=30,xJ=t=>!isNaN(parseFloat(t));class bJ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=js.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=js.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ES);const r=this.events[e].add(n);return e==="change"?()=>{r(),zn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=js.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>RE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,RE);return JL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ef(t,e){return new bJ(t,e)}const Ow=t=>Array.isArray(t);function wJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ef(n))}function _J(t){return Ow(t)?t[t.length-1]||0:t}function SJ(t,e){const n=_h(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=_J(i[o]);wJ(t,o,a)}}const ms=t=>!!(t&&t.getVelocity);function NJ(t){return!!(ms(t)&&t.add)}function Fw(t,e){const n=t.getValue("willChange");if(NJ(n))return n.add(e);if(!n&&xl.WillChange){const r=new xl.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function US(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const AJ="framerAppearId",I8="data-"+US(AJ);function R8(t){return t.props[I8]}function EJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function L8(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;const l=i==null?void 0:i.reduceMotion;r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in a){const p=t.getValue(h,t.latestValues[h]??null),f=a[h];if(f===void 0||d&&EJ(d,h))continue;const b={delay:n,...FS(i||{},h)},x=p.get();if(x!==void 0&&!p.isAnimating&&!Array.isArray(f)&&f===x&&!b.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const A=R8(t);if(A){const R=window.MotionHandoffAnimation(A,h,zn);R!==null&&(b.startTime=R,w=!0)}}Fw(t,h);const v=l??t.shouldReduceMotion;p.start(VS(h,p,f,v&&j8.has(h)?{type:!1}:b,t,w));const _=p.animation;_&&c.push(_)}return o&&Promise.all(c).then(()=>{zn.update(()=>{o&&SJ(t,o)})}),c}function Vw(t,e,n={}){var l;const r=_h(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(L8(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return TJ(t,e,c,d,h,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function TJ(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Vw(l,e,{...o,delay:n+(typeof r=="function"?0:r)+C8(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function PJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Vw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Vw(t,e,n);else{const s=typeof e=="function"?_h(t,e,n.custom):e;r=Promise.all(L8(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const CJ={test:t=>t==="auto",parse:t=>t},D8=t=>e=>e.test(t),M8=[Sf,Ze,Sa,Zl,tZ,eZ,CJ],LE=t=>M8.find(D8(t));function kJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ZL(t):!0}const jJ=new Set(["brightness","contrast","saturate","opacity"]);function IJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(kS)||[];if(!r)return t;const s=n.replace(r,"");let i=jJ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const RJ=/\b([a-z-]*)\(.*?\)/gu,Bw={...Kc,getAnimatableNone:t=>{const e=t.match(RJ);return e?e.map(IJ).join(" "):t}},DE={...Sf,transform:Math.round},LJ={rotate:Zl,rotateX:Zl,rotateY:Zl,rotateZ:Zl,scale:m0,scaleX:m0,scaleY:m0,scaleZ:m0,skew:Zl,skewX:Zl,skewY:Zl,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:km,originX:wE,originY:wE,originZ:Ze},zS={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,inset:Ze,insetBlock:Ze,insetBlockStart:Ze,insetBlockEnd:Ze,insetInline:Ze,insetInlineStart:Ze,insetInlineEnd:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,paddingBlock:Ze,paddingBlockStart:Ze,paddingBlockEnd:Ze,paddingInline:Ze,paddingInlineStart:Ze,paddingInlineEnd:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,marginBlock:Ze,marginBlockStart:Ze,marginBlockEnd:Ze,marginInline:Ze,marginInlineStart:Ze,marginInlineEnd:Ze,fontSize:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...LJ,zIndex:DE,fillOpacity:km,strokeOpacity:km,numOctaves:DE},DJ={...zS,color:yr,backgroundColor:yr,outlineColor:yr,fill:yr,stroke:yr,borderColor:yr,borderTopColor:yr,borderRightColor:yr,borderBottomColor:yr,borderLeftColor:yr,filter:Bw,WebkitFilter:Bw},O8=t=>DJ[t];function F8(t,e){let n=O8(t);return n!==Bw&&(n=Kc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MJ=new Set(["auto","none","0"]);function OJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!MJ.has(i)&&jm(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=F8(n,s)}class FJ extends OS{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),CS(h))){const p=k8(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!j8.has(r)||e.length!==2)return;const[s,i]=e,o=LE(s),a=LE(i),l=bE(s),c=bE(i);if(l!==c&&mc[r]){this.needsMeasurement=!0;return}if(o!==a)if(CE(o)&&CE(a))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else mc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||kJ(e[s]))&&r.push(s);r.length&&OJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=mc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function VJ(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(r=>r!=null)}const V8=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Uw(t){return XL(t)&&"offsetHeight"in t}const{schedule:$S,cancel:Zle}=u8(queueMicrotask,!1),xo={x:!1,y:!1};function B8(){return xo.x||xo.y}function BJ(t){return t==="x"||t==="y"?xo[t]?null:(xo[t]=!0,()=>{xo[t]=!1}):xo.x||xo.y?null:(xo.x=xo.y=!0,()=>{xo.x=xo.y=!1})}function U8(t,e){const n=VJ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function ME(t){return!(t.pointerType==="touch"||B8())}function UJ(t,e,n={}){const[r,s,i]=U8(t,n),o=a=>{if(!ME(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{ME(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const z8=(t,e)=>e?t===e?!0:z8(t,e.parentElement):!1,qS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $8(t){return zJ.has(t.tagName)||t.isContentEditable===!0}const e1=new WeakSet;function OE(t){return e=>{e.key==="Enter"&&t(e)}}function Zx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $J=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=OE(()=>{if(e1.has(n))return;Zx(n,"down");const s=OE(()=>{Zx(n,"up")}),i=()=>Zx(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function FE(t){return qS(t)&&!B8()}function qJ(t,e,n={}){const[r,s,i]=U8(t,n),o=a=>{const l=a.currentTarget;if(!FE(a))return;e1.add(l);const c=e(l,a),d=(f,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),e1.has(l)&&e1.delete(l),FE(f)&&typeof c=="function"&&c(f,{success:b})},h=f=>{d(f,l===window||l===document||n.useGlobalTarget||z8(l,f.target))},p=f=>{d(f,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Uw(a)&&(a.addEventListener("focus",c=>$J(c,s)),!$8(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function q8(t){return XL(t)&&"ownerSVGElement"in t}function WJ(t){return q8(t)&&t.tagName==="svg"}const HJ=[...M8,yr,Kc],GJ=t=>HJ.find(D8(t)),VE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ih=()=>({x:VE(),y:VE()}),BE=()=>({min:0,max:0}),Pr=()=>({x:BE(),y:BE()}),zw={current:null},W8={current:!1},KJ=typeof window<"u";function YJ(){if(W8.current=!0,!!KJ)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zw.current=t.matches;t.addEventListener("change",e),e()}else zw.current=!1}const QJ=new WeakMap;function Sv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Im(t){return typeof t=="string"||Array.isArray(t)}const WS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],HS=["initial",...WS];function Nv(t){return Sv(t.animate)||HS.some(e=>Im(t[e]))}function H8(t){return!!(Nv(t)||t.variants)}function XJ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(ms(s))t.addValue(r,s);else if(ms(i))t.addValue(r,ef(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ef(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const UE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let fy={};function G8(t){fy=t}function ZJ(){return fy}class JJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=OS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=js.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,zn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Nv(n),this.isVariantNode=H8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const f=h[p];l[p]!==void 0&&ms(f)&&f.set(l[p])}}mount(e){var n;this.current=e,QJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(W8.current||YJ(),this.shouldReduceMotion=zw.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Gc(this.notifyUpdate),Gc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Af.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&zn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fy){const n=fy[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<UE.length;r++){const s=UE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=XJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ef(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(QL(r)||ZL(r))?r=parseFloat(r):!GJ(r)&&Kc.test(n)&&(r=F8(e,n)),this.setBaseTarget(e,ms(r)?r.get():r)),ms(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=BS(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ms(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ES),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){$S.render(this.render)}}class K8 extends JJ{constructor(){super(...arguments),this.KeyframeResolver=FJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ms(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Jc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Y8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function eee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Jx(t){return t===void 0||t===1}function $w({scale:t,scaleX:e,scaleY:n}){return!Jx(t)||!Jx(e)||!Jx(n)}function bu(t){return $w(t)||Q8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Q8(t){return zE(t.x)||zE(t.y)}function zE(t){return t&&t!=="0%"}function py(t,e,n){const r=t-n,s=e*r;return n+s}function $E(t,e,n,r,s){return s!==void 0&&(t=py(t,s,r)),py(t,n,r)+e}function qw(t,e=0,n=1,r,s){t.min=$E(t.min,e,n,r,s),t.max=$E(t.max,e,n,r,s)}function X8(t,{x:e,y:n}){qw(t.x,e.translate,e.scale,e.originPoint),qw(t.y,n.translate,n.scale,n.originPoint)}const qE=.999999999999,WE=1.0000000000001;function nee(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ah(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,X8(t,o)),r&&bu(i.latestValues)&&ah(t,i.latestValues))}e.x<WE&&e.x>qE&&(e.x=1),e.y<WE&&e.y>qE&&(e.y=1)}function oh(t,e){t.min=t.min+e,t.max=t.max+e}function HE(t,e,n,r,s=.5){const i=Qn(t.min,t.max,s);qw(t,e,n,i,r)}function ah(t,e){HE(t.x,e.x,e.scaleX,e.scale,e.originX),HE(t.y,e.y,e.scaleY,e.scale,e.originY)}function Z8(t,e){return Y8(tee(t.getBoundingClientRect(),e))}function ree(t,e,n){const r=Z8(t,n),{scroll:s}=e;return s&&(oh(r.x,s.offset.x),oh(r.y,s.offset.y)),r}const see={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iee=Nf.length;function oee(t,e,n){let r="",s=!0;for(let i=0;i<iee;i++){const o=Nf[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const c=parseFloat(a);l=o.startsWith("scale")?c===1:c===0}if(!l||n){const c=V8(a,zS[o]);if(!l){s=!1;const d=see[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function GS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Af.has(l)){o=!0;continue}else if(h8(l)){s[l]=c;continue}else{const d=V8(c,zS[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=oee(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}function J8(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function GE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const op={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ze.test(t))t=parseFloat(t);else return t;const n=GE(t,e.target.x),r=GE(t,e.target.y);return`${n}% ${r}%`}},aee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Kc.parse(t);if(s.length>5)return r;const i=Kc.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Qn(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},Ww={borderRadius:{...op,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:op,borderTopRightRadius:op,borderBottomLeftRadius:op,borderBottomRightRadius:op,boxShadow:aee};function eD(t,{layout:e,layoutId:n}){return Af.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ww[t]||t==="opacity")}function KS(t,e,n){var o;const r=t.style,s=e==null?void 0:e.style,i={};if(!r)return i;for(const a in r)(ms(r[a])||s&&ms(s[a])||eD(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function lee(t){return window.getComputedStyle(t)}class cee extends K8{constructor(){super(...arguments),this.type="html",this.renderInstance=J8}readValueFromInstance(e,n){var r;if(Af.has(n))return(r=this.projection)!=null&&r.isProjecting?jw(n):FZ(e,n);{const s=lee(e),i=(h8(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Z8(e,n)}build(e,n,r){GS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return KS(e,n,r)}}const uee={offset:"stroke-dashoffset",array:"stroke-dasharray"},dee={offset:"strokeDashoffset",array:"strokeDasharray"};function hee(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?uee:dee;t[i.offset]=`${-r}`,t[i.array]=`${e} ${n}`}const fee=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function tD(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(GS(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox);for(const f of fee)h[f]!==void 0&&(p[f]=h[f],delete h[f]);e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&hee(h,s,i,o,!1)}const nD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),rD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pee(t,e,n,r){J8(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(nD.has(s)?s:US(s),e.attrs[s])}function sD(t,e,n){const r=KS(t,e,n);for(const s in t)if(ms(t[s])||ms(e[s])){const i=Nf.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}class mee extends K8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Af.has(n)){const r=O8(n);return r&&r.default||0}return n=nD.has(n)?n:US(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return sD(e,n,r)}build(e,n,r){tD(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){pee(e,n,r,s)}mount(e){this.isSVGTag=rD(e.tagName),super.mount(e)}}const gee=HS.length;function iD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?iD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<gee;n++){const r=HS[n],s=t.props[r];(Im(s)||s===!1)&&(e[r]=s)}return e}function oD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const yee=[...WS].reverse(),vee=WS.length;function xee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>PJ(t,n,r)))}function bee(t){let e=xee(t),n=KE(),r=!0;const s=l=>(c,d)=>{var p;const h=_h(t,d,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:f,transitionEnd:b,...x}=h;c={...c,...x,...b}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=iD(t.parent)||{},h=[],p=new Set;let f={},b=1/0;for(let w=0;w<vee;w++){const v=yee[w],_=n[v],A=c[v]!==void 0?c[v]:d[v],R=Im(A),F=v===l?_.isActive:null;F===!1&&(b=w);let $=A===d[v]&&A!==c[v]&&R;if($&&r&&t.manuallyAnimateOnMount&&($=!1),_.protectedKeys={...f},!_.isActive&&F===null||!A&&!_.prevProp||Sv(A)||typeof A=="boolean")continue;const I=wee(_.prevProp,A);let E=I||v===l&&_.isActive&&!$&&R||w>b&&R,C=!1;const M=Array.isArray(A)?A:[A];let N=M.reduce(s(v),{});F===!1&&(N={});const{prevResolvedValues:T={}}=_,k={...T,...N},z=ie=>{E=!0,p.has(ie)&&(C=!0,p.delete(ie)),_.needsAnimating[ie]=!0;const Y=t.getValue(ie);Y&&(Y.liveStyle=!1)};for(const ie in k){const Y=N[ie],ee=T[ie];if(f.hasOwnProperty(ie))continue;let se=!1;Ow(Y)&&Ow(ee)?se=!oD(Y,ee):se=Y!==ee,se?Y!=null?z(ie):p.add(ie):Y!==void 0&&p.has(ie)?z(ie):_.protectedKeys[ie]=!0}_.prevProp=A,_.prevResolvedValues=N,_.isActive&&(f={...f,...N}),r&&t.blockInitialAnimation&&(E=!1);const K=$&&I;E&&(!K||C)&&h.push(...M.map(ie=>{const Y={type:v};if(typeof ie=="string"&&r&&!K&&t.manuallyAnimateOnMount&&t.parent){const{parent:ee}=t,se=_h(ee,ie);if(ee.enteringChildren&&se){const{delayChildren:ce}=se.transition||{};Y.delay=C8(ee.enteringChildren,t,ce)}}return{animation:ie,options:Y}}))}if(p.size){const w={};if(typeof c.initial!="boolean"){const v=_h(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(w.transition=v.transition)}p.forEach(v=>{const _=t.getBaseTarget(v),A=t.getValue(v);A&&(A.liveStyle=!0),w[v]=_??null}),h.push({animation:w})}let x=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(p=>{var f;return(f=p.animationState)==null?void 0:f.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=KE()}}}function wee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oD(e,t):!1}function pu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KE(){return{animate:pu(!0),whileInView:pu(),whileHover:pu(),whileTap:pu(),whileDrag:pu(),whileFocus:pu(),exit:pu()}}function YE(t,e){t.min=e.min,t.max=e.max}function yo(t,e){YE(t.x,e.x),YE(t.y,e.y)}function QE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const aD=1e-4,_ee=1-aD,See=1+aD,lD=.01,Nee=0-lD,Aee=0+lD;function Is(t){return t.max-t.min}function Eee(t,e,n){return Math.abs(t-e)<=n}function XE(t,e,n,r=.5){t.origin=r,t.originPoint=Qn(e.min,e.max,t.origin),t.scale=Is(n)/Is(e),t.translate=Qn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_ee&&t.scale<=See||isNaN(t.scale))&&(t.scale=1),(t.translate>=Nee&&t.translate<=Aee||isNaN(t.translate))&&(t.translate=0)}function qp(t,e,n,r){XE(t.x,e.x,n.x,r?r.originX:void 0),XE(t.y,e.y,n.y,r?r.originY:void 0)}function ZE(t,e,n){t.min=n.min+e.min,t.max=t.min+Is(e)}function Tee(t,e,n){ZE(t.x,e.x,n.x),ZE(t.y,e.y,n.y)}function JE(t,e,n){t.min=e.min-n.min,t.max=t.min+Is(e)}function my(t,e,n){JE(t.x,e.x,n.x),JE(t.y,e.y,n.y)}function eT(t,e,n,r,s){return t-=e,t=py(t,1/n,r),s!==void 0&&(t=py(t,1/s,r)),t}function Pee(t,e=0,n=1,r=.5,s,i=t,o=t){if(Sa.test(e)&&(e=parseFloat(e),e=Qn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qn(i.min,i.max,r);t===i&&(a-=e),t.min=eT(t.min,e,n,a,s),t.max=eT(t.max,e,n,a,s)}function tT(t,e,[n,r,s],i,o){Pee(t,e[n],e[r],e[s],e.scale,i,o)}const Cee=["x","scaleX","originX"],kee=["y","scaleY","originY"];function nT(t,e,n,r){tT(t.x,e,Cee,n?n.x:void 0,r?r.x:void 0),tT(t.y,e,kee,n?n.y:void 0,r?r.y:void 0)}function rT(t){return t.translate===0&&t.scale===1}function cD(t){return rT(t.x)&&rT(t.y)}function sT(t,e){return t.min===e.min&&t.max===e.max}function jee(t,e){return sT(t.x,e.x)&&sT(t.y,e.y)}function iT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function uD(t,e){return iT(t.x,e.x)&&iT(t.y,e.y)}function oT(t){return Is(t.x)/Is(t.y)}function aT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function $i(t){return[t("x"),t("y")]}function Iee(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:f,skewY:b}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),f&&(r+=`skewX(${f}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const dD=["TopLeft","TopRight","BottomLeft","BottomRight"],Ree=dD.length,lT=t=>typeof t=="string"?parseFloat(t):t,cT=t=>typeof t=="number"||Ze.test(t);function Lee(t,e,n,r,s,i){s?(t.opacity=Qn(0,n.opacity??1,Dee(r)),t.opacityExit=Qn(e.opacity??1,0,Mee(r))):i&&(t.opacity=Qn(e.opacity??1,n.opacity??1,r));for(let o=0;o<Ree;o++){const a=`border${dD[o]}Radius`;let l=uT(e,a),c=uT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||cT(l)===cT(c)?(t[a]=Math.max(Qn(lT(l),lT(c),r),0),(Sa.test(c)||Sa.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Qn(e.rotate||0,n.rotate||0,r))}function uT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Dee=hD(0,.5,o8),Mee=hD(.5,.95,to);function hD(t,e,n){return r=>r<t?0:r>e?1:n(Cm(t,e,r))}function Oee(t,e,n){const r=ms(t)?t:ef(t);return r.start(VS("",r,e,n)),r.animation}function Rm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Fee=(t,e)=>t.depth-e.depth;class Vee{constructor(){this.children=[],this.isDirty=!1}add(e){SS(this.children,e),this.isDirty=!0}remove(e){NS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Fee),this.isDirty=!1,this.children.forEach(e)}}function Bee(t,e){const n=js.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Gc(r),t(i-e))};return zn.setup(r,!0),()=>Gc(r)}function t1(t){return ms(t)?t.get():t}class Uee{constructor(){this.members=[]}add(e){SS(this.members,e),e.scheduleRender()}remove(e){if(NS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const s=r.options.layoutDependency,i=e.options.layoutDependency;s!==void 0&&i!==void 0&&s===i||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const n1={hasAnimatedSinceResize:!0,hasEverUpdated:!1},e2=["","X","Y","Z"],zee=1e3;let $ee=0;function t2(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function fD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=R8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",zn,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&fD(r)}function pD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=$ee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Hee),this.nodes.forEach(Qee),this.nodes.forEach(Xee),this.nodes.forEach(Gee)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vee)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ES),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=q8(o)&&!WJ(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const p=()=>this.root.updateBlockedByResize=!1;zn.read(()=>{h=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,d&&d(),d=Bee(p,250),n1.hasAnimatedSinceResize&&(n1.hasAnimatedSinceResize=!1,this.nodes.forEach(fT)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||nte,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=c.getProps(),v=!this.targetLayout||!uD(this.targetLayout,f),_=!h&&p;if(this.options.layoutRoot||this.resumeFrom||_||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...FS(b,"layout"),onPlay:x,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(d,_)}else h||fT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Yee),this.nodes.forEach(qee),this.nodes.forEach(Wee)):this.nodes.forEach(hT),this.clearAllSnapshots();const a=js.now();Gr.delta=Ia(0,1e3/60,a-Gr.timestamp),Gr.timestamp=a,Gr.isProcessing=!0,Hx.update.process(Gr),Hx.preRender.process(Gr),Hx.render.process(Gr),Gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$S.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kee),this.sharedNodes.forEach(Jee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Is(this.snapshot.measuredBox.x)&&!Is(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Pr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!cD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||bu(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),rte(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Pr();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(ste))){const{scroll:d}=this.root;d&&(oh(a.x,d.offset.x),oh(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=Pr();if(yo(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&yo(a,o),oh(a.x,h.offset.x),oh(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Pr();yo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ah(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),bu(d.latestValues)&&ah(l,d.latestValues)}return bu(this.latestValues)&&ah(l,this.latestValues),l}removeTransform(o){const a=Pr();yo(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!bu(c.latestValues))continue;$w(c.latestValues)&&c.updateSnapshot();const d=Pr(),h=c.measurePageBox();yo(d,h),nT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return bu(this.latestValues)&&nT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!this.layout||!(d||h))return;this.resolvedRelativeTargetAt=Gr.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pr(),this.targetWithTransforms=Pr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yo(this.target,this.layout.layoutBox),X8(this.target,this.targetDelta)):yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$w(this.parent.latestValues)||Q8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pr(),this.relativeTargetOrigin=Pr(),my(this.relativeTargetOrigin,a,l),yo(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Gr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;yo(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;nee(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Pr());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QE(this.prevProjectionDelta.x,this.projectionDelta.x),QE(this.prevProjectionDelta.y,this.projectionDelta.y)),qp(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!aT(this.projectionDelta.x,this.prevProjectionDelta.x)||!aT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ih(),this.projectionDelta=ih(),this.projectionDeltaWithTransform=ih()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=ih();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Pr(),f=l?l.source:void 0,b=this.layout?this.layout.source:void 0,x=f!==b,w=this.getStack(),v=!w||w.members.length<=1,_=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(tte));this.animationProgress=0;let A;this.mixTargetDelta=R=>{const F=R/1e3;pT(h.x,o.x,F),pT(h.y,o.y,F),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(my(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ete(this.relativeTarget,this.relativeTargetOrigin,p,F),A&&jee(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Pr()),yo(A,this.relativeTarget)),x&&(this.animationValues=d,Lee(d,c,this.latestValues,F,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Gc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zn.update(()=>{n1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ef(0)),this.currentAnimation=Oee(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&mD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Pr();const h=Is(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Is(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}yo(a,l),ah(a,d),qp(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Uee),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&t2("z",o,c,this.animationValues);for(let d=0;d<e2.length;d++)t2(`rotate${e2[d]}`,o,c,this.animationValues),t2(`skew${e2[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=t1(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=t1(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!bu(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Iee(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:p,y:f}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in Ww){if(d[b]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:v}=Ww[b],_=h==="none"?d[b]:x(d[b],c);if(w){const A=w.length;for(let R=0;R<A;R++)o[w[R]]=_}else v?this.options.visualElement.renderState.vars[b]=_:o[b]=_}this.options.layoutId&&(o.pointerEvents=c===this?t1(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(dT),this.root.sharedNodes.clear()}}}function qee(t){t.updateLayout()}function Wee(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?$i(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],f=Is(p);p.min=r[h].min,p.max=p.min+f}):mD(i,e.layoutBox,r)&&$i(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],f=Is(r[h]);p.max=p.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const a=ih();qp(a,r,e.layoutBox);const l=ih();o?qp(l,t.applyTransform(s,!0),e.measuredBox):qp(l,r,e.layoutBox);const c=!cD(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:f}=h;if(p&&f){const b=Pr();my(b,e.layoutBox,p.layoutBox);const x=Pr();my(x,r,f.layoutBox),uD(b,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Hee(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Gee(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Kee(t){t.clearSnapshot()}function dT(t){t.clearMeasurements()}function hT(t){t.isLayoutDirty=!1}function Yee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Qee(t){t.resolveTargetDelta()}function Xee(t){t.calcProjection()}function Zee(t){t.resetSkewAndRotation()}function Jee(t){t.removeLeadSnapshot()}function pT(t,e,n){t.translate=Qn(e.translate,0,n),t.scale=Qn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mT(t,e,n,r){t.min=Qn(e.min,n.min,r),t.max=Qn(e.max,n.max,r)}function ete(t,e,n,r){mT(t.x,e.x,n.x,r),mT(t.y,e.y,n.y,r)}function tte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nte={duration:.45,ease:[.4,0,.1,1]},gT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yT=gT("applewebkit/")&&!gT("chrome/")?Math.round:to;function vT(t){t.min=yT(t.min),t.max=yT(t.max)}function rte(t){vT(t.x),vT(t.y)}function mD(t,e,n){return t==="position"||t==="preserve-aspect"&&!Eee(oT(e),oT(n),.2)}function ste(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ite=pD({attachResizeListener:(t,e)=>Rm(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),n2={current:void 0},gD=pD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!n2.current){const t=new ite({});t.mount(window),t.setOptions({layoutScroll:!0}),n2.current=t}return n2.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),YS=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function xT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ote(...t){return e=>{let n=!1;const r=t.map(s=>{const i=xT(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():xT(t[s],null)}}}}function ate(...t){return L.useCallback(ote(...t),t)}class lte extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Uw(r)&&r.offsetWidth||0,i=Uw(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left,o.bottom=i-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function cte({children:t,isPresent:e,anchorX:n,anchorY:r,root:s}){var h;const i=L.useId(),o=L.useRef(null),a=L.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=L.useContext(YS),c=((h=t.props)==null?void 0:h.ref)??(t==null?void 0:t.ref),d=ate(o,c);return L.useInsertionEffect(()=>{const{width:p,height:f,top:b,left:x,right:w,bottom:v}=a.current;if(e||!o.current||!p||!f)return;const _=n==="left"?`left: ${x}`:`right: ${w}`,A=r==="bottom"?`bottom: ${v}`:`top: ${b}`;o.current.dataset.motionPopId=i;const R=document.createElement("style");l&&(R.nonce=l);const F=s??document.head;return F.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${f}px !important;
            ${_}px !important;
            ${A}px !important;
          }
        `),()=>{F.contains(R)&&F.removeChild(R)}},[e]),u.jsx(lte,{isPresent:e,childRef:o,sizeRef:a,children:L.cloneElement(t,{ref:d})})}const ute=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,anchorY:l,root:c})=>{const d=_S(dte),h=L.useId();let p=!0,f=L.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:n,custom:s,onExitComplete:b=>{d.set(b,!0);for(const x of d.values())if(!x)return;r&&r()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[n,d,r]);return i&&p&&(f={...f}),L.useMemo(()=>{d.forEach((b,x)=>d.set(x,!1))},[n]),L.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(t=u.jsx(cte,{isPresent:n,anchorX:a,anchorY:l,root:c,children:t})),u.jsx(wv.Provider,{value:f,children:t})};function dte(){return new Map}function yD(t=!0){const e=L.useContext(wv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=L.useId();L.useEffect(()=>{if(t)return s(i)},[t]);const o=L.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const g0=t=>t.key||"";function bT(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const Ei=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",anchorY:l="top",root:c})=>{const[d,h]=yD(o),p=L.useMemo(()=>bT(t),[t]),f=o&&!d?[]:p.map(g0),b=L.useRef(!0),x=L.useRef(p),w=_S(()=>new Map),v=L.useRef(new Set),[_,A]=L.useState(p),[R,F]=L.useState(p);YL(()=>{b.current=!1,x.current=p;for(let E=0;E<R.length;E++){const C=g0(R[E]);f.includes(C)?(w.delete(C),v.current.delete(C)):w.get(C)!==!0&&w.set(C,!1)}},[R,f.length,f.join("-")]);const $=[];if(p!==_){let E=[...p];for(let C=0;C<R.length;C++){const M=R[C],N=g0(M);f.includes(N)||(E.splice(C,0,M),$.push(M))}return i==="wait"&&$.length&&(E=$),F(bT(E)),A(p),null}const{forceRender:I}=L.useContext(wS);return u.jsx(u.Fragment,{children:R.map(E=>{const C=g0(E),M=o&&!d?!1:p===R||f.includes(C),N=()=>{if(v.current.has(C))return;if(v.current.add(C),w.has(C))w.set(C,!0);else return;let T=!0;w.forEach(k=>{k||(T=!1)}),T&&(I==null||I(),F(x.current),o&&(h==null||h()),r&&r())};return u.jsx(ute,{isPresent:M,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:M?void 0:N,anchorX:a,anchorY:l,children:E},C)})})},vD=L.createContext({strict:!1}),wT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let _T=!1;function hte(){if(_T)return;const t={};for(const e in wT)t[e]={isEnabled:n=>wT[e].some(r=>!!n[r])};G8(t),_T=!0}function xD(){return hte(),ZJ()}function fte(t){const e=xD();for(const n in t)e[n]={...e[n],...t[n]};G8(e)}const pte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pte.has(t)}let bD=t=>!gy(t);function mte(t){typeof t=="function"&&(bD=e=>e.startsWith("on")?!gy(e):t(e))}try{mte(require("@emotion/is-prop-valid").default)}catch{}function gte(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(bD(s)||n===!0&&gy(s)||!e&&!gy(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Av=L.createContext({});function yte(t,e){if(Nv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Im(n)?n:void 0,animate:Im(r)?r:void 0}}return t.inherit!==!1?e:{}}function vte(t){const{initial:e,animate:n}=yte(t,L.useContext(Av));return L.useMemo(()=>({initial:e,animate:n}),[ST(e),ST(n)])}function ST(t){return Array.isArray(t)?t.join(" "):t}const QS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wD(t,e,n){for(const r in e)!ms(e[r])&&!eD(r,n)&&(t[r]=e[r])}function xte({transformTemplate:t},e){return L.useMemo(()=>{const n=QS();return GS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bte(t,e){const n=t.style||{},r={};return wD(r,n,t),Object.assign(r,xte(t,e)),r}function wte(t,e){const n={},r=bte(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const _D=()=>({...QS(),attrs:{}});function _te(t,e,n,r){const s=L.useMemo(()=>{const i=_D();return tD(i,e,rD(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};wD(i,t.style,t),s.style={...i,...s.style}}return s}const Ste=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XS(t){return typeof t!="string"||t.includes("-")?!1:!!(Ste.indexOf(t)>-1||/[A-Z]/u.test(t))}function Nte(t,e,n,{latestValues:r},s,i=!1,o){const l=(o??XS(t)?_te:wte)(e,r,s,t),c=gte(e,typeof t=="string",i),d=t!==L.Fragment?{...c,...l,ref:n}:{},{children:h}=e,p=L.useMemo(()=>ms(h)?h.get():h,[h]);return L.createElement(t,{...d,children:p})}function Ate({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Ete(n,r,s,t),renderState:e()}}function Ete(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=t1(i[p]);let{initial:o,animate:a}=t;const l=Nv(t),c=H8(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Sv(h)){const p=Array.isArray(h)?h:[h];for(let f=0;f<p.length;f++){const b=BS(t,p[f]);if(b){const{transitionEnd:x,transition:w,...v}=b;for(const _ in v){let A=v[_];if(Array.isArray(A)){const R=d?A.length-1:0;A=A[R]}A!==null&&(s[_]=A)}for(const _ in x)s[_]=x[_]}}}return s}const SD=t=>(e,n)=>{const r=L.useContext(Av),s=L.useContext(wv),i=()=>Ate(t,e,r,s);return n?i():_S(i)},Tte=SD({scrapeMotionValuesFromProps:KS,createRenderState:QS}),Pte=SD({scrapeMotionValuesFromProps:sD,createRenderState:_D}),Cte=Symbol.for("motionComponentSymbol");function kte(t,e,n){const r=L.useRef(n);L.useInsertionEffect(()=>{r.current=n});const s=L.useRef(null);return L.useCallback(i=>{var a;i&&((a=t.onMount)==null||a.call(t,i)),e&&(i?e.mount(i):e.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[e])}const ND=L.createContext({});function xp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jte(t,e,n,r,s,i){var v,_;const{visualElement:o}=L.useContext(Av),a=L.useContext(vD),l=L.useContext(wv),c=L.useContext(YS).reducedMotion,d=L.useRef(null),h=L.useRef(!1);r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}),h.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const p=d.current,f=L.useContext(ND);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&Ite(d.current,n,s,f);const b=L.useRef(!1);L.useInsertionEffect(()=>{p&&b.current&&p.update(n,l)});const x=n[I8],w=L.useRef(!!x&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,x))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,x)));return YL(()=>{h.current=!0,p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),w.current&&p.animationState&&p.animationState.animateChanges())}),L.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,x)}),w.current=!1),p.enteringChildren=void 0)}),p}function Ite(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:AD(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&xp(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function AD(t){if(t)return t.options.allowProjection!==!1?t.projection:AD(t.parent)}function r2(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&fte(r);const i=n?n==="svg":XS(t),o=i?Pte:Tte;function a(c,d){let h;const p={...L.useContext(YS),...c,layoutId:Rte(c)},{isStatic:f}=p,b=vte(c),x=o(c,f);if(!f&&KL){Lte();const w=Dte(p);h=w.MeasureLayout,b.visualElement=jte(t,x,p,s,w.ProjectionNode,i)}return u.jsxs(Av.Provider,{value:b,children:[h&&b.visualElement?u.jsx(h,{visualElement:b.visualElement,...p}):null,Nte(t,c,kte(x,b.visualElement,d),x,f,e,i)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=L.forwardRef(a);return l[Cte]=t,l}function Rte({layoutId:t}){const e=L.useContext(wS).id;return e&&t!==void 0?e+"-"+t:t}function Lte(t,e){L.useContext(vD).strict}function Dte(t){const e=xD(),{drag:n,layout:r}=e;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Mte(t,e){if(typeof Proxy>"u")return r2;const n=new Map,r=(i,o)=>r2(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,r2(o,void 0,t,e)),n.get(o))})}const Ote=(t,e)=>e.isSVG??XS(t)?new mee(e):new cee(e,{allowProjection:t!==L.Fragment});class Fte extends Jc{constructor(e){super(e),e.animationState||(e.animationState=bee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Vte=0;class Bte extends Jc{constructor(){super(...arguments),this.id=Vte++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ute={animation:{Feature:Fte},exit:{Feature:Bte}};function ug(t){return{point:{x:t.pageX,y:t.pageY}}}const zte=t=>e=>qS(e)&&t(e,ug(e));function Wp(t,e,n,r){return Rm(t,e,zte(n),r)}const ED=({current:t})=>t?t.ownerDocument.defaultView:null,NT=(t,e)=>Math.abs(t-e);function $te(t,e){const n=NT(t.x,e.x),r=NT(t.y,e.y);return Math.sqrt(n**2+r**2)}const AT=new Set(["auto","scroll"]);class TD{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=f=>{this.handleScroll(f.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=i2(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,x=$te(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!x)return;const{point:w}=f,{timestamp:v}=Gr;this.history.push({...w,timestamp:v});const{onStart:_,onMove:A}=this.handlers;b||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,f)},this.handlePointerMove=(f,b)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=s2(b,this.transformPagePoint),zn.update(this.updatePoint,!0)},this.handlePointerUp=(f,b)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:v}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=i2(f.type==="pointercancel"?this.lastMoveEventInfo:s2(b,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,_),w&&w(f,_)},!qS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=ug(e),c=s2(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Gr;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,i2(c,this.history)),this.removeListeners=ag(Wp(this.contextWindow,"pointermove",this.handlePointerMove),Wp(this.contextWindow,"pointerup",this.handlePointerUp),Wp(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(AT.has(r.overflowX)||AT.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,s),zn.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Gc(this.updatePoint)}}function s2(t,e){return e?{point:e(t.point)}:t}function ET(t,e){return{x:t.x-e.x,y:t.y-e.y}}function i2({point:t},e){return{point:t,delta:ET(t,PD(e)),offset:ET(t,qte(e)),velocity:Wte(e,.1)}}function qte(t){return t[0]}function PD(t){return t[t.length-1]}function Wte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=PD(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>_a(e)));)n--;if(!r)return{x:0,y:0};const i=Zi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Hte(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qn(n,t,r.max):Math.min(t,n)),t}function TT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Gte(t,{top:e,left:n,bottom:r,right:s}){return{x:TT(t.x,n,s),y:TT(t.y,e,r)}}function PT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Kte(t,e){return{x:PT(t.x,e.x),y:PT(t.y,e.y)}}function Yte(t,e){let n=.5;const r=Is(t),s=Is(e);return s>r?n=Cm(e.min,e.max-r,t.min):r>s&&(n=Cm(t.min,t.max-s,e.min)),Ia(0,1,n)}function Qte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hw=.35;function Xte(t=Hw){return t===!1?t=0:t===!0&&(t=Hw),{x:CT(t,"left","right"),y:CT(t,"top","bottom")}}function CT(t,e,n){return{min:kT(t,e),max:kT(t,n)}}function kT(t,e){return typeof t=="number"?t:t[e]||0}const Zte=new WeakMap;class Jte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(ug(h).point)):this.pauseAnimation()},o=(h,p)=>{this.stopAnimation();const{drag:f,dragPropagation:b,onDragStart:x}=this.getProps();if(f&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=BJ(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$i(v=>{let _=this.getAxisMotionValue(v).get()||0;if(Sa.test(_)){const{projection:A}=this.visualElement;if(A&&A.layout){const R=A.layout.layoutBox[v];R&&(_=Is(R)*(parseFloat(_)/100))}}this.originPoint[v]=_}),x&&zn.postRender(()=>x(h,p)),Fw(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:f,dragDirectionLock:b,onDirectionLock:x,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=p;if(b&&this.currentDirection===null){this.currentDirection=ene(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,v),this.updateAxis("y",p.point,v),this.visualElement.render(),w&&w(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>$i(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new TD(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:ED(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&zn.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!y0(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Hte(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&xp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Gte(r.layoutBox,e):this.constraints=!1,this.elastic=Xte(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&$i(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Qte(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xp(e))return!1;const r=e.current;Jh(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=ree(r,s.root,this.visualElement.getTransformPagePoint());let o=Kte(s.layout.layoutBox,i);if(n){const a=n(eee(o));this.hasMutatedConstraints=!!a,a&&(o=Y8(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=$i(d=>{if(!y0(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=s?200:1e6,f=s?40:1e7,b={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Fw(this.visualElement,e),r.start(VS(e,r,0,n,this.visualElement,!1))}stopAnimation(){$i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$i(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){$i(n=>{const{drag:r}=this.getProps();if(!y0(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(e[n]-Qn(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xp(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};$i(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Yte({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$i(o=>{if(!y0(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Qn(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;Zte.set(this.visualElement,this);const e=this.visualElement.current,n=Wp(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps(),h=l.target,p=h!==e&&$8(h);c&&d&&!p&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();xp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),zn.read(r);const o=Rm(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&($i(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Hw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function y0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ene(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tne extends Jc{constructor(e){super(e),this.removeGroupControls=to,this.removeListeners=to,this.controls=new Jte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||to}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const jT=t=>(e,n)=>{t&&zn.postRender(()=>t(e,n))};class nne extends Jc{constructor(){super(...arguments),this.removePointerDownListener=to}onPointerDown(e){this.session=new TD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ED(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:jT(e),onStart:jT(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&zn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Wp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let o2=!1;class rne extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),o2&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),n1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,e.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),o2=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||zn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$S.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;o2=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CD(t){const[e,n]=yD(),r=L.useContext(wS);return u.jsx(rne,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(ND),isPresent:e,safeToRemove:n})}const sne={pan:{Feature:nne},drag:{Feature:tne,ProjectionNode:gD,MeasureLayout:CD}};function IT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&zn.postRender(()=>i(e,ug(e)))}class ine extends Jc{mount(){const{current:e}=this.node;e&&(this.unmount=UJ(e,(n,r)=>(IT(this.node,r,"Start"),s=>IT(this.node,s,"End"))))}unmount(){}}class one extends Jc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ag(Rm(this.node.current,"focus",()=>this.onFocus()),Rm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RT(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&zn.postRender(()=>i(e,ug(e)))}class ane extends Jc{mount(){const{current:e}=this.node;e&&(this.unmount=qJ(e,(n,r)=>(RT(this.node,r,"Start"),(s,{success:i})=>RT(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gw=new WeakMap,a2=new WeakMap,lne=t=>{const e=Gw.get(t.target);e&&e(t)},cne=t=>{t.forEach(lne)};function une({root:t,...e}){const n=t||document;a2.has(n)||a2.set(n,{});const r=a2.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(cne,{root:t,...e})),r[s]}function dne(t,e,n){const r=une(e);return Gw.set(t,n),r.observe(t),()=>{Gw.delete(t),r.unobserve(t)}}const hne={some:0,all:1};class fne extends Jc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:hne[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return dne(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pne(e,n))&&this.startObserver()}unmount(){}}function pne({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mne={inView:{Feature:fne},tap:{Feature:ane},focus:{Feature:one},hover:{Feature:ine}},gne={layout:{ProjectionNode:gD,MeasureLayout:CD}},yne={...Ute,...mne,...sne,...gne},Vn=Mte(yne,Ote),l2={quality:"",unitCount:0,weightPerUnit:0,pricePerKg:0,itemCharge:0},v0=[{type:"labour",label:"Labour",defaultRate:50},{type:"paper",label:"Paper",defaultRate:250},{type:"rassi",label:"Rassi (Rope)",defaultRate:50},{type:"tape",label:"Tape",defaultRate:30},{type:"crate",label:"Crate",defaultRate:50},{type:"commission",label:"Commission",defaultRate:20}],kD=({isOpen:t,onClose:e,onAdd:n,onUpdate:r,saleToEdit:s,sales:i=[]})=>{var de,pe;const[o,a]=L.useState(new Date().toISOString().split("T")[0]),[l,c]=L.useState({name:"",mobile:"",address:""}),[d,h]=L.useState([]),[p,f]=L.useState(l2),[b,x]=L.useState(v0.map(oe=>({type:oe.type,label:oe.label,quantity:0,rate:oe.defaultRate,totalAmount:0}))),[w,v]=L.useState(0),[_,A]=L.useState("cash"),[R,F]=L.useState(!1),[$,I]=L.useState(!1),[E,C]=L.useState(!0);L.useEffect(()=>{t&&s?(C(!1),a(s.date),c(s.buyer||{name:s.customerName||"",mobile:"",address:""}),s.items&&s.items.length>0?h(s.items.map(oe=>({...oe,itemCharge:oe.itemCharge||0}))):h([]),s.additions&&s.additions.length>0?x(s.additions):x(v0.map(oe=>({type:oe.type,label:oe.label,quantity:0,rate:oe.defaultRate,totalAmount:0}))),v(s.receivedAmount||0),A(s.paymentMethod)):t&&!s&&(C(!0),a(new Date().toISOString().split("T")[0]),c({name:"",mobile:"",address:""}),h([]),f(l2),v(0),x(v0.map(oe=>({type:oe.type,label:oe.label,quantity:0,rate:oe.defaultRate,totalAmount:0}))))},[t,s]);const M=L.useMemo(()=>!l.mobile||l.mobile.length<10?[]:i.filter(oe=>{var fe;return((fe=oe.buyer)==null?void 0:fe.mobile)===l.mobile&&oe.id!==(s==null?void 0:s.id)}).sort((oe,fe)=>new Date(fe.date).getTime()-new Date(oe.date).getTime()),[l.mobile,i,s]),N=L.useMemo(()=>{if(s){const oe=b.reduce((Pe,Me)=>Pe+Me.totalAmount,0),_e=d.reduce((Pe,Me)=>Pe+Me.totalAmount,0)+oe;return{date:o,items:d,additions:b,totalAdditions:oe,totalAmount:_e,receivedAmount:w,pendingAmount:_e-w,role:"current"}}else if(M.length>0){const oe=M[0];return{date:oe.date,items:oe.items,additions:oe.additions,totalAdditions:oe.totalAdditions,totalAmount:oe.totalAmount,receivedAmount:oe.receivedAmount||0,pendingAmount:oe.pendingAmount||0,role:"history"}}return null},[s,M,d,b,o,w]),T=L.useMemo(()=>M.reduce((oe,fe)=>oe+(fe.pendingAmount||0),0),[M]);L.useEffect(()=>{if(!s&&l.mobile.length>=10&&M.length>0){const oe=M[0];oe.buyer&&(c(fe=>({...fe,name:oe.buyer.name||fe.name,address:oe.buyer.address||fe.address})),C(!1),I(!0))}},[l.mobile,M,s]);const k=p.unitCount*p.weightPerUnit,z=p.itemCharge||0,K=k*p.pricePerKg+z,ae=()=>{!p.quality||p.unitCount<=0||p.weightPerUnit<=0||p.pricePerKg<=0||(h(oe=>[...oe,{...p,itemCharge:z,totalWeight:k,totalAmount:K}]),f(l2))},ie=oe=>{h(fe=>fe.filter((_e,Pe)=>Pe!==oe))},Y=(oe,fe,_e)=>{x(Pe=>Pe.map((Me,Oe)=>{if(Oe!==oe)return Me;const $e={...Me,[fe]:_e};return{...$e,totalAmount:$e.quantity*$e.rate}}))},ee=()=>{!E&&!s&&(h([]),x(v0.map(oe=>({type:oe.type,label:oe.label,quantity:0,rate:oe.defaultRate,totalAmount:0}))),v(0)),C(!0)},se=L.useMemo(()=>d.reduce((oe,fe)=>oe+fe.totalAmount,0),[d]),ce=L.useMemo(()=>b.reduce((oe,fe)=>oe+fe.totalAmount,0),[b]),V=se+ce,Q=V-w,Z=T+Q,le=async oe=>{if(oe.preventDefault(),!(d.length===0&&E||R)){F(!0);try{const fe={date:o,buyer:l,items:d.map(_e=>({..._e,id:_e.id||Math.random().toString(36).substr(2,9)})),additions:b.map(_e=>({..._e,id:_e.id||Math.random().toString(36).substr(2,9)})),totalItemAmount:se,totalAdditions:ce,totalAmount:V,receivedAmount:w,pendingAmount:Q,paymentMethod:_};s&&r?await r(s.id,fe):await n(fe),e()}catch(fe){console.error("Error saving sale:",fe),alert("Failed to save sale. Please try again.")}finally{F(!1)}}};return u.jsx(Ei,{children:t&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx(Vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-foreground/20 backdrop-blur-sm"}),u.jsx(Vn.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"glass-card p-4 sm:p-6 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-xl bg-success/10 text-success",children:u.jsx(Ip,{className:"w-5 h-5"})}),u.jsx("h2",{className:"text-xl font-display font-bold text-foreground",children:s?"Edit Sale":"New Sale"})]}),!E&&u.jsxs(Vn.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},type:"button",onClick:ee,className:"ml-auto mr-4 flex items-center gap-2 bg-primary text-primary-foreground py-2 px-4 rounded-lg font-bold shadow-lg hover:bg-primary/90 transition-all active:scale-95",children:[s?u.jsx(aB,{className:"w-4 h-4"}):u.jsx(tB,{className:"w-5 h-5"}),s?"Edit Items & Charges":"Create New Invoice"]}),u.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:u.jsx(Ci,{className:"w-5 h-5 text-muted-foreground"})})]}),u.jsxs("form",{onSubmit:le,className:"space-y-6",children:[u.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl space-y-4",children:[u.jsxs("h3",{className:"font-semibold flex items-center justify-between gap-2",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(bj,{className:"w-4 h-4"})," Buyer / Businessman Profile"]}),M.length>0&&u.jsxs("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full font-medium",children:[M.length," Past Visits"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Mobile Number (Check History)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Fc,{className:"w-3.5 h-3.5 absolute left-3 top-3 text-muted-foreground"}),u.jsx("input",{required:!0,type:"tel",value:l.mobile,onChange:oe=>c(fe=>({...fe,mobile:oe.target.value})),className:"input-premium py-2 pl-9",placeholder:"Enter to Search..."})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs font-medium text-muted-foreground mb-1 flex items-center gap-1",children:[u.jsx(Ai,{className:"w-3.5 h-3.5"}),"Sale Date"]}),u.jsx("input",{required:!0,type:"date",value:o,onChange:oe=>a(oe.target.value),className:"input-premium py-2 w-full",disabled:!E})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Full Name"}),u.jsx("input",{required:!0,type:"text",value:l.name,onChange:oe=>c(fe=>({...fe,name:oe.target.value})),className:"input-premium py-2",placeholder:"Buyer Name",readOnly:!E})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Oc,{className:"w-3.5 h-3.5 absolute left-3 top-3 text-muted-foreground"}),u.jsx("input",{required:!0,type:"text",value:l.address,onChange:oe=>c(fe=>({...fe,address:oe.target.value})),className:"input-premium py-2 pl-9",placeholder:"Location",readOnly:!E})]})]})]}),!E&&N&&u.jsxs(Vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border rounded-xl p-4 bg-muted/10",children:[u.jsxs("h4",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground mb-3 flex items-center gap-2",children:[u.jsx(Gy,{className:"w-4 h-4"}),N.role==="current"?"Current Invoice Preview":`Last Sale (${new Date(N.date).toLocaleDateString()}) Reference`]}),u.jsx("div",{className:"bg-card rounded-lg border border-border overflow-hidden mb-3",children:u.jsxs("table",{className:"w-full text-xs text-left",children:[u.jsx("thead",{className:"bg-muted text-muted-foreground font-semibold",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-2",children:"Quality"}),u.jsx("th",{className:"p-2 text-right",children:"Total Kg"}),u.jsx("th",{className:"p-2 text-right",children:"Rate"}),u.jsx("th",{className:"p-2 text-right text-warning",children:"Add. Charge"}),u.jsx("th",{className:"p-2 text-right",children:"Amount"})]})}),u.jsxs("tbody",{className:"divide-y divide-border/50",children:[N.items&&N.items.map((oe,fe)=>{const Pe=N.items.length===1?N.totalAdditions:0,Oe=(oe.itemCharge||0)+Pe,$e=oe.totalAmount+Pe;return u.jsxs("tr",{children:[u.jsx("td",{className:"p-2",children:oe.quality}),u.jsxs("td",{className:"p-2 text-right",children:[oe.totalWeight," kg"]}),u.jsxs("td",{className:"p-2 text-right",children:["",oe.pricePerKg]}),u.jsx("td",{className:"p-2 text-right text-warning font-medium",children:Oe>0?`${Oe.toLocaleString()}`:"-"}),u.jsxs("td",{className:"p-2 text-right font-medium",children:["",$e.toLocaleString()]})]},fe)}),u.jsxs("tr",{className:"bg-muted/10 font-bold border-t border-border",children:[u.jsx("td",{className:"p-2",children:"Total"}),u.jsxs("td",{className:"p-2 text-right",children:[(de=N.items)==null?void 0:de.reduce((oe,fe)=>oe+(fe.totalWeight||0),0)," kg"]}),u.jsx("td",{className:"p-2 text-right",children:"-"}),u.jsxs("td",{className:"p-2 text-right text-warning",children:["",(N.totalAdditions+(((pe=N.items)==null?void 0:pe.reduce((oe,fe)=>oe+(fe.itemCharge||0),0))||0)).toLocaleString()]}),u.jsxs("td",{className:"p-2 text-right text-lg",children:["",N.totalAmount.toLocaleString()]})]})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-3 bg-card rounded-lg border border-border mt-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-wider flex items-center gap-1",children:[u.jsx(V1,{className:"w-3 h-3 text-success"})," Advance/Paid"]}),u.jsxs("div",{className:"text-sm font-bold text-success",children:["",(N.receivedAmount||0).toLocaleString()]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-wider flex items-center gap-1",children:[u.jsx(Qu,{className:"w-3 h-3 text-destructive"})," Current Pending"]}),u.jsxs("div",{className:"text-sm font-bold text-destructive",children:["",(N.pendingAmount||0).toLocaleString()]})]}),N.role==="current"&&T>0&&u.jsxs("div",{className:"col-span-2 space-y-1 bg-destructive/5 p-1 px-2 rounded border border-destructive/10",children:[u.jsxs("span",{className:"text-[10px] text-destructive uppercase font-black tracking-wider flex items-center gap-1",children:[u.jsx(KV,{className:"w-3 h-3"})," Total Outstanding Balance"]}),u.jsxs("div",{className:"text-base font-black text-destructive",children:["",(N.pendingAmount+T).toLocaleString()]})]})]})]}),!E&&M.length>0&&u.jsxs("div",{className:"border-t border-border pt-4 mt-2",children:[u.jsxs("button",{type:"button",onClick:()=>I(!$),className:"flex items-center gap-2 text-sm font-medium text-primary w-full justify-between mb-2 group",children:[u.jsxs("span",{className:"flex items-center gap-2 group-hover:underline",children:[$?u.jsx(rB,{className:"w-4 h-4"}):u.jsx(sB,{className:"w-4 h-4"}),$?"Hide":"Show"," Full History Ledger"]}),u.jsxs("span",{className:"text-destructive font-bold",children:["Outstanding: ",T.toLocaleString()]})]}),$&&u.jsx("div",{className:"mt-2 bg-card rounded-lg border border-border overflow-hidden shadow-sm",children:u.jsxs("table",{className:"w-full text-xs text-left text-muted-foreground",children:[u.jsx("thead",{className:"bg-muted text-foreground font-semibold",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3",children:"Date"}),u.jsx("th",{className:"p-3 text-right",children:"Items (Kg)"}),u.jsx("th",{className:"p-3 text-right",children:"Add. Charges"}),u.jsx("th",{className:"p-3 text-right",children:"Bill Total"}),u.jsx("th",{className:"p-3 text-right",children:"Pending"})]})}),u.jsx("tbody",{className:"divide-y divide-border/50",children:M.map(oe=>{var Me;const fe=oe.totalItemAmount||oe.totalAmount,_e=oe.totalAdditions||0,Pe=((Me=oe.items)==null?void 0:Me.reduce((Oe,$e)=>Oe+($e.totalWeight||0),0))||0;return u.jsxs("tr",{className:"hover:bg-muted/10 transition-colors",children:[u.jsx("td",{className:"p-3 font-medium text-foreground",children:new Date(oe.date).toLocaleDateString()}),u.jsxs("td",{className:"p-3 text-right",children:[Pe>0?`${Pe} kg`:"-"," (",fe.toLocaleString(),")"]}),u.jsxs("td",{className:"p-3 text-right text-warning font-semibold",children:["",_e.toLocaleString()]}),u.jsxs("td",{className:"p-3 text-right font-bold text-foreground",children:["",oe.totalAmount.toLocaleString()]}),u.jsxs("td",{className:"p-3 text-right text-destructive font-bold",children:["",oe.pendingAmount.toLocaleString()]})]},oe.id)})})]})})]})]}),u.jsx(Ei,{children:E&&u.jsxs(Vn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-6 overflow-hidden",children:[u.jsxs("div",{className:"bg-card/50 rounded-xl border border-border overflow-hidden",children:[u.jsxs("div",{className:"p-4 border-b border-border font-semibold flex items-center justify-between",children:[u.jsx("span",{children:"Items (Grapes)"}),u.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["Total: ",se.toLocaleString()]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"bg-muted/50 text-muted-foreground font-medium",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-3",children:"Quality"}),u.jsx("th",{className:"p-3",children:"Unit"}),u.jsx("th",{className:"p-3",children:"Wt/Unit"}),u.jsx("th",{className:"p-3",children:"Total Kg"}),u.jsx("th",{className:"p-3",children:"Rate/Kg"}),u.jsx("th",{className:"p-3 text-right text-warning",children:"Add. Charge"}),u.jsx("th",{className:"p-3 text-right",children:"Amount"}),u.jsx("th",{className:"p-3 w-10"})]})}),u.jsxs("tbody",{className:"divide-y divide-border",children:[d.map((oe,fe)=>u.jsxs("tr",{className:"bg-card/50",children:[u.jsx("td",{className:"p-3 font-medium",children:oe.quality}),u.jsx("td",{className:"p-3",children:oe.unitCount}),u.jsxs("td",{className:"p-3",children:[oe.weightPerUnit," kg"]}),u.jsxs("td",{className:"p-3",children:[oe.totalWeight," kg"]}),u.jsxs("td",{className:"p-3",children:["",oe.pricePerKg]}),u.jsx("td",{className:"p-3 text-right text-warning",children:oe.itemCharge?`${oe.itemCharge}`:"-"}),u.jsxs("td",{className:"p-3 text-right font-bold",children:["",oe.totalAmount.toLocaleString()]}),u.jsx("td",{className:"p-3 text-center",children:u.jsx("button",{type:"button",onClick:()=>ie(fe),className:"text-destructive hover:opacity-80",children:u.jsx(ks,{className:"w-4 h-4"})})})]},fe)),u.jsxs("tr",{className:"bg-primary/5",children:[u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"text",placeholder:"Quality",className:"w-full bg-transparent border-b border-border focus:border-primary focus:outline-none p-1",value:p.quality,onChange:oe=>f(fe=>({...fe,quality:oe.target.value}))})}),u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-transparent border-b border-border focus:border-primary focus:outline-none p-1",value:p.unitCount||"",onChange:oe=>f(fe=>({...fe,unitCount:parseFloat(oe.target.value)||0}))})}),u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-transparent border-b border-border focus:border-primary focus:outline-none p-1",value:p.weightPerUnit||"",onChange:oe=>f(fe=>({...fe,weightPerUnit:parseFloat(oe.target.value)||0}))})}),u.jsx("td",{className:"p-3 text-muted-foreground",children:k>0?`${k} kg`:"-"}),u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-transparent border-b border-border focus:border-primary focus:outline-none p-1",value:p.pricePerKg||"",onChange:oe=>f(fe=>({...fe,pricePerKg:parseFloat(oe.target.value)||0}))})}),u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-transparent border-b border-border focus:border-primary focus:outline-none p-1 text-right text-warning font-medium placeholder:text-warning/30",value:p.itemCharge||"",onChange:oe=>f(fe=>({...fe,itemCharge:parseFloat(oe.target.value)||0}))})}),u.jsx("td",{className:"p-3 text-right font-medium text-primary",children:K>0?`${K.toLocaleString()}`:"-"}),u.jsx("td",{className:"p-2 text-center",children:u.jsx("button",{type:"button",onClick:ae,disabled:!p.quality||p.unitCount<=0,className:"p-1.5 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50",children:u.jsx(Rr,{className:"w-4 h-4"})})})]})]})]})})]}),u.jsxs("div",{className:"bg-warning/5 rounded-xl border border-warning/10 overflow-hidden",children:[u.jsxs("div",{className:"p-4 border-b border-warning/10 font-semibold flex items-center justify-between text-warning-foreground",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(YV,{className:"w-4 h-4"})," Additional Charges (Global)"]}),u.jsxs("span",{children:["Total: ",ce.toLocaleString()]})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-medium text-muted-foreground uppercase mb-2 px-2",children:[u.jsx("div",{className:"col-span-4",children:"Type"}),u.jsx("div",{className:"col-span-3 text-center",children:"Qty"}),u.jsx("div",{className:"col-span-3 text-center",children:"Rate"}),u.jsx("div",{className:"col-span-2 text-right",children:"Total"})]}),b.map((oe,fe)=>u.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center px-2 py-1 rounded hover:bg-white/50",children:[u.jsx("div",{className:"col-span-4 font-medium",children:oe.label}),u.jsx("div",{className:"col-span-3",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-white border border-border rounded px-2 py-1 text-center",value:oe.quantity||"",onChange:_e=>Y(fe,"quantity",parseFloat(_e.target.value)||0)})}),u.jsx("div",{className:"col-span-3",children:u.jsx("input",{type:"number",placeholder:"0",className:"w-full bg-white border border-border rounded px-2 py-1 text-center",value:oe.rate||"",onChange:_e=>Y(fe,"rate",parseFloat(_e.target.value)||0)})}),u.jsx("div",{className:"col-span-2 text-right font-medium",children:oe.totalAmount>0?`${oe.totalAmount}`:"-"})]},oe.type))]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex gap-2 p-1 bg-muted rounded-lg",children:[u.jsx("button",{type:"button",onClick:()=>A("cash"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${_==="cash"?"bg-background shadow text-foreground":"text-muted-foreground"}`,children:"Cash"}),u.jsx("button",{type:"button",onClick:()=>A("online"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all ${_==="online"?"bg-background shadow text-foreground":"text-muted-foreground"}`,children:"Online"})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-card p-4 rounded-xl border border-border space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Items Total (Incl. Item Charges)"}),u.jsxs("span",{className:"font-medium",children:["",se.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Additional Charges (Global)"}),u.jsxs("span",{className:"font-medium text-warning-foreground",children:["+ ",ce.toLocaleString()]})]}),u.jsx("div",{className:"h-px bg-border my-2"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-bold",children:"Current Bill Total"}),u.jsxs("span",{className:"text-xl font-bold font-display",children:["",V.toLocaleString()]})]}),T>0&&u.jsxs("div",{className:"flex justify-between items-center pt-2 mt-2 border-t border-dashed border-border text-destructive",children:[u.jsx("span",{className:"text-sm font-medium",children:"Previous Balance (Old)"}),u.jsxs("span",{className:"font-semibold",children:["+ ",T.toLocaleString()]})]}),T>0&&u.jsxs("div",{className:"flex justify-between items-center bg-destructive/5 p-2 rounded",children:[u.jsx("span",{className:"font-bold text-destructive",children:"Total Outstanding"}),u.jsxs("span",{className:"text-xl font-bold text-destructive",children:["",(V+T).toLocaleString()]})]})]}),u.jsxs("div",{className:"p-4 rounded-xl bg-primary/5 border border-primary/20 space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium block mb-1",children:"Received Amount (For current bill)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Qu,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"}),u.jsx("input",{type:"number",value:w||"",onChange:oe=>v(parseFloat(oe.target.value)||0),className:"input-premium pl-9 w-full",placeholder:"Amount Received"})]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-primary/10",children:[u.jsx("span",{className:"text-sm font-semibold",children:"Net Balance Carry Forward"}),u.jsxs("span",{className:"text-lg font-bold text-destructive",children:["",Z.toLocaleString()]})]})]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsxs("button",{type:"submit",disabled:d.length===0||R,className:"w-full btn-primary py-3 text-lg flex items-center justify-center gap-2",children:[R?u.jsx("span",{className:"animate-spin",children:"..."}):u.jsx(ya,{className:"w-5 h-5"}),R?s?"Updating...":"Saving...":s?"Update Sale Invoice":"Create Sale Invoice"]})})]})})]})]})})]})})},jD=({isOpen:t,onClose:e,onAdd:n})=>{const[r,s]=L.useState({type:"labour",description:"",amount:"",paymentMethod:"cash"}),[i,o]=L.useState(!1),a=async c=>{if(c.preventDefault(),!i){o(!0);try{await n({...r,date:new Date().toISOString().split("T")[0],amount:parseFloat(r.amount)}),s({type:"labour",description:"",amount:"",paymentMethod:"cash"}),e()}catch(d){console.error("Error saving expense:",d),alert("Failed to save expense. Please try again.")}finally{o(!1)}}},l=[{value:"labour",label:"Labour",icon:F1,color:"text-primary"},{value:"petrol",label:"Petrol",icon:iB,color:"text-warning"},{value:"other",label:"Other",icon:nB,color:"text-muted-foreground"}];return u.jsx(Ei,{children:t&&u.jsxs(u.Fragment,{children:[u.jsx(Vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-foreground/20 backdrop-blur-sm z-50"}),u.jsx(Vn.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100%-2rem)] sm:w-full max-w-lg z-50 max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"glass-card p-4 sm:p-6 m-2 sm:m-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[u.jsx("div",{className:"p-1.5 sm:p-2 rounded-lg sm:rounded-xl bg-destructive/10 text-destructive flex-shrink-0",children:u.jsx(Xi,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),u.jsx("h2",{className:"text-lg sm:text-xl font-display font-bold text-foreground truncate",children:"Add Expense"})]}),u.jsx("button",{onClick:e,className:"p-1.5 sm:p-2 rounded-lg hover:bg-muted transition-colors flex-shrink-0",children:u.jsx(Ci,{className:"w-4 h-4 sm:w-5 sm:h-5 text-muted-foreground"})})]}),u.jsxs("form",{onSubmit:a,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Expense Type"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.map(c=>{const d=c.icon;return u.jsxs("button",{type:"button",onClick:()=>s(h=>({...h,type:c.value})),className:`flex flex-col items-center gap-2 px-4 py-3 rounded-xl border-2 transition-all ${r.type===c.value?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:[u.jsx(d,{className:`w-5 h-5 ${r.type===c.value?c.color:"text-muted-foreground"}`}),u.jsx("span",{className:`text-sm font-medium ${r.type===c.value?"text-foreground":"text-muted-foreground"}`,children:c.label})]},c.value)})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),u.jsx("input",{type:"text",required:!0,value:r.description,onChange:c=>s(d=>({...d,description:c.target.value})),className:"input-premium",placeholder:"Enter description"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Amount ()"}),u.jsx("input",{type:"number",required:!0,min:"1",value:r.amount,onChange:c=>s(d=>({...d,amount:c.target.value})),className:"input-premium",placeholder:"3500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Payment Method"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:()=>s(c=>({...c,paymentMethod:"cash"})),className:`flex-1 px-4 py-3 rounded-xl border-2 transition-all ${r.paymentMethod==="cash"?"border-success bg-success/10 text-success":"border-border text-muted-foreground hover:border-success/50"}`,children:" Cash"}),u.jsx("button",{type:"button",onClick:()=>s(c=>({...c,paymentMethod:"online"})),className:`flex-1 px-4 py-3 rounded-xl border-2 transition-all ${r.paymentMethod==="online"?"border-primary bg-primary/10 text-primary":"border-border text-muted-foreground hover:border-primary/50"}`,children:" Online"})]})]}),u.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full",children:i?"Saving...":"Add Expense"})]})]})})]})})},vne=({isOpen:t,onClose:e,purchase:n,onEdit:r})=>n?u.jsx(Ei,{children:t&&u.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[u.jsx(Vn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-foreground/20 backdrop-blur-sm"}),u.jsx(Vn.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"glass-card p-4 sm:p-8 flex flex-col h-full overflow-hidden",children:[u.jsxs("div",{className:"flex items-start justify-between mb-8",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-display font-bold text-foreground flex items-center gap-2",children:[u.jsx(Xi,{className:"w-6 h-6 text-primary"}),"Purchase Invoice"]}),u.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 border border-primary/20",children:[u.jsx(Ai,{className:"w-4 h-4 text-primary"}),u.jsx("span",{className:"font-semibold text-primary",children:new Date(n.date).toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})]}),u.jsxs("div",{className:"flex gap-2",children:[r&&u.jsx("button",{onClick:()=>r(n),className:"p-2 rounded-lg bg-primary/10 hover:bg-primary/20 transition-colors text-primary",title:"Edit Purchase",children:u.jsx(m_,{className:"w-5 h-5"})}),u.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",title:"Download PDF",children:u.jsx(uf,{className:"w-5 h-5"})}),u.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-muted transition-colors text-muted-foreground hover:text-foreground",children:u.jsx(Ci,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"bg-muted/30 p-5 rounded-2xl mb-8 border border-border/50",children:[u.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-4 flex items-center gap-2",children:[u.jsx(bj,{className:"w-4 h-4"})," Farmer Details"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Name"}),u.jsx("span",{className:"font-semibold text-lg text-foreground",children:n.farmer.name})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Contact"}),u.jsxs("div",{className:"flex items-center gap-2 text-foreground font-medium",children:[u.jsx(Fc,{className:"w-3.5 h-3.5 opacity-50"}),n.farmer.mobile]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Address"}),u.jsxs("div",{className:"flex items-center gap-2 text-foreground font-medium",children:[u.jsx(Oc,{className:"w-3.5 h-3.5 opacity-50"}),n.farmer.address]})]})]})]}),u.jsx("div",{className:"border border-border rounded-xl overflow-hidden mb-8",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"bg-muted/50 text-muted-foreground font-medium uppercase text-xs",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4",children:"Date"}),u.jsx("th",{className:"p-4",children:"Quality"}),u.jsx("th",{className:"p-4 text-center",children:"Units"}),u.jsx("th",{className:"p-4 text-center",children:"Wt/Unit"}),u.jsx("th",{className:"p-4 text-center",children:"Total Kg"}),u.jsx("th",{className:"p-4 text-right",children:"Rate/Kg"}),u.jsx("th",{className:"p-4 text-right",children:"Amount"}),u.jsx("th",{className:"p-4 text-right",children:"Advance"})]})}),u.jsx("tbody",{className:"divide-y divide-border/50",children:n.items.map((s,i)=>u.jsxs("tr",{className:"hover:bg-muted/10 transition-colors",children:[u.jsx("td",{className:"p-4 text-muted-foreground whitespace-nowrap",children:new Date(s.date||n.date).toLocaleDateString(void 0,{day:"numeric",month:"short"})}),u.jsx("td",{className:"p-4 font-semibold text-foreground",children:s.quality}),u.jsx("td",{className:"p-4 text-center",children:s.unitCount}),u.jsxs("td",{className:"p-4 text-center text-muted-foreground",children:[s.weightPerUnit," kg"]}),u.jsxs("td",{className:"p-4 text-center font-medium",children:[s.totalWeight.toLocaleString()," kg"]}),u.jsxs("td",{className:"p-4 text-right tabular-nums",children:["",s.pricePerKg]}),u.jsxs("td",{className:"p-4 text-right font-bold tabular-nums text-foreground",children:["",s.totalAmount.toLocaleString()]}),u.jsxs("td",{className:"p-4 text-right tabular-nums text-success",children:["",(s.advance||0).toLocaleString()]})]},i))}),u.jsx("tfoot",{className:"bg-primary/5 font-semibold text-foreground",children:u.jsxs("tr",{children:[u.jsx("td",{colSpan:4,className:"p-4 text-right text-muted-foreground",children:"Totals"}),u.jsxs("td",{className:"p-4 text-center",children:[n.items.reduce((s,i)=>s+i.totalWeight,0).toLocaleString()," kg"]}),u.jsx("td",{className:"p-4"}),u.jsxs("td",{className:"p-4 text-right text-primary text-lg",children:["",n.totalAmount.toLocaleString()]}),u.jsxs("td",{className:"p-4 text-right text-success text-lg",children:["",n.items.reduce((s,i)=>s+(i.advance||0),0).toLocaleString()]})]})})]})})}),u.jsxs("div",{className:"space-y-4 pt-4 border-t border-border",children:[(n.advanceAmount>0||n.pendingAmount>0)&&u.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 rounded-xl bg-warning/5 border border-warning/20",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Advance Paid"}),u.jsxs("span",{className:"text-lg font-bold text-success",children:["",(n.advanceAmount||0).toLocaleString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Pending Amount"}),u.jsxs("span",{className:"text-lg font-bold text-warning",children:["",(n.pendingAmount||0).toLocaleString()]})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("span",{className:"text-muted-foreground",children:"Payment Status"}),u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize
                        ${n.paymentMethod==="cash"?"bg-success/10 text-success":"bg-primary/10 text-primary"}`,children:n.paymentMethod})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-muted-foreground block text-xs mb-1",children:"Transaction ID"}),u.jsxs("span",{className:"font-mono text-xs opacity-70",children:["#",n.id]})]})]})]})]})})]})}):null,xne=()=>{const[t,e]=L.useState(!1),n=mf(),r=[{name:"Dashboard",icon:oB,path:"/"},{name:"Sales (Scale)",icon:O1,path:"/sales"},{name:"Purchases",icon:Ky,path:"/purchases"},{name:"Watermelon",icon:zu,path:"/watermelon"},{name:"Expenses",icon:Xi,path:"/expenses"},{name:"History",icon:Gy,path:"/history"}],s=t?"80px":"260px";return u.jsxs("aside",{style:{width:s,transition:"width 0.2s ease-in-out"},className:"relative flex flex-col h-screen bg-white z-50 border-r border-slate-200 shadow-sm",children:[u.jsx("button",{onClick:()=>e(!t),className:"absolute -right-3 top-10 w-6 h-6 bg-white text-slate-400 border border-slate-200 rounded-full flex items-center justify-center shadow-sm hover:text-emerald-600 transition-colors z-[60]",children:t?u.jsx(JV,{size:14}):u.jsx(ZV,{size:14})}),u.jsx("div",{className:`p-6 mb-2 ${t?"flex justify-center":""}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden shadow-sm shrink-0",children:u.jsx("img",{src:"/sp-logo.jpg",alt:"SP Logo",className:"w-full h-full object-cover"})}),!t&&u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:"text-slate-900 font-black text-lg leading-none tracking-tight",children:["Shree ",u.jsx("span",{className:"text-emerald-600",children:"Ganesh"})]}),u.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase mt-1",children:"Fruit Suppliers"})]})]})}),u.jsx("nav",{className:"flex-1 px-3 space-y-1 mt-4",children:r.map(i=>{const o=n.pathname===i.path,a=i.icon;return u.jsxs(Dq,{to:i.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 group relative ${o?"bg-emerald-50 text-emerald-700 font-bold":"text-slate-500 hover:bg-slate-50 hover:text-emerald-600"}`,children:[u.jsx(a,{size:20,className:o?"text-emerald-600":"text-slate-400 group-hover:text-emerald-600"}),!t&&u.jsx("span",{className:"text-sm",children:i.name}),t&&u.jsx("div",{className:"absolute left-full ml-4 px-3 py-2 bg-slate-800 text-white text-[11px] font-bold rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all whitespace-nowrap shadow-xl z-[70]",children:i.name})]},i.name)})}),u.jsx("div",{className:"p-4 border-t border-slate-100",children:u.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-xl bg-slate-50 ${t?"justify-center":""}`,children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-600 flex items-center justify-center font-bold text-white shrink-0",children:"A"}),!t&&u.jsxs("div",{className:"flex flex-col overflow-hidden",children:[u.jsx("span",{className:"text-xs font-bold text-slate-900 truncate",children:"Suhas Patil"}),u.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase",children:"Online"})]})]})})]})},Ef=({children:t})=>u.jsxs("div",{className:"flex bg-[#f8fafc] min-h-screen overflow-hidden",children:[u.jsx(xne,{}),u.jsx("main",{className:"flex-1 h-screen overflow-y-auto relative scroll-smooth bg-white",children:u.jsx("div",{className:"relative z-10 w-full",children:t})})]}),bne=()=>{const{addPurchase:t,updatePurchase:e,addSale:n,updateSale:r,addExpense:s,todaySummary:i,todayTransactions:o,loading:a,sales:l,purchases:c}=og(),{purchases:d,sales:h,loading:p}=bS(),[f,b]=L.useState(!1),[x,w]=L.useState(!1),[v,_]=L.useState(!1),[A,R]=L.useState(null),[F,$]=L.useState(null),[I,E]=L.useState(null),[C,M]=L.useState("all");L.useMemo(()=>o.filter(z=>C==="all"||z.type===C),[o,C]);const N=L.useMemo(()=>{const z=c.reduce((Y,ee)=>Y+ee.totalAmount,0),K=l.reduce((Y,ee)=>Y+ee.totalAmount,0),ae=c.reduce((Y,ee)=>{var se;return Y+(((se=ee.items)==null?void 0:se.length)||0)},0),ie=l.reduce((Y,ee)=>{var se;return Y+(((se=ee.items)==null?void 0:se.length)||0)},0);return{totalPurchases:z,totalSales:K,purchaseCount:c.length,saleCount:l.length,totalPurchaseItems:ae,totalSaleItems:ie,avgPurchase:c.length>0?z/c.length:0,avgSale:l.length>0?K/l.length:0}},[c,l]),T=L.useMemo(()=>{const z=d.reduce((se,ce)=>se+ce.totalAmount,0),K=h.reduce((se,ce)=>se+ce.totalAmount,0),ae=d.reduce((se,ce)=>se+ce.entries.length,0),ie=h.reduce((se,ce)=>se+ce.entries.length,0),Y=d.reduce((se,ce)=>se+ce.pendingAmount,0),ee=h.reduce((se,ce)=>se+ce.pendingAmount,0);return{totalPurchases:z,totalSales:K,purchaseCount:d.length,saleCount:h.length,totalPurchaseEntries:ae,totalSaleEntries:ie,totalPendingPurchase:Y,totalPendingSale:ee,avgPurchase:d.length>0?z/d.length:0,avgSale:h.length>0?K/h.length:0}},[d,h]);L.useMemo(()=>{const z=o.filter(ee=>ee.type==="sale"),K=z.reduce((ee,se)=>se.paymentMethod==="cash"?ee+se.amount:ee,0),ae=z.reduce((ee,se)=>se.paymentMethod==="online"?ee+se.amount:ee,0),ie=z.reduce((ee,se)=>{const ce=se.originalData;return ee+((ce==null?void 0:ce.pendingAmount)||0)},0),Y=z.reduce((ee,se)=>{const ce=se.originalData;return ee+((ce==null?void 0:ce.receivedAmount)||0)},0);return{saleCash:K,saleOnline:ae,totalPending:ie,totalReceived:Y}},[o]);const k=z=>{$(z),R(null),b(!0)};return a?null:u.jsxs(Ef,{children:[u.jsx(_f,{}),u.jsxs("main",{className:"container mx-auto px-6 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Business Dashboard"}),u.jsx("p",{className:"text-slate-400 font-semibold text-sm",children:"Today's Trading Performance Overview"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:u.jsx(Ex,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-purple-800",children:" Grapes (Scale)"}),u.jsx("p",{className:"text-xs text-purple-600 font-semibold",children:"Complete Trading Summary"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-white/80 backdrop-blur rounded-lg p-4 border border-orange-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(aa,{className:"text-orange-600",size:18}),u.jsx("p",{className:"text-xs font-bold text-orange-700 uppercase",children:"Purchases"})]}),u.jsxs("p",{className:"text-2xl font-black text-orange-600",children:["",N.totalPurchases.toLocaleString()]}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[N.purchaseCount," bills"]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[N.totalPurchaseItems," items"]})]}),u.jsxs("div",{className:"bg-white/80 backdrop-blur rounded-lg p-4 border border-emerald-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(nc,{className:"text-emerald-600",size:18}),u.jsx("p",{className:"text-xs font-bold text-emerald-700 uppercase",children:"Sales"})]}),u.jsxs("p",{className:"text-2xl font-black text-emerald-600",children:["",N.totalSales.toLocaleString()]}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[N.saleCount," bills"]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[N.totalSaleItems," items"]})]})]}),u.jsx("div",{className:"mt-4 bg-white/80 backdrop-blur rounded-lg p-4 border-2 border-purple-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(V1,{className:"text-purple-600",size:18}),u.jsx("p",{className:"text-xs font-bold text-purple-700 uppercase",children:"Net Profit"})]}),u.jsxs("p",{className:`text-2xl font-black ${N.totalSales-N.totalPurchases>=0?"text-emerald-600":"text-rose-600"}`,children:["",(N.totalSales-N.totalPurchases).toLocaleString()]})]})})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-2 border-emerald-200 rounded-xl p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-500 rounded-xl flex items-center justify-center",children:u.jsx(zu,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black text-emerald-800",children:" Watermelon (Scale)"}),u.jsx("p",{className:"text-xs text-emerald-600 font-semibold",children:"Complete Trading Summary"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-white/80 backdrop-blur rounded-lg p-4 border border-orange-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(aa,{className:"text-orange-600",size:18}),u.jsx("p",{className:"text-xs font-bold text-orange-700 uppercase",children:"Purchases"})]}),u.jsxs("p",{className:"text-2xl font-black text-orange-600",children:["",T.totalPurchases.toLocaleString()]}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[T.purchaseCount," bills"]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[T.totalPurchaseEntries," entries"]}),T.totalPendingPurchase>0&&u.jsxs("p",{className:"text-xs text-rose-600 font-semibold mt-1",children:["Pending: ",T.totalPendingPurchase.toLocaleString()]})]}),u.jsxs("div",{className:"bg-white/80 backdrop-blur rounded-lg p-4 border border-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(nc,{className:"text-blue-600",size:18}),u.jsx("p",{className:"text-xs font-bold text-blue-700 uppercase",children:"Sales"})]}),u.jsxs("p",{className:"text-2xl font-black text-blue-600",children:["",T.totalSales.toLocaleString()]}),u.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[T.saleCount," bills"]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[T.totalSaleEntries," entries"]}),T.totalPendingSale>0&&u.jsxs("p",{className:"text-xs text-rose-600 font-semibold mt-1",children:["Pending: ",T.totalPendingSale.toLocaleString()]})]})]}),u.jsx("div",{className:"mt-4 bg-white/80 backdrop-blur rounded-lg p-4 border-2 border-emerald-300",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(V1,{className:"text-emerald-600",size:18}),u.jsx("p",{className:"text-xs font-bold text-emerald-700 uppercase",children:"Net Profit"})]}),u.jsxs("p",{className:`text-2xl font-black ${T.totalSales-T.totalPurchases>=0?"text-emerald-600":"text-rose-600"}`,children:["",(T.totalSales-T.totalPurchases).toLocaleString()]})]})})]})]}),u.jsx("div",{className:"mb-8",children:N.purchaseCount===0&&N.saleCount===0&&T.purchaseCount===0&&T.saleCount===0?u.jsx("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 border-2 border-dashed border-slate-300 rounded-xl p-8 text-center",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center",children:u.jsx(XV,{className:"text-slate-400",size:32})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-bold text-slate-700 mb-2",children:"No Trading Data Yet"}),u.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Start adding purchases and sales to see your trading summary here!"}),u.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[u.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-xs font-semibold rounded-full",children:" Add Grapes Purchase/Sale"}),u.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 text-xs font-semibold rounded-full",children:" Add Watermelon Purchase/Sale"})]})]})]})}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:u.jsx(Ex,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-black text-purple-800",children:"Grapes Trading"}),u.jsx("p",{className:"text-xs text-purple-600 font-semibold",children:"Scale-based transactions"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4 mb-3 md:mb-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4 border-2 border-orange-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(aa,{className:"text-orange-600",size:18}),u.jsx("h5",{className:"text-sm font-bold text-orange-700 uppercase",children:"Purchases"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Bills"}),u.jsx("p",{className:"text-2xl font-black text-slate-800",children:N.purchaseCount})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Amount"}),u.jsxs("p",{className:"text-xl font-black text-orange-600",children:["",N.totalPurchases.toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Avg per Bill"}),u.jsxs("p",{className:"text-sm font-bold text-slate-700",children:["",Math.round(N.avgPurchase).toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Items"}),u.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[N.totalPurchaseItems," items"]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4 border-2 border-emerald-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(nc,{className:"text-emerald-600",size:18}),u.jsx("h5",{className:"text-sm font-bold text-emerald-700 uppercase",children:"Sales"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Bills"}),u.jsx("p",{className:"text-2xl font-black text-slate-800",children:N.saleCount})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Amount"}),u.jsxs("p",{className:"text-xl font-black text-emerald-600",children:["",N.totalSales.toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Avg per Bill"}),u.jsxs("p",{className:"text-sm font-bold text-slate-700",children:["",Math.round(N.avgSale).toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Items"}),u.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[N.totalSaleItems," items"]})]})]})]})]}),u.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg p-4 text-white",children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold opacity-90",children:"Net Grapes Trading"}),u.jsxs("p",{className:"text-2xl font-black",children:["",(N.totalSales-N.totalPurchases).toLocaleString()]})]}),u.jsxs("div",{className:"sm:text-right",children:[u.jsx("p",{className:"text-xs font-semibold opacity-90",children:"Total Bills"}),u.jsx("p",{className:"text-xl font-black",children:N.purchaseCount+N.saleCount})]})]})})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-2 border-emerald-200 rounded-xl p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-500 rounded-xl flex items-center justify-center",children:u.jsx(zu,{className:"text-white",size:24})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-black text-emerald-800",children:"Watermelon Trading"}),u.jsx("p",{className:"text-xs text-emerald-600 font-semibold",children:"With discount & advance tracking"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4 mb-3 md:mb-4",children:[u.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4 border-2 border-orange-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(aa,{className:"text-orange-600",size:18}),u.jsx("h5",{className:"text-sm font-bold text-orange-700 uppercase",children:"Purchases"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Farmers"}),u.jsx("p",{className:"text-2xl font-black text-slate-800",children:T.purchaseCount})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Entries"}),u.jsx("p",{className:"text-lg font-bold text-slate-700",children:T.totalPurchaseEntries})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Amount"}),u.jsxs("p",{className:"text-xl font-black text-orange-600",children:["",T.totalPurchases.toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Pending"}),u.jsxs("p",{className:"text-sm font-bold text-rose-600",children:["",T.totalPendingPurchase.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg p-3 md:p-4 border-2 border-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(nc,{className:"text-blue-600",size:18}),u.jsx("h5",{className:"text-sm font-bold text-blue-700 uppercase",children:"Sales"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Buyers"}),u.jsx("p",{className:"text-2xl font-black text-slate-800",children:T.saleCount})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Entries"}),u.jsx("p",{className:"text-lg font-bold text-slate-700",children:T.totalSaleEntries})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Total Amount"}),u.jsxs("p",{className:"text-xl font-black text-blue-600",children:["",T.totalSales.toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-slate-500 font-semibold",children:"Pending"}),u.jsxs("p",{className:"text-sm font-bold text-rose-600",children:["",T.totalPendingSale.toLocaleString()]})]})]})]})]}),u.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-green-600 rounded-lg p-4 text-white",children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold opacity-90",children:"Net Watermelon Trading"}),u.jsxs("p",{className:"text-2xl font-black",children:["",(T.totalSales-T.totalPurchases).toLocaleString()]})]}),u.jsxs("div",{className:"sm:text-right",children:[u.jsx("p",{className:"text-xs font-semibold opacity-90",children:"Total Records"}),u.jsx("p",{className:"text-xl font-black",children:T.purchaseCount+T.saleCount})]})]})})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[u.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:u.jsx(Ex,{className:"text-white",size:20})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-purple-800",children:"Grapes Invoices"}),u.jsx("p",{className:"text-xs text-purple-600 font-semibold",children:"Click to view details"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-bold text-orange-700 mb-3 flex items-center gap-2",children:[u.jsx(aa,{size:16}),"Purchase Bills (",c.length,")"]}),u.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[c.length===0?u.jsxs("div",{className:"text-center py-8 text-slate-400",children:[u.jsx(Xi,{className:"mx-auto mb-2 opacity-30",size:24}),u.jsx("p",{className:"text-xs font-semibold",children:"No purchases yet"})]}):c.slice(0,10).map(z=>u.jsxs("button",{onClick:()=>R(z),className:"w-full text-left bg-orange-50 hover:bg-orange-100 border border-orange-200 rounded-lg p-3 transition-all hover:shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-bold text-slate-800 truncate",children:z.farmer.name}),u.jsx("p",{className:"text-xs text-slate-500",children:new Date(z.date).toLocaleDateString("en-IN")})]}),u.jsxs("div",{className:"text-right ml-2",children:[u.jsxs("p",{className:"text-sm font-black text-orange-600",children:["",z.totalAmount.toLocaleString()]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[z.items.length," items"]})]})]}),z.pendingAmount>0&&u.jsxs("div",{className:"text-xs text-rose-600 font-semibold",children:["Pending: ",z.pendingAmount.toLocaleString()]})]},z.id)),c.length>10&&u.jsxs("p",{className:"text-xs text-center text-slate-400 mt-2",children:["Showing 10 of ",c.length]})]})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-bold text-emerald-700 mb-3 flex items-center gap-2",children:[u.jsx(nc,{size:16}),"Sale Bills (",l.length,")"]}),u.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[l.length===0?u.jsxs("div",{className:"text-center py-8 text-slate-400",children:[u.jsx(Xi,{className:"mx-auto mb-2 opacity-30",size:24}),u.jsx("p",{className:"text-xs font-semibold",children:"No sales yet"})]}):l.slice(0,10).map(z=>u.jsxs("button",{onClick:()=>{},className:"w-full text-left bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 rounded-lg p-3 transition-all hover:shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-bold text-slate-800 truncate",children:z.buyer.name}),u.jsx("p",{className:"text-xs text-slate-500",children:new Date(z.date).toLocaleDateString("en-IN")})]}),u.jsxs("div",{className:"text-right ml-2",children:[u.jsxs("p",{className:"text-sm font-black text-emerald-600",children:["",z.totalAmount.toLocaleString()]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[z.items.length," items"]})]})]}),z.pendingAmount>0&&u.jsxs("div",{className:"text-xs text-rose-600 font-semibold",children:["Pending: ",z.pendingAmount.toLocaleString()]})]},z.id)),l.length>10&&u.jsxs("p",{className:"text-xs text-center text-slate-400 mt-2",children:["Showing 10 of ",l.length]})]})]})]})]}),u.jsxs("div",{className:"bg-white border-2 border-emerald-200 rounded-xl p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-green-500 rounded-lg flex items-center justify-center",children:u.jsx(zu,{className:"text-white",size:20})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-emerald-800",children:"Watermelon Invoices"}),u.jsx("p",{className:"text-xs text-emerald-600 font-semibold",children:"Click to view details"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-bold text-orange-700 mb-3 flex items-center gap-2",children:[u.jsx(aa,{size:16}),"Purchase Bills (",d.length,")"]}),u.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[d.length===0?u.jsxs("div",{className:"text-center py-8 text-slate-400",children:[u.jsx(Xi,{className:"mx-auto mb-2 opacity-30",size:24}),u.jsx("p",{className:"text-xs font-semibold",children:"No purchases yet"})]}):d.slice(0,10).map(z=>u.jsxs("button",{onClick:()=>{},className:"w-full text-left bg-orange-50 hover:bg-orange-100 border border-orange-200 rounded-lg p-3 transition-all hover:shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-bold text-slate-800 truncate",children:z.farmer.name}),u.jsx("p",{className:"text-xs text-slate-500",children:new Date(z.date).toLocaleDateString("en-IN")})]}),u.jsxs("div",{className:"text-right ml-2",children:[u.jsxs("p",{className:"text-sm font-black text-orange-600",children:["",z.totalAmount.toLocaleString()]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[z.entries.length," entries"]})]})]}),z.pendingAmount>0&&u.jsxs("div",{className:"text-xs text-rose-600 font-semibold",children:["Pending: ",z.pendingAmount.toLocaleString()]})]},z.id)),d.length>10&&u.jsxs("p",{className:"text-xs text-center text-slate-400 mt-2",children:["Showing 10 of ",d.length]})]})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-bold text-blue-700 mb-3 flex items-center gap-2",children:[u.jsx(nc,{size:16}),"Sale Bills (",h.length,")"]}),u.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[h.length===0?u.jsxs("div",{className:"text-center py-8 text-slate-400",children:[u.jsx(Xi,{className:"mx-auto mb-2 opacity-30",size:24}),u.jsx("p",{className:"text-xs font-semibold",children:"No sales yet"})]}):h.slice(0,10).map(z=>u.jsxs("button",{onClick:()=>{},className:"w-full text-left bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-lg p-3 transition-all hover:shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-bold text-slate-800 truncate",children:z.buyer.name}),u.jsx("p",{className:"text-xs text-slate-500",children:new Date(z.date).toLocaleDateString("en-IN")})]}),u.jsxs("div",{className:"text-right ml-2",children:[u.jsxs("p",{className:"text-sm font-black text-blue-600",children:["",z.totalAmount.toLocaleString()]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[z.entries.length," entries"]})]})]}),z.pendingAmount>0&&u.jsxs("div",{className:"text-xs text-rose-600 font-semibold",children:["Pending: ",z.pendingAmount.toLocaleString()]})]},z.id)),h.length>10&&u.jsxs("p",{className:"text-xs text-center text-slate-400 mt-2",children:["Showing 10 of ",h.length]})]})]})]})]})]})]}),u.jsx(GL,{isOpen:f,onClose:()=>{b(!1),$(null)},onAdd:t,onUpdate:e,purchaseToEdit:F}),u.jsx(kD,{isOpen:x,onClose:()=>{w(!1),E(null)},onAdd:n,onUpdate:r,saleToEdit:I,sales:l}),u.jsx(jD,{isOpen:v,onClose:()=>_(!1),onAdd:s}),u.jsx(vne,{isOpen:!!A,onClose:()=>R(null),purchase:A,onEdit:k})]})};var c2="focusScope.autoFocusOnMount",u2="focusScope.autoFocusOnUnmount",LT={bubbles:!1,cancelable:!0},wne="FocusScope",ID=L.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=L.useState(null),c=Ea(s),d=Ea(i),h=L.useRef(null),p=Ms(e,x=>l(x)),f=L.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;L.useEffect(()=>{if(r){let x=function(A){if(f.paused||!a)return;const R=A.target;a.contains(R)?h.current=R:Jl(h.current,{select:!0})},w=function(A){if(f.paused||!a)return;const R=A.relatedTarget;R!==null&&(a.contains(R)||Jl(h.current,{select:!0}))},v=function(A){if(document.activeElement===document.body)for(const F of A)F.removedNodes.length>0&&Jl(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const _=new MutationObserver(v);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),_.disconnect()}}},[r,a,f.paused]),L.useEffect(()=>{if(a){MT.add(f);const x=document.activeElement;if(!a.contains(x)){const v=new CustomEvent(c2,LT);a.addEventListener(c2,c),a.dispatchEvent(v),v.defaultPrevented||(_ne(Tne(RD(a)),{select:!0}),document.activeElement===x&&Jl(a))}return()=>{a.removeEventListener(c2,c),setTimeout(()=>{const v=new CustomEvent(u2,LT);a.addEventListener(u2,d),a.dispatchEvent(v),v.defaultPrevented||Jl(x??document.body,{select:!0}),a.removeEventListener(u2,d),MT.remove(f)},0)}}},[a,c,d,f]);const b=L.useCallback(x=>{if(!n&&!r||f.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(w&&v){const _=x.currentTarget,[A,R]=Sne(_);A&&R?!x.shiftKey&&v===R?(x.preventDefault(),n&&Jl(A,{select:!0})):x.shiftKey&&v===A&&(x.preventDefault(),n&&Jl(R,{select:!0})):v===_&&x.preventDefault()}},[n,r,f.paused]);return u.jsx(_r.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});ID.displayName=wne;function _ne(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Jl(r,{select:e}),document.activeElement!==n)return}function Sne(t){const e=RD(t),n=DT(e,t),r=DT(e.reverse(),t);return[n,r]}function RD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function DT(t,e){for(const n of t)if(!Nne(n,{upTo:e}))return n}function Nne(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ane(t){return t instanceof HTMLInputElement&&"select"in t}function Jl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ane(t)&&e&&t.select()}}var MT=Ene();function Ene(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=OT(t,e),t.unshift(e)},remove(e){var n;t=OT(t,e),(n=t[0])==null||n.resume()}}}function OT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Tne(t){return t.filter(e=>e.tagName!=="A")}var d2=0;function Pne(){L.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??FT()),document.body.insertAdjacentElement("beforeend",t[1]??FT()),d2++,()=>{d2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),d2--}},[])}function FT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var da=function(){return da=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},da.apply(this,arguments)};function LD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Cne(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var r1="right-scroll-bar-position",s1="width-before-scroll-bar",kne="with-scroll-bars-hidden",jne="--removed-body-scroll-bar-size";function h2(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ine(t,e){var n=L.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Rne=typeof window<"u"?L.useLayoutEffect:L.useEffect,VT=new WeakMap;function Lne(t,e){var n=Ine(null,function(r){return t.forEach(function(s){return h2(s,r)})});return Rne(function(){var r=VT.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||h2(a,null)}),i.forEach(function(a){s.has(a)||h2(a,o)})}VT.set(n,t)},[t]),n}function Dne(t){return t}function Mne(t,e){e===void 0&&(e=Dne);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function One(t){t===void 0&&(t={});var e=Mne(null);return e.options=da({async:!0,ssr:!1},t),e}var DD=function(t){var e=t.sideCar,n=LD(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return L.createElement(r,da({},n))};DD.isSideCarExport=!0;function Fne(t,e){return t.useMedium(e),DD}var MD=One(),f2=function(){},Ev=L.forwardRef(function(t,e){var n=L.useRef(null),r=L.useState({onScrollCapture:f2,onWheelCapture:f2,onTouchMoveCapture:f2}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,f=t.noRelative,b=t.noIsolation,x=t.inert,w=t.allowPinchZoom,v=t.as,_=v===void 0?"div":v,A=t.gapMode,R=LD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=p,$=Lne([n,e]),I=da(da({},R),s);return L.createElement(L.Fragment,null,d&&L.createElement(F,{sideCar:MD,removeScrollBar:c,shards:h,noRelative:f,noIsolation:b,inert:x,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:A}),o?L.cloneElement(L.Children.only(a),da(da({},I),{ref:$})):L.createElement(_,da({},I,{className:l,ref:$}),a))});Ev.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ev.classNames={fullWidth:s1,zeroRight:r1};var Vne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bne(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Vne();return e&&t.setAttribute("nonce",e),t}function Une(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function zne(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $ne=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Bne())&&(Une(e,n),zne(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qne=function(){var t=$ne();return function(e,n){L.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},OD=function(){var t=qne(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Wne={left:0,top:0,right:0,gap:0},p2=function(t){return parseInt(t||"",10)||0},Hne=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[p2(n),p2(r),p2(s)]},Gne=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Wne;var e=Hne(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Kne=OD(),Sh="data-scroll-locked",Yne=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(kne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Sh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(r1,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(s1,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(r1," .").concat(r1,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(s1," .").concat(s1,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Sh,`] {
    `).concat(jne,": ").concat(a,`px;
  }
`)},BT=function(){var t=parseInt(document.body.getAttribute(Sh)||"0",10);return isFinite(t)?t:0},Qne=function(){L.useEffect(function(){return document.body.setAttribute(Sh,(BT()+1).toString()),function(){var t=BT()-1;t<=0?document.body.removeAttribute(Sh):document.body.setAttribute(Sh,t.toString())}},[])},Xne=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Qne();var i=L.useMemo(function(){return Gne(s)},[s]);return L.createElement(Kne,{styles:Yne(i,!e,s,n?"":"!important")})},Kw=!1;if(typeof window<"u")try{var x0=Object.defineProperty({},"passive",{get:function(){return Kw=!0,!0}});window.addEventListener("test",x0,x0),window.removeEventListener("test",x0,x0)}catch{Kw=!1}var Id=Kw?{passive:!1}:!1,Zne=function(t){return t.tagName==="TEXTAREA"},FD=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Zne(t)&&n[e]==="visible")},Jne=function(t){return FD(t,"overflowY")},ere=function(t){return FD(t,"overflowX")},UT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=VD(t,r);if(s){var i=BD(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},tre=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},nre=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},VD=function(t,e){return t==="v"?Jne(e):ere(e)},BD=function(t,e){return t==="v"?tre(e):nre(e)},rre=function(t,e){return t==="h"&&e==="rtl"?-1:1},sre=function(t,e,n,r,s){var i=rre(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,p=0;do{if(!a)break;var f=BD(t,a),b=f[0],x=f[1],w=f[2],v=x-w-i*b;(b||v)&&VD(t,a)&&(h+=v,p+=b);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},b0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zT=function(t){return[t.deltaX,t.deltaY]},$T=function(t){return t&&"current"in t?t.current:t},ire=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ore=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},are=0,Rd=[];function lre(t){var e=L.useRef([]),n=L.useRef([0,0]),r=L.useRef(),s=L.useState(are++)[0],i=L.useState(OD)[0],o=L.useRef(t);L.useEffect(function(){o.current=t},[t]),L.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=Cne([t.lockRef.current],(t.shards||[]).map($T),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=L.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var v=b0(x),_=n.current,A="deltaX"in x?x.deltaX:_[0]-v[0],R="deltaY"in x?x.deltaY:_[1]-v[1],F,$=x.target,I=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in x&&I==="h"&&$.type==="range")return!1;var E=UT(I,$);if(!E)return!0;if(E?F=I:(F=I==="v"?"h":"v",E=UT(I,$)),!E)return!1;if(!r.current&&"changedTouches"in x&&(A||R)&&(r.current=F),!F)return!0;var C=r.current||F;return sre(C,w,x,C==="h"?A:R,!0)},[]),l=L.useCallback(function(x){var w=x;if(!(!Rd.length||Rd[Rd.length-1]!==i)){var v="deltaY"in w?zT(w):b0(w),_=e.current.filter(function(F){return F.name===w.type&&(F.target===w.target||w.target===F.shadowParent)&&ire(F.delta,v)})[0];if(_&&_.should){w.cancelable&&w.preventDefault();return}if(!_){var A=(o.current.shards||[]).map($T).filter(Boolean).filter(function(F){return F.contains(w.target)}),R=A.length>0?a(w,A[0]):!o.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),c=L.useCallback(function(x,w,v,_){var A={name:x,delta:w,target:v,should:_,shadowParent:cre(v)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(R){return R!==A})},1)},[]),d=L.useCallback(function(x){n.current=b0(x),r.current=void 0},[]),h=L.useCallback(function(x){c(x.type,zT(x),x.target,a(x,t.lockRef.current))},[]),p=L.useCallback(function(x){c(x.type,b0(x),x.target,a(x,t.lockRef.current))},[]);L.useEffect(function(){return Rd.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Id),document.addEventListener("touchmove",l,Id),document.addEventListener("touchstart",d,Id),function(){Rd=Rd.filter(function(x){return x!==i}),document.removeEventListener("wheel",l,Id),document.removeEventListener("touchmove",l,Id),document.removeEventListener("touchstart",d,Id)}},[]);var f=t.removeScrollBar,b=t.inert;return L.createElement(L.Fragment,null,b?L.createElement(i,{styles:ore(s)}):null,f?L.createElement(Xne,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function cre(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ure=Fne(MD,lre);var UD=L.forwardRef(function(t,e){return L.createElement(Ev,da({},t,{ref:e,sideCar:ure}))});UD.classNames=Ev.classNames;var dre=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ld=new WeakMap,w0=new WeakMap,_0={},m2=0,zD=function(t){return t&&(t.host||zD(t.parentNode))},hre=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=zD(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fre=function(t,e,n,r){var s=hre(e,Array.isArray(t)?t:[t]);_0[n]||(_0[n]=new WeakMap);var i=_0[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var f=p.getAttribute(r),b=f!==null&&f!=="false",x=(Ld.get(p)||0)+1,w=(i.get(p)||0)+1;Ld.set(p,x),i.set(p,w),o.push(p),x===1&&b&&w0.set(p,!0),w===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return d(e),a.clear(),m2++,function(){o.forEach(function(h){var p=Ld.get(h)-1,f=i.get(h)-1;Ld.set(h,p),i.set(h,f),p||(w0.has(h)||h.removeAttribute(r),w0.delete(h)),f||h.removeAttribute(n)}),m2--,m2||(Ld=new WeakMap,Ld=new WeakMap,w0=new WeakMap,_0={})}},pre=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=dre(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),fre(r,s,n,"aria-hidden")):function(){return null}},Tv="Dialog",[$D,ece]=Qm(Tv),[mre,Oo]=$D(Tv),qD=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=L.useRef(null),l=L.useRef(null),[c,d]=Yk({prop:r,defaultProp:s??!1,onChange:i,caller:Tv});return u.jsx(mre,{scope:e,triggerRef:a,contentRef:l,contentId:Px(),titleId:Px(),descriptionId:Px(),open:c,onOpenChange:d,onOpenToggle:L.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};qD.displayName=Tv;var WD="DialogTrigger",gre=L.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Oo(WD,n),i=Ms(e,s.triggerRef);return u.jsx(_r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":eN(s.open),...r,ref:i,onClick:Gn(t.onClick,s.onOpenToggle)})});gre.displayName=WD;var ZS="DialogPortal",[yre,HD]=$D(ZS,{forceMount:void 0}),GD=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Oo(ZS,e);return u.jsx(yre,{scope:e,forceMount:n,children:L.Children.map(r,o=>u.jsx(cf,{present:n||i.open,children:u.jsx(u_,{asChild:!0,container:s,children:o})}))})};GD.displayName=ZS;var yy="DialogOverlay",KD=L.forwardRef((t,e)=>{const n=HD(yy,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Oo(yy,t.__scopeDialog);return i.modal?u.jsx(cf,{present:r||i.open,children:u.jsx(xre,{...s,ref:e})}):null});KD.displayName=yy;var vre=M1("DialogOverlay.RemoveScroll"),xre=L.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Oo(yy,n);return u.jsx(UD,{as:vre,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(_r.div,{"data-state":eN(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),rd="DialogContent",YD=L.forwardRef((t,e)=>{const n=HD(rd,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Oo(rd,t.__scopeDialog);return u.jsx(cf,{present:r||i.open,children:i.modal?u.jsx(bre,{...s,ref:e}):u.jsx(wre,{...s,ref:e})})});YD.displayName=rd;var bre=L.forwardRef((t,e)=>{const n=Oo(rd,t.__scopeDialog),r=L.useRef(null),s=Ms(e,n.contentRef,r);return L.useEffect(()=>{const i=r.current;if(i)return pre(i)},[]),u.jsx(QD,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Gn(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Gn(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Gn(t.onFocusOutside,i=>i.preventDefault())})}),wre=L.forwardRef((t,e)=>{const n=Oo(rd,t.__scopeDialog),r=L.useRef(!1),s=L.useRef(!1);return u.jsx(QD,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),QD=L.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Oo(rd,n),l=L.useRef(null),c=Ms(e,l);return Pne(),u.jsxs(u.Fragment,{children:[u.jsx(ID,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(qy,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":eN(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(_re,{titleId:a.titleId}),u.jsx(Nre,{contentRef:l,descriptionId:a.descriptionId})]})]})}),JS="DialogTitle",XD=L.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Oo(JS,n);return u.jsx(_r.h2,{id:s.titleId,...r,ref:e})});XD.displayName=JS;var ZD="DialogDescription",JD=L.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Oo(ZD,n);return u.jsx(_r.p,{id:s.descriptionId,...r,ref:e})});JD.displayName=ZD;var e7="DialogClose",t7=L.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Oo(e7,n);return u.jsx(_r.button,{type:"button",...r,ref:e,onClick:Gn(t.onClick,()=>s.onOpenChange(!1))})});t7.displayName=e7;function eN(t){return t?"open":"closed"}var n7="DialogTitleWarning",[tce,r7]=Z9(n7,{contentName:rd,titleName:JS,docsSlug:"dialog"}),_re=({titleId:t})=>{const e=r7(n7),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return L.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Sre="DialogDescriptionWarning",Nre=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r7(Sre).contentName}}.`;return L.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Are=qD,Ere=GD,s7=KD,i7=YD,o7=XD,a7=JD,Tre=t7;const Pv=Are,Pre=Ere,l7=L.forwardRef(({className:t,...e},n)=>u.jsx(s7,{ref:n,className:io("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));l7.displayName=s7.displayName;const dg=L.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Pre,{children:[u.jsx(l7,{}),u.jsxs(i7,{ref:r,className:io("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(Tre,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(Ci,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dg.displayName=i7.displayName;const hg=({className:t,...e})=>u.jsx("div",{className:io("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});hg.displayName="DialogHeader";const fg=L.forwardRef(({className:t,...e},n)=>u.jsx(o7,{ref:n,className:io("text-lg font-semibold leading-none tracking-tight",t),...e}));fg.displayName=o7.displayName;const Cre=L.forwardRef(({className:t,...e},n)=>u.jsx(a7,{ref:n,className:io("text-sm text-muted-foreground",t),...e}));Cre.displayName=a7.displayName;const kre="modulepreload",jre=function(t){return"/"+t},qT={},g2=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=jre(l),l in qT)return;qT[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":kre,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,f)=>{h.addEventListener("load",p),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function mn(t){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(t)}var Mo=Uint8Array,xi=Uint16Array,tN=Int32Array,nN=new Mo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rN=new Mo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),WT=new Mo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c7=function(t,e){for(var n=new xi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new tN(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},u7=c7(nN,2),Ire=u7.b,Yw=u7.r;Ire[28]=258,Yw[258]=28;var Rre=c7(rN,0),HT=Rre.r,Qw=new xi(32768);for(var Bn=0;Bn<32768;++Bn){var Kl=(Bn&43690)>>1|(Bn&21845)<<1;Kl=(Kl&52428)>>2|(Kl&13107)<<2,Kl=(Kl&61680)>>4|(Kl&3855)<<4,Qw[Bn]=((Kl&65280)>>8|(Kl&255)<<8)>>1}var Hp=function(t,e,n){for(var r=t.length,s=0,i=new xi(e);s<r;++s)t[s]&&++i[t[s]-1];var o=new xi(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(n){a=new xi(1<<e);var l=15-e;for(s=0;s<r;++s)if(t[s])for(var c=s<<4|t[s],d=e-t[s],h=o[t[s]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)a[Qw[h]>>l]=c}else for(a=new xi(r),s=0;s<r;++s)t[s]&&(a[s]=Qw[o[t[s]-1]++]>>15-t[s]);return a},sd=new Mo(288);for(var Bn=0;Bn<144;++Bn)sd[Bn]=8;for(var Bn=144;Bn<256;++Bn)sd[Bn]=9;for(var Bn=256;Bn<280;++Bn)sd[Bn]=7;for(var Bn=280;Bn<288;++Bn)sd[Bn]=8;var vy=new Mo(32);for(var Bn=0;Bn<32;++Bn)vy[Bn]=5;var Lre=Hp(sd,9,0),Dre=Hp(vy,5,0),d7=function(t){return(t+7)/8|0},Mre=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Mo(t.subarray(e,n))},Qa=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},ap=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},y2=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:f7,l:0};if(s==1){var o=new Mo(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(F,$){return F.f-$.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,d=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=s-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=d&&n[c].f<n[h].f?c++:h++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var p=i[0].s,r=1;r<s;++r)i[r].s>p&&(p=i[r].s);var f=new xi(p+1),b=Xw(n[d-1],f,0);if(b>e){var r=0,x=0,w=b-e,v=1<<w;for(i.sort(function($,I){return f[I.s]-f[$.s]||$.f-I.f});r<s;++r){var _=i[r].s;if(f[_]>e)x+=v-(1<<b-f[_]),f[_]=e;else break}for(x>>=w;x>0;){var A=i[r].s;f[A]<e?x-=1<<e-f[A]++-1:++r}for(;r>=0&&x;--r){var R=i[r].s;f[R]==e&&(--f[R],++x)}b=e}return{t:new Mo(f),l:b}},Xw=function(t,e,n){return t.s==-1?Math.max(Xw(t.l,e,n+1),Xw(t.r,e,n+1)):e[t.s]=n},GT=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new xi(++e),r=0,s=t[0],i=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:n.subarray(0,r),n:e}},lp=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},h7=function(t,e,n){var r=n.length,s=d7(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},KT=function(t,e,n,r,s,i,o,a,l,c,d){Qa(e,d++,n),++s[256];for(var h=y2(s,15),p=h.t,f=h.l,b=y2(i,15),x=b.t,w=b.l,v=GT(p),_=v.c,A=v.n,R=GT(x),F=R.c,$=R.n,I=new xi(19),E=0;E<_.length;++E)++I[_[E]&31];for(var E=0;E<F.length;++E)++I[F[E]&31];for(var C=y2(I,7),M=C.t,N=C.l,T=19;T>4&&!M[WT[T-1]];--T);var k=c+5<<3,z=lp(s,sd)+lp(i,vy)+o,K=lp(s,p)+lp(i,x)+o+14+3*T+lp(I,M)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&k<=z&&k<=K)return h7(e,d,t.subarray(l,l+c));var ae,ie,Y,ee;if(Qa(e,d,1+(K<z)),d+=2,K<z){ae=Hp(p,f,0),ie=p,Y=Hp(x,w,0),ee=x;var se=Hp(M,N,0);Qa(e,d,A-257),Qa(e,d+5,$-1),Qa(e,d+10,T-4),d+=14;for(var E=0;E<T;++E)Qa(e,d+3*E,M[WT[E]]);d+=3*T;for(var ce=[_,F],V=0;V<2;++V)for(var Q=ce[V],E=0;E<Q.length;++E){var Z=Q[E]&31;Qa(e,d,se[Z]),d+=M[Z],Z>15&&(Qa(e,d,Q[E]>>5&127),d+=Q[E]>>12)}}else ae=Lre,ie=sd,Y=Dre,ee=vy;for(var E=0;E<a;++E){var le=r[E];if(le>255){var Z=le>>18&31;ap(e,d,ae[Z+257]),d+=ie[Z+257],Z>7&&(Qa(e,d,le>>23&31),d+=nN[Z]);var de=le&31;ap(e,d,Y[de]),d+=ee[de],de>3&&(ap(e,d,le>>5&8191),d+=rN[de])}else ap(e,d,ae[le]),d+=ie[le]}return ap(e,d,ae[256]),d+ie[256]},Ore=new tN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),f7=new Mo(0),Fre=function(t,e,n,r,s,i){var o=i.z||t.length,a=new Mo(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),c=i.l,d=(i.r||0)&7;if(e){d&&(l[0]=i.r>>3);for(var h=Ore[e-1],p=h>>13,f=h&8191,b=(1<<n)-1,x=i.p||new xi(32768),w=i.h||new xi(b+1),v=Math.ceil(n/3),_=2*v,A=function($e){return(t[$e]^t[$e+1]<<v^t[$e+2]<<_)&b},R=new tN(25e3),F=new xi(288),$=new xi(32),I=0,E=0,C=i.i||0,M=0,N=i.w||0,T=0;C+2<o;++C){var k=A(C),z=C&32767,K=w[k];if(x[z]=K,w[k]=z,N<=C){var ae=o-C;if((I>7e3||M>24576)&&(ae>423||!c)){d=KT(t,l,0,R,F,$,E,M,T,C-T,d),M=I=E=0,T=C;for(var ie=0;ie<286;++ie)F[ie]=0;for(var ie=0;ie<30;++ie)$[ie]=0}var Y=2,ee=0,se=f,ce=z-K&32767;if(ae>2&&k==A(C-ce))for(var V=Math.min(p,ae)-1,Q=Math.min(32767,C),Z=Math.min(258,ae);ce<=Q&&--se&&z!=K;){if(t[C+Y]==t[C+Y-ce]){for(var le=0;le<Z&&t[C+le]==t[C+le-ce];++le);if(le>Y){if(Y=le,ee=ce,le>V)break;for(var de=Math.min(ce,le-2),pe=0,ie=0;ie<de;++ie){var oe=C-ce+ie&32767,fe=x[oe],_e=oe-fe&32767;_e>pe&&(pe=_e,K=oe)}}}z=K,K=x[z],ce+=z-K&32767}if(ee){R[M++]=268435456|Yw[Y]<<18|HT[ee];var Pe=Yw[Y]&31,Me=HT[ee]&31;E+=nN[Pe]+rN[Me],++F[257+Pe],++$[Me],N=C+Y,++I}else R[M++]=t[C],++F[t[C]]}}for(C=Math.max(C,N);C<o;++C)R[M++]=t[C],++F[t[C]];d=KT(t,l,c,R,F,$,E,M,T,C-T,d),c||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=w,i.p=x,i.i=C,i.w=N)}else{for(var C=i.w||0;C<o+c;C+=65535){var Oe=C+65535;Oe>=o&&(l[d/8|0]=c,Oe=o),d=h7(l,d+1,t.subarray(C,Oe))}i.i=o}return Mre(a,0,r+d7(d)+s)},p7=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=n.length|0,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Vre=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Mo(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return Fre(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},m7=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Bre=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=p7();s.p(e.dictionary),m7(t,2,s.d())}};function Zw(t,e){e||(e={});var n=p7();n.p(t);var r=Vre(t,e,e.dictionary?6:2,4);return Bre(r,e),m7(r,r.length-4,n.d()),r}var Ure=typeof TextDecoder<"u"&&new TextDecoder,zre=0;try{Ure.decode(f7,{stream:!0}),zre=1}catch{}function $re(t){if(Array.isArray(t))return t}function qre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function YT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Wre(t,e){if(t){if(typeof t=="string")return YT(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YT(t,e):void 0}}function Hre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QT(t,e){return $re(t)||qre(t,e)||Wre(t,e)||Hre()}function XT(t,e="utf8"){return new TextDecoder(e).decode(t)}const Gre=new TextEncoder;function Kre(t){return Gre.encode(t)}const Yre=1024*8,Qre=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),v2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class sN{constructor(e=Yre,n={}){pn(this,"buffer");pn(this,"byteLength");pn(this,"byteOffset");pn(this,"length");pn(this,"offset");pn(this,"lastWrittenByte");pn(this,"littleEndian");pn(this,"_data");pn(this,"_mark");pn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,i=e.byteLength-s;let o=s;(ArrayBuffer.isView(e)||e instanceof sN)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=v2[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+r);if(this.littleEndian===Qre&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(s,s+r));a.reverse();const l=new v2[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new v2[n](i);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return XT(this.readBytes(e))}decodeText(e=1,n="utf8"){return XT(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Kre(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Xre=4,ZT=0,JT=1,Zre=2;function Tf(t){let e=t.length;for(;--e>=0;)t[e]=0}const Jre=0,g7=1,ese=2,tse=3,nse=258,iN=29,pg=256,Lm=pg+1+iN,Nh=30,oN=19,y7=2*Lm+1,ju=15,x2=16,rse=7,aN=256,v7=16,x7=17,b7=18,Jw=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),i1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),sse=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),w7=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ise=512,tl=new Array((Lm+2)*2);Tf(tl);const Gp=new Array(Nh*2);Tf(Gp);const Dm=new Array(ise);Tf(Dm);const Mm=new Array(nse-tse+1);Tf(Mm);const lN=new Array(iN);Tf(lN);const xy=new Array(Nh);Tf(xy);function b2(t,e,n,r,s){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=t&&t.length}let _7,S7,N7;function w2(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const A7=t=>t<256?Dm[t]:Dm[256+(t>>>7)],Om=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},ei=(t,e,n)=>{t.bi_valid>x2-n?(t.bi_buf|=e<<t.bi_valid&65535,Om(t,t.bi_buf),t.bi_buf=e>>x2-t.bi_valid,t.bi_valid+=n-x2):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},ha=(t,e,n)=>{ei(t,n[e*2],n[e*2+1])},E7=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},ose=t=>{t.bi_valid===16?(Om(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},ase=(t,e)=>{const n=e.dyn_tree,r=e.max_code,s=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,d,h,p,f,b,x=0;for(p=0;p<=ju;p++)t.bl_count[p]=0;for(n[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<y7;c++)d=t.heap[c],p=n[n[d*2+1]*2+1]+1,p>l&&(p=l,x++),n[d*2+1]=p,!(d>r)&&(t.bl_count[p]++,f=0,d>=a&&(f=o[d-a]),b=n[d*2],t.opt_len+=b*(p+f),i&&(t.static_len+=b*(s[d*2+1]+f)));if(x!==0){do{for(p=l-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[l]--,x-=2}while(x>0);for(p=l;p!==0;p--)for(d=t.bl_count[p];d!==0;)h=t.heap[--c],!(h>r)&&(n[h*2+1]!==p&&(t.opt_len+=(p-n[h*2+1])*n[h*2],n[h*2+1]=p),d--)}},T7=(t,e,n)=>{const r=new Array(ju+1);let s=0,i,o;for(i=1;i<=ju;i++)s=s+n[i-1]<<1,r[i]=s;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=E7(r[a]++,a))}},lse=()=>{let t,e,n,r,s;const i=new Array(ju+1);for(n=0,r=0;r<iN-1;r++)for(lN[r]=n,t=0;t<1<<Jw[r];t++)Mm[n++]=r;for(Mm[n-1]=r,s=0,r=0;r<16;r++)for(xy[r]=s,t=0;t<1<<i1[r];t++)Dm[s++]=r;for(s>>=7;r<Nh;r++)for(xy[r]=s<<7,t=0;t<1<<i1[r]-7;t++)Dm[256+s++]=r;for(e=0;e<=ju;e++)i[e]=0;for(t=0;t<=143;)tl[t*2+1]=8,t++,i[8]++;for(;t<=255;)tl[t*2+1]=9,t++,i[9]++;for(;t<=279;)tl[t*2+1]=7,t++,i[7]++;for(;t<=287;)tl[t*2+1]=8,t++,i[8]++;for(T7(tl,Lm+1,i),t=0;t<Nh;t++)Gp[t*2+1]=5,Gp[t*2]=E7(t,5);_7=new b2(tl,Jw,pg+1,Lm,ju),S7=new b2(Gp,i1,0,Nh,ju),N7=new b2(new Array(0),sse,0,oN,rse)},P7=t=>{let e;for(e=0;e<Lm;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Nh;e++)t.dyn_dtree[e*2]=0;for(e=0;e<oN;e++)t.bl_tree[e*2]=0;t.dyn_ltree[aN*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},C7=t=>{t.bi_valid>8?Om(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},eP=(t,e,n,r)=>{const s=e*2,i=n*2;return t[s]<t[i]||t[s]===t[i]&&r[e]<=r[n]},_2=(t,e,n)=>{const r=t.heap[n];let s=n<<1;for(;s<=t.heap_len&&(s<t.heap_len&&eP(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!eP(e,r,t.heap[s],t.depth));)t.heap[n]=t.heap[s],n=s,s<<=1;t.heap[n]=r},tP=(t,e,n)=>{let r,s,i=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+i++]&255,r+=(t.pending_buf[t.sym_buf+i++]&255)<<8,s=t.pending_buf[t.sym_buf+i++],r===0?ha(t,s,e):(o=Mm[s],ha(t,o+pg+1,e),a=Jw[o],a!==0&&(s-=lN[o],ei(t,s,a)),r--,o=A7(r),ha(t,o,n),a=i1[o],a!==0&&(r-=xy[o],ei(t,r,a)));while(i<t.sym_next);ha(t,aN,e)},e5=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,i=e.stat_desc.elems;let o,a,l=-1,c;for(t.heap_len=0,t.heap_max=y7,o=0;o<i;o++)n[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,n[c*2]=1,t.depth[c]=0,t.opt_len--,s&&(t.static_len-=r[c*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)_2(t,n,o);c=i;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],_2(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[c*2]=n[o*2]+n[a*2],t.depth[c]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=c,t.heap[1]=c++,_2(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],ase(t,e),T7(n,l,t.bl_count)},nP=(t,e,n)=>{let r,s=-1,i,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)i=o,o=e[(r+1)*2+1],!(++a<l&&i===o)&&(a<c?t.bl_tree[i*2]+=a:i!==0?(i!==s&&t.bl_tree[i*2]++,t.bl_tree[v7*2]++):a<=10?t.bl_tree[x7*2]++:t.bl_tree[b7*2]++,a=0,s=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))},rP=(t,e,n)=>{let r,s=-1,i,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(i=o,o=e[(r+1)*2+1],!(++a<l&&i===o)){if(a<c)do ha(t,i,t.bl_tree);while(--a!==0);else i!==0?(i!==s&&(ha(t,i,t.bl_tree),a--),ha(t,v7,t.bl_tree),ei(t,a-3,2)):a<=10?(ha(t,x7,t.bl_tree),ei(t,a-3,3)):(ha(t,b7,t.bl_tree),ei(t,a-11,7));a=0,s=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4)}},cse=t=>{let e;for(nP(t,t.dyn_ltree,t.l_desc.max_code),nP(t,t.dyn_dtree,t.d_desc.max_code),e5(t,t.bl_desc),e=oN-1;e>=3&&t.bl_tree[w7[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},use=(t,e,n,r)=>{let s;for(ei(t,e-257,5),ei(t,n-1,5),ei(t,r-4,4),s=0;s<r;s++)ei(t,t.bl_tree[w7[s]*2+1],3);rP(t,t.dyn_ltree,e-1),rP(t,t.dyn_dtree,n-1)},dse=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return ZT;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return JT;for(n=32;n<pg;n++)if(t.dyn_ltree[n*2]!==0)return JT;return ZT};let sP=!1;const hse=t=>{sP||(lse(),sP=!0),t.l_desc=new w2(t.dyn_ltree,_7),t.d_desc=new w2(t.dyn_dtree,S7),t.bl_desc=new w2(t.bl_tree,N7),t.bi_buf=0,t.bi_valid=0,P7(t)},k7=(t,e,n,r)=>{ei(t,(Jre<<1)+(r?1:0),3),C7(t),Om(t,n),Om(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},fse=t=>{ei(t,g7<<1,3),ha(t,aN,tl),ose(t)},pse=(t,e,n,r)=>{let s,i,o=0;t.level>0?(t.strm.data_type===Zre&&(t.strm.data_type=dse(t)),e5(t,t.l_desc),e5(t,t.d_desc),o=cse(t),s=t.opt_len+3+7>>>3,i=t.static_len+3+7>>>3,i<=s&&(s=i)):s=i=n+5,n+4<=s&&e!==-1?k7(t,e,n,r):t.strategy===Xre||i===s?(ei(t,(g7<<1)+(r?1:0),3),tP(t,tl,Gp)):(ei(t,(ese<<1)+(r?1:0),3),use(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),tP(t,t.dyn_ltree,t.dyn_dtree)),P7(t),r&&C7(t)},mse=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(Mm[n]+pg+1)*2]++,t.dyn_dtree[A7(e)*2]++),t.sym_next===t.sym_end);var gse=hse,yse=k7,vse=pse,xse=mse,bse=fse,wse={_tr_init:gse,_tr_stored_block:yse,_tr_flush_block:vse,_tr_tally:xse,_tr_align:bse};const _se=(t,e,n,r)=>{let s=t&65535|0,i=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do s=s+e[r++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Fm=_se;const Sse=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},Nse=new Uint32Array(Sse()),Ase=(t,e,n,r)=>{const s=Nse,i=r+n;t^=-1;for(let o=r;o<i;o++)t=t>>>8^s[(t^e[o])&255];return t^-1};var Or=Ase,tf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},mg={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ese,_tr_stored_block:t5,_tr_flush_block:Tse,_tr_tally:Ic,_tr_align:Pse}=wse,{Z_NO_FLUSH:Rc,Z_PARTIAL_FLUSH:Cse,Z_FULL_FLUSH:kse,Z_FINISH:Yi,Z_BLOCK:iP,Z_OK:Hr,Z_STREAM_END:oP,Z_STREAM_ERROR:Na,Z_DATA_ERROR:jse,Z_BUF_ERROR:S2,Z_DEFAULT_COMPRESSION:Ise,Z_FILTERED:Rse,Z_HUFFMAN_ONLY:S0,Z_RLE:Lse,Z_FIXED:Dse,Z_DEFAULT_STRATEGY:Mse,Z_UNKNOWN:Ose,Z_DEFLATED:Cv}=mg,Fse=9,Vse=15,Bse=8,Use=29,zse=256,n5=zse+1+Use,$se=30,qse=19,Wse=2*n5+1,Hse=15,Qt=3,gc=258,Aa=gc+Qt+1,Gse=32,nf=42,cN=57,r5=69,s5=73,i5=91,o5=103,Iu=113,bp=666,Rs=1,Pf=2,id=3,Cf=4,Kse=3,Ru=(t,e)=>(t.msg=tf[e],e),aP=t=>t*2-(t>4?9:0),ic=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Yse=t=>{let e,n,r,s=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=s?n-s:0;while(--e);e=s,r=e;do n=t.prev[--r],t.prev[r]=n>=s?n-s:0;while(--e)};let Qse=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Lc=Qse;const mi=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},bi=(t,e)=>{Tse(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,mi(t.strm)},an=(t,e)=>{t.pending_buf[t.pending++]=e},cp=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},a5=(t,e,n,r)=>{let s=t.avail_in;return s>r&&(s=r),s===0?0:(t.avail_in-=s,e.set(t.input.subarray(t.next_in,t.next_in+s),n),t.state.wrap===1?t.adler=Fm(t.adler,e,s,n):t.state.wrap===2&&(t.adler=Or(t.adler,e,s,n)),t.next_in+=s,t.total_in+=s,s)},j7=(t,e)=>{let n=t.max_chain_length,r=t.strstart,s,i,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-Aa?t.strstart-(t.w_size-Aa):0,c=t.window,d=t.w_mask,h=t.prev,p=t.strstart+gc;let f=c[r+o-1],b=c[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(s=e,!(c[s+o]!==b||c[s+o-1]!==f||c[s]!==c[r]||c[++s]!==c[r+1])){r+=2,s++;do;while(c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&r<p);if(i=gc-(p-r),r=p-gc,i>o){if(t.match_start=e,o=i,i>=a)break;f=c[r+o-1],b=c[r+o]}}while((e=h[e&d])>l&&--n!==0);return o<=t.lookahead?o:t.lookahead},rf=t=>{const e=t.w_size;let n,r,s;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Aa)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Yse(t),r+=e),t.strm.avail_in===0)break;if(n=a5(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=Qt)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Lc(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Lc(t,t.ins_h,t.window[s+Qt-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<Qt)););}while(t.lookahead<Aa&&t.strm.avail_in!==0)},I7=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,s,i,o=0,a=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i||(i=t.strm.avail_out-i,s=t.strstart-t.block_start,r>s+t.strm.avail_in&&(r=s+t.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&e!==Yi||e===Rc||r!==s+t.strm.avail_in)))break;o=e===Yi&&r===s+t.strm.avail_in?1:0,t5(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,mi(t.strm),s&&(s>r&&(s=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,r-=s),r&&(a5(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?Cf:e!==Rc&&e!==Yi&&t.strm.avail_in===0&&t.strstart===t.block_start?Pf:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(a5(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,n=i>t.w_size?t.w_size:i,s=t.strstart-t.block_start,(s>=n||(s||e===Yi)&&e!==Rc&&t.strm.avail_in===0&&s<=i)&&(r=s>i?i:s,o=e===Yi&&t.strm.avail_in===0&&r===s?1:0,t5(t,t.block_start,r,o),t.block_start+=r,mi(t.strm)),o?id:Rs)},N2=(t,e)=>{let n,r;for(;;){if(t.lookahead<Aa){if(rf(t),t.lookahead<Aa&&e===Rc)return Rs;if(t.lookahead===0)break}if(n=0,t.lookahead>=Qt&&(t.ins_h=Lc(t,t.ins_h,t.window[t.strstart+Qt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Aa&&(t.match_length=j7(t,n)),t.match_length>=Qt)if(r=Ic(t,t.strstart-t.match_start,t.match_length-Qt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Qt){t.match_length--;do t.strstart++,t.ins_h=Lc(t,t.ins_h,t.window[t.strstart+Qt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Lc(t,t.ins_h,t.window[t.strstart+1]);else r=Ic(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(bi(t,!1),t.strm.avail_out===0))return Rs}return t.insert=t.strstart<Qt-1?t.strstart:Qt-1,e===Yi?(bi(t,!0),t.strm.avail_out===0?id:Cf):t.sym_next&&(bi(t,!1),t.strm.avail_out===0)?Rs:Pf},Dd=(t,e)=>{let n,r,s;for(;;){if(t.lookahead<Aa){if(rf(t),t.lookahead<Aa&&e===Rc)return Rs;if(t.lookahead===0)break}if(n=0,t.lookahead>=Qt&&(t.ins_h=Lc(t,t.ins_h,t.window[t.strstart+Qt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Qt-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Aa&&(t.match_length=j7(t,n),t.match_length<=5&&(t.strategy===Rse||t.match_length===Qt&&t.strstart-t.match_start>4096)&&(t.match_length=Qt-1)),t.prev_length>=Qt&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-Qt,r=Ic(t,t.strstart-1-t.prev_match,t.prev_length-Qt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=Lc(t,t.ins_h,t.window[t.strstart+Qt-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Qt-1,t.strstart++,r&&(bi(t,!1),t.strm.avail_out===0))return Rs}else if(t.match_available){if(r=Ic(t,0,t.window[t.strstart-1]),r&&bi(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Rs}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=Ic(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Qt-1?t.strstart:Qt-1,e===Yi?(bi(t,!0),t.strm.avail_out===0?id:Cf):t.sym_next&&(bi(t,!1),t.strm.avail_out===0)?Rs:Pf},Xse=(t,e)=>{let n,r,s,i;const o=t.window;for(;;){if(t.lookahead<=gc){if(rf(t),t.lookahead<=gc&&e===Rc)return Rs;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Qt&&t.strstart>0&&(s=t.strstart-1,r=o[s],r===o[++s]&&r===o[++s]&&r===o[++s])){i=t.strstart+gc;do;while(r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&s<i);t.match_length=gc-(i-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Qt?(n=Ic(t,1,t.match_length-Qt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Ic(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(bi(t,!1),t.strm.avail_out===0))return Rs}return t.insert=0,e===Yi?(bi(t,!0),t.strm.avail_out===0?id:Cf):t.sym_next&&(bi(t,!1),t.strm.avail_out===0)?Rs:Pf},Zse=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(rf(t),t.lookahead===0)){if(e===Rc)return Rs;break}if(t.match_length=0,n=Ic(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(bi(t,!1),t.strm.avail_out===0))return Rs}return t.insert=0,e===Yi?(bi(t,!0),t.strm.avail_out===0?id:Cf):t.sym_next&&(bi(t,!1),t.strm.avail_out===0)?Rs:Pf};function ea(t,e,n,r,s){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=s}const wp=[new ea(0,0,0,0,I7),new ea(4,4,8,4,N2),new ea(4,5,16,8,N2),new ea(4,6,32,32,N2),new ea(4,4,16,16,Dd),new ea(8,16,32,32,Dd),new ea(8,16,128,128,Dd),new ea(8,32,128,256,Dd),new ea(32,128,258,1024,Dd),new ea(32,258,258,4096,Dd)],Jse=t=>{t.window_size=2*t.w_size,ic(t.head),t.max_lazy_match=wp[t.level].max_lazy,t.good_match=wp[t.level].good_length,t.nice_match=wp[t.level].nice_length,t.max_chain_length=wp[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Qt-1,t.match_available=0,t.ins_h=0};function eie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Cv,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Wse*2),this.dyn_dtree=new Uint16Array((2*$se+1)*2),this.bl_tree=new Uint16Array((2*qse+1)*2),ic(this.dyn_ltree),ic(this.dyn_dtree),ic(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Hse+1),this.heap=new Uint16Array(2*n5+1),ic(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*n5+1),ic(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const gg=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==nf&&e.status!==cN&&e.status!==r5&&e.status!==s5&&e.status!==i5&&e.status!==o5&&e.status!==Iu&&e.status!==bp?1:0},R7=t=>{if(gg(t))return Ru(t,Na);t.total_in=t.total_out=0,t.data_type=Ose;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?cN:e.wrap?nf:Iu,t.adler=e.wrap===2?0:1,e.last_flush=-2,Ese(e),Hr},L7=t=>{const e=R7(t);return e===Hr&&Jse(t.state),e},tie=(t,e)=>gg(t)||t.state.wrap!==2?Na:(t.state.gzhead=e,Hr),D7=(t,e,n,r,s,i)=>{if(!t)return Na;let o=1;if(e===Ise&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),s<1||s>Fse||n!==Cv||r<8||r>15||e<0||e>9||i<0||i>Dse||r===8&&o!==1)return Ru(t,Na);r===8&&(r=9);const a=new eie;return t.state=a,a.strm=t,a.status=nf,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Qt-1)/Qt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=i,a.method=n,L7(t)},nie=(t,e)=>D7(t,e,Cv,Vse,Bse,Mse),rie=(t,e)=>{if(gg(t)||e>iP||e<0)return t?Ru(t,Na):Na;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===bp&&e!==Yi)return Ru(t,t.avail_out===0?S2:Na);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if(mi(t),t.avail_out===0)return n.last_flush=-1,Hr}else if(t.avail_in===0&&aP(e)<=aP(r)&&e!==Yi)return Ru(t,S2);if(n.status===bp&&t.avail_in!==0)return Ru(t,S2);if(n.status===nf&&n.wrap===0&&(n.status=Iu),n.status===nf){let s=Cv+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=S0||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,s|=i<<6,n.strstart!==0&&(s|=Gse),s+=31-s%31,cp(n,s),n.strstart!==0&&(cp(n,t.adler>>>16),cp(n,t.adler&65535)),t.adler=1,n.status=Iu,mi(t),n.pending!==0)return n.last_flush=-1,Hr}if(n.status===cN){if(t.adler=0,an(n,31),an(n,139),an(n,8),n.gzhead)an(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),an(n,n.gzhead.time&255),an(n,n.gzhead.time>>8&255),an(n,n.gzhead.time>>16&255),an(n,n.gzhead.time>>24&255),an(n,n.level===9?2:n.strategy>=S0||n.level<2?4:0),an(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(an(n,n.gzhead.extra.length&255),an(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Or(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=r5;else if(an(n,0),an(n,0),an(n,0),an(n,0),an(n,0),an(n,n.level===9?2:n.strategy>=S0||n.level<2?4:0),an(n,Kse),n.status=Iu,mi(t),n.pending!==0)return n.last_flush=-1,Hr}if(n.status===r5){if(n.gzhead.extra){let s=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>s&&(t.adler=Or(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex+=a,mi(t),n.pending!==0)return n.last_flush=-1,Hr;s=0,i-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>s&&(t.adler=Or(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=s5}if(n.status===s5){if(n.gzhead.name){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(t.adler=Or(t.adler,n.pending_buf,n.pending-s,s)),mi(t),n.pending!==0)return n.last_flush=-1,Hr;s=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,an(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(t.adler=Or(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=i5}if(n.status===i5){if(n.gzhead.comment){let s=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(t.adler=Or(t.adler,n.pending_buf,n.pending-s,s)),mi(t),n.pending!==0)return n.last_flush=-1,Hr;s=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,an(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>s&&(t.adler=Or(t.adler,n.pending_buf,n.pending-s,s))}n.status=o5}if(n.status===o5){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(mi(t),n.pending!==0))return n.last_flush=-1,Hr;an(n,t.adler&255),an(n,t.adler>>8&255),t.adler=0}if(n.status=Iu,mi(t),n.pending!==0)return n.last_flush=-1,Hr}if(t.avail_in!==0||n.lookahead!==0||e!==Rc&&n.status!==bp){let s=n.level===0?I7(n,e):n.strategy===S0?Zse(n,e):n.strategy===Lse?Xse(n,e):wp[n.level].func(n,e);if((s===id||s===Cf)&&(n.status=bp),s===Rs||s===id)return t.avail_out===0&&(n.last_flush=-1),Hr;if(s===Pf&&(e===Cse?Pse(n):e!==iP&&(t5(n,0,0,!1),e===kse&&(ic(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),mi(t),t.avail_out===0))return n.last_flush=-1,Hr}return e!==Yi?Hr:n.wrap<=0?oP:(n.wrap===2?(an(n,t.adler&255),an(n,t.adler>>8&255),an(n,t.adler>>16&255),an(n,t.adler>>24&255),an(n,t.total_in&255),an(n,t.total_in>>8&255),an(n,t.total_in>>16&255),an(n,t.total_in>>24&255)):(cp(n,t.adler>>>16),cp(n,t.adler&65535)),mi(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Hr:oP)},sie=t=>{if(gg(t))return Na;const e=t.state.status;return t.state=null,e===Iu?Ru(t,jse):Hr},iie=(t,e)=>{let n=e.length;if(gg(t))return Na;const r=t.state,s=r.wrap;if(s===2||s===1&&r.status!==nf||r.lookahead)return Na;if(s===1&&(t.adler=Fm(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){s===0&&(ic(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const i=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,rf(r);r.lookahead>=Qt;){let l=r.strstart,c=r.lookahead-(Qt-1);do r.ins_h=Lc(r,r.ins_h,r.window[l+Qt-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=Qt-1,rf(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Qt-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=i,r.wrap=s,Hr};var oie=nie,aie=D7,lie=L7,cie=R7,uie=tie,die=rie,hie=sie,fie=iie,pie="pako deflate (from Nodeca project)",Kp={deflateInit:oie,deflateInit2:aie,deflateReset:lie,deflateResetKeep:cie,deflateSetHeader:uie,deflate:die,deflateEnd:hie,deflateSetDictionary:fie,deflateInfo:pie};const mie=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var gie=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)mie(n,r)&&(t[r]=n[r])}}return t},yie=t=>{let e=0;for(let r=0,s=t.length;r<s;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,s=0,i=t.length;r<i;r++){let o=t[r];n.set(o,s),s+=o.length}return n},kv={assign:gie,flattenChunks:yie};let M7=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{M7=!1}const Vm=new Uint8Array(256);for(let t=0;t<256;t++)Vm[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Vm[254]=Vm[254]=1;var vie=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,s,i,o=t.length,a=0;for(s=0;s<o;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),i=0,s=0;i<a;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<o&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const xie=(t,e)=>{if(e<65534&&t.subarray&&M7)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var bie=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let o=t[r++];if(o<128){i[s++]=o;continue}let a=Vm[o];if(a>4){i[s++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return xie(i,s)},wie=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Vm[t[n]]>e?n:e},Bm={string2buf:vie,buf2string:bie,utf8border:wie};function _ie(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var O7=_ie;const F7=Object.prototype.toString,{Z_NO_FLUSH:Sie,Z_SYNC_FLUSH:Nie,Z_FULL_FLUSH:Aie,Z_FINISH:Eie,Z_OK:by,Z_STREAM_END:Tie,Z_DEFAULT_COMPRESSION:Pie,Z_DEFAULT_STRATEGY:Cie,Z_DEFLATED:kie}=mg;function uN(t){this.options=kv.assign({level:Pie,method:kie,chunkSize:16384,windowBits:15,memLevel:8,strategy:Cie},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O7,this.strm.avail_out=0;let n=Kp.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==by)throw new Error(tf[n]);if(e.header&&Kp.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=Bm.string2buf(e.dictionary):F7.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=Kp.deflateSetDictionary(this.strm,r),n!==by)throw new Error(tf[n]);this._dict_set=!0}}uN.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let s,i;if(this.ended)return!1;for(e===~~e?i=e:i=e===!0?Eie:Sie,typeof t=="string"?n.input=Bm.string2buf(t):F7.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Nie||i===Aie)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(s=Kp.deflate(n,i),s===Tie)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=Kp.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===by;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};uN.prototype.onData=function(t){this.chunks.push(t)};uN.prototype.onEnd=function(t){t===by&&(this.result=kv.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const N0=16209,jie=16191;var Iie=function(e,n){let r,s,i,o,a,l,c,d,h,p,f,b,x,w,v,_,A,R,F,$,I,E,C,M;const N=e.state;r=e.next_in,C=e.input,s=r+(e.avail_in-5),i=e.next_out,M=e.output,o=i-(n-e.avail_out),a=i+(e.avail_out-257),l=N.dmax,c=N.wsize,d=N.whave,h=N.wnext,p=N.window,f=N.hold,b=N.bits,x=N.lencode,w=N.distcode,v=(1<<N.lenbits)-1,_=(1<<N.distbits)-1;e:do{b<15&&(f+=C[r++]<<b,b+=8,f+=C[r++]<<b,b+=8),A=x[f&v];t:for(;;){if(R=A>>>24,f>>>=R,b-=R,R=A>>>16&255,R===0)M[i++]=A&65535;else if(R&16){F=A&65535,R&=15,R&&(b<R&&(f+=C[r++]<<b,b+=8),F+=f&(1<<R)-1,f>>>=R,b-=R),b<15&&(f+=C[r++]<<b,b+=8,f+=C[r++]<<b,b+=8),A=w[f&_];n:for(;;){if(R=A>>>24,f>>>=R,b-=R,R=A>>>16&255,R&16){if($=A&65535,R&=15,b<R&&(f+=C[r++]<<b,b+=8,b<R&&(f+=C[r++]<<b,b+=8)),$+=f&(1<<R)-1,$>l){e.msg="invalid distance too far back",N.mode=N0;break e}if(f>>>=R,b-=R,R=i-o,$>R){if(R=$-R,R>d&&N.sane){e.msg="invalid distance too far back",N.mode=N0;break e}if(I=0,E=p,h===0){if(I+=c-R,R<F){F-=R;do M[i++]=p[I++];while(--R);I=i-$,E=M}}else if(h<R){if(I+=c+h-R,R-=h,R<F){F-=R;do M[i++]=p[I++];while(--R);if(I=0,h<F){R=h,F-=R;do M[i++]=p[I++];while(--R);I=i-$,E=M}}}else if(I+=h-R,R<F){F-=R;do M[i++]=p[I++];while(--R);I=i-$,E=M}for(;F>2;)M[i++]=E[I++],M[i++]=E[I++],M[i++]=E[I++],F-=3;F&&(M[i++]=E[I++],F>1&&(M[i++]=E[I++]))}else{I=i-$;do M[i++]=M[I++],M[i++]=M[I++],M[i++]=M[I++],F-=3;while(F>2);F&&(M[i++]=M[I++],F>1&&(M[i++]=M[I++]))}}else if(R&64){e.msg="invalid distance code",N.mode=N0;break e}else{A=w[(A&65535)+(f&(1<<R)-1)];continue n}break}}else if(R&64)if(R&32){N.mode=jie;break e}else{e.msg="invalid literal/length code",N.mode=N0;break e}else{A=x[(A&65535)+(f&(1<<R)-1)];continue t}break}}while(r<s&&i<a);F=b>>3,r-=F,b-=F<<3,f&=(1<<b)-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=i<a?257+(a-i):257-(i-a),N.hold=f,N.bits=b};const Md=15,lP=852,cP=592,uP=0,A2=1,dP=2,Rie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Lie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Die=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Mie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Oie=(t,e,n,r,s,i,o,a)=>{const l=a.bits;let c=0,d=0,h=0,p=0,f=0,b=0,x=0,w=0,v=0,_=0,A,R,F,$,I,E=null,C;const M=new Uint16Array(Md+1),N=new Uint16Array(Md+1);let T=null,k,z,K;for(c=0;c<=Md;c++)M[c]=0;for(d=0;d<r;d++)M[e[n+d]]++;for(f=l,p=Md;p>=1&&M[p]===0;p--);if(f>p&&(f=p),p===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<p&&M[h]===0;h++);for(f<h&&(f=h),w=1,c=1;c<=Md;c++)if(w<<=1,w-=M[c],w<0)return-1;if(w>0&&(t===uP||p!==1))return-1;for(N[1]=0,c=1;c<Md;c++)N[c+1]=N[c]+M[c];for(d=0;d<r;d++)e[n+d]!==0&&(o[N[e[n+d]]++]=d);if(t===uP?(E=T=o,C=20):t===A2?(E=Rie,T=Lie,C=257):(E=Die,T=Mie,C=0),_=0,d=0,c=h,I=i,b=f,x=0,F=-1,v=1<<f,$=v-1,t===A2&&v>lP||t===dP&&v>cP)return 1;for(;;){k=c-x,o[d]+1<C?(z=0,K=o[d]):o[d]>=C?(z=T[o[d]-C],K=E[o[d]-C]):(z=96,K=0),A=1<<c-x,R=1<<b,h=R;do R-=A,s[I+(_>>x)+R]=k<<24|z<<16|K|0;while(R!==0);for(A=1<<c-1;_&A;)A>>=1;if(A!==0?(_&=A-1,_+=A):_=0,d++,--M[c]===0){if(c===p)break;c=e[n+o[d]]}if(c>f&&(_&$)!==F){for(x===0&&(x=f),I+=h,b=c-x,w=1<<b;b+x<p&&(w-=M[b+x],!(w<=0));)b++,w<<=1;if(v+=1<<b,t===A2&&v>lP||t===dP&&v>cP)return 1;F=_&$,s[F]=f<<24|b<<16|I-i|0}}return _!==0&&(s[I+_]=c-x<<24|64<<16|0),a.bits=f,0};var Yp=Oie;const Fie=0,V7=1,B7=2,{Z_FINISH:hP,Z_BLOCK:Vie,Z_TREES:A0,Z_OK:od,Z_STREAM_END:Bie,Z_NEED_DICT:Uie,Z_STREAM_ERROR:so,Z_DATA_ERROR:U7,Z_MEM_ERROR:z7,Z_BUF_ERROR:zie,Z_DEFLATED:fP}=mg,jv=16180,pP=16181,mP=16182,gP=16183,yP=16184,vP=16185,xP=16186,bP=16187,wP=16188,_P=16189,wy=16190,Xa=16191,E2=16192,SP=16193,T2=16194,NP=16195,AP=16196,EP=16197,TP=16198,E0=16199,T0=16200,PP=16201,CP=16202,kP=16203,jP=16204,IP=16205,P2=16206,RP=16207,LP=16208,Wn=16209,$7=16210,q7=16211,$ie=852,qie=592,Wie=15,Hie=Wie,DP=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Gie(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const gd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<jv||e.mode>q7?1:0},W7=t=>{if(gd(t))return so;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=jv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array($ie),e.distcode=e.distdyn=new Int32Array(qie),e.sane=1,e.back=-1,od},H7=t=>{if(gd(t))return so;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,W7(t)},G7=(t,e)=>{let n;if(gd(t))return so;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?so:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,H7(t))},K7=(t,e)=>{if(!t)return so;const n=new Gie;t.state=n,n.strm=t,n.window=null,n.mode=jv;const r=G7(t,e);return r!==od&&(t.state=null),r},Kie=t=>K7(t,Hie);let MP=!0,C2,k2;const Yie=t=>{if(MP){C2=new Int32Array(512),k2=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Yp(V7,t.lens,0,288,C2,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Yp(B7,t.lens,0,32,k2,0,t.work,{bits:5}),MP=!1}t.lencode=C2,t.lenbits=9,t.distcode=k2,t.distbits=5},Y7=(t,e,n,r)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(e.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},Qie=(t,e)=>{let n,r,s,i,o,a,l,c,d,h,p,f,b,x,w=0,v,_,A,R,F,$,I,E;const C=new Uint8Array(4);let M,N;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gd(t)||!t.output||!t.input&&t.avail_in!==0)return so;n=t.state,n.mode===Xa&&(n.mode=E2),o=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,c=n.hold,d=n.bits,h=a,p=l,E=od;e:for(;;)switch(n.mode){case jv:if(n.wrap===0){n.mode=E2;break}for(;d<16;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=c&255,C[1]=c>>>8&255,n.check=Or(n.check,C,2,0),c=0,d=0,n.mode=pP;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=Wn;break}if((c&15)!==fP){t.msg="unknown compression method",n.mode=Wn;break}if(c>>>=4,d-=4,I=(c&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){t.msg="invalid window size",n.mode=Wn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?_P:Xa,c=0,d=0;break;case pP:for(;d<16;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(n.flags=c,(n.flags&255)!==fP){t.msg="unknown compression method",n.mode=Wn;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Wn;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=Or(n.check,C,2,0)),c=0,d=0,n.mode=mP;case mP:for(;d<32;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,n.check=Or(n.check,C,4,0)),c=0,d=0,n.mode=gP;case gP:for(;d<16;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=Or(n.check,C,2,0)),c=0,d=0,n.mode=yP;case yP:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,n.check=Or(n.check,C,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=vP;case vP:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+f),I)),n.flags&512&&n.wrap&4&&(n.check=Or(n.check,r,f,i)),a-=f,i+=f,n.length-=f),n.length))break e;n.length=0,n.mode=xP;case xP:if(n.flags&2048){if(a===0)break e;f=0;do I=r[i+f++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=Or(n.check,r,f,i)),a-=f,i+=f,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=bP;case bP:if(n.flags&4096){if(a===0)break e;f=0;do I=r[i+f++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=Or(n.check,r,f,i)),a-=f,i+=f,I)break e}else n.head&&(n.head.comment=null);n.mode=wP;case wP:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Wn;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Xa;break;case _P:for(;d<32;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}t.adler=n.check=DP(c),c=0,d=0,n.mode=wy;case wy:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=d,Uie;t.adler=n.check=1,n.mode=Xa;case Xa:if(e===Vie||e===A0)break e;case E2:if(n.last){c>>>=d&7,d-=d&7,n.mode=P2;break}for(;d<3;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}switch(n.last=c&1,c>>>=1,d-=1,c&3){case 0:n.mode=SP;break;case 1:if(Yie(n),n.mode=E0,e===A0){c>>>=2,d-=2;break e}break;case 2:n.mode=AP;break;case 3:t.msg="invalid block type",n.mode=Wn}c>>>=2,d-=2;break;case SP:for(c>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Wn;break}if(n.length=c&65535,c=0,d=0,n.mode=T2,e===A0)break e;case T2:n.mode=NP;case NP:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;s.set(r.subarray(i,i+f),o),a-=f,i+=f,l-=f,o+=f,n.length-=f;break}n.mode=Xa;break;case AP:for(;d<14;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(n.nlen=(c&31)+257,c>>>=5,d-=5,n.ndist=(c&31)+1,c>>>=5,d-=5,n.ncode=(c&15)+4,c>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Wn;break}n.have=0,n.mode=EP;case EP:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.lens[T[n.have++]]=c&7,c>>>=3,d-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},E=Yp(Fie,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,E){t.msg="invalid code lengths set",n.mode=Wn;break}n.have=0,n.mode=TP;case TP:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[c&(1<<n.lenbits)-1],v=w>>>24,_=w>>>16&255,A=w&65535,!(v<=d);){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(A<16)c>>>=v,d-=v,n.lens[n.have++]=A;else{if(A===16){for(N=v+2;d<N;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(c>>>=v,d-=v,n.have===0){t.msg="invalid bit length repeat",n.mode=Wn;break}I=n.lens[n.have-1],f=3+(c&3),c>>>=2,d-=2}else if(A===17){for(N=v+3;d<N;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}c>>>=v,d-=v,I=0,f=3+(c&7),c>>>=3,d-=3}else{for(N=v+7;d<N;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}c>>>=v,d-=v,I=0,f=11+(c&127),c>>>=7,d-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Wn;break}for(;f--;)n.lens[n.have++]=I}}if(n.mode===Wn)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Wn;break}if(n.lenbits=9,M={bits:n.lenbits},E=Yp(V7,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,E){t.msg="invalid literal/lengths set",n.mode=Wn;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},E=Yp(B7,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,E){t.msg="invalid distances set",n.mode=Wn;break}if(n.mode=E0,e===A0)break e;case E0:n.mode=T0;case T0:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=d,Iie(t,p),o=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,r=t.input,a=t.avail_in,c=n.hold,d=n.bits,n.mode===Xa&&(n.back=-1);break}for(n.back=0;w=n.lencode[c&(1<<n.lenbits)-1],v=w>>>24,_=w>>>16&255,A=w&65535,!(v<=d);){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(_&&!(_&240)){for(R=v,F=_,$=A;w=n.lencode[$+((c&(1<<R+F)-1)>>R)],v=w>>>24,_=w>>>16&255,A=w&65535,!(R+v<=d);){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}c>>>=R,d-=R,n.back+=R}if(c>>>=v,d-=v,n.back+=v,n.length=A,_===0){n.mode=IP;break}if(_&32){n.back=-1,n.mode=Xa;break}if(_&64){t.msg="invalid literal/length code",n.mode=Wn;break}n.extra=_&15,n.mode=PP;case PP:if(n.extra){for(N=n.extra;d<N;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=CP;case CP:for(;w=n.distcode[c&(1<<n.distbits)-1],v=w>>>24,_=w>>>16&255,A=w&65535,!(v<=d);){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(!(_&240)){for(R=v,F=_,$=A;w=n.distcode[$+((c&(1<<R+F)-1)>>R)],v=w>>>24,_=w>>>16&255,A=w&65535,!(R+v<=d);){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}c>>>=R,d-=R,n.back+=R}if(c>>>=v,d-=v,n.back+=v,_&64){t.msg="invalid distance code",n.mode=Wn;break}n.offset=A,n.extra=_&15,n.mode=kP;case kP:if(n.extra){for(N=n.extra;d<N;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Wn;break}n.mode=jP;case jP:if(l===0)break e;if(f=p-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Wn;break}f>n.wnext?(f-=n.wnext,b=n.wsize-f):b=n.wnext-f,f>n.length&&(f=n.length),x=n.window}else x=s,b=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do s[o++]=x[b++];while(--f);n.length===0&&(n.mode=T0);break;case IP:if(l===0)break e;s[o++]=n.length,l--,n.mode=T0;break;case P2:if(n.wrap){for(;d<32;){if(a===0)break e;a--,c|=r[i++]<<d,d+=8}if(p-=l,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?Or(n.check,s,p,o-p):Fm(n.check,s,p,o-p)),p=l,n.wrap&4&&(n.flags?c:DP(c))!==n.check){t.msg="incorrect data check",n.mode=Wn;break}c=0,d=0}n.mode=RP;case RP:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,c+=r[i++]<<d,d+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Wn;break}c=0,d=0}n.mode=LP;case LP:E=Bie;break e;case Wn:E=U7;break e;case $7:return z7;case q7:default:return so}return t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,n.hold=c,n.bits=d,(n.wsize||p!==t.avail_out&&n.mode<Wn&&(n.mode<P2||e!==hP))&&Y7(t,t.output,t.next_out,p-t.avail_out),h-=t.avail_in,p-=t.avail_out,t.total_in+=h,t.total_out+=p,n.total+=p,n.wrap&4&&p&&(t.adler=n.check=n.flags?Or(n.check,s,p,t.next_out-p):Fm(n.check,s,p,t.next_out-p)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Xa?128:0)+(n.mode===E0||n.mode===T2?256:0),(h===0&&p===0||e===hP)&&E===od&&(E=zie),E},Xie=t=>{if(gd(t))return so;let e=t.state;return e.window&&(e.window=null),t.state=null,od},Zie=(t,e)=>{if(gd(t))return so;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,od):so},Jie=(t,e)=>{const n=e.length;let r,s,i;return gd(t)||(r=t.state,r.wrap!==0&&r.mode!==wy)?so:r.mode===wy&&(s=1,s=Fm(s,e,n,0),s!==r.check)?U7:(i=Y7(t,e,n,n),i?(r.mode=$7,z7):(r.havedict=1,od))};var eoe=H7,toe=G7,noe=W7,roe=Kie,soe=K7,ioe=Qie,ooe=Xie,aoe=Zie,loe=Jie,coe="pako inflate (from Nodeca project)",nl={inflateReset:eoe,inflateReset2:toe,inflateResetKeep:noe,inflateInit:roe,inflateInit2:soe,inflate:ioe,inflateEnd:ooe,inflateGetHeader:aoe,inflateSetDictionary:loe,inflateInfo:coe};function uoe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var doe=uoe;const Q7=Object.prototype.toString,{Z_NO_FLUSH:hoe,Z_FINISH:foe,Z_OK:Um,Z_STREAM_END:j2,Z_NEED_DICT:I2,Z_STREAM_ERROR:poe,Z_DATA_ERROR:OP,Z_MEM_ERROR:moe}=mg;function yg(t){this.options=kv.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O7,this.strm.avail_out=0;let n=nl.inflateInit2(this.strm,e.windowBits);if(n!==Um)throw new Error(tf[n]);if(this.header=new doe,nl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Bm.string2buf(e.dictionary):Q7.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=nl.inflateSetDictionary(this.strm,e.dictionary),n!==Um)))throw new Error(tf[n])}yg.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?foe:hoe,Q7.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=nl.inflate(n,o),i===I2&&s&&(i=nl.inflateSetDictionary(n,s),i===Um?i=nl.inflate(n,o):i===OP&&(i=I2));n.avail_in>0&&i===j2&&n.state.wrap>0&&t[n.next_in]!==0;)nl.inflateReset(n),i=nl.inflate(n,o);switch(i){case poe:case OP:case I2:case moe:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===j2))if(this.options.to==="string"){let l=Bm.utf8border(n.output,n.next_out),c=n.next_out-l,d=Bm.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Um&&a===0)){if(i===j2)return i=nl.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};yg.prototype.onData=function(t){this.chunks.push(t)};yg.prototype.onEnd=function(t){t===Um&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=kv.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function dN(t,e){const n=new yg(e);if(n.push(t),n.err)throw n.msg||tf[n.err];return n.result}function goe(t,e){return e=e||{},e.raw=!0,dN(t,e)}var yoe=yg,voe=dN,xoe=goe,boe=dN,woe=mg,_oe={Inflate:yoe,inflate:voe,inflateRaw:xoe,ungzip:boe,constants:woe};const{Inflate:Soe,inflate:Noe,inflateRaw:nce,ungzip:rce}=_oe;var FP=Soe,Aoe=Noe;const X7=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;X7[t]=e}const VP=4294967295;function Eoe(t,e,n){let r=t;for(let s=0;s<n;s++)r=X7[(r^e[s])&255]^r>>>8;return r}function Toe(t,e){return(Eoe(VP,t,e)^VP)>>>0}function BP(t,e,n){const r=t.readUint32(),s=Toe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${s}`)}function Z7(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function J7(t,e,n,r){let s=0;for(;s<r;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-r]&255}function eM(t,e,n,r){let s=0;if(n.length===0)for(;s<r;s++)e[s]=t[s];else for(;s<r;s++)e[s]=t[s]+n[s]&255}function tM(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(n[i]>>1)&255;for(;i<r;i++)e[i]=t[i]+(e[i-s]+n[i]>>1)&255}}function nM(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+n[i]&255;for(;i<r;i++)e[i]=t[i]+Poe(e[i-s],n[i],n[i-s])&255}}function Poe(t,e,n){const r=t+e-n,s=Math.abs(r-t),i=Math.abs(r-e),o=Math.abs(r-n);return s<=i&&s<=o?t:i<=o?e:n}function Coe(t,e,n,r,s,i){switch(t){case 0:Z7(e,n,s);break;case 1:J7(e,n,s,i);break;case 2:eM(e,n,r,s);break;case 3:tM(e,n,r,s,i);break;case 4:nM(e,n,r,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const koe=new Uint16Array([255]),joe=new Uint8Array(koe.buffer),Ioe=joe[0]===255;function Roe(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(i/8)*s,l=new Uint8Array(r*n*a);let c=0;for(let d=0;d<7;d++){const h=o[d],p=Math.ceil((n-h.x)/h.xStep),f=Math.ceil((r-h.y)/h.yStep);if(p<=0||f<=0)continue;const b=p*a,x=new Uint8Array(b);for(let w=0;w<f;w++){const v=e[c++],_=e.subarray(c,c+b);c+=b;const A=new Uint8Array(b);Coe(v,_,A,x,b,a),x.set(A);for(let R=0;R<p;R++){const F=h.x+R*h.xStep,$=h.y+w*h.yStep;if(!(F>=n||$>=r))for(let I=0;I<a;I++)l[($*n+F)*a+I]=A[R*a+I]}}}if(i===16){const d=new Uint16Array(l.buffer);if(Ioe)for(let h=0;h<d.length;h++)d[h]=Loe(d[h]);return d}else return l}function Loe(t){return(t&255)<<8|t>>8&255}const Doe=new Uint16Array([255]),Moe=new Uint8Array(Doe.buffer),Ooe=Moe[0]===255,Foe=new Uint8Array(0);function UP(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,o=Math.ceil(i/8)*s,a=Math.ceil(i/8*s*n),l=new Uint8Array(r*a);let c=Foe,d=0,h,p;for(let f=0;f<r;f++){switch(h=e.subarray(d+1,d+1+a),p=l.subarray(f*a,(f+1)*a),e[d]){case 0:Z7(h,p,a);break;case 1:J7(h,p,a,o);break;case 2:eM(h,p,c,a);break;case 3:tM(h,p,c,a,o);break;case 4:nM(h,p,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}c=p,d+=a+1}if(i===16){const f=new Uint16Array(l.buffer);if(Ooe)for(let b=0;b<f.length;b++)f[b]=Voe(f[b]);return f}else return l}function Voe(t){return(t&255)<<8|t>>8&255}const o1=Uint8Array.of(137,80,78,71,13,10,26,10);function zP(t){if(!Boe(t.readBytes(o1.length)))throw new Error("wrong PNG signature")}function Boe(t){if(t.length<o1.length)return!1;for(let e=0;e<o1.length;e++)if(t[e]!==o1[e])return!1;return!0}const Uoe="tEXt",zoe=0,rM=new TextDecoder("latin1");function $oe(t){if(Woe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const qoe=/^[\u0000-\u00FF]*$/;function Woe(t){if(!qoe.test(t))throw new Error("invalid latin1 text")}function Hoe(t,e,n){const r=sM(e);t[r]=Goe(e,n-r.length-1)}function sM(t){for(t.mark();t.readByte()!==zoe;);const e=t.offset;t.reset();const n=rM.decode(t.readBytes(e-t.offset-1));return t.skip(1),$oe(n),n}function Goe(t,e){return rM.decode(t.readBytes(e))}const pi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},R2={UNKNOWN:-1,DEFLATE:0},$P={UNKNOWN:-1,ADAPTIVE:0},L2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},P0={NONE:0,BACKGROUND:1,PREVIOUS:2},D2={SOURCE:0,OVER:1};class Koe extends sN{constructor(n,r={}){super(n);pn(this,"_checkCrc");pn(this,"_inflator");pn(this,"_png");pn(this,"_apng");pn(this,"_end");pn(this,"_hasPalette");pn(this,"_palette");pn(this,"_hasTransparency");pn(this,"_transparency");pn(this,"_compressionMethod");pn(this,"_filterMethod");pn(this,"_interlaceMethod");pn(this,"_colorType");pn(this,"_isAnimated");pn(this,"_numberOfFrames");pn(this,"_numberOfPlays");pn(this,"_frames");pn(this,"_writingDataChunks");const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new FP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=R2.UNKNOWN,this._filterMethod=$P.UNKNOWN,this._interlaceMethod=L2.UNKNOWN,this._colorType=pi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(zP(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(zP(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case Uoe:Hoe(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?BP(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=s+n;break}if(this.offset-s!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?BP(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=Yoe(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case pi.GREYSCALE:s=1;break;case pi.TRUECOLOUR:s=3;break;case pi.INDEXED_COLOUR:s=1;break;case pi.GREYSCALE_ALPHA:s=2;break;case pi.TRUECOLOUR_ALPHA:s=4;break;case pi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==R2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<r;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case pi.GREYSCALE:case pi.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case pi.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case pi.UNKNOWN:case pi.GREYSCALE_ALPHA:case pi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=sM(this),s=this.readUint8();if(s!==R2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Aoe(i)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:n,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(n);if(s){if(s.data=UP({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const i=this._apng.frames.at(n-1);this.disposeFrame(s,i,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,s){switch(n.disposeOp){case P0.NONE:break;case P0.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const a=(i*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[a+l]=0}break;case P0.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const s=1<<this._png.depth,i=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,c=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case D2.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=i(o,a);for(let d=0;d<this._png.channels;d++)n.data[l+d]=r.data[c+d]}break;case D2.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=i(o,a);for(let d=0;d<this._png.channels;d++){const h=r.data[c+this._png.channels-1]/s,p=d%(this._png.channels-1)===0?1:r.data[c+d],f=Math.floor(h*p+(1-h)*n.data[l+d]);n.data[l+d]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==$P.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===L2.NO_INTERLACE)this._png.data=UP({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===L2.ADAM7)this._png.data=Roe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:P0.NONE,blendOp:D2.SOURCE,data:n}),this._inflator=new FP,this._writingDataChunks=!1}}function Yoe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var qP;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(qP||(qP={}));function Qoe(t,e){return new Koe(t,e).decode()}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function M2(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var _n={log:M2,warn:function(t){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):M2.call(null,arguments))},error:function(t){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):M2(t))}};function O2(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){wu(r.response,e,n)},r.onerror=function(){_n.error("could not download file")},r.send()}function WP(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function C0(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wu=At.saveAs||((typeof window>"u"?"undefined":mn(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=At.URL||At.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?WP(s.href)?O2(t,e,n):C0(s,s.target="_blank"):C0(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){C0(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(WP(t))O2(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){C0(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:mn(i)!=="object"&&(_n.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return O2(t,e,n);var s=t.type==="application/octet-stream",i=/constructor/i.test(At.HTMLElement)||At.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":mn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(t)}else{var l=At.URL||At.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function iM(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,o=s.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var a1=At.atob.bind(At),HP=At.btoa.bind(At);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function F2(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=as(n,r,s,i,e[0],7,-680876936),i=as(i,n,r,s,e[1],12,-389564586),s=as(s,i,n,r,e[2],17,606105819),r=as(r,s,i,n,e[3],22,-1044525330),n=as(n,r,s,i,e[4],7,-176418897),i=as(i,n,r,s,e[5],12,1200080426),s=as(s,i,n,r,e[6],17,-1473231341),r=as(r,s,i,n,e[7],22,-45705983),n=as(n,r,s,i,e[8],7,1770035416),i=as(i,n,r,s,e[9],12,-1958414417),s=as(s,i,n,r,e[10],17,-42063),r=as(r,s,i,n,e[11],22,-1990404162),n=as(n,r,s,i,e[12],7,1804603682),i=as(i,n,r,s,e[13],12,-40341101),s=as(s,i,n,r,e[14],17,-1502002290),n=ls(n,r=as(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=ls(i,n,r,s,e[6],9,-1069501632),s=ls(s,i,n,r,e[11],14,643717713),r=ls(r,s,i,n,e[0],20,-373897302),n=ls(n,r,s,i,e[5],5,-701558691),i=ls(i,n,r,s,e[10],9,38016083),s=ls(s,i,n,r,e[15],14,-660478335),r=ls(r,s,i,n,e[4],20,-405537848),n=ls(n,r,s,i,e[9],5,568446438),i=ls(i,n,r,s,e[14],9,-1019803690),s=ls(s,i,n,r,e[3],14,-187363961),r=ls(r,s,i,n,e[8],20,1163531501),n=ls(n,r,s,i,e[13],5,-1444681467),i=ls(i,n,r,s,e[2],9,-51403784),s=ls(s,i,n,r,e[7],14,1735328473),n=cs(n,r=ls(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=cs(i,n,r,s,e[8],11,-2022574463),s=cs(s,i,n,r,e[11],16,1839030562),r=cs(r,s,i,n,e[14],23,-35309556),n=cs(n,r,s,i,e[1],4,-1530992060),i=cs(i,n,r,s,e[4],11,1272893353),s=cs(s,i,n,r,e[7],16,-155497632),r=cs(r,s,i,n,e[10],23,-1094730640),n=cs(n,r,s,i,e[13],4,681279174),i=cs(i,n,r,s,e[0],11,-358537222),s=cs(s,i,n,r,e[3],16,-722521979),r=cs(r,s,i,n,e[6],23,76029189),n=cs(n,r,s,i,e[9],4,-640364487),i=cs(i,n,r,s,e[12],11,-421815835),s=cs(s,i,n,r,e[15],16,530742520),n=us(n,r=cs(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=us(i,n,r,s,e[7],10,1126891415),s=us(s,i,n,r,e[14],15,-1416354905),r=us(r,s,i,n,e[5],21,-57434055),n=us(n,r,s,i,e[12],6,1700485571),i=us(i,n,r,s,e[3],10,-1894986606),s=us(s,i,n,r,e[10],15,-1051523),r=us(r,s,i,n,e[1],21,-2054922799),n=us(n,r,s,i,e[8],6,1873313359),i=us(i,n,r,s,e[15],10,-30611744),s=us(s,i,n,r,e[6],15,-1560198380),r=us(r,s,i,n,e[13],21,1309151649),n=us(n,r,s,i,e[4],6,-145523070),i=us(i,n,r,s,e[11],10,-1120210379),s=us(s,i,n,r,e[2],15,718787259),r=us(r,s,i,n,e[9],21,-343485551),t[0]=yc(n,t[0]),t[1]=yc(r,t[1]),t[2]=yc(s,t[2]),t[3]=yc(i,t[3])}function Iv(t,e,n,r,s,i){return e=yc(yc(e,t),yc(r,i)),yc(e<<s|e>>>32-s,n)}function as(t,e,n,r,s,i,o){return Iv(e&n|~e&r,t,e,s,i,o)}function ls(t,e,n,r,s,i,o){return Iv(e&r|n&~r,t,e,s,i,o)}function cs(t,e,n,r,s,i,o){return Iv(e^n^r,t,e,s,i,o)}function us(t,e,n,r,s,i,o){return Iv(n^(e|~r),t,e,s,i,o)}function oM(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)F2(r,Xoe(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(F2(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,F2(r,s),r}function Xoe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var GP="0123456789abcdef".split("");function Zoe(t){for(var e="",n=0;n<4;n++)e+=GP[t>>8*n+4&15]+GP[t>>8*n&15];return e}function Joe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function l5(t){return oM(t).map(Joe).join("")}var eae=function(t){for(var e=0;e<t.length;e++)t[e]=Zoe(t[e]);return t.join("")}(oM("hello"))!="5d41402abc4b2a76b9719d911017c592";function yc(t,e){if(eae){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function c5(t,e){var n,r,s,i;if(t!==n){for(var o=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+o.charCodeAt(l))%256,a[l]=a[c],a[c]=d}n=t,r=a}else a=r;var h=e.length,p=0,f=0,b="";for(l=0;l<h;l++)f=(f+(d=a[p=(p+1)%256]))%256,a[p]=a[f],a[f]=d,o=a[(a[p]+a[f])%256],b+=String.fromCharCode(e.charCodeAt(l)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var KP={print:4,modify:8,copy:16,"annot-forms":32};function qd(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(a){if(KP.perm!==void 0)throw new Error("Invalid permission: "+a);s+=KP[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=l5(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=c5(this.encryptionKey,this.padding)}function Wd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[r]}return e}function YP(t){if(mn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var o=e[n][i];try{o[0].apply(t,r)}catch(a){At.console&&_n.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function _y(t){if(!(this instanceof _y))return new _y(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function aM(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Su(t,e,n,r,s){if(!(this instanceof Su))return new Su(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,aM.call(this,r,s)}function lh(t,e,n,r,s){if(!(this instanceof lh))return new lh(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,aM.call(this,r,s)}function at(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,l=16,c="S",d=null;mn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},f={internal:{},__private__:{}};f.__private__.PubSub=YP;var b="1.3",x=f.__private__.getPdfVersion=function(){return b};f.__private__.setPdfVersion=function(S){b=S};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return w};var v=f.__private__.getPageFormat=function(S){return w[S]};s=s||"a4";var _="compat",A="advanced",R=_;function F(){this.saveGraphicsState(),J(new Xe(bt,0,0,-bt,0,uo()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),c="n",R=A}function $(){this.restoreGraphicsState(),c="S",R=_}var I=f.__private__.combineFontStyleAndFontWeight=function(S,B){if(S=="bold"&&B=="normal"||S=="bold"&&B==400||S=="normal"&&B=="italic"||S=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(S=B==400||B==="normal"?S==="italic"?"italic":"normal":B!=700&&B!=="bold"||S!=="normal"?(B==700?"bold":B)+""+S:"bold"),S};f.advancedAPI=function(S){var B=R===_;return B&&F.call(this),typeof S!="function"||(S(this),B&&$.call(this)),this},f.compatAPI=function(S){var B=R===A;return B&&$.call(this),typeof S!="function"||(S(this),B&&F.call(this)),this},f.isAdvancedAPI=function(){return R===A};var E,C=function(S){if(R!==A)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=f.roundToPrecision=f.__private__.roundToPrecision=function(S,B){var te=e||B;if(isNaN(S)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(te).replace(/0+$/,"")};E=f.hpf=f.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return M(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return M(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return M(S,16)};var N=f.f2=f.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return M(S,2)},T=f.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return M(S,3)},k=f.scale=f.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return R===_?S*bt:R===A?S:void 0},z=function(S){return k(function(B){return R===_?uo()-B:R===A?B:void 0}(S))};f.__private__.setPrecision=f.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var K,ae="00000000000000000000000000000000",ie=f.__private__.getFileId=function(){return ae},Y=f.__private__.setFileId=function(S){return ae=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ln=new qd(d.userPermissions,d.userPassword,d.ownerPassword,ae)),ae};f.setFileId=function(S){return Y(S),this},f.getFileId=function(){return ie()};var ee=f.__private__.convertDateToPDFDate=function(S){var B=S.getTimezoneOffset(),te=B<0?"+":"-",ue=Math.floor(Math.abs(B/60)),ge=Math.abs(B%60),Ae=[te,Z(ue),"'",Z(ge),"'"].join("");return["D:",S.getFullYear(),Z(S.getMonth()+1),Z(S.getDate()),Z(S.getHours()),Z(S.getMinutes()),Z(S.getSeconds()),Ae].join("")},se=f.__private__.convertPDFDateToDate=function(S){var B=parseInt(S.substr(2,4),10),te=parseInt(S.substr(6,2),10)-1,ue=parseInt(S.substr(8,2),10),ge=parseInt(S.substr(10,2),10),Ae=parseInt(S.substr(12,2),10),Ie=parseInt(S.substr(14,2),10);return new Date(B,te,ue,ge,Ae,Ie,0)},ce=f.__private__.setCreationDate=function(S){var B;if(S===void 0&&(S=new Date),S instanceof Date)B=ee(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=S}return K=B},V=f.__private__.getCreationDate=function(S){var B=K;return S==="jsDate"&&(B=se(K)),B};f.setCreationDate=function(S){return ce(S),this},f.getCreationDate=function(S){return V(S)};var Q,Z=f.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},le=f.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},de=0,pe=[],oe=[],fe=0,_e=[],Pe=[],Me=!1,Oe=oe;f.__private__.setCustomOutputDestination=function(S){Me=!0,Oe=S};var $e=function(S){Me||(Oe=S)};f.__private__.resetCustomOutputDestination=function(){Me=!1,Oe=oe};var J=f.__private__.out=function(S){return S=S.toString(),fe+=S.length+1,Oe.push(S),Oe},Be=f.__private__.write=function(S){return J(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},St=f.__private__.getArrayBuffer=function(S){for(var B=S.length,te=new ArrayBuffer(B),ue=new Uint8Array(te);B--;)ue[B]=S.charCodeAt(B);return te},ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return ot};var Ne=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(S){return Ne=R===A?S/bt:S,this};var qe,ze=f.__private__.getFontSize=f.getFontSize=function(){return R===_?Ne:Ne*bt},ht=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(S){return ht=S,this},f.__private__.getR2L=f.getR2L=function(){return ht};var Ye,Xt=f.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))qe=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');qe=S}else qe=parseInt(S,10)};f.__private__.getZoomMode=function(){return qe};var kt,lt=f.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ye=S};f.__private__.getPageMode=function(){return Ye};var Pt=f.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');kt=S};f.__private__.getLayoutMode=function(){return kt},f.__private__.setDisplayMode=f.setDisplayMode=function(S,B,te){return Xt(S),Pt(B),lt(te),this};var Mt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(S){if(Object.keys(Mt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Mt[S]},f.__private__.getDocumentProperties=function(){return Mt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(S){for(var B in Mt)Mt.hasOwnProperty(B)&&S[B]&&(Mt[B]=S[B]);return this},f.__private__.setDocumentProperty=function(S,B){if(Object.keys(Mt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Mt[S]=B};var et,bt,tt,yn,Rt,xt={},Et={},Ut=[],ct={},tn={},mt={},yt={},un=null,ut=0,nt=[],zt=new YP(f),ft=t.hotfixes||[],Nt={},qt={},dn=[],Xe=function S(B,te,ue,ge,Ae,Ie){if(!(this instanceof S))return new S(B,te,ue,ge,Ae,Ie);isNaN(B)&&(B=1),isNaN(te)&&(te=0),isNaN(ue)&&(ue=0),isNaN(ge)&&(ge=1),isNaN(Ae)&&(Ae=0),isNaN(Ie)&&(Ie=0),this._matrix=[B,te,ue,ge,Ae,Ie]};Object.defineProperty(Xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xe.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(S)},Xe.prototype.multiply=function(S){var B=S.sx*this.sx+S.shy*this.shx,te=S.sx*this.shy+S.shy*this.sy,ue=S.shx*this.sx+S.sy*this.shx,ge=S.shx*this.shy+S.sy*this.sy,Ae=S.tx*this.sx+S.ty*this.shx+this.tx,Ie=S.tx*this.shy+S.ty*this.sy+this.ty;return new Xe(B,te,ue,ge,Ae,Ie)},Xe.prototype.decompose=function(){var S=this.sx,B=this.shy,te=this.shx,ue=this.sy,ge=this.tx,Ae=this.ty,Ie=Math.sqrt(S*S+B*B),Ge=(S/=Ie)*te+(B/=Ie)*ue;te-=S*Ge,ue-=B*Ge;var rt=Math.sqrt(te*te+ue*ue);return Ge/=rt,S*(ue/=rt)<B*(te/=rt)&&(S=-S,B=-B,Ge=-Ge,Ie=-Ie),{scale:new Xe(Ie,0,0,rt,0,0),translate:new Xe(1,0,0,1,ge,Ae),rotate:new Xe(S,B,-B,S,0,0),skew:new Xe(1,0,Ge,1,0,0)}},Xe.prototype.toString=function(S){return this.join(" ")},Xe.prototype.inversed=function(){var S=this.sx,B=this.shy,te=this.shx,ue=this.sy,ge=this.tx,Ae=this.ty,Ie=1/(S*ue-B*te),Ge=ue*Ie,rt=-B*Ie,vt=-te*Ie,pt=S*Ie;return new Xe(Ge,rt,vt,pt,-Ge*ge-vt*Ae,-rt*ge-pt*Ae)},Xe.prototype.applyToPoint=function(S){var B=S.x*this.sx+S.y*this.shx+this.tx,te=S.x*this.shy+S.y*this.sy+this.ty;return new ws(B,te)},Xe.prototype.applyToRectangle=function(S){var B=this.applyToPoint(S),te=this.applyToPoint(new ws(S.x+S.w,S.y+S.h));return new kl(B.x,B.y,te.x-B.x,te.y-B.y)},Xe.prototype.clone=function(){var S=this.sx,B=this.shy,te=this.shx,ue=this.sy,ge=this.tx,Ae=this.ty;return new Xe(S,B,te,ue,ge,Ae)},f.Matrix=Xe;var mr=f.matrixMult=function(S,B){return B.multiply(S)},er=new Xe(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=er;var vn=function(S,B){if(!tn[S]){var te=(B instanceof Su?"Sh":"P")+(Object.keys(ct).length+1).toString(10);B.id=te,tn[S]=te,ct[te]=B,zt.publish("addPattern",B)}};f.ShadingPattern=Su,f.TilingPattern=lh,f.addShadingPattern=function(S,B){return C("addShadingPattern()"),vn(S,B),this},f.beginTilingPattern=function(S){C("beginTilingPattern()"),Go(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},f.endTilingPattern=function(S,B){C("endTilingPattern()"),B.stream=Pe[Q].join(`
`),vn(S,B),zt.publish("endTilingPattern",B),dn.pop().restore()};var $n,Sn=f.__private__.newObject=function(){var S=qn();return Sr(S,!0),S},qn=f.__private__.newObjectDeferred=function(){return de++,pe[de]=function(){return fe},de},Sr=function(S,B){return B=typeof B=="boolean"&&B,pe[S]=fe,B&&J(S+" 0 obj"),S},Jr=f.__private__.newAdditionalObject=function(){var S={objId:qn(),content:""};return _e.push(S),S},oo=qn(),Vs=qn(),Bs=f.__private__.decodeColorString=function(S){var B=S.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var te=parseFloat(B[0]);B=[te,te,te,"r"]}for(var ue="#",ge=0;ge<3;ge++)ue+=("0"+Math.floor(255*parseFloat(B[ge])).toString(16)).slice(-2);return ue},ys=f.__private__.encodeColorString=function(S){var B;typeof S=="string"&&(S={ch1:S});var te=S.ch1,ue=S.ch2,ge=S.ch3,Ae=S.ch4,Ie=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var Ge=new iM(te);if(Ge.ok)te=Ge.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var rt=parseInt(te.substr(1),16);te=rt>>16&255,ue=rt>>8&255,ge=255&rt}if(ue===void 0||Ae===void 0&&te===ue&&ue===ge)B=typeof te=="string"?te+" "+Ie[0]:S.precision===2?N(te/255)+" "+Ie[0]:T(te/255)+" "+Ie[0];else if(Ae===void 0||mn(Ae)==="object"){if(Ae&&!isNaN(Ae.a)&&Ae.a===0)return["1.","1.","1.",Ie[1]].join(" ");B=typeof te=="string"?[te,ue,ge,Ie[1]].join(" "):S.precision===2?[N(te/255),N(ue/255),N(ge/255),Ie[1]].join(" "):[T(te/255),T(ue/255),T(ge/255),Ie[1]].join(" ")}else B=typeof te=="string"?[te,ue,ge,Ae,Ie[2]].join(" "):S.precision===2?[N(te),N(ue),N(ge),N(Ae),Ie[2]].join(" "):[T(te),T(ue),T(ge),T(Ae),Ie[2]].join(" ");return B},Us=f.__private__.getFilters=function(){return o},zs=f.__private__.putStream=function(S){var B=(S=S||{}).data||"",te=S.filters||Us(),ue=S.alreadyAppliedFilters||[],ge=S.addLength1||!1,Ae=B.length,Ie=S.objectId,Ge=function(j){return j};if(d!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ge=Ln.encryptor(Ie,0));var rt={};te===!0&&(te=["FlateEncode"]);var vt=S.additionalKeyValues||[],pt=(rt=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(B,te):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(rt.data.length!==0&&(vt.push({key:"Length",value:rt.data.length}),ge===!0&&vt.push({key:"Length1",value:Ae})),pt.length!=0)if(pt.split("/").length-1==1)vt.push({key:"Filter",value:pt});else{vt.push({key:"Filter",value:"["+pt+"]"});for(var Wt=0;Wt<vt.length;Wt+=1)if(vt[Wt].key==="DecodeParms"){for(var En=[],xn=0;xn<rt.reverseChain.split("/").length-1;xn+=1)En.push("null");En.push(vt[Wt].value),vt[Wt].value="["+En.join(" ")+"]"}}J("<<");for(var g=0;g<vt.length;g++)J("/"+vt[g].key+" "+vt[g].value);J(">>"),rt.data.length!==0&&(J("stream"),J(Ge(rt.data)),J("endstream"))},Bo=f.__private__.putPage=function(S){var B=S.number,te=S.data,ue=S.objId,ge=S.contentsObjId;Sr(ue,!0),J("<</Type /Page"),J("/Parent "+S.rootDictionaryObjId+" 0 R"),J("/Resources "+S.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(E(S.mediaBox.bottomLeftX))+" "+parseFloat(E(S.mediaBox.bottomLeftY))+" "+E(S.mediaBox.topRightX)+" "+E(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&J("/CropBox ["+E(S.cropBox.bottomLeftX)+" "+E(S.cropBox.bottomLeftY)+" "+E(S.cropBox.topRightX)+" "+E(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&J("/BleedBox ["+E(S.bleedBox.bottomLeftX)+" "+E(S.bleedBox.bottomLeftY)+" "+E(S.bleedBox.topRightX)+" "+E(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&J("/TrimBox ["+E(S.trimBox.bottomLeftX)+" "+E(S.trimBox.bottomLeftY)+" "+E(S.trimBox.topRightX)+" "+E(S.trimBox.topRightY)+"]"),S.artBox!==null&&J("/ArtBox ["+E(S.artBox.bottomLeftX)+" "+E(S.artBox.bottomLeftY)+" "+E(S.artBox.topRightX)+" "+E(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&J("/UserUnit "+S.userUnit),zt.publish("putPage",{objId:ue,pageContext:nt[B],pageNumber:B,page:te}),J("/Contents "+ge+" 0 R"),J(">>"),J("endobj");var Ae=te.join(`
`);return R===A&&(Ae+=`
Q`),Sr(ge,!0),zs({data:Ae,filters:Us(),objectId:ge}),J("endobj"),ue},ki=f.__private__.putPages=function(){var S,B,te=[];for(S=1;S<=ut;S++)nt[S].objId=qn(),nt[S].contentsObjId=qn();for(S=1;S<=ut;S++)te.push(Bo({number:S,data:Pe[S],objId:nt[S].objId,contentsObjId:nt[S].contentsObjId,mediaBox:nt[S].mediaBox,cropBox:nt[S].cropBox,bleedBox:nt[S].bleedBox,trimBox:nt[S].trimBox,artBox:nt[S].artBox,userUnit:nt[S].userUnit,rootDictionaryObjId:oo,resourceDictionaryObjId:Vs}));Sr(oo,!0),J("<</Type /Pages");var ue="/Kids [";for(B=0;B<ut;B++)ue+=te[B]+" 0 R ";J(ue+"]"),J("/Count "+ut),J(">>"),J("endobj"),zt.publish("postPutPages")},ji=function(S){zt.publish("putFont",{font:S,out:J,newObject:Sn,putStream:zs}),S.isAlreadyPutted!==!0&&(S.objectNumber=Sn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Wd(S.postScriptName)),J("/Subtype /Type1"),typeof S.encoding=="string"&&J("/Encoding /"+S.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Ma=function(S){S.objectNumber=Sn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[E(S.x),E(S.y),E(S.x+S.width),E(S.y+S.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var te=S.pages[1].join(`
`);zs({data:te,additionalKeyValues:B,objectId:S.objectNumber}),J("endobj")},Uo=function(S,B){B||(B=21);var te=Sn(),ue=function(Ie,Ge){var rt,vt=[],pt=1/(Ge-1);for(rt=0;rt<1;rt+=pt)vt.push(rt);if(vt.push(1),Ie[0].offset!=0){var Wt={offset:0,color:Ie[0].color};Ie.unshift(Wt)}if(Ie[Ie.length-1].offset!=1){var En={offset:1,color:Ie[Ie.length-1].color};Ie.push(En)}for(var xn="",g=0,j=0;j<vt.length;j++){for(rt=vt[j];rt>Ie[g+1].offset;)g++;var O=Ie[g].offset,G=(rt-O)/(Ie[g+1].offset-O),ye=Ie[g].color,we=Ie[g+1].color;xn+=le(Math.round((1-G)*ye[0]+G*we[0]).toString(16))+le(Math.round((1-G)*ye[1]+G*we[1]).toString(16))+le(Math.round((1-G)*ye[2]+G*we[2]).toString(16))}return xn.trim()}(S.colors,B),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+B+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zs({data:ue,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),J("endobj"),S.objectNumber=Sn(),J("<< /ShadingType "+S.type),J("/ColorSpace /DeviceRGB");var Ae="/Coords ["+E(parseFloat(S.coords[0]))+" "+E(parseFloat(S.coords[1]))+" ";S.type===2?Ae+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3])):Ae+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3]))+" "+E(parseFloat(S.coords[4]))+" "+E(parseFloat(S.coords[5])),J(Ae+="]"),S.matrix&&J("/Matrix ["+S.matrix.toString()+"]"),J("/Function "+te+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Ii=function(S,B){var te=qn(),ue=Sn();B.push({resourcesOid:te,objectOid:ue}),S.objectNumber=ue;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+S.boundingBox.map(E).join(" ")+"]"}),ge.push({key:"XStep",value:E(S.xStep)}),ge.push({key:"YStep",value:E(S.yStep)}),ge.push({key:"Resources",value:te+" 0 R"}),S.matrix&&ge.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),zs({data:S.stream,additionalKeyValues:ge,objectId:S.objectNumber}),J("endobj")},ao=function(S){for(var B in S.objectNumber=Sn(),J("<<"),S)switch(B){case"opacity":J("/ca "+N(S[B]));break;case"stroke-opacity":J("/CA "+N(S[B]))}J(">>"),J("endobj")},Oa=function(S){Sr(S.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var B in J("/Font <<"),xt)xt.hasOwnProperty(B)&&(h===!1||h===!0&&p.hasOwnProperty(B))&&J("/"+B+" "+xt[B].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(ct).length>0){for(var B in J("/Shading <<"),ct)ct.hasOwnProperty(B)&&ct[B]instanceof Su&&ct[B].objectNumber>=0&&J("/"+B+" "+ct[B].objectNumber+" 0 R");zt.publish("putShadingPatternDict"),J(">>")}}(),function(B){if(Object.keys(ct).length>0){for(var te in J("/Pattern <<"),ct)ct.hasOwnProperty(te)&&ct[te]instanceof f.TilingPattern&&ct[te].objectNumber>=0&&ct[te].objectNumber<B&&J("/"+te+" "+ct[te].objectNumber+" 0 R");zt.publish("putTilingPatternDict"),J(">>")}}(S.objectOid),function(){if(Object.keys(mt).length>0){var B;for(B in J("/ExtGState <<"),mt)mt.hasOwnProperty(B)&&mt[B].objectNumber>=0&&J("/"+B+" "+mt[B].objectNumber+" 0 R");zt.publish("putGStateDict"),J(">>")}}(),function(){for(var B in J("/XObject <<"),Nt)Nt.hasOwnProperty(B)&&Nt[B].objectNumber>=0&&J("/"+B+" "+Nt[B].objectNumber+" 0 R");zt.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},vd=function(S){Et[S.fontName]=Et[S.fontName]||{},Et[S.fontName][S.fontStyle]=S.id},eu=function(S,B,te,ue,ge){var Ae={id:"F"+(Object.keys(xt).length+1).toString(10),postScriptName:S,fontName:B,fontStyle:te,encoding:ue,isStandardFont:ge||!1,metadata:{}};return zt.publish("addFont",{font:Ae,instance:this}),xt[Ae.id]=Ae,vd(Ae),Ae.id},vs=f.__private__.pdfEscape=f.pdfEscape=function(S,B){return function(te,ue){var ge,Ae,Ie,Ge,rt,vt,pt,Wt,En;if(Ie=(ue=ue||{}).sourceEncoding||"Unicode",rt=ue.outputEncoding,(ue.autoencode||rt)&&xt[et].metadata&&xt[et].metadata[Ie]&&xt[et].metadata[Ie].encoding&&(Ge=xt[et].metadata[Ie].encoding,!rt&&xt[et].encoding&&(rt=xt[et].encoding),!rt&&Ge.codePages&&(rt=Ge.codePages[0]),typeof rt=="string"&&(rt=Ge[rt]),rt)){for(pt=!1,vt=[],ge=0,Ae=te.length;ge<Ae;ge++)(Wt=rt[te.charCodeAt(ge)])?vt.push(String.fromCharCode(Wt)):vt.push(te[ge]),vt[ge].charCodeAt(0)>>8&&(pt=!0);te=vt.join("")}for(ge=te.length;pt===void 0&&ge!==0;)te.charCodeAt(ge-1)>>8&&(pt=!0),ge--;if(!pt)return te;for(vt=ue.noBOM?[]:[254,255],ge=0,Ae=te.length;ge<Ae;ge++){if((En=(Wt=te.charCodeAt(ge))>>8)>>8)throw new Error("Character at position "+ge+" of string '"+te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vt.push(En),vt.push(Wt-(En<<8))}return String.fromCharCode.apply(void 0,vt)}(S,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sl=f.__private__.beginPage=function(S){Pe[++ut]=[],nt[ut]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},tu(ut),$e(Pe[Q])},Nl=function(S,B){var te,ue,ge;switch(n=B||n,typeof S=="string"&&(te=v(S.toLowerCase()),Array.isArray(te)&&(ue=te[0],ge=te[1])),Array.isArray(S)&&(ue=S[0]*bt,ge=S[1]*bt),isNaN(ue)&&(ue=s[0],ge=s[1]),(ue>14400||ge>14400)&&(_n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),ge=Math.min(14400,ge)),s=[ue,ge],n.substr(0,1)){case"l":ge>ue&&(s=[ge,ue]);break;case"p":ue>ge&&(s=[ge,ue])}Sl(s),wt(Hs),J(Tl),Gs!==0&&J(Gs+" J"),Cl!==0&&J(Cl+" j"),zt.publish("addPage",{pageNumber:ut})},Fa=function(S){S>0&&S<=ut&&(Pe.splice(S,1),nt.splice(S,1),ut--,Q>ut&&(Q=ut),this.setPage(Q))},tu=function(S){S>0&&S<=ut&&(Q=S)},nu=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Pe.length-1},ru=function(S,B,te){var ue,ge=void 0;return te=te||{},S=S!==void 0?S:xt[et].fontName,B=B!==void 0?B:xt[et].fontStyle,ue=S.toLowerCase(),Et[ue]!==void 0&&Et[ue][B]!==void 0?ge=Et[ue][B]:Et[S]!==void 0&&Et[S][B]!==void 0?ge=Et[S][B]:te.disableWarning===!1&&_n.warn("Unable to look up font label for font '"+S+"', '"+B+"'. Refer to getFontList() for available fonts."),ge||te.noFallback||(ge=Et.times[B])==null&&(ge=Et.times.normal),ge},Ri=f.__private__.putInfo=function(){var S=Sn(),B=function(ue){return ue};for(var te in d!==null&&(B=Ln.encryptor(S,0)),J("<<"),J("/Producer ("+vs(B("jsPDF "+at.version))+")"),Mt)Mt.hasOwnProperty(te)&&Mt[te]&&J("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+vs(B(Mt[te]))+")");J("/CreationDate ("+vs(B(K))+")"),J(">>"),J("endobj")},xs=f.__private__.putCatalog=function(S){var B=(S=S||{}).rootDictionaryObjId||oo;switch(Sn(),J("<<"),J("/Type /Catalog"),J("/Pages "+B+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+qe;te.substr(te.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&J("/OpenAction [3 0 R /XYZ null null "+N(qe)+"]")}switch(kt||(kt="continuous"),kt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Ye&&J("/PageMode /"+Ye),zt.publish("putCatalog"),J(">>"),J("endobj")},$s=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(de+1)),J("/Root "+de+" 0 R"),J("/Info "+(de-1)+" 0 R"),d!==null&&J("/Encrypt "+Ln.oid+" 0 R"),J("/ID [ <"+ae+"> <"+ae+"> ]"),J(">>")},Nn=f.__private__.putHeader=function(){J("%PDF-"+b),J("%")},zo=f.__private__.putXRef=function(){var S="0000000000";J("xref"),J("0 "+(de+1)),J("0000000000 65535 f ");for(var B=1;B<=de;B++)typeof pe[B]=="function"?J((S+pe[B]()).slice(-10)+" 00000 n "):pe[B]!==void 0?J((S+pe[B]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},qs=f.__private__.buildDocument=function(){var S;de=0,fe=0,oe=[],pe=[],_e=[],oo=qn(),Vs=qn(),$e(oe),zt.publish("buildDocument"),Nn(),ki(),function(){zt.publish("putAdditionalObjects");for(var te=0;te<_e.length;te++){var ue=_e[te];Sr(ue.objId,!0),J(ue.content),J("endobj")}zt.publish("postPutAdditionalObjects")}(),S=[],function(){for(var te in xt)xt.hasOwnProperty(te)&&(h===!1||h===!0&&p.hasOwnProperty(te))&&ji(xt[te])}(),function(){var te;for(te in mt)mt.hasOwnProperty(te)&&ao(mt[te])}(),function(){for(var te in Nt)Nt.hasOwnProperty(te)&&Ma(Nt[te])}(),function(te){var ue;for(ue in ct)ct.hasOwnProperty(ue)&&(ct[ue]instanceof Su?Uo(ct[ue]):ct[ue]instanceof lh&&Ii(ct[ue],te))}(S),zt.publish("putResources"),S.forEach(Oa),Oa({resourcesOid:Vs,objectOid:Number.MAX_SAFE_INTEGER}),zt.publish("postPutResources"),d!==null&&(Ln.oid=Sn(),J("<<"),J("/Filter /Standard"),J("/V "+Ln.v),J("/R "+Ln.r),J("/U <"+Ln.toHexString(Ln.U)+">"),J("/O <"+Ln.toHexString(Ln.O)+">"),J("/P "+Ln.P),J(">>"),J("endobj")),Ri(),xs();var B=fe;return zo(),$s(),J("startxref"),J(""+B),J("%%EOF"),$e(Pe[Q]),oe.join(`
`)},sn=f.__private__.getBlob=function(S){return new Blob([St(S)],{type:"application/pdf"})},Va=f.output=f.__private__.output=($n=function(S,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",S){case void 0:return qs();case"save":f.save(B.filename);break;case"arraybuffer":return St(qs());case"blob":return sn(qs());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(sn(qs()))||void 0;_n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ue=qs();try{te=HP(ue)}catch{te=HP(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+B.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ae=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(ge=B.pdfObjectUrl,Ae="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Ae+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",Ge=At.open();return Ge!==null&&Ge.document.write(Ie),Ge}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',vt=At.open();if(vt!==null){vt.document.write(rt);var pt=this;vt.document.documentElement.querySelector("#pdfViewer").onload=function(){vt.document.title=B.filename,vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',En=At.open();if(En!==null&&(En.document.write(Wt),En.document.title=B.filename),En||typeof safari>"u")return En;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",B);default:return null}},$n.foo=function(){try{return $n.apply(this,arguments)}catch(te){var S=te.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var B="Error in function "+S.split(`
`)[0].split("<")[0]+": "+te.message;if(!At.console)throw new Error(B);At.console.error(B,te),At.alert&&alert(B)}},$n.foo.bar=$n,$n.foo),Dr=function(S){return Array.isArray(ft)===!0&&ft.indexOf(S)>-1};switch(r){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=Dr("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);bt=r}var Ln=null;ce(),Y();var lo=f.__private__.getPageInfo=f.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[S].objId,pageNumber:S,pageContext:nt[S]}},su=f.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in nt)if(nt[B].objId===S)break;return lo(B)},kf=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:nt[Q].objId,pageNumber:Q,pageContext:nt[Q]}};f.addPage=function(){return Nl.apply(this,arguments),this},f.setPage=function(){return tu.apply(this,arguments),$e.call(this,Pe[Q]),this},f.insertPage=function(S){return this.addPage(),this.movePage(Q,S),this},f.movePage=function(S,B){var te,ue;if(S>B){te=Pe[S],ue=nt[S];for(var ge=S;ge>B;ge--)Pe[ge]=Pe[ge-1],nt[ge]=nt[ge-1];Pe[B]=te,nt[B]=ue,this.setPage(B)}else if(S<B){te=Pe[S],ue=nt[S];for(var Ae=S;Ae<B;Ae++)Pe[Ae]=Pe[Ae+1],nt[Ae]=nt[Ae+1];Pe[B]=te,nt[B]=ue,this.setPage(B)}return this},f.deletePage=function(){return Fa.apply(this,arguments),this},f.__private__.text=f.text=function(S,B,te,ue,ge){var Ae,Ie,Ge,rt,vt,pt,Wt,En,xn,g=(ue=ue||{}).scope||this;if(typeof S=="number"&&typeof B=="number"&&(typeof te=="string"||Array.isArray(te))){var j=te;te=B,B=S,S=j}if(arguments[3]instanceof Xe==0?(Ge=arguments[4],rt=arguments[5],mn(Wt=arguments[3])==="object"&&Wt!==null||(typeof Ge=="string"&&(rt=Ge,Ge=null),typeof Wt=="string"&&(rt=Wt,Wt=null),typeof Wt=="number"&&(Ge=Wt,Wt=null),ue={flags:Wt,angle:Ge,align:rt})):(C("The transform parameter of text() with a Matrix value"),xn=ge),isNaN(B)||isNaN(te)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return g;var O,G="",ye=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:Ba,we=g.internal.scaleFactor;function Fe(ln){return ln=ln.split("	").join(Array(ue.TabLen||9).join(" ")),vs(ln,Wt)}function Tt(ln){for(var bn,ar=ln.concat(),Nr=[],Wa=ar.length;Wa--;)typeof(bn=ar.shift())=="string"?Nr.push(bn):Array.isArray(ln)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?Nr.push(bn[0]):Nr.push([bn[0],bn[1],bn[2]]);return Nr}function Tn(ln,bn){var ar;if(typeof ln=="string")ar=bn(ln)[0];else if(Array.isArray(ln)){for(var Nr,Wa,zf=ln.concat(),Cd=[],bg=zf.length;bg--;)typeof(Nr=zf.shift())=="string"?Cd.push(bn(Nr)[0]):Array.isArray(Nr)&&typeof Nr[0]=="string"&&(Wa=bn(Nr[0],Nr[1],Nr[2]),Cd.push([Wa[0],Wa[1],Wa[2]]));ar=Cd}return ar}var Ht=!1,Pn=!0;if(typeof S=="string")Ht=!0;else if(Array.isArray(S)){var Mr=S.concat();Ie=[];for(var es,Cn=Mr.length;Cn--;)(typeof(es=Mr.shift())!="string"||Array.isArray(es)&&typeof es[0]!="string")&&(Pn=!1);Ht=Pn}if(Ht===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var ts=Ne/g.internal.scaleFactor,Fi=ts*(ye-1);switch(ue.baseline){case"bottom":te-=Fi;break;case"top":te+=ts-Fi;break;case"hanging":te+=ts-2*Fi;break;case"middle":te+=ts/2-Fi}if((pt=ue.maxWidth||0)>0&&(typeof S=="string"?S=g.splitTextToSize(S,pt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(ln,bn){return ln.concat(g.splitTextToSize(bn,pt))},[]))),Ae={text:S,x:B,y:te,options:ue,mutex:{pdfEscape:vs,activeFontKey:et,fonts:xt,activeFontSize:Ne}},zt.publish("preProcessText",Ae),S=Ae.text,Ge=(ue=Ae.options).angle,xn instanceof Xe==0&&Ge&&typeof Ge=="number"){Ge*=Math.PI/180,ue.rotationDirection===0&&(Ge=-Ge),R===A&&(Ge=-Ge);var za=Math.cos(Ge),Lf=Math.sin(Ge);xn=new Xe(za,Lf,-Lf,za,0,0)}else Ge&&Ge instanceof Xe&&(xn=Ge);R!==A||xn||(xn=er),(vt=ue.charSpace||Mi)!==void 0&&(G+=E(k(vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(En=ue.horizontalScale)!==void 0&&(G+=E(100*En)+` Tz
`),ue.lang;var Ss=-1,$a=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Td=g.internal.getCurrentPageInfo().pageContext;switch($a){case 0:case!1:case"fill":Ss=0;break;case 1:case!0:case"stroke":Ss=1;break;case 2:case"fillThenStroke":Ss=2;break;case 3:case"invisible":Ss=3;break;case 4:case"fillAndAddForClipping":Ss=4;break;case 5:case"strokeAndAddPathForClipping":Ss=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ss=6;break;case 7:case"addToPathForClipping":Ss=7}var vg=Td.usedRenderingMode!==void 0?Td.usedRenderingMode:-1;Ss!==-1?G+=Ss+` Tr
`:vg!==-1&&(G+=`0 Tr
`),Ss!==-1&&(Td.usedRenderingMode=Ss),rt=ue.align||"left";var Vi,cu=Ne*ye,Df=g.internal.pageSize.getWidth(),Mf=xt[et];vt=ue.charSpace||Mi,pt=ue.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var Il=[],uu=function(ln){return g.getStringUnitWidth(ln,{font:Mf,charSpace:vt,fontSize:Ne,doKerning:!1})*Ne/we};if(Object.prototype.toString.call(S)==="[object Array]"){var oi;Ie=Tt(S),rt!=="left"&&(Vi=Ie.map(uu));var ai,Rl=0;if(rt==="right"){B-=Vi[0],S=[],Cn=Ie.length;for(var qa=0;qa<Cn;qa++)qa===0?(ai=bs(B),oi=Di(te)):(ai=k(Rl-Vi[qa]),oi=-cu),S.push([Ie[qa],ai,oi]),Rl=Vi[qa]}else if(rt==="center"){B-=Vi[0]/2,S=[],Cn=Ie.length;for(var Ll=0;Ll<Cn;Ll++)Ll===0?(ai=bs(B),oi=Di(te)):(ai=k((Rl-Vi[Ll])/2),oi=-cu),S.push([Ie[Ll],ai,oi]),Rl=Vi[Ll]}else if(rt==="left"){S=[],Cn=Ie.length;for(var Of=0;Of<Cn;Of++)S.push(Ie[Of])}else if(rt==="justify"&&Mf.encoding==="Identity-H"){S=[],Cn=Ie.length,pt=pt!==0?pt:Df;for(var Pd=0,or=0;or<Cn;or++)if(oi=or===0?Di(te):-cu,ai=or===0?bs(B):Pd,or<Cn-1){var xg=k((pt-Vi[or])/(Ie[or].split(" ").length-1)),Qo=Ie[or].split(" ");S.push([Qo[0]+" ",ai,oi]),Pd=0;for(var Xo=1;Xo<Qo.length;Xo++){var Ff=(uu(Qo[Xo-1]+" "+Qo[Xo])-uu(Qo[Xo]))*we+xg;Xo==Qo.length-1?S.push([Qo[Xo],Ff,0]):S.push([Qo[Xo]+" ",Ff,0]),Pd-=Ff}}else S.push([Ie[or],ai,oi]);S.push(["",Pd,0])}else{if(rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Cn=Ie.length,pt=pt!==0?pt:Df,or=0;or<Cn;or++){oi=or===0?Di(te):-cu,ai=or===0?bs(B):0;var Vf=Ie[or].split(" ").length-1,Bf=Vf>0?(pt-Vi[or])/Vf:0;or<Cn-1?Il.push(E(k(Bf))):Il.push(0),S.push([Ie[or],ai,oi])}}}(typeof ue.R2L=="boolean"?ue.R2L:ht)===!0&&(S=Tn(S,function(ln,bn,ar){return[ln.split("").reverse().join(""),bn,ar]})),Ae={text:S,x:B,y:te,options:ue,mutex:{pdfEscape:vs,activeFontKey:et,fonts:xt,activeFontSize:Ne}},zt.publish("postProcessText",Ae),S=Ae.text,O=Ae.mutex.isHex||!1;var Uf=xt[et].encoding;Uf!=="WinAnsiEncoding"&&Uf!=="StandardEncoding"||(S=Tn(S,function(ln,bn,ar){return[Fe(ln),bn,ar]})),Ie=Tt(S),S=[];for(var Dl,Ml,Ol,du=Array.isArray(Ie[0])?1:0,Fl="",hu=function(ln,bn,ar){var Nr="";return ar instanceof Xe?(ar=typeof ue.angle=="number"?mr(ar,new Xe(1,0,0,1,ln,bn)):mr(new Xe(1,0,0,1,ln,bn),ar),R===A&&(ar=mr(new Xe(1,0,0,-1,0,0),ar)),Nr=ar.join(" ")+` Tm
`):Nr=E(ln)+" "+E(bn)+` Td
`,Nr},Bi=0;Bi<Ie.length;Bi++){switch(Fl="",du){case 1:Ol=(O?"<":"(")+Ie[Bi][0]+(O?">":")"),Dl=parseFloat(Ie[Bi][1]),Ml=parseFloat(Ie[Bi][2]);break;case 0:Ol=(O?"<":"(")+Ie[Bi]+(O?">":")"),Dl=bs(B),Ml=Di(te)}Il!==void 0&&Il[Bi]!==void 0&&(Fl=Il[Bi]+` Tw
`),Bi===0?S.push(Fl+hu(Dl,Ml,xn)+Ol):du===0?S.push(Fl+Ol):du===1&&S.push(Fl+hu(Dl,Ml,xn)+Ol)}S=du===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Zo=`BT
/`;return Zo+=et+" "+Ne+` Tf
`,Zo+=E(Ne*ye)+` TL
`,Zo+=Wo+`
`,Zo+=G,Zo+=S,J(Zo+="ET"),p[et]=!0,g};var jf=f.__private__.clip=f.clip=function(S){return J(S==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return jf("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var Li=f.__private__.isValidStyle=function(S){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(B=!0),B};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(S){return Li(S)&&(c=S),this};var xd=f.__private__.getStyle=f.getStyle=function(S){var B=c;switch(S){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=S}return B},$o=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(S){return Ws("f",S),this},f.fillEvenOdd=function(S){return Ws("f*",S),this},f.fillStroke=function(S){return Ws("B",S),this},f.fillStrokeEvenOdd=function(S){return Ws("B*",S),this};var Ws=function(S,B){mn(B)==="object"?wd(B,S):J(S)},qo=function(S){S===null||R===A&&S===void 0||(S=xd(S),J(S))};function bd(S,B,te,ue,ge){var Ae=new lh(B||this.boundingBox,te||this.xStep,ue||this.yStep,this.gState,ge||this.matrix);Ae.stream=this.stream;var Ie=S+"$$"+this.cloneIndex+++"$$";return vn(Ie,Ae),Ae}var wd=function(S,B){var te=tn[S.key],ue=ct[te];if(ue instanceof Su)J("q"),J(_d(B)),ue.gState&&f.setGState(ue.gState),J(S.matrix.toString()+" cm"),J("/"+te+" sh"),J("Q");else if(ue instanceof lh){var ge=new Xe(1,0,0,-1,0,uo());S.matrix&&(ge=ge.multiply(S.matrix||er),te=bd.call(ue,S.key,S.boundingBox,S.xStep,S.yStep,ge).id),J("q"),J("/Pattern cs"),J("/"+te+" scn"),ue.gState&&f.setGState(ue.gState),J(B),J("Q")}},_d=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Al=f.moveTo=function(S,B){return J(E(k(S))+" "+E(z(B))+" m"),this},co=f.lineTo=function(S,B){return J(E(k(S))+" "+E(z(B))+" l"),this},ii=f.curveTo=function(S,B,te,ue,ge,Ae){return J([E(k(S)),E(z(B)),E(k(te)),E(z(ue)),E(k(ge)),E(z(Ae)),"c"].join(" ")),this};f.__private__.line=f.line=function(S,B,te,ue,ge){if(isNaN(S)||isNaN(B)||isNaN(te)||isNaN(ue)||!Li(ge))throw new Error("Invalid arguments passed to jsPDF.line");return R===_?this.lines([[te-S,ue-B]],S,B,[1,1],ge||"S"):this.lines([[te-S,ue-B]],S,B,[1,1]).stroke()},f.__private__.lines=f.lines=function(S,B,te,ue,ge,Ae){var Ie,Ge,rt,vt,pt,Wt,En,xn,g,j,O,G;if(typeof S=="number"&&(G=te,te=B,B=S,S=G),ue=ue||[1,1],Ae=Ae||!1,isNaN(B)||isNaN(te)||!Array.isArray(S)||!Array.isArray(ue)||!Li(ge)||typeof Ae!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Al(B,te),Ie=ue[0],Ge=ue[1],vt=S.length,j=B,O=te,rt=0;rt<vt;rt++)(pt=S[rt]).length===2?(j=pt[0]*Ie+j,O=pt[1]*Ge+O,co(j,O)):(Wt=pt[0]*Ie+j,En=pt[1]*Ge+O,xn=pt[2]*Ie+j,g=pt[3]*Ge+O,j=pt[4]*Ie+j,O=pt[5]*Ge+O,ii(Wt,En,xn,g,j,O));return Ae&&$o(),qo(ge),this},f.path=function(S){for(var B=0;B<S.length;B++){var te=S[B],ue=te.c;switch(te.op){case"m":Al(ue[0],ue[1]);break;case"l":co(ue[0],ue[1]);break;case"c":ii.apply(this,ue);break;case"h":$o()}}return this},f.__private__.rect=f.rect=function(S,B,te,ue,ge){if(isNaN(S)||isNaN(B)||isNaN(te)||isNaN(ue)||!Li(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return R===_&&(ue=-ue),J([E(k(S)),E(z(B)),E(k(te)),E(k(ue)),"re"].join(" ")),qo(ge),this},f.__private__.triangle=f.triangle=function(S,B,te,ue,ge,Ae,Ie){if(isNaN(S)||isNaN(B)||isNaN(te)||isNaN(ue)||isNaN(ge)||isNaN(Ae)||!Li(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-S,ue-B],[ge-te,Ae-ue],[S-ge,B-Ae]],S,B,[1,1],Ie,!0),this},f.__private__.roundedRect=f.roundedRect=function(S,B,te,ue,ge,Ae,Ie){if(isNaN(S)||isNaN(B)||isNaN(te)||isNaN(ue)||isNaN(ge)||isNaN(Ae)||!Li(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ge=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*te),Ae=Math.min(Ae,.5*ue),this.lines([[te-2*ge,0],[ge*Ge,0,ge,Ae-Ae*Ge,ge,Ae],[0,ue-2*Ae],[0,Ae*Ge,-ge*Ge,Ae,-ge,Ae],[2*ge-te,0],[-ge*Ge,0,-ge,-Ae*Ge,-ge,-Ae],[0,2*Ae-ue],[0,-Ae*Ge,ge*Ge,-Ae,ge,-Ae]],S+ge,B,[1,1],Ie,!0),this},f.__private__.ellipse=f.ellipse=function(S,B,te,ue,ge){if(isNaN(S)||isNaN(B)||isNaN(te)||isNaN(ue)||!Li(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ae=4/3*(Math.SQRT2-1)*te,Ie=4/3*(Math.SQRT2-1)*ue;return Al(S+te,B),ii(S+te,B-Ie,S+Ae,B-ue,S,B-ue),ii(S-Ae,B-ue,S-te,B-Ie,S-te,B),ii(S-te,B+Ie,S-Ae,B+ue,S,B+ue),ii(S+Ae,B+ue,S+te,B+Ie,S+te,B),qo(ge),this},f.__private__.circle=f.circle=function(S,B,te,ue){if(isNaN(S)||isNaN(B)||isNaN(te)||!Li(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,B,te,te,ue)},f.setFont=function(S,B,te){return te&&(B=I(B,te)),et=ru(S,B,{disableWarning:!1}),this};var If=f.__private__.getFont=f.getFont=function(){return xt[ru.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var S,B,te={};for(S in Et)if(Et.hasOwnProperty(S))for(B in te[S]=[],Et[S])Et[S].hasOwnProperty(B)&&te[S].push(B);return te},f.addFont=function(S,B,te,ue,ge){var Ae=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ae.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Ae.indexOf(arguments[3])==-1&&(te=I(te,ue)),eu.call(this,S,B,te,ge=ge||"Identity-H")};var Ba,Hs=t.lineWidth||.200025,Rf=f.__private__.getLineWidth=f.getLineWidth=function(){return Hs},wt=f.__private__.setLineWidth=f.setLineWidth=function(S){return Hs=S,J(E(k(S))+" w"),this};f.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(S,B){if(S=S||[],B=B||0,isNaN(B)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(te){return E(k(te))}).join(" "),B=E(k(B)),J("["+S+"] "+B+" d"),this};var El=f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*Ba};f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*Ba};var Sd=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Ba=S),this},Ua=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Ba};Sd(t.lineHeight);var bs=f.__private__.getHorizontalCoordinate=function(S){return k(S)},Di=f.__private__.getVerticalCoordinate=function(S){return R===A?S:nt[Q].mediaBox.topRightY-nt[Q].mediaBox.bottomLeftY-k(S)},iu=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(S){return E(bs(S))},An=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(S){return E(Di(S))},Tl=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Bs(Tl)},f.__private__.setStrokeColor=f.setDrawColor=function(S,B,te,ue){return Tl=ys({ch1:S,ch2:B,ch3:te,ch4:ue,pdfColorType:"draw",precision:2}),J(Tl),this};var ou=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Bs(ou)},f.__private__.setFillColor=f.setFillColor=function(S,B,te,ue){return ou=ys({ch1:S,ch2:B,ch3:te,ch4:ue,pdfColorType:"fill",precision:2}),J(ou),this};var Wo=t.textColor||"0 g",Nd=f.__private__.getTextColor=f.getTextColor=function(){return Bs(Wo)};f.__private__.setTextColor=f.setTextColor=function(S,B,te,ue){return Wo=ys({ch1:S,ch2:B,ch3:te,ch4:ue,pdfColorType:"text",precision:3}),this};var Mi=t.charSpace,Pl=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Mi||0)};f.__private__.setCharSpace=f.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Mi=S,this};var Gs=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(S){var B=f.CapJoinStyles[S];if(B===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gs=B,J(B+" J"),this};var Cl=0;f.__private__.setLineJoin=f.setLineJoin=function(S){var B=f.CapJoinStyles[S];if(B===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=B,J(B+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(E(k(S))+" M"),this},f.GState=_y,f.setGState=function(S){(S=typeof S=="string"?mt[yt[S]]:Ad(null,S)).equals(un)||(J("/"+S.id+" gs"),un=S)};var Ad=function(S,B){if(!S||!yt[S]){var te=!1;for(var ue in mt)if(mt.hasOwnProperty(ue)&&mt[ue].equals(B)){te=!0;break}if(te)B=mt[ue];else{var ge="GS"+(Object.keys(mt).length+1).toString(10);mt[ge]=B,B.id=ge}return S&&(yt[S]=B.id),zt.publish("addGState",B),B}};f.addGState=function(S,B){return Ad(S,B),this},f.saveGraphicsState=function(){return J("q"),Ut.push({key:et,size:Ne,color:Wo}),this},f.restoreGraphicsState=function(){J("Q");var S=Ut.pop();return et=S.key,Ne=S.size,Wo=S.color,un=null,this},f.setCurrentTransformationMatrix=function(S){return J(S.toString()+" cm"),this},f.comment=function(S){return J("#"+S),this};var ws=function(S,B){var te=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ae){isNaN(Ae)||(te=parseFloat(Ae))}});var ue=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(Ae){isNaN(Ae)||(ue=parseFloat(Ae))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Ae){ge=Ae.toString()}}),this},kl=function(S,B,te,ue){ws.call(this,S,B),this.type="rect";var ge=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Ie){isNaN(Ie)||(ge=parseFloat(Ie))}});var Ae=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ae},set:function(Ie){isNaN(Ie)||(Ae=parseFloat(Ie))}}),this},Ho=function(){this.page=ut,this.currentPage=Q,this.pages=Pe.slice(0),this.pagesContext=nt.slice(0),this.x=tt,this.y=yn,this.matrix=Rt,this.width=Yo(Q),this.height=au(Q),this.outputDestination=Oe,this.id="",this.objectNumber=-1};Ho.prototype.restore=function(){ut=this.page,Q=this.currentPage,nt=this.pagesContext,Pe=this.pages,tt=this.x,yn=this.y,Rt=this.matrix,Ed(Q,this.width),_s(Q,this.height),Oe=this.outputDestination};var Go=function(S,B,te,ue,ge){dn.push(new Ho),ut=Q=0,Pe=[],tt=S,yn=B,Rt=ge,Sl([te,ue])};for(var Ko in f.beginFormObject=function(S,B,te,ue,ge){return Go(S,B,te,ue,ge),this},f.endFormObject=function(S){return function(B){if(qt[B])dn.pop().restore();else{var te=new Ho,ue="Xo"+(Object.keys(Nt).length+1).toString(10);te.id=ue,qt[B]=ue,Nt[ue]=te,zt.publish("addFormObject",te),dn.pop().restore()}}(S),this},f.doFormObject=function(S,B){var te=Nt[qt[S]];return J("q"),J(B.toString()+" cm"),J("/"+te.id+" Do"),J("Q"),this},f.getFormObject=function(S){var B=Nt[qt[S]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},f.save=function(S,B){return S=S||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(wu(sn(qs()),S),typeof wu.unload=="function"&&At.setTimeout&&setTimeout(wu.unload,911),this):new Promise(function(te,ue){try{var ge=wu(sn(qs()),S);typeof wu.unload=="function"&&At.setTimeout&&setTimeout(wu.unload,911),te(ge)}catch(Ae){ue(Ae.message)}})},at.API)at.API.hasOwnProperty(Ko)&&(Ko==="events"&&at.API.events.length?function(S,B){var te,ue,ge;for(ge=B.length-1;ge!==-1;ge--)te=B[ge][0],ue=B[ge][1],S.subscribe.apply(S,[te].concat(typeof ue=="function"?[ue]:ue))}(zt,at.API.events):f[Ko]=at.API[Ko]);function Yo(S){return nt[S].mediaBox.topRightX-nt[S].mediaBox.bottomLeftX}function Ed(S,B){nt[S].mediaBox.topRightX=B+nt[S].mediaBox.bottomLeftX}function au(S){return nt[S].mediaBox.topRightY-nt[S].mediaBox.bottomLeftY}function _s(S,B){nt[S].mediaBox.topRightY=B+nt[S].mediaBox.bottomLeftY}var Oi=f.getPageWidth=function(S){return Yo(S=S||Q)/bt},lu=f.setPageWidth=function(S,B){Ed(S,B*bt)},uo=f.getPageHeight=function(S){return au(S=S||Q)/bt},jl=f.setPageHeight=function(S,B){_s(S,B*bt)};return f.internal={pdfEscape:vs,getStyle:xd,getFont:If,getFontSize:ze,getCharSpace:Pl,getTextColor:Nd,getLineHeight:El,getLineHeightFactor:Ua,getLineWidth:Rf,write:Be,getHorizontalCoordinate:bs,getVerticalCoordinate:Di,getCoordinateString:iu,getVerticalCoordinateString:An,collections:{},newObject:Sn,newAdditionalObject:Jr,newObjectDeferred:qn,newObjectDeferredBegin:Sr,getFilters:Us,putStream:zs,events:zt,scaleFactor:bt,pageSize:{getWidth:function(){return Oi(Q)},setWidth:function(S){lu(Q,S)},getHeight:function(){return uo(Q)},setHeight:function(S){jl(Q,S)}},encryptionOptions:d,encryption:Ln,getEncryptor:function(S){return d!==null?Ln.encryptor(S,0):function(B){return B}},output:Va,getNumberOfPages:nu,get pages(){return Pe},out:J,f2:N,f3:T,getPageInfo:lo,getPageInfoByObjId:su,getCurrentPageInfo:kf,getPDFVersion:x,Point:ws,Rectangle:kl,Matrix:Xe,hasHotfix:Dr},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Oi(Q)},set:function(S){lu(Q,S)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return uo(Q)},set:function(S){jl(Q,S)},enumerable:!0,configurable:!0}),(function(S){for(var B=0,te=ot.length;B<te;B++){var ue=eu.call(this,S[B][0],S[B][1],S[B][2],ot[B][3],!0);h===!1&&(p[ue]=!0);var ge=S[B][0].split("-");vd({id:ue,fontName:ge[0],fontStyle:ge[1]||""})}zt.publish("addFonts",{fonts:xt,dictionary:Et})}).call(f,ot),et="F1",Nl(s,n),zt.publish("initialized"),f}qd.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},qd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},qd.prototype.processOwnerPassword=function(t,e){return c5(l5(e).substr(0,5),t)},qd.prototype.encryptor=function(t,e){var n=l5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return c5(n,r)}},_y.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||mn(t)!==mn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},at.API={events:[]},at.version="4.1.0";var sr=at.API,hN=1,yd=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Od=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sy=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var n=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},jt=function(t){return t.toFixed(2)},Yl=function(t){return t.toFixed(5)};sr.__acroform__={};var si=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},QP=function(t){return t*hN},ta=function(t){var e=new cM,n=Je.internal.getHeight(t)||0,r=Je.internal.getWidth(t)||0;return e.BBox=[0,0,Number(jt(r)),Number(jt(n))],e},tae=sr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},nae=sr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},rae=sr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},hr=sr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rae(t,e-1)},fr=sr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tae(t,e-1)},pr=sr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nae(t,e-1)},sae=sr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(i+a)||0,l.upperRight_X=n(s+o)||0,l.upperRight_Y=r(i)||0,[Number(jt(l.lowerLeft_X)),Number(jt(l.lowerLeft_Y)),Number(jt(l.upperRight_X)),Number(jt(l.upperRight_Y))]},iae=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=u5(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+jt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=ta(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},u5=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(N){return N.split(`
`)}):s.map(function(N){return[N]});var i=n,o=Je.internal.getHeight(t)||0;o=o<0?-o:o;var a=Je.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(N,T,k){if(N+1<s.length){var z=T+" "+s[N+1][0];return k0(z,t,k).width<=a-4}return!1};i++;e:for(;i>0;){e="",i--;var c,d,h=k0("3",t,i).height,p=t.multiline?o-i:(o-h)/2,f=p+=2,b=0,x=0,w=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+k0(e,t,i=12).width+", FieldWidth:"+a+`
`;break}for(var v="",_=0,A=0;A<s.length;A++)if(s.hasOwnProperty(A)){var R=!1;if(s[A].length!==1&&w!==s[A].length-1){if((h+2)*(_+2)+2>o)continue e;v+=s[A][w],R=!0,x=A,A--}else{v=(v+=s[A][w]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var F=parseInt(A),$=l(F,v,i),I=A>=s.length-1;if($&&!I){v+=" ",w=0;continue}if($||I){if(I)x=F;else if(t.multiline&&(h+2)*(_+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(_+2)+2>o)continue e;x=F}}for(var E="",C=b;C<=x;C++){var M=s[C];if(t.multiline){if(C===x){E+=M[w]+" ",w=(w+1)%M.length;continue}if(C===b){E+=M[M.length-1]+" ";continue}}E+=M[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=k0(E,t,i).width,t.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;default:c=2}e+=jt(c)+" "+jt(f)+` Td
`,e+="("+yd(E)+`) Tj
`,e+=-jt(c)+` 0 Td
`,f=-(i+2),d=0,b=R?x:x+1,_++,v=""}break}return r.text=e,r.fontSize=i,r},k0=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},oae={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aae=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},lae=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Fo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(oae)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hN=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new uM,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&aae(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=sae(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Je.createDefaultAppearanceStream(a),mn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=iae(a);l.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var h="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var f=a.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var b=f[o];typeof b=="function"&&(b=b.call(s,a)),h+="/"+o+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=f)=="function"&&(b=b.call(s,a)),h+="/"+o+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:a.objId}),s.internal.out("endobj")}i&&function(x,w){for(var v in x)if(x.hasOwnProperty(v)){var _=v,A=x[v];w.internal.newObjectDeferredBegin(A.objId,!0),mn(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete x[_]}}(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},lM=sr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),mn(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)==="/"?s+="/"+Sy(t[i].substr(1)):(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+yd(r(t[i].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},V2=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+yd(r(t))+")"},pa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pa.prototype.toString=function(){return this.objId+" 0 R"},pa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},pa.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:lM(s,this.objId,this.scope)}):s instanceof pa?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var cM=function(){pa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};si(cM,pa);var uM=function(){pa.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+yd(n(t))+")"}},set:function(n){t=n}})};si(uM,pa);var Fo=function t(){pa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!hr(e,3)},set:function(v){v?this.F=fr(e,3):this.F=pr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Ny)return;i="FieldObject"+t.FieldNum++}var v=function(_){return _};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+yd(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/hN:c},set:function(v){c=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Ny||this instanceof qu))return V2(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=v}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Br==0?V2(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof Br==0?v.substr(0,1)==="("?Od(v.substr(1,v.length-2)):Od(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br==1?Od(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Br==1?"/"+Sy(v):v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Br==0?V2(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof Br==0?v.substr(0,1)==="("?Od(v.substr(1,v.length-2)):Od(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br==1?Od(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof Br==1?"/"+Sy(v):v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(v){v=!!v,x=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(v){b=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,1)},set:function(v){v?this.Ff=fr(this.Ff,1):this.Ff=pr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,2)},set:function(v){v?this.Ff=fr(this.Ff,2):this.Ff=pr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,3)},set:function(v){v?this.Ff=fr(this.Ff,3):this.Ff=pr(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');w=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(w){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};si(Fo,pa);var Ah=function(){Fo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lM(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,o,a){a||(a=1);for(var l,c=[];l=o.exec(i);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,18)},set:function(n){n?this.Ff=fr(this.Ff,18):this.Ff=pr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=fr(this.Ff,19):this.Ff=pr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,20)},set:function(n){n?(this.Ff=fr(this.Ff,20),e.sort()):this.Ff=pr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,22)},set:function(n){n?this.Ff=fr(this.Ff,22):this.Ff=pr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(n){n?this.Ff=fr(this.Ff,23):this.Ff=pr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,27)},set:function(n){n?this.Ff=fr(this.Ff,27):this.Ff=pr(this.Ff,27)}}),this.hasAppearanceStream=!1};si(Ah,Fo);var Eh=function(){Ah.call(this),this.fontName="helvetica",this.combo=!1};si(Eh,Ah);var Th=function(){Eh.call(this),this.combo=!0};si(Th,Eh);var l1=function(){Th.call(this),this.edit=!0};si(l1,Th);var Br=function(){Fo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,15)},set:function(n){n?this.Ff=fr(this.Ff,15):this.Ff=pr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,16)},set:function(n){n?this.Ff=fr(this.Ff,16):this.Ff=pr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,17)},set:function(n){n?this.Ff=fr(this.Ff,17):this.Ff=pr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(n){n?this.Ff=fr(this.Ff,26):this.Ff=pr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+yd(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){mn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+Sy(n)}})};si(Br,Fo);var c1=function(){Br.call(this),this.pushButton=!0};si(c1,Br);var Ph=function(){Br.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};si(Ph,Br);var Ny=function(){var t,e;Fo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+yd(s(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){mn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Je.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};si(Ny,Fo),Ph.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ph.prototype.createOption=function(t){var e=new Ny;return e.Parent=this,e.optionName=t,this.Kids.push(e),cae.call(this.scope,e),e};var u1=function(){Br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Je.CheckBox.createAppearanceStream()};si(u1,Br);var qu=function(){Fo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,13)},set:function(e){e?this.Ff=fr(this.Ff,13):this.Ff=pr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,21)},set:function(e){e?this.Ff=fr(this.Ff,21):this.Ff=pr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,23)},set:function(e){e?this.Ff=fr(this.Ff,23):this.Ff=pr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,24)},set:function(e){e?this.Ff=fr(this.Ff,24):this.Ff=pr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,25)},set:function(e){e?this.Ff=fr(this.Ff,25):this.Ff=pr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,26)},set:function(e){e?this.Ff=fr(this.Ff,26):this.Ff=pr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};si(qu,Fo);var d1=function(){qu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!hr(this.Ff,14)},set:function(t){t?this.Ff=fr(this.Ff,14):this.Ff=pr(this.Ff,14)}}),this.password=!0};si(d1,qu);var Je={CheckBox:{createAppearanceStream:function(){return{N:{On:Je.CheckBox.YesNormal},D:{On:Je.CheckBox.YesPushDown,Off:Je.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=u5(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+jt(Je.internal.getWidth(t))+" "+jt(Je.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+jt(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ta(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=Je.internal.getHeight(t),o=Je.internal.getWidth(t),a=u5(t,t.caption);return s.push("1 g"),s.push("0 0 "+jt(o)+" "+jt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+jt(o-1)+" "+jt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+jt(a.fontSize)+" Tf "+r),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(Je.internal.getWidth(t))+" "+jt(Je.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Circle.YesNormal,e.D[t]=Je.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Je.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Yl(Je.internal.getWidth(t)/2)+" "+Yl(Je.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Je.internal.Bezier_C).toFixed(5)),o=Number((r*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Yl(Je.internal.getWidth(t)/2)+" "+Yl(Je.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Yl(Je.internal.getWidth(t)/2)+" "+Yl(Je.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Je.internal.getWidth(t)<=Je.internal.getHeight(t)?Je.internal.getWidth(t)/4:Je.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*Je.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Yl(Je.internal.getWidth(t)/2)+" "+Yl(Je.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Je.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Je.RadioButton.Cross.YesNormal,e.D[t]=Je.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ta(t);e.scope=t.scope;var n=[],r=Je.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+jt(Je.internal.getWidth(t)-2)+" "+jt(Je.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(jt(r.x1.x)+" "+jt(r.x1.y)+" m"),n.push(jt(r.x2.x)+" "+jt(r.x2.y)+" l"),n.push(jt(r.x4.x)+" "+jt(r.x4.y)+" m"),n.push(jt(r.x3.x)+" "+jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=Je.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(Je.internal.getWidth(t))+" "+jt(Je.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+jt(Je.internal.getWidth(t)-2)+" "+jt(Je.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(jt(n.x1.x)+" "+jt(n.x1.y)+" m"),r.push(jt(n.x2.x)+" "+jt(n.x2.y)+" l"),r.push(jt(n.x4.x)+" "+jt(n.x4.y)+" m"),r.push(jt(n.x3.x)+" "+jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ta(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(Je.internal.getWidth(t))+" "+jt(Je.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Je.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Je.internal.getWidth(t),n=Je.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Je.internal.getWidth=function(t){var e=0;return mn(t)==="object"&&(e=QP(t.Rect[2])),e},Je.internal.getHeight=function(t){var e=0;return mn(t)==="object"&&(e=QP(t.Rect[3])),e};var cae=sr.addField=function(t){if(lae(this,t),!(t instanceof Fo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};sr.AcroFormChoiceField=Ah,sr.AcroFormListBox=Eh,sr.AcroFormComboBox=Th,sr.AcroFormEditBox=l1,sr.AcroFormButton=Br,sr.AcroFormPushButton=c1,sr.AcroFormRadioButton=Ph,sr.AcroFormCheckBox=u1,sr.AcroFormTextField=qu,sr.AcroFormPasswordField=d1,sr.AcroFormAppearance=Je,sr.AcroForm={ChoiceField:Ah,ListBox:Eh,ComboBox:Th,EditBox:l1,Button:Br,PushButton:c1,RadioButton:Ph,CheckBox:u1,TextField:qu,PasswordField:d1,Appearance:Je},at.AcroForm={ChoiceField:Ah,ListBox:Eh,ComboBox:Th,EditBox:l1,Button:Br,PushButton:c1,RadioButton:Ph,CheckBox:u1,TextField:qu,PasswordField:d1,Appearance:Je};function dM(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(N,T){var k,z,K,ae,ie,Y=n;if((T=T||n)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if($(N))for(ie in r)for(K=r[ie],k=0;k<K.length;k+=1){for(ae=!0,z=0;z<K[k].length;z+=1)if(K[k][z]!==void 0&&K[k][z]!==N[z]){ae=!1;break}if(ae===!0){Y=ie;break}}else for(ie in r)for(K=r[ie],k=0;k<K.length;k+=1){for(ae=!0,z=0;z<K[k].length;z+=1)if(K[k][z]!==void 0&&K[k][z]!==N.charCodeAt(z)){ae=!1;break}if(ae===!0){Y=ie;break}}return Y===n&&T!==n&&(Y=T),Y},i=function N(T){for(var k=this.internal.write,z=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:T.width}),ae.push({key:"Height",value:T.height}),T.colorSpace===v.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===v.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var ie="",Y=0,ee=T.transparency.length;Y<ee;Y++)ie+=T.transparency[Y]+" "+T.transparency[Y]+" ";ae.push({key:"Mask",value:"["+ie+"]"})}T.sMask!==void 0&&ae.push({key:"SMask",value:T.objectId+1+" 0 R"});var se=T.filter!==void 0?["/"+T.filter]:void 0;if(z({data:T.data,additionalKeyValues:ae,alreadyAppliedFilters:se,objectId:T.objectId}),k("endobj"),"sMask"in T&&T.sMask!==void 0){var ce,V=(ce=T.sMaskBitsPerComponent)!==null&&ce!==void 0?ce:T.bitsPerComponent,Q={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:T.sMask};"filter"in T&&(Q.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(T.width),Q.filter=T.filter),N.call(this,Q)}if(T.colorSpace===v.INDEXED){var Z=this.internal.newObject();z({data:E(new Uint8Array(T.palette)),objectId:Z}),k("endobj")}},o=function(){var N=this.internal.collections[e+"images"];for(var T in N)i.call(this,N[T])},a=function(){var N,T=this.internal.collections[e+"images"],k=this.internal.write;for(var z in T)k("/I"+(N=T[z]).index,N.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var N=this.internal.collections[e+"images"];return l.call(this),N},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(N){return typeof t["process"+N.toUpperCase()]=="function"},p=function(N){return mn(N)==="object"&&N.nodeType===1},f=function(N,T){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var k=""+N.getAttribute("src");if(k.indexOf("data:image/")===0)return a1(unescape(k).split("base64,").pop());var z=t.loadFile(k,!0);if(z!==void 0)return z}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var K;switch(T){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;default:K="image/jpeg"}return a1(N.toDataURL(K,1).split("base64,").pop())}},b=function(N){var T=this.internal.collections[e+"images"];if(T){for(var k in T)if(N===T[k].alias)return T[k]}},x=function(N,T,k){return N||T||(N=-96,T=-96),N<0&&(N=-1*k.width*72/N/this.internal.scaleFactor),T<0&&(T=-1*k.height*72/T/this.internal.scaleFactor),N===0&&(N=T*k.width/k.height),T===0&&(T=N*k.height/k.width),[N,T]},w=function(N,T,k,z,K,ae){var ie=x.call(this,k,z,K),Y=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,se=c.call(this);if(k=ie[0],z=ie[1],se[K.index]=K,ae){ae*=Math.PI/180;var ce=Math.cos(ae),V=Math.sin(ae),Q=function(le){return le.toFixed(4)},Z=[Q(ce),Q(V),Q(-1*V),Q(ce),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,Y(N),ee(T+z),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([Y(k),"0","0",Y(z),"0","0","cm"].join(" "))):this.internal.write([Y(k),"0","0",Y(z),Y(N),ee(T+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=t.__addimage__.sHashCode=function(N){var T,k,z=0;if(typeof N=="string")for(k=N.length,T=0;T<k;T++)z=(z<<5)-z+N.charCodeAt(T),z|=0;else if($(N))for(k=N.byteLength/2,T=0;T<k;T++)z=(z<<5)-z+N[T],z|=0;return z},R=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var T=!0;return N.length===0&&(T=!1),N.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(T=!1),T},F=t.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var T=N.indexOf(",");return T<0?null:N.substring(0,T).trim().endsWith("base64")?N.substring(T+1):null};t.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var $=t.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},I=t.__addimage__.binaryStringToUint8Array=function(N){for(var T=N.length,k=new Uint8Array(T),z=0;z<T;z++)k[z]=N.charCodeAt(z);return k},E=t.__addimage__.arrayBufferToBinaryString=function(N){for(var T="",k=$(N)?N:new Uint8Array(N),z=0;z<k.length;z+=8192)T+=String.fromCharCode.apply(null,k.subarray(z,z+8192));return T};t.addImage=function(){var N,T,k,z,K,ae,ie,Y,ee;if(typeof arguments[1]=="number"?(T=n,k=arguments[1],z=arguments[2],K=arguments[3],ae=arguments[4],ie=arguments[5],Y=arguments[6],ee=arguments[7]):(T=arguments[1],k=arguments[2],z=arguments[3],K=arguments[4],ae=arguments[5],ie=arguments[6],Y=arguments[7],ee=arguments[8]),mn(N=arguments[0])==="object"&&!p(N)&&"imageData"in N){var se=N;N=se.imageData,T=se.format||T||n,k=se.x||k||0,z=se.y||z||0,K=se.w||se.width||K,ae=se.h||se.height||ae,ie=se.alias||ie,Y=se.compression||Y,ee=se.rotation||se.angle||ee}var ce=this.internal.getFilters();if(Y===void 0&&ce.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(k)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var V=C.call(this,N,T,ie,Y);return w.call(this,k,z,K,ae,V,ee),this};var C=function(N,T,k,z){var K,ae,ie;if(typeof N=="string"&&s(N)===n){N=unescape(N);var Y=M(N,!1);(Y!==""||(Y=t.loadFile(N,!0))!==void 0)&&(N=Y)}if(p(N)&&(N=f(N,T)),T=s(N,T),!h(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ie=k)==null||ie.length===0)&&(k=function(ee){return typeof ee=="string"||$(ee)?A(ee):$(ee.data)?A(ee.data):null}(N)),(K=b.call(this,k))||(N instanceof Uint8Array||T==="RGBA"||(ae=N,N=I(N)),K=this["process"+T.toUpperCase()](N,d.call(this),k,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:_.NONE}(z),ae)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},M=t.__addimage__.convertBase64ToBinaryString=function(N,T){T=typeof T!="boolean"||T;var k,z="";if(typeof N=="string"){var K;k=(K=F(N))!==null&&K!==void 0?K:N;try{z=a1(k)}catch(ae){if(T)throw R(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(N){var T,k,z="";if(p(N)&&(N=f(N)),typeof N=="string"&&s(N)===n&&((z=M(N,!1))===""&&(z=t.loadFile(N)||""),N=z),k=s(N),!h(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(N instanceof Uint8Array||(N=I(N)),!(T=this["process"+k.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=k,T}})(at.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,d=!1,h=0;h<c.length&&!d;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){r=c[p];var f=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(x.objId),_=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(v(r.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(v(_))+") >>",x.content=i;var A=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(x.objId,"0 R",w.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+f(b(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var F=this.annotations._nameMap[r.options.name];r.options.pageNumber=F.page,r.options.top=F.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+f(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var $=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+$+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,i,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+s),h:c(r+i)},options:o,type:"link"})},t.textWithLink=function(n,r,s,i){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var d=this.splitTextToSize(n,a).length;o=Math.ceil(c*d)}else a=l,o=c;return this.text(n,r,s,i),s+=.2*c,i.align==="center"&&(r-=l/2),i.align==="right"&&(r-=l),this.link(r,s-c,a,o,i),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&s.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(x){var w=0,v=n,_="",A=0;for(w=0;w<x.length;w+=1)v[x.charCodeAt(w)]!==void 0?(A++,typeof(v=v[x.charCodeAt(w)])=="number"&&(_+=String.fromCharCode(v),v=n,A=0),w===x.length-1&&(v=n,_+=x.charAt(w-(A-1)),w-=A-1,A=0)):(v=n,_+=x.charAt(w-A),w-=A,A=0);return _};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(x,w,v){return o(x)?i(x)===!1?-1:!c(x)||!o(w)&&!o(v)||!o(v)&&a(w)||a(x)&&!o(w)||a(x)&&l(w)||a(x)&&a(w)?0:d(x)&&o(w)&&!a(w)&&o(v)&&c(v)?3:a(x)||!o(v)?1:2:-1},f=function(x){var w=0,v=0,_=0,A="",R="",F="",$=(x=x||"").split("\\s+"),I=[];for(w=0;w<$.length;w+=1){for(I.push(""),v=0;v<$[w].length;v+=1)A=$[w][v],R=$[w][v-1],F=$[w][v+1],o(A)?(_=p(A,R,F),I[w]+=_!==-1?String.fromCharCode(e[A.charCodeAt(0)][_]):A):I[w]+=A;I[w]=h(I[w])}return I.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var x,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(w)){var _=0;for(v=[],_=0;_<w.length;_+=1)Array.isArray(w[_])?v.push([f(w[_][0]),w[_][1],w[_][2]]):v.push([f(w[_])]);x=v}else x=f(w);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",b])}(at.API),at.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(at.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(x){b=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,f=0,b=0,x=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,R){return A.concat(w.splitTextToSize(R,v))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)f<(x=this.getStringUnitWidth(l[_],{font:h})*d)&&(f=x);return f!==0&&(b=l.length),{w:f/=p,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,d,h,p){if(r.call(this),!d)throw new Error("No data for PDF table.");var f,b,x,w,v=[],_=[],A=[],R={},F={},$=[],I=[],E=(p=p||{}).autoSize||!1,C=p.printHeaders!==!1,M=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,N=p.margins||Object.assign({width:this.getPageWidth()},e),T=typeof p.padding=="number"?p.padding:3,k=p.headerBackgroundColor||"#c8c8c8",z=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=z,this.setFontSize(M),h==null)_=v=Object.keys(d[0]),A=v.map(function(){return"left"});else if(Array.isArray(h)&&mn(h[0])==="object")for(v=h.map(function(se){return se.name}),_=h.map(function(se){return se.prompt||se.name||""}),A=h.map(function(se){return se.align||"left"}),f=0;f<h.length;f+=1)F[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(_=v=h,A=v.map(function(){return"left"}));if(E||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<v.length;f+=1){for(R[w=v[f]]=d.map(function(se){return se[w]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(_[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=R[w],this.setFont(void 0,"normal"),x=0;x<b.length;x+=1)$.push(this.getTextDimensions(b[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[w]=Math.max.apply(null,$)+T+T,$=[]}if(C){var K={};for(f=0;f<v.length;f+=1)K[v[f]]={},K[v[f]].text=_[f],K[v[f]].align=A[f];var ae=a.call(this,K,F);I=v.map(function(se){return new i(l,c,F[se],ae,K[se].text,void 0,K[se].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ie=h.reduce(function(se,ce){return se[ce.name]=ce.align,se},{});for(f=0;f<d.length;f+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:f,data:d[f]},this);var Y=a.call(this,d[f],F);for(x=0;x<v.length;x+=1){var ee=d[f][v[x]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:f,col:x,data:ee},this),o.call(this,new i(l,c,F[v[x]],Y,ee,f+2,ie[v[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(f){var b=l[f];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[f]-d-d)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/p+d+d},this).reduce(function(f,b){return Math.max(f,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){d=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(at.API);var hM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},fM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],d5=dM(fM),pM=[100,200,300,400,500,600,700,800,900],uae=dM(pM);function B2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return hM[i=i||"normal"]?i:"normal"}(t.style),r=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),s=function(i){return typeof d5[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function XP(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var dae={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ZP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function JP(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function eC(t){return t.trimLeft()}function hae(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function fae(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Fd,j0,tC,nC,rC,U2=["times"];function sC(t,e,n,r,s){var i=4,o=oC;switch(s){case at.API.image_compression.FAST:i=1,o=iC;break;case at.API.image_compression.MEDIUM:i=6,o=aC;break;case at.API.image_compression.SLOW:i=9,o=lC}t=function(l,c,d,h){for(var p,f=l.length/c,b=new Uint8Array(l.length+f),x=[pae,iC,oC,aC,lC],w=0;w<f;w+=1){var v=w*c,_=l.subarray(v,v+c);if(h)b.set(h(_,d,p),v+w);else{for(var A=x.length,R=[],F=0;F<A;F+=1)R[F]=x[F](_,d,p);var $=gae(R.concat());b.set(R[$],v+w)}p=_}return b}(t,e,Math.ceil(n*r/8),o);var a=Zw(t,{level:i});return at.API.__addimage__.arrayBufferToBinaryString(a)}function pae(t){var e=Array.apply([],t);return e.unshift(0),e}function iC(t,e){var n=t.length,r=[];r[0]=1;for(var s=0;s<n;s+=1){var i=t[s-e]||0;r[s+1]=t[s]-i+256&255}return r}function oC(t,e,n){var r=t.length,s=[];s[0]=2;for(var i=0;i<r;i+=1){var o=n&&n[i]||0;s[i+1]=t[i]-o+256&255}return s}function aC(t,e,n){var r=t.length,s=[];s[0]=3;for(var i=0;i<r;i+=1){var o=t[i-e]||0,a=n&&n[i]||0;s[i+1]=t[i]+256-(o+a>>>1)&255}return s}function lC(t,e,n){var r=t.length,s=[];s[0]=4;for(var i=0;i<r;i+=1){var o=mae(t[i-e]||0,n&&n[i]||0,n&&n[i-e]||0);s[i+1]=t[i]-o+256&255}return s}function mae(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),s=Math.abs(t-n),i=Math.abs(t+e-n-n);return r<=s&&r<=i?t:s<=i?e:n}function gae(t){var e=t.map(function(n){return n.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function z2(t,e,n){var r=e*n,s=Math.floor(r/8),i=16-(r-8*s+n),o=(1<<n)-1;return mM(t,s)>>i&o}function cC(t,e,n,r){var s=n*r,i=Math.floor(s/8),o=16-(s-8*i+r),a=(1<<r)-1,l=(e&a)<<o;(function(c,d,h){if(d+1<c.byteLength)c.setUint16(d,h,!1);else{var p=h>>8&255;c.setUint8(d,p)}})(t,i,mM(t,i)&~(a<<o)&65535|l)}function mM(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function yae(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,o=1<<1+(7&s);t[e++],t[e++];var a=null,l=null;i&&(a=e,l=o,e+=3*o);var c=!0,d=[],h=0,p=null,f=0,b=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],1&x||(p=null),f=x>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,R=t[e++],F=R>>6&1,$=1<<1+(7&R),I=a,E=l,C=!1;R>>7&&(C=!0,I=e,E=$,e+=3*$);var M=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}d.push({x:w,y:v,width:_,height:A,has_local_palette:C,palette_offset:I,palette_size:E,data_offset:M,data_length:e-M,transparent_index:p,interlaced:!!F,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,k){var z=this.frameInfo(T),K=z.width*z.height,ae=new Uint8Array(K);uC(t,z.data_offset,ae,K);var ie=z.palette_offset,Y=z.transparent_index;Y===null&&(Y=256);var ee=z.width,se=n-ee,ce=ee,V=4*(z.y*n+z.x),Q=4*((z.y+z.height)*n+z.x),Z=V,le=4*se;z.interlaced===!0&&(le+=4*n*7);for(var de=8,pe=0,oe=ae.length;pe<oe;++pe){var fe=ae[pe];if(ce===0&&(ce=ee,(Z+=le)>=Q&&(le=4*se+4*n*(de-1),Z=V+(ee+se)*(de<<1),de>>=1)),fe===Y)Z+=4;else{var _e=t[ie+3*fe],Pe=t[ie+3*fe+1],Me=t[ie+3*fe+2];k[Z++]=Me,k[Z++]=Pe,k[Z++]=_e,k[Z++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(T,k){var z=this.frameInfo(T),K=z.width*z.height,ae=new Uint8Array(K);uC(t,z.data_offset,ae,K);var ie=z.palette_offset,Y=z.transparent_index;Y===null&&(Y=256);var ee=z.width,se=n-ee,ce=ee,V=4*(z.y*n+z.x),Q=4*((z.y+z.height)*n+z.x),Z=V,le=4*se;z.interlaced===!0&&(le+=4*n*7);for(var de=8,pe=0,oe=ae.length;pe<oe;++pe){var fe=ae[pe];if(ce===0&&(ce=ee,(Z+=le)>=Q&&(le=4*se+4*n*(de-1),Z=V+(ee+se)*(de<<1),de>>=1)),fe===Y)Z+=4;else{var _e=t[ie+3*fe],Pe=t[ie+3*fe+1],Me=t[ie+3*fe+2];k[Z++]=_e,k[Z++]=Pe,k[Z++]=Me,k[Z++]=255}--ce}}}function uC(t,e,n,r){for(var s=t[e++],i=1<<s,o=i+1,a=o+1,l=s+1,c=(1<<l)-1,d=0,h=0,p=0,f=t[e++],b=new Int32Array(4096),x=null;;){for(;d<16&&f!==0;)h|=t[e++]<<d,d+=8,f===1?f=t[e++]:--f;if(d<l)break;var w=h&c;if(h>>=l,d-=l,w!==i){if(w===o)break;for(var v=w<a?w:x,_=0,A=v;A>i;)A=b[A]>>8,++_;var R=A;if(p+_+(v!==w?1:0)>r)return void _n.log("Warning, gif stream longer than expected.");n[p++]=R;var F=p+=_;for(v!==w&&(n[p++]=R),A=v;_--;)A=b[A],n[--F]=255&A,A>>=8;x!==null&&a<4096&&(b[a++]=x<<8|R,a>=c+1&&l<12&&(++l,c=c<<1|1)),x=w}else a=o+1,c=(1<<(l=s+1))-1,x=null}return p!==r&&_n.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $2(t){var e,n,r,s,i,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),f=new Array(64),b=new Array(64),x=[],w=0,v=7,_=new Array(64),A=new Array(64),R=new Array(64),F=new Array(256),$=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(V,Q){for(var Z=0,le=0,de=new Array,pe=1;pe<=16;pe++){for(var oe=1;oe<=V[pe];oe++)de[Q[le]]=[],de[Q[le]][0]=Z,de[Q[le]][1]=pe,le++,Z++;Z*=2}return de}function ie(V){for(var Q=V[0],Z=V[1]-1;Z>=0;)Q&1<<Z&&(w|=1<<v),Z--,--v<0&&(w==255?(Y(255),Y(0)):Y(w),v=7,w=0)}function Y(V){x.push(V)}function ee(V){Y(V>>8&255),Y(255&V)}function se(V,Q,Z,le,de){for(var pe,oe=de[0],fe=de[240],_e=function(Ne,qe){var ze,ht,Ye,Xt,kt,lt,Pt,Mt,et,bt,tt=0;for(et=0;et<8;++et){ze=Ne[tt],ht=Ne[tt+1],Ye=Ne[tt+2],Xt=Ne[tt+3],kt=Ne[tt+4],lt=Ne[tt+5],Pt=Ne[tt+6];var yn=ze+(Mt=Ne[tt+7]),Rt=ze-Mt,xt=ht+Pt,Et=ht-Pt,Ut=Ye+lt,ct=Ye-lt,tn=Xt+kt,mt=Xt-kt,yt=yn+tn,un=yn-tn,ut=xt+Ut,nt=xt-Ut;Ne[tt]=yt+ut,Ne[tt+4]=yt-ut;var zt=.707106781*(nt+un);Ne[tt+2]=un+zt,Ne[tt+6]=un-zt;var ft=.382683433*((yt=mt+ct)-(nt=Et+Rt)),Nt=.5411961*yt+ft,qt=1.306562965*nt+ft,dn=.707106781*(ut=ct+Et),Xe=Rt+dn,mr=Rt-dn;Ne[tt+5]=mr+Nt,Ne[tt+3]=mr-Nt,Ne[tt+1]=Xe+qt,Ne[tt+7]=Xe-qt,tt+=8}for(tt=0,et=0;et<8;++et){ze=Ne[tt],ht=Ne[tt+8],Ye=Ne[tt+16],Xt=Ne[tt+24],kt=Ne[tt+32],lt=Ne[tt+40],Pt=Ne[tt+48];var er=ze+(Mt=Ne[tt+56]),vn=ze-Mt,$n=ht+Pt,Sn=ht-Pt,qn=Ye+lt,Sr=Ye-lt,Jr=Xt+kt,oo=Xt-kt,Vs=er+Jr,Bs=er-Jr,ys=$n+qn,Us=$n-qn;Ne[tt]=Vs+ys,Ne[tt+32]=Vs-ys;var zs=.707106781*(Us+Bs);Ne[tt+16]=Bs+zs,Ne[tt+48]=Bs-zs;var Bo=.382683433*((Vs=oo+Sr)-(Us=Sn+vn)),ki=.5411961*Vs+Bo,ji=1.306562965*Us+Bo,Ma=.707106781*(ys=Sr+Sn),Uo=vn+Ma,Ii=vn-Ma;Ne[tt+40]=Ii+ki,Ne[tt+24]=Ii-ki,Ne[tt+8]=Uo+ji,Ne[tt+56]=Uo-ji,tt++}for(et=0;et<64;++et)bt=Ne[et]*qe[et],f[et]=bt>0?bt+.5|0:bt-.5|0;return f}(V,Q),Pe=0;Pe<64;++Pe)b[I[Pe]]=_e[Pe];var Me=b[0]-Z;Z=b[0],Me==0?ie(le[0]):(ie(le[p[pe=32767+Me]]),ie(h[pe]));for(var Oe=63;Oe>0&&b[Oe]==0;)Oe--;if(Oe==0)return ie(oe),Z;for(var $e,J=1;J<=Oe;){for(var Be=J;b[J]==0&&J<=Oe;)++J;var St=J-Be;if(St>=16){$e=St>>4;for(var ot=1;ot<=$e;++ot)ie(fe);St&=15}pe=32767+b[J],ie(de[(St<<4)+p[pe]]),ie(h[pe]),J++}return Oe!=63&&ie(oe),Z}function ce(V){V=Math.min(Math.max(V,1),100),i!=V&&(function(Q){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var de=o((Z[le]*Q+50)/100);de=Math.min(Math.max(de,1),255),a[I[le]]=de}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var fe=o((pe[oe]*Q+50)/100);fe=Math.min(Math.max(fe,1),255),l[I[oe]]=fe}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,Me=0;Me<8;Me++)for(var Oe=0;Oe<8;Oe++)c[Pe]=1/(a[I[Pe]]*_e[Me]*_e[Oe]*8),d[Pe]=1/(l[I[Pe]]*_e[Me]*_e[Oe]*8),Pe++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),i=V)}this.encode=function(V,Q){Q&&ce(Q),x=new Array,w=0,v=7,ee(65496),ee(65504),ee(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),ee(1),ee(1),Y(0),Y(0),function(){ee(65499),ee(132),Y(0);for(var ht=0;ht<64;ht++)Y(a[ht]);Y(1);for(var Ye=0;Ye<64;Ye++)Y(l[Ye])}(),function(ht,Ye){ee(65472),ee(17),Y(8),ee(Ye),ee(ht),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(V.width,V.height),function(){ee(65476),ee(418),Y(0);for(var ht=0;ht<16;ht++)Y(E[ht+1]);for(var Ye=0;Ye<=11;Ye++)Y(C[Ye]);Y(16);for(var Xt=0;Xt<16;Xt++)Y(M[Xt+1]);for(var kt=0;kt<=161;kt++)Y(N[kt]);Y(1);for(var lt=0;lt<16;lt++)Y(T[lt+1]);for(var Pt=0;Pt<=11;Pt++)Y(k[Pt]);Y(17);for(var Mt=0;Mt<16;Mt++)Y(z[Mt+1]);for(var et=0;et<=161;et++)Y(K[et])}(),ee(65498),ee(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var Z=0,le=0,de=0;w=0,v=7,this.encode.displayName="_encode_";for(var pe,oe,fe,_e,Pe,Me,Oe,$e,J,Be=V.data,St=V.width,ot=V.height,Ne=4*St,qe=0;qe<ot;){for(pe=0;pe<Ne;){for(Pe=Ne*qe+pe,Oe=-1,$e=0,J=0;J<64;J++)Me=Pe+($e=J>>3)*Ne+(Oe=4*(7&J)),qe+$e>=ot&&(Me-=Ne*(qe+1+$e-ot)),pe+Oe>=Ne&&(Me-=pe+Oe-Ne+4),oe=Be[Me++],fe=Be[Me++],_e=Be[Me++],_[J]=($[oe]+$[fe+256|0]+$[_e+512|0]>>16)-128,A[J]=($[oe+768|0]+$[fe+1024|0]+$[_e+1280|0]>>16)-128,R[J]=($[oe+1280|0]+$[fe+1536|0]+$[_e+1792|0]>>16)-128;Z=se(_,c,Z,e,r),le=se(A,d,le,n,s),de=se(R,d,de,n,s),pe+=32}qe+=8}if(v>=0){var ze=[];ze[1]=v+1,ze[0]=(1<<v+1)-1,ie(ze)}return ee(65497),new Uint8Array(x)},t=t||50,function(){for(var V=String.fromCharCode,Q=0;Q<256;Q++)F[Q]=V(Q)}(),e=ae(E,C),n=ae(T,k),r=ae(M,N),s=ae(z,K),function(){for(var V=1,Q=2,Z=1;Z<=15;Z++){for(var le=V;le<Q;le++)p[32767+le]=Z,h[32767+le]=[],h[32767+le][1]=Z,h[32767+le][0]=le;for(var de=-(Q-1);de<=-V;de++)p[32767+de]=Z,h[32767+de]=[],h[32767+de][1]=Z,h[32767+de][0]=Q-1+de;V<<=1,Q<<=1}}(),function(){for(var V=0;V<256;V++)$[V]=19595*V,$[V+256|0]=38470*V,$[V+512|0]=7471*V+32768,$[V+768|0]=-11059*V,$[V+1024|0]=-21709*V,$[V+1280|0]=32768*V+8421375,$[V+1536|0]=-27439*V,$[V+1792|0]=-5329*V}(),ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dC(t){function e(C){if(!C)throw Error("assert :P")}function n(C,M,N){for(var T=0;4>T;T++)if(C[M+T]!=N.charCodeAt(T))return!0;return!1}function r(C,M,N,T,k){for(var z=0;z<k;z++)C[M+z]=N[T+z]}function s(C,M,N,T){for(var k=0;k<T;k++)C[M+k]=N}function i(C){return new Int32Array(C)}function o(C,M){for(var N=[],T=0;T<C;T++)N.push(new M);return N}function a(C,M){var N=[];return function T(k,z,K){for(var ae=K[z],ie=0;ie<ae&&(k.push(K.length>z+1?[]:new M),!(K.length<z+1));ie++)T(k[ie],z+1,K)}(N,0,C),N}var l=function(){var C=this;function M(m,y){for(var P=1<<y-1>>>0;m&P;)P>>>=1;return P?(m&P-1)+P:m}function N(m,y,P,D,U){e(!(D%P));do m[y+(D-=P)]=U;while(0<D)}function T(m,y,P,D,U){if(e(2328>=U),512>=U)var q=i(512);else if((q=i(U))==null)return 0;return function(W,H,X,ne,he,be){var re,me,ve=H,Se=1<<X,xe=i(16),Ee=i(16);for(e(he!=0),e(ne!=null),e(W!=null),e(0<X),me=0;me<he;++me){if(15<ne[me])return 0;++xe[ne[me]]}if(xe[0]==he)return 0;for(Ee[1]=0,re=1;15>re;++re){if(xe[re]>1<<re)return 0;Ee[re+1]=Ee[re]+xe[re]}for(me=0;me<he;++me)re=ne[me],0<ne[me]&&(be[Ee[re]++]=me);if(Ee[15]==1)return(ne=new k).g=0,ne.value=be[0],N(W,ve,1,Se,ne),Se;var Te,Le=-1,Re=Se-1,dt=0,Qe=1,Ft=1,st=1<<X;for(me=0,re=1,he=2;re<=X;++re,he<<=1){if(Qe+=Ft<<=1,0>(Ft-=xe[re]))return 0;for(;0<xe[re];--xe[re])(ne=new k).g=re,ne.value=be[me++],N(W,ve+dt,he,st,ne),dt=M(dt,re)}for(re=X+1,he=2;15>=re;++re,he<<=1){if(Qe+=Ft<<=1,0>(Ft-=xe[re]))return 0;for(;0<xe[re];--xe[re]){if(ne=new k,(dt&Re)!=Le){for(ve+=st,Te=1<<(Le=re)-X;15>Le&&!(0>=(Te-=xe[Le]));)++Le,Te<<=1;Se+=st=1<<(Te=Le-X),W[H+(Le=dt&Re)].g=Te+X,W[H+Le].value=ve-H-Le}ne.g=re-X,ne.value=be[me++],N(W,ve+(dt>>X),he,st,ne),dt=M(dt,re)}}return Qe!=2*Ee[15]-1?0:Se}(m,y,P,D,U,q)}function k(){this.value=this.g=0}function z(){this.value=this.g=0}function K(){this.G=o(5,k),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(uu,z)}function ae(m,y,P,D){e(m!=null),e(y!=null),e(2147483648>D),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=y,m.pa=P,m.Jd=y,m.Yc=P+D,m.Zc=4<=D?P+D-4+1:P,oe(m)}function ie(m,y){for(var P=0;0<y--;)P|=_e(m,128)<<y;return P}function Y(m,y){var P=ie(m,y);return fe(m)?-P:P}function ee(m,y,P,D){var U,q=0;for(e(m!=null),e(y!=null),e(4294967288>D),m.Sb=D,m.Ra=0,m.u=0,m.h=0,4<D&&(D=4),U=0;U<D;++U)q+=y[P+U]<<8*U;m.Ra=q,m.bb=D,m.oa=y,m.pa=P}function se(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Rl-8>>>0,++m.bb,m.u-=8;le(m)&&(m.h=1,m.u=0)}function ce(m,y){if(e(0<=y),!m.h&&y<=ai){var P=Z(m)&oi[y];return m.u+=y,se(m),P}return m.h=1,m.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(m){return m.Ra>>>(m.u&Rl-1)>>>0}function le(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Rl}function de(m,y){m.u=y,m.h=le(m)}function pe(m){m.u>=qa&&(e(m.u>=qa),se(m))}function oe(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function fe(m){return ie(m,1)}function _e(m,y){var P=m.Ca;0>m.b&&oe(m);var D=m.b,U=P*y>>>8,q=(m.I>>>D>U)+0;for(q?(P-=U,m.I-=U+1<<D>>>0):P=U+1,D=P,U=0;256<=D;)U+=8,D>>=8;return D=7^U+Ll[D],m.b-=D,m.Ca=(P<<D)-1,q}function Pe(m,y,P){m[y+0]=P>>24&255,m[y+1]=P>>16&255,m[y+2]=P>>8&255,m[y+3]=255&P}function Me(m,y){return m[y+0]|m[y+1]<<8}function Oe(m,y){return Me(m,y)|m[y+2]<<16}function $e(m,y){return Me(m,y)|Me(m,y+2)<<16}function J(m,y){var P=1<<y;return e(m!=null),e(0<y),m.X=i(P),m.X==null?0:(m.Mb=32-y,m.Xa=y,1)}function Be(m,y){e(m!=null),e(y!=null),e(m.Xa==y.Xa),r(y.X,0,m.X,0,1<<y.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function ot(m,y,P,D){e(P!=null),e(D!=null);var U=P[0],q=D[0];return U==0&&(U=(m*q+y/2)/y),q==0&&(q=(y*U+m/2)/m),0>=U||0>=q?0:(P[0]=U,D[0]=q,1)}function Ne(m,y){return m+(1<<y)-1>>>y}function qe(m,y){return((4278255360&m)+(4278255360&y)>>>0&4278255360)+((16711935&m)+(16711935&y)>>>0&16711935)>>>0}function ze(m,y){C[y]=function(P,D,U,q,W,H,X){var ne;for(ne=0;ne<W;++ne){var he=C[m](H[X+ne-1],U,q+ne);H[X+ne]=qe(P[D+ne],he)}}}function ht(){this.ud=this.hd=this.jd=0}function Ye(m,y){return((4278124286&(m^y))>>>1)+(m&y)>>>0}function Xt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function kt(m,y){return Xt(m+(m-y+.5>>1))}function lt(m,y,P){return Math.abs(y-P)-Math.abs(m-P)}function Pt(m,y,P,D,U,q,W){for(D=q[W-1],P=0;P<U;++P)q[W+P]=D=qe(m[y+P],D)}function Mt(m,y,P,D,U){var q;for(q=0;q<P;++q){var W=m[y+q],H=W>>8&255,X=16711935&(X=(X=16711935&W)+((H<<16)+H));D[U+q]=(4278255360&W)+X>>>0}}function et(m,y){y.jd=255&m,y.hd=m>>8&255,y.ud=m>>16&255}function bt(m,y,P,D,U,q){var W;for(W=0;W<D;++W){var H=y[P+W],X=H>>>8,ne=H,he=255&(he=(he=H>>>16)+((m.jd<<24>>24)*(X<<24>>24)>>>5));ne=255&(ne=(ne+=(m.hd<<24>>24)*(X<<24>>24)>>>5)+((m.ud<<24>>24)*(he<<24>>24)>>>5)),U[q+W]=(4278255360&H)+(he<<16)+ne}}function tt(m,y,P,D,U){C[y]=function(q,W,H,X,ne,he,be,re,me){for(X=be;X<re;++X)for(be=0;be<me;++be)ne[he++]=U(H[D(q[W++])])},C[m]=function(q,W,H,X,ne,he,be){var re=8>>q.b,me=q.Ea,ve=q.K[0],Se=q.w;if(8>re)for(q=(1<<q.b)-1,Se=(1<<re)-1;W<H;++W){var xe,Ee=0;for(xe=0;xe<me;++xe)xe&q||(Ee=D(X[ne++])),he[be++]=U(ve[Ee&Se]),Ee>>=re}else C["VP8LMapColor"+P](X,ne,ve,Se,he,be,W,H,me)}}function yn(m,y,P,D,U){for(P=y+P;y<P;){var q=m[y++];D[U++]=q>>16&255,D[U++]=q>>8&255,D[U++]=255&q}}function Rt(m,y,P,D,U){for(P=y+P;y<P;){var q=m[y++];D[U++]=q>>16&255,D[U++]=q>>8&255,D[U++]=255&q,D[U++]=q>>24&255}}function xt(m,y,P,D,U){for(P=y+P;y<P;){var q=(W=m[y++])>>16&240|W>>12&15,W=240&W|W>>28&15;D[U++]=q,D[U++]=W}}function Et(m,y,P,D,U){for(P=y+P;y<P;){var q=(W=m[y++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;D[U++]=q,D[U++]=W}}function Ut(m,y,P,D,U){for(P=y+P;y<P;){var q=m[y++];D[U++]=255&q,D[U++]=q>>8&255,D[U++]=q>>16&255}}function ct(m,y,P,D,U,q){if(q==0)for(P=y+P;y<P;)Pe(D,((q=m[y++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),U+=32;else r(D,U,m,y,P)}function tn(m,y){C[y][0]=C[m+"0"],C[y][1]=C[m+"1"],C[y][2]=C[m+"2"],C[y][3]=C[m+"3"],C[y][4]=C[m+"4"],C[y][5]=C[m+"5"],C[y][6]=C[m+"6"],C[y][7]=C[m+"7"],C[y][8]=C[m+"8"],C[y][9]=C[m+"9"],C[y][10]=C[m+"10"],C[y][11]=C[m+"11"],C[y][12]=C[m+"12"],C[y][13]=C[m+"13"],C[y][14]=C[m+"0"],C[y][15]=C[m+"0"]}function mt(m){return m==Mv||m==Ov||m==Eg||m==Fv}function yt(){this.eb=[],this.size=this.A=this.fb=0}function un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ut(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new yt,this.f.kb=new un,this.sd=null}function nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function zt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Nt(m,y){var P=m.T,D=y.ba.f.RGBA,U=D.eb,q=D.fb+m.ka*D.A,W=zi[y.ba.S],H=m.y,X=m.O,ne=m.f,he=m.N,be=m.ea,re=m.W,me=y.cc,ve=y.dc,Se=y.Mc,xe=y.Nc,Ee=m.ka,Te=m.ka+m.T,Le=m.U,Re=Le+1>>1;for(Ee==0?W(H,X,null,null,ne,he,be,re,ne,he,be,re,U,q,null,null,Le):(W(y.ec,y.fc,H,X,me,ve,Se,xe,ne,he,be,re,U,q-D.A,U,q,Le),++P);Ee+2<Te;Ee+=2)me=ne,ve=he,Se=be,xe=re,he+=m.Rc,re+=m.Rc,q+=2*D.A,W(H,(X+=2*m.fa)-m.fa,H,X,me,ve,Se,xe,ne,he,be,re,U,q-D.A,U,q,Le);return X+=m.fa,m.j+Te<m.o?(r(y.ec,y.fc,H,X,Le),r(y.cc,y.dc,ne,he,Re),r(y.Mc,y.Nc,be,re,Re),P--):1&Te||W(H,X,null,null,ne,he,be,re,ne,he,be,re,U,q+D.A,null,null,Le),P}function qt(m,y,P){var D=m.F,U=[m.J];if(D!=null){var q=m.U,W=y.ba.S,H=W==Ag||W==Eg;y=y.ba.f.RGBA;var X=[0],ne=m.ka;X[0]=m.T,m.Kb&&(ne==0?--X[0]:(--ne,U[0]-=m.width),m.j+m.ka+m.T==m.o&&(X[0]=m.o-m.j-ne));var he=y.eb;ne=y.fb+ne*y.A,m=bN(D,U[0],m.width,q,X,he,ne+(H?0:3),y.A),e(P==X),m&&mt(W)&&$f(he,ne,H,q,X,y.A)}return 0}function dn(m){var y=m.ma,P=y.ba.S,D=11>P,U=P==Sg||P==Ng||P==Ag||P==Dv||P==12||mt(P);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Df(y.Oa,m,U?11:12))return 0;if(U&&mt(P)&&Tt(),m.da)alert("todo:use_scaling");else{if(D){if(y.Ib=ft,m.Kb){if(P=m.U+1>>1,y.memory=i(m.U+2*P),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+m.U,y.Mc=y.cc,y.Nc=y.dc+P,y.Ib=Nt,Tt()}}else alert("todo:EmitYUV");U&&(y.Jb=qt,D&&we())}if(D&&!ON){for(m=0;256>m;++m)JM[m]=89858*(m-128)+Pg>>Tg,nO[m]=-22014*(m-128)+Pg,tO[m]=-45773*(m-128),eO[m]=113618*(m-128)+Pg>>Tg;for(m=Wf;m<Uv;++m)y=76283*(m-16)+Pg>>Tg,rO[m-Wf]=Ri(y,255),sO[m-Wf]=Ri(y+8>>4,15);ON=1}return 1}function Xe(m){var y=m.ma,P=m.U,D=m.T;return e(!(1&m.ka)),0>=P||0>=D?0:(P=y.Ib(m,y),y.Jb!=null&&y.Jb(m,y,P),y.Dc+=P,1)}function mr(m){m.ma.memory=null}function er(m,y,P,D){return ce(m,8)!=47?0:(y[0]=ce(m,14)+1,P[0]=ce(m,14)+1,D[0]=ce(m,1),ce(m,3)!=0?0:!m.h)}function vn(m,y){if(4>m)return m+1;var P=m-2>>1;return(2+(1&m)<<P)+ce(y,P)+1}function $n(m,y){return 120<y?y-120:1<=(P=((P=VM[y-1])>>4)*m+(8-(15&P)))?P:1;var P}function Sn(m,y,P){var D=Z(P),U=m[y+=255&D].g-8;return 0<U&&(de(P,P.u+8),D=Z(P),y+=m[y].value,y+=D&(1<<U)-1),de(P,P.u+m[y].g),m[y].value}function qn(m,y,P){return P.g+=m.g,P.value+=m.value<<y>>>0,e(8>=P.g),m.g}function Sr(m,y,P){var D=m.xc;return e((y=D==0?0:m.vc[m.md*(P>>D)+(y>>D)])<m.Wb),m.Ya[y]}function Jr(m,y,P,D){var U=m.ab,q=m.c*y,W=m.C;y=W+y;var H=P,X=D;for(D=m.Ta,P=m.Ua;0<U--;){var ne=m.gc[U],he=W,be=y,re=H,me=X,ve=(X=D,H=P,ne.Ea);switch(e(he<be),e(be<=ne.nc),ne.hc){case 2:or(re,me,(be-he)*ve,X,H);break;case 0:var Se=he,xe=be,Ee=X,Te=H,Le=(st=ne).Ea;Se==0&&(Of(re,me,null,null,1,Ee,Te),Pt(re,me+1,0,0,Le-1,Ee,Te+1),me+=Le,Te+=Le,++Se);for(var Re=1<<st.b,dt=Re-1,Qe=Ne(Le,st.b),Ft=st.K,st=st.w+(Se>>st.b)*Qe;Se<xe;){var Yt=Ft,Ar=st,Vt=1;for(Pd(re,me,Ee,Te-Le,1,Ee,Te);Vt<Le;){var it=(Vt&~dt)+Re;it>Le&&(it=Le),(0,Vf[Yt[Ar++]>>8&15])(re,me+ +Vt,Ee,Te+Vt-Le,it-Vt,Ee,Te+Vt),Vt=it}me+=Le,Te+=Le,++Se&dt||(st+=Qe)}be!=ne.nc&&r(X,H-ve,X,H+(be-he-1)*ve,ve);break;case 1:for(ve=re,xe=me,Le=(re=ne.Ea)-(Te=re&~(Ee=(me=1<<ne.b)-1)),Se=Ne(re,ne.b),Re=ne.K,ne=ne.w+(he>>ne.b)*Se;he<be;){for(dt=Re,Qe=ne,Ft=new ht,st=xe+Te,Yt=xe+re;xe<st;)et(dt[Qe++],Ft),Bf(Ft,ve,xe,me,X,H),xe+=me,H+=me;xe<Yt&&(et(dt[Qe++],Ft),Bf(Ft,ve,xe,Le,X,H),xe+=Le,H+=Le),++he&Ee||(ne+=Se)}break;case 3:if(re==X&&me==H&&0<ne.b){for(xe=X,re=ve=H+(be-he)*ve-(Te=(be-he)*Ne(ne.Ea,ne.b)),me=X,Ee=H,Se=[],Te=(Le=Te)-1;0<=Te;--Te)Se[Te]=me[Ee+Te];for(Te=Le-1;0<=Te;--Te)xe[re+Te]=Se[Te];xg(ne,he,be,X,ve,X,H)}else xg(ne,he,be,re,me,X,H)}H=D,X=P}X!=P&&r(D,P,H,X,q)}function oo(m,y){var P=m.V,D=m.Ba+m.c*m.C,U=y-m.C;if(e(y<=m.l.o),e(16>=U),0<U){var q=m.l,W=m.Ta,H=m.Ua,X=q.width;if(Jr(m,U,P,D),U=H=[H],e((P=m.C)<(D=y)),e(q.v<q.va),D>q.o&&(D=q.o),P<q.j){var ne=q.j-P;P=q.j,U[0]+=ne*X}if(P>=D?P=0:(U[0]+=4*q.v,q.ka=P-q.j,q.U=q.va-q.v,q.T=D-P,P=1),P){if(H=H[0],11>(P=m.ca).S){var he=P.f.RGBA,be=(D=P.S,U=q.U,q=q.T,ne=he.eb,he.A),re=q;for(he=he.fb+m.Ma*he.A;0<re--;){var me=W,ve=H,Se=U,xe=ne,Ee=he;switch(D){case _g:Uf(me,ve,Se,xe,Ee);break;case Sg:Dl(me,ve,Se,xe,Ee);break;case Mv:Dl(me,ve,Se,xe,Ee),$f(xe,Ee,0,Se,1,0);break;case TN:du(me,ve,Se,xe,Ee);break;case Ng:ct(me,ve,Se,xe,Ee,1);break;case Ov:ct(me,ve,Se,xe,Ee,1),$f(xe,Ee,0,Se,1,0);break;case Ag:ct(me,ve,Se,xe,Ee,0);break;case Eg:ct(me,ve,Se,xe,Ee,0),$f(xe,Ee,1,Se,1,0);break;case Dv:Ml(me,ve,Se,xe,Ee);break;case Fv:Ml(me,ve,Se,xe,Ee),xN(xe,Ee,Se,1,0);break;case PN:Ol(me,ve,Se,xe,Ee);break;default:e(0)}H+=X,he+=be}m.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=P.height)}}m.C=y,e(m.C<=m.i)}function Vs(m){var y;if(0<m.ua)return 0;for(y=0;y<m.Wb;++y){var P=m.Ya[y].G,D=m.Ya[y].H;if(0<P[1][D[1]+0].g||0<P[2][D[2]+0].g||0<P[3][D[3]+0].g)return 0}return 1}function Bs(m,y,P,D,U,q){if(m.Z!=0){var W=m.qd,H=m.rd;for(e(Bl[m.Z]!=null);y<P;++y)Bl[m.Z](W,H,D,U,D,U,q),W=D,H=U,U+=q;m.qd=W,m.rd=H}}function ys(m,y){var P=m.l.ma,D=P.Z==0||P.Z==1?m.l.j:m.C;if(D=m.C<D?D:m.C,e(y<=m.l.o),y>D){var U=m.l.width,q=P.ca,W=P.tb+U*D,H=m.V,X=m.Ba+m.c*D,ne=m.gc;e(m.ab==1),e(ne[0].hc==3),Xo(ne[0],D,y,H,X,q,W),Bs(P,D,y,q,W,U)}m.C=m.Ma=y}function Us(m,y,P,D,U,q,W){var H=m.$/D,X=m.$%D,ne=m.m,he=m.s,be=P+m.$,re=be;U=P+D*U;var me=P+D*q,ve=280+he.ua,Se=m.Pb?H:16777216,xe=0<he.ua?he.Wa:null,Ee=he.wc,Te=be<me?Sr(he,X,H):null;e(m.C<q),e(me<=U);var Le=!1;e:for(;;){for(;Le||be<me;){var Re=0;if(H>=Se){var dt=be-P;e((Se=m).Pb),Se.wd=Se.m,Se.xd=dt,0<Se.s.ua&&Be(Se.s.Wa,Se.s.vb),Se=H+UM}if(X&Ee||(Te=Sr(he,X,H)),e(Te!=null),Te.Qb&&(y[be]=Te.qb,Le=!0),!Le)if(pe(ne),Te.jc){Re=ne,dt=y;var Qe=be,Ft=Te.pd[Z(Re)&uu-1];e(Te.jc),256>Ft.g?(de(Re,Re.u+Ft.g),dt[Qe]=Ft.value,Re=0):(de(Re,Re.u+Ft.g-256),e(256<=Ft.value),Re=Ft.value),Re==0&&(Le=!0)}else Re=Sn(Te.G[0],Te.H[0],ne);if(ne.h)break;if(Le||256>Re){if(!Le)if(Te.nd)y[be]=(Te.qb|Re<<8)>>>0;else{if(pe(ne),Le=Sn(Te.G[1],Te.H[1],ne),pe(ne),dt=Sn(Te.G[2],Te.H[2],ne),Qe=Sn(Te.G[3],Te.H[3],ne),ne.h)break;y[be]=(Qe<<24|Le<<16|Re<<8|dt)>>>0}if(Le=!1,++be,++X>=D&&(X=0,++H,W!=null&&H<=q&&!(H%16)&&W(m,H),xe!=null))for(;re<be;)Re=y[re++],xe.X[(506832829*Re&4294967295)>>>xe.Mb]=Re}else if(280>Re){if(Re=vn(Re-256,ne),dt=Sn(Te.G[4],Te.H[4],ne),pe(ne),dt=$n(D,dt=vn(dt,ne)),ne.h)break;if(be-P<dt||U-be<Re)break e;for(Qe=0;Qe<Re;++Qe)y[be+Qe]=y[be+Qe-dt];for(be+=Re,X+=Re;X>=D;)X-=D,++H,W!=null&&H<=q&&!(H%16)&&W(m,H);if(e(be<=U),X&Ee&&(Te=Sr(he,X,H)),xe!=null)for(;re<be;)Re=y[re++],xe.X[(506832829*Re&4294967295)>>>xe.Mb]=Re}else{if(!(Re<ve))break e;for(Le=Re-280,e(xe!=null);re<be;)Re=y[re++],xe.X[(506832829*Re&4294967295)>>>xe.Mb]=Re;Re=be,e(!(Le>>>(dt=xe).Xa)),y[Re]=dt.X[Le],Le=!0}Le||e(ne.h==le(ne))}if(m.Pb&&ne.h&&be<U)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Be(m.s.vb,m.s.Wa);else{if(ne.h)break e;W!=null&&W(m,H>q?q:H),m.a=0,m.$=be-P}return 1}return m.a=3,0}function zs(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var y=m.Wa;y!=null&&(y.X=null),m.vb=null,e(m!=null)}function Bo(){var m=new vt;return m==null?null:(m.a=0,m.xb=jN,tn("Predictor","VP8LPredictors"),tn("Predictor","VP8LPredictors_C"),tn("PredictorAdd","VP8LPredictorsAdd"),tn("PredictorAdd","VP8LPredictorsAdd_C"),or=Mt,Bf=bt,Uf=yn,Dl=Rt,Ml=xt,Ol=Et,du=Ut,C.VP8LMapColor32b=Qo,C.VP8LMapColor8b=Ff,m)}function ki(m,y,P,D,U){var q=1,W=[m],H=[y],X=D.m,ne=D.s,he=null,be=0;e:for(;;){if(P)for(;q&&ce(X,1);){var re=W,me=H,ve=D,Se=1,xe=ve.m,Ee=ve.gc[ve.ab],Te=ce(xe,2);if(ve.Oc&1<<Te)q=0;else{switch(ve.Oc|=1<<Te,Ee.hc=Te,Ee.Ea=re[0],Ee.nc=me[0],Ee.K=[null],++ve.ab,e(4>=ve.ab),Te){case 0:case 1:Ee.b=ce(xe,3)+2,Se=ki(Ne(Ee.Ea,Ee.b),Ne(Ee.nc,Ee.b),0,ve,Ee.K),Ee.K=Ee.K[0];break;case 3:var Le,Re=ce(xe,8)+1,dt=16<Re?0:4<Re?1:2<Re?2:3;if(re[0]=Ne(Ee.Ea,dt),Ee.b=dt,Le=Se=ki(Re,1,0,ve,Ee.K)){var Qe,Ft=Re,st=Ee,Yt=1<<(8>>st.b),Ar=i(Yt);if(Ar==null)Le=0;else{var Vt=st.K[0],it=st.w;for(Ar[0]=st.K[0][0],Qe=1;Qe<1*Ft;++Qe)Ar[Qe]=qe(Vt[it+Qe],Ar[Qe-1]);for(;Qe<4*Yt;++Qe)Ar[Qe]=0;st.K[0]=null,st.K[0]=Ar,Le=1}}Se=Le;break;case 2:break;default:e(0)}q=Se}}if(W=W[0],H=H[0],q&&ce(X,1)&&!(q=1<=(be=ce(X,4))&&11>=be)){D.a=3;break e}var Ue;if(Ue=q)t:{var lr,Lt,Zt,Dn=D,zr=W,Ns=H,tr=be,ns=P,As=Dn.m,Er=Dn.s,nn=[null],hn=1,nr=0,fn=BM[tr];n:for(;;){if(ns&&ce(As,1)){var $r=ce(As,3)+2,fo=Ne(zr,$r),cr=Ne(Ns,$r),Ks=fo*cr;if(!ki(fo,cr,0,Dn,nn))break n;for(nn=nn[0],Er.xc=$r,lr=0;lr<Ks;++lr){var wn=nn[lr]>>8&65535;nn[lr]=wn,wn>=hn&&(hn=wn+1)}}if(As.h)break n;for(Lt=0;5>Lt;++Lt){var Tr=CN[Lt];!Lt&&0<tr&&(Tr+=1<<tr),nr<Tr&&(nr=Tr)}var ci=o(hn*fn,k),Es=hn,ui=o(Es,K);if(ui==null)var di=null;else e(65536>=Es),di=ui;var Ys=i(nr);if(di==null||Ys==null||ci==null){Dn.a=1;break n}var hi=ci;for(lr=Zt=0;lr<hn;++lr){var kn=di[lr],fi=kn.G,po=kn.H,fu=0,Ga=1,qr=0;for(Lt=0;5>Lt;++Lt){Tr=CN[Lt],fi[Lt]=hi,po[Lt]=Zt,!Lt&&0<tr&&(Tr+=1<<tr);s:{var kg,zv=Tr,jg=Dn,Hf=Ys,aO=hi,lO=Zt,$v=0,Ul=jg.m,cO=ce(Ul,1);if(s(Hf,0,0,zv),cO){var uO=ce(Ul,1)+1,dO=ce(Ul,1),BN=ce(Ul,dO==0?1:8);Hf[BN]=1,uO==2&&(Hf[BN=ce(Ul,8)]=1);var Ig=1}else{var UN=i(19),zN=ce(Ul,4)+4;if(19<zN){jg.a=3;var Rg=0;break s}for(kg=0;kg<zN;++kg)UN[FM[kg]]=ce(Ul,3);var qv=void 0,Gf=void 0,$N=jg,hO=UN,Lg=zv,qN=Hf,Wv=0,zl=$N.m,WN=8,HN=o(128,k);r:for(;T(HN,0,7,hO,19);){if(ce(zl,1)){var fO=2+2*ce(zl,3);if((qv=2+ce(zl,fO))>Lg)break r}else qv=Lg;for(Gf=0;Gf<Lg&&qv--;){pe(zl);var GN=HN[0+(127&Z(zl))];de(zl,zl.u+GN.g);var kd=GN.value;if(16>kd)qN[Gf++]=kd,kd!=0&&(WN=kd);else{var pO=kd==16,KN=kd-16,mO=MM[KN],YN=ce(zl,DM[KN])+mO;if(Gf+YN>Lg)break r;for(var gO=pO?WN:0;0<YN--;)qN[Gf++]=gO}}Wv=1;break r}Wv||($N.a=3),Ig=Wv}(Ig=Ig&&!Ul.h)&&($v=T(aO,lO,8,Hf,zv)),Ig&&$v!=0?Rg=$v:(jg.a=3,Rg=0)}if(Rg==0)break n;if(Ga&&OM[Lt]==1&&(Ga=hi[Zt].g==0),fu+=hi[Zt].g,Zt+=Rg,3>=Lt){var Kf,Hv=Ys[0];for(Kf=1;Kf<Tr;++Kf)Ys[Kf]>Hv&&(Hv=Ys[Kf]);qr+=Hv}}if(kn.nd=Ga,kn.Qb=0,Ga&&(kn.qb=(fi[3][po[3]+0].value<<24|fi[1][po[1]+0].value<<16|fi[2][po[2]+0].value)>>>0,fu==0&&256>fi[0][po[0]+0].value&&(kn.Qb=1,kn.qb+=fi[0][po[0]+0].value<<8)),kn.jc=!kn.Qb&&6>qr,kn.jc){var Dg,Ka=kn;for(Dg=0;Dg<uu;++Dg){var $l=Dg,ql=Ka.pd[$l],Mg=Ka.G[0][Ka.H[0]+$l];256<=Mg.value?(ql.g=Mg.g+256,ql.value=Mg.value):(ql.g=0,ql.value=0,$l>>=qn(Mg,8,ql),$l>>=qn(Ka.G[1][Ka.H[1]+$l],16,ql),$l>>=qn(Ka.G[2][Ka.H[2]+$l],0,ql),qn(Ka.G[3][Ka.H[3]+$l],24,ql))}}}Er.vc=nn,Er.Wb=hn,Er.Ya=di,Er.yc=ci,Ue=1;break t}Ue=0}if(!(q=Ue)){D.a=3;break e}if(0<be){if(ne.ua=1<<be,!J(ne.Wa,be)){D.a=1,q=0;break e}}else ne.ua=0;var Gv=D,QN=W,yO=H,Kv=Gv.s,Yv=Kv.xc;if(Gv.c=QN,Gv.i=yO,Kv.md=Ne(QN,Yv),Kv.wc=Yv==0?-1:(1<<Yv)-1,P){D.xb=KM;break e}if((he=i(W*H))==null){D.a=1,q=0;break e}q=(q=Us(D,he,0,W,H,H,null))&&!X.h;break e}return q?(U!=null?U[0]=he:(e(he==null),e(P)),D.$=0,P||zs(ne)):zs(ne),q}function ji(m,y){var P=m.c*m.i,D=P+y+16*y;return e(m.c<=y),m.V=i(D),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+P+y,1)}function Ma(m,y){var P=m.C,D=y-P,U=m.V,q=m.Ba+m.c*P;for(e(y<=m.l.o);0<D;){var W=16<D?16:D,H=m.l.ma,X=m.l.width,ne=X*W,he=H.ca,be=H.tb+X*P,re=m.Ta,me=m.Ua;Jr(m,W,U,q),wN(re,me,he,be,ne),Bs(H,P,P+W,he,be,X),D-=W,U+=W*m.c,P+=W}e(P==y),m.C=m.Ma=y}function Uo(){this.ub=this.yd=this.td=this.Rb=0}function Ii(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ao(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Oa(){this.Yb=function(){var m=[];return function y(P,D,U){for(var q=U[D],W=0;W<q&&(P.push(U.length>D+1?[]:0),!(U.length<D+1));W++)y(P[W],D+1,U)}(m,0,[3,11]),m}()}function vd(){this.jb=i(3),this.Wc=a([4,8],Oa),this.Xc=a([4,17],Oa)}function eu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function vs(){this.ld=this.La=this.dd=this.tc=0}function Sl(){this.Na=this.la=0}function Nl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fa(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function tu(){this.uc=this.M=this.Nb=0,this.wa=Array(new vs),this.Y=0,this.ya=Array(new Fa),this.aa=0,this.l=new xs}function nu(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ru(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new Uo,this.Kc=new Ii,this.ed=new eu,this.Qa=new ao,this.Ic=this.$c=this.Aa=0,this.D=new tu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,Nl),this.Pa=new vd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nu),this.Hd=0,this.rb=Array(new Sl),this.sb=0,this.wa=Array(new vs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fa),this.L=this.aa=0,this.gd=a([4,2],vs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ri(m,y){return 0>m?0:m>y?y:m}function xs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $s(){var m=new ru;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,qf||(qf=sn)),m}function Nn(m,y,P){return m.a==0&&(m.a=y,m.sc=P,m.cb=0),0}function zo(m,y,P){return 3<=P&&m[y+0]==157&&m[y+1]==1&&m[y+2]==42}function qs(m,y){if(m==null)return 0;if(m.a=0,m.sc="OK",y==null)return Nn(m,2,"null VP8Io passed to VP8GetHeaders()");var P=y.data,D=y.w,U=y.ha;if(4>U)return Nn(m,7,"Truncated header.");var q=P[D+0]|P[D+1]<<8|P[D+2]<<16,W=m.Od;if(W.Rb=!(1&q),W.td=q>>1&7,W.yd=q>>4&1,W.ub=q>>5,3<W.td)return Nn(m,3,"Incorrect keyframe parameters.");if(!W.yd)return Nn(m,4,"Frame not displayable.");D+=3,U-=3;var H=m.Kc;if(W.Rb){if(7>U)return Nn(m,7,"cannot parse picture header");if(!zo(P,D,U))return Nn(m,3,"Bad code word");H.c=16383&(P[D+4]<<8|P[D+3]),H.Td=P[D+4]>>6,H.i=16383&(P[D+6]<<8|P[D+5]),H.Ud=P[D+6]>>6,D+=7,U-=7,m.za=H.c+15>>4,m.Ub=H.i+15>>4,y.width=H.c,y.height=H.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,s((q=m.Pa).jb,0,255,q.jb.length),e((q=m.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,s(q.Zb,0,0,q.Zb.length),s(q.Lb,0,0,q.Lb)}if(W.ub>U)return Nn(m,7,"bad partition length");ae(q=m.m,P,D,W.ub),D+=W.ub,U-=W.ub,W.Rb&&(H.Ld=fe(q),H.Kd=fe(q)),H=m.Qa;var X,ne=m.Pa;if(e(q!=null),e(H!=null),H.Cb=fe(q),H.Cb){if(H.Bb=fe(q),fe(q)){for(H.Fb=fe(q),X=0;4>X;++X)H.Zb[X]=fe(q)?Y(q,7):0;for(X=0;4>X;++X)H.Lb[X]=fe(q)?Y(q,6):0}if(H.Bb)for(X=0;3>X;++X)ne.jb[X]=fe(q)?ie(q,8):255}else H.Bb=0;if(q.Ka)return Nn(m,3,"cannot parse segment header");if((H=m.ed).zd=fe(q),H.Tb=ie(q,6),H.wb=ie(q,3),H.Pc=fe(q),H.Pc&&fe(q)){for(ne=0;4>ne;++ne)fe(q)&&(H.vd[ne]=Y(q,6));for(ne=0;4>ne;++ne)fe(q)&&(H.od[ne]=Y(q,6))}if(m.L=H.Tb==0?0:H.zd?1:2,q.Ka)return Nn(m,3,"cannot parse filter header");var he=U;if(U=X=D,D=X+he,H=he,m.Xb=(1<<ie(m.m,2))-1,he<3*(ne=m.Xb))P=7;else{for(X+=3*ne,H-=3*ne,he=0;he<ne;++he){var be=P[U+0]|P[U+1]<<8|P[U+2]<<16;be>H&&(be=H),ae(m.Jc[+he],P,X,be),X+=be,H-=be,U+=3}ae(m.Jc[+ne],P,X,H),P=X<D?0:5}if(P!=0)return Nn(m,P,"cannot parse partitions");for(P=ie(X=m.m,7),U=fe(X)?Y(X,4):0,D=fe(X)?Y(X,4):0,H=fe(X)?Y(X,4):0,ne=fe(X)?Y(X,4):0,X=fe(X)?Y(X,4):0,he=m.Qa,be=0;4>be;++be){if(he.Cb){var re=he.Zb[be];he.Fb||(re+=P)}else{if(0<be){m.pb[be]=m.pb[0];continue}re=P}var me=m.pb[be];me.Sc[0]=Vv[Ri(re+U,127)],me.Sc[1]=Bv[Ri(re+0,127)],me.Eb[0]=2*Vv[Ri(re+D,127)],me.Eb[1]=101581*Bv[Ri(re+H,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=Vv[Ri(re+ne,117)],me.Qc[1]=Bv[Ri(re+X,127)],me.lc=re+X}if(!W.Rb)return Nn(m,4,"Not a key frame.");for(fe(q),W=m.Pa,P=0;4>P;++P){for(U=0;8>U;++U)for(D=0;3>D;++D)for(H=0;11>H;++H)ne=_e(q,HM[P][U][D][H])?ie(q,8):qM[P][U][D][H],W.Wc[P][U].Yb[D][H]=ne;for(U=0;17>U;++U)W.Xc[P][U]=W.Wc[P][GM[U]]}return m.kc=fe(q),m.kc&&(m.Bd=ie(q,8)),m.cb=1}function sn(m,y,P,D,U,q,W){var H=y[U].Yb[P];for(P=0;16>U;++U){if(!_e(m,H[P+0]))return U;for(;!_e(m,H[P+1]);)if(H=y[++U].Yb[0],P=0,U==16)return 16;var X=y[U+1].Yb;if(_e(m,H[P+2])){var ne=m,he=0;if(_e(ne,(re=H)[(be=P)+3]))if(_e(ne,re[be+6])){for(H=0,be=2*(he=_e(ne,re[be+8]))+(re=_e(ne,re[be+9+he])),he=0,re=zM[be];re[H];++H)he+=he+_e(ne,re[H]);he+=3+(8<<be)}else _e(ne,re[be+7])?(he=7+2*_e(ne,165),he+=_e(ne,145)):he=5+_e(ne,159);else he=_e(ne,re[be+4])?3+_e(ne,re[be+5]):2;H=X[2]}else he=1,H=X[1];X=W+$M[U],0>(ne=m).b&&oe(ne);var be,re=ne.b,me=(be=ne.Ca>>1)-(ne.I>>re)>>31;--ne.b,ne.Ca+=me,ne.Ca|=1,ne.I-=(be+1&me)<<re,q[X]=((he^me)-me)*D[(0<U)+0]}return 16}function Va(m){var y=m.rb[m.sb-1];y.la=0,y.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function Dr(m,y,P,D,U){U=m[y+P+32*D]+(U>>3),m[y+P+32*D]=-256&U?0>U?0:255:U}function Ln(m,y,P,D,U,q){Dr(m,y,0,P,D+U),Dr(m,y,1,P,D+q),Dr(m,y,2,P,D-q),Dr(m,y,3,P,D-U)}function lo(m){return(20091*m>>16)+m}function su(m,y,P,D){var U,q=0,W=i(16);for(U=0;4>U;++U){var H=m[y+0]+m[y+8],X=m[y+0]-m[y+8],ne=(35468*m[y+4]>>16)-lo(m[y+12]),he=lo(m[y+4])+(35468*m[y+12]>>16);W[q+0]=H+he,W[q+1]=X+ne,W[q+2]=X-ne,W[q+3]=H-he,q+=4,y++}for(U=q=0;4>U;++U)H=(m=W[q+0]+4)+W[q+8],X=m-W[q+8],ne=(35468*W[q+4]>>16)-lo(W[q+12]),Dr(P,D,0,0,H+(he=lo(W[q+4])+(35468*W[q+12]>>16))),Dr(P,D,1,0,X+ne),Dr(P,D,2,0,X-ne),Dr(P,D,3,0,H-he),q++,D+=32}function kf(m,y,P,D){var U=m[y+0]+4,q=35468*m[y+4]>>16,W=lo(m[y+4]),H=35468*m[y+1]>>16;Ln(P,D,0,U+W,m=lo(m[y+1]),H),Ln(P,D,1,U+q,m,H),Ln(P,D,2,U-q,m,H),Ln(P,D,3,U-W,m,H)}function jf(m,y,P,D,U){su(m,y,P,D),U&&su(m,y+16,P,D+4)}function Li(m,y,P,D){hu(m,y+0,P,D,1),hu(m,y+32,P,D+128,1)}function xd(m,y,P,D){var U;for(m=m[y+0]+4,U=0;4>U;++U)for(y=0;4>y;++y)Dr(P,D,y,U,m)}function $o(m,y,P,D){m[y+0]&&ln(m,y+0,P,D),m[y+16]&&ln(m,y+16,P,D+4),m[y+32]&&ln(m,y+32,P,D+128),m[y+48]&&ln(m,y+48,P,D+128+4)}function Ws(m,y,P,D){var U,q=i(16);for(U=0;4>U;++U){var W=m[y+0+U]+m[y+12+U],H=m[y+4+U]+m[y+8+U],X=m[y+4+U]-m[y+8+U],ne=m[y+0+U]-m[y+12+U];q[0+U]=W+H,q[8+U]=W-H,q[4+U]=ne+X,q[12+U]=ne-X}for(U=0;4>U;++U)W=(m=q[0+4*U]+3)+q[3+4*U],H=q[1+4*U]+q[2+4*U],X=q[1+4*U]-q[2+4*U],ne=m-q[3+4*U],P[D+0]=W+H>>3,P[D+16]=ne+X>>3,P[D+32]=W-H>>3,P[D+48]=ne-X>>3,D+=64}function qo(m,y,P){var D,U=y-32,q=li,W=255-m[U-1];for(D=0;D<P;++D){var H,X=q,ne=W+m[y-1];for(H=0;H<P;++H)m[y+H]=X[ne+m[U+H]];y+=32}}function bd(m,y){qo(m,y,4)}function wd(m,y){qo(m,y,8)}function _d(m,y){qo(m,y,16)}function Al(m,y){var P;for(P=0;16>P;++P)r(m,y+32*P,m,y-32,16)}function co(m,y){var P;for(P=16;0<P;--P)s(m,y,m[y-1],16),y+=32}function ii(m,y,P){var D;for(D=0;16>D;++D)s(y,P+32*D,m,16)}function If(m,y){var P,D=16;for(P=0;16>P;++P)D+=m[y-1+32*P]+m[y+P-32];ii(D>>5,m,y)}function Ba(m,y){var P,D=8;for(P=0;16>P;++P)D+=m[y-1+32*P];ii(D>>4,m,y)}function Hs(m,y){var P,D=8;for(P=0;16>P;++P)D+=m[y+P-32];ii(D>>4,m,y)}function Rf(m,y){ii(128,m,y)}function wt(m,y,P){return m+2*y+P+2>>2}function El(m,y){var P,D=y-32;for(D=new Uint8Array([wt(m[D-1],m[D+0],m[D+1]),wt(m[D+0],m[D+1],m[D+2]),wt(m[D+1],m[D+2],m[D+3]),wt(m[D+2],m[D+3],m[D+4])]),P=0;4>P;++P)r(m,y+32*P,D,0,D.length)}function Sd(m,y){var P=m[y-1],D=m[y-1+32],U=m[y-1+64],q=m[y-1+96];Pe(m,y+0,16843009*wt(m[y-1-32],P,D)),Pe(m,y+32,16843009*wt(P,D,U)),Pe(m,y+64,16843009*wt(D,U,q)),Pe(m,y+96,16843009*wt(U,q,q))}function Ua(m,y){var P,D=4;for(P=0;4>P;++P)D+=m[y+P-32]+m[y-1+32*P];for(D>>=3,P=0;4>P;++P)s(m,y+32*P,D,4)}function bs(m,y){var P=m[y-1+0],D=m[y-1+32],U=m[y-1+64],q=m[y-1-32],W=m[y+0-32],H=m[y+1-32],X=m[y+2-32],ne=m[y+3-32];m[y+0+96]=wt(D,U,m[y-1+96]),m[y+1+96]=m[y+0+64]=wt(P,D,U),m[y+2+96]=m[y+1+64]=m[y+0+32]=wt(q,P,D),m[y+3+96]=m[y+2+64]=m[y+1+32]=m[y+0+0]=wt(W,q,P),m[y+3+64]=m[y+2+32]=m[y+1+0]=wt(H,W,q),m[y+3+32]=m[y+2+0]=wt(X,H,W),m[y+3+0]=wt(ne,X,H)}function Di(m,y){var P=m[y+1-32],D=m[y+2-32],U=m[y+3-32],q=m[y+4-32],W=m[y+5-32],H=m[y+6-32],X=m[y+7-32];m[y+0+0]=wt(m[y+0-32],P,D),m[y+1+0]=m[y+0+32]=wt(P,D,U),m[y+2+0]=m[y+1+32]=m[y+0+64]=wt(D,U,q),m[y+3+0]=m[y+2+32]=m[y+1+64]=m[y+0+96]=wt(U,q,W),m[y+3+32]=m[y+2+64]=m[y+1+96]=wt(q,W,H),m[y+3+64]=m[y+2+96]=wt(W,H,X),m[y+3+96]=wt(H,X,X)}function iu(m,y){var P=m[y-1+0],D=m[y-1+32],U=m[y-1+64],q=m[y-1-32],W=m[y+0-32],H=m[y+1-32],X=m[y+2-32],ne=m[y+3-32];m[y+0+0]=m[y+1+64]=q+W+1>>1,m[y+1+0]=m[y+2+64]=W+H+1>>1,m[y+2+0]=m[y+3+64]=H+X+1>>1,m[y+3+0]=X+ne+1>>1,m[y+0+96]=wt(U,D,P),m[y+0+64]=wt(D,P,q),m[y+0+32]=m[y+1+96]=wt(P,q,W),m[y+1+32]=m[y+2+96]=wt(q,W,H),m[y+2+32]=m[y+3+96]=wt(W,H,X),m[y+3+32]=wt(H,X,ne)}function An(m,y){var P=m[y+0-32],D=m[y+1-32],U=m[y+2-32],q=m[y+3-32],W=m[y+4-32],H=m[y+5-32],X=m[y+6-32],ne=m[y+7-32];m[y+0+0]=P+D+1>>1,m[y+1+0]=m[y+0+64]=D+U+1>>1,m[y+2+0]=m[y+1+64]=U+q+1>>1,m[y+3+0]=m[y+2+64]=q+W+1>>1,m[y+0+32]=wt(P,D,U),m[y+1+32]=m[y+0+96]=wt(D,U,q),m[y+2+32]=m[y+1+96]=wt(U,q,W),m[y+3+32]=m[y+2+96]=wt(q,W,H),m[y+3+64]=wt(W,H,X),m[y+3+96]=wt(H,X,ne)}function Tl(m,y){var P=m[y-1+0],D=m[y-1+32],U=m[y-1+64],q=m[y-1+96];m[y+0+0]=P+D+1>>1,m[y+2+0]=m[y+0+32]=D+U+1>>1,m[y+2+32]=m[y+0+64]=U+q+1>>1,m[y+1+0]=wt(P,D,U),m[y+3+0]=m[y+1+32]=wt(D,U,q),m[y+3+32]=m[y+1+64]=wt(U,q,q),m[y+3+64]=m[y+2+64]=m[y+0+96]=m[y+1+96]=m[y+2+96]=m[y+3+96]=q}function ou(m,y){var P=m[y-1+0],D=m[y-1+32],U=m[y-1+64],q=m[y-1+96],W=m[y-1-32],H=m[y+0-32],X=m[y+1-32],ne=m[y+2-32];m[y+0+0]=m[y+2+32]=P+W+1>>1,m[y+0+32]=m[y+2+64]=D+P+1>>1,m[y+0+64]=m[y+2+96]=U+D+1>>1,m[y+0+96]=q+U+1>>1,m[y+3+0]=wt(H,X,ne),m[y+2+0]=wt(W,H,X),m[y+1+0]=m[y+3+32]=wt(P,W,H),m[y+1+32]=m[y+3+64]=wt(D,P,W),m[y+1+64]=m[y+3+96]=wt(U,D,P),m[y+1+96]=wt(q,U,D)}function Wo(m,y){var P;for(P=0;8>P;++P)r(m,y+32*P,m,y-32,8)}function Nd(m,y){var P;for(P=0;8>P;++P)s(m,y,m[y-1],8),y+=32}function Mi(m,y,P){var D;for(D=0;8>D;++D)s(y,P+32*D,m,8)}function Pl(m,y){var P,D=8;for(P=0;8>P;++P)D+=m[y+P-32]+m[y-1+32*P];Mi(D>>4,m,y)}function Gs(m,y){var P,D=4;for(P=0;8>P;++P)D+=m[y+P-32];Mi(D>>3,m,y)}function Cl(m,y){var P,D=4;for(P=0;8>P;++P)D+=m[y-1+32*P];Mi(D>>3,m,y)}function Ad(m,y){Mi(128,m,y)}function ws(m,y,P){var D=m[y-P],U=m[y+0],q=3*(U-D)+Lv[1020+m[y-2*P]-m[y+P]],W=wg[112+(q+4>>3)];m[y-P]=li[255+D+wg[112+(q+3>>3)]],m[y+0]=li[255+U-W]}function kl(m,y,P,D){var U=m[y+0],q=m[y+P];return Ui[255+m[y-2*P]-m[y-P]]>D||Ui[255+q-U]>D}function Ho(m,y,P,D){return 4*Ui[255+m[y-P]-m[y+0]]+Ui[255+m[y-2*P]-m[y+P]]<=D}function Go(m,y,P,D,U){var q=m[y-3*P],W=m[y-2*P],H=m[y-P],X=m[y+0],ne=m[y+P],he=m[y+2*P],be=m[y+3*P];return 4*Ui[255+H-X]+Ui[255+W-ne]>D?0:Ui[255+m[y-4*P]-q]<=U&&Ui[255+q-W]<=U&&Ui[255+W-H]<=U&&Ui[255+be-he]<=U&&Ui[255+he-ne]<=U&&Ui[255+ne-X]<=U}function Ko(m,y,P,D){var U=2*D+1;for(D=0;16>D;++D)Ho(m,y+D,P,U)&&ws(m,y+D,P)}function Yo(m,y,P,D){var U=2*D+1;for(D=0;16>D;++D)Ho(m,y+D*P,1,U)&&ws(m,y+D*P,1)}function Ed(m,y,P,D){var U;for(U=3;0<U;--U)Ko(m,y+=4*P,P,D)}function au(m,y,P,D){var U;for(U=3;0<U;--U)Yo(m,y+=4,P,D)}function _s(m,y,P,D,U,q,W,H){for(q=2*q+1;0<U--;){if(Go(m,y,P,q,W))if(kl(m,y,P,H))ws(m,y,P);else{var X=m,ne=y,he=P,be=X[ne-2*he],re=X[ne-he],me=X[ne+0],ve=X[ne+he],Se=X[ne+2*he],xe=27*(Te=Lv[1020+3*(me-re)+Lv[1020+be-ve]])+63>>7,Ee=18*Te+63>>7,Te=9*Te+63>>7;X[ne-3*he]=li[255+X[ne-3*he]+Te],X[ne-2*he]=li[255+be+Ee],X[ne-he]=li[255+re+xe],X[ne+0]=li[255+me-xe],X[ne+he]=li[255+ve-Ee],X[ne+2*he]=li[255+Se-Te]}y+=D}}function Oi(m,y,P,D,U,q,W,H){for(q=2*q+1;0<U--;){if(Go(m,y,P,q,W))if(kl(m,y,P,H))ws(m,y,P);else{var X=m,ne=y,he=P,be=X[ne-he],re=X[ne+0],me=X[ne+he],ve=wg[112+(4+(Se=3*(re-be))>>3)],Se=wg[112+(Se+3>>3)],xe=ve+1>>1;X[ne-2*he]=li[255+X[ne-2*he]+xe],X[ne-he]=li[255+be+Se],X[ne+0]=li[255+re-ve],X[ne+he]=li[255+me-xe]}y+=D}}function lu(m,y,P,D,U,q){_s(m,y,P,1,16,D,U,q)}function uo(m,y,P,D,U,q){_s(m,y,1,P,16,D,U,q)}function jl(m,y,P,D,U,q){var W;for(W=3;0<W;--W)Oi(m,y+=4*P,P,1,16,D,U,q)}function S(m,y,P,D,U,q){var W;for(W=3;0<W;--W)Oi(m,y+=4,1,P,16,D,U,q)}function B(m,y,P,D,U,q,W,H){_s(m,y,U,1,8,q,W,H),_s(P,D,U,1,8,q,W,H)}function te(m,y,P,D,U,q,W,H){_s(m,y,1,U,8,q,W,H),_s(P,D,1,U,8,q,W,H)}function ue(m,y,P,D,U,q,W,H){Oi(m,y+4*U,U,1,8,q,W,H),Oi(P,D+4*U,U,1,8,q,W,H)}function ge(m,y,P,D,U,q,W,H){Oi(m,y+4,1,U,8,q,W,H),Oi(P,D+4,1,U,8,q,W,H)}function Ae(){this.ba=new ut,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new zt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ie(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ge(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rt(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new k}function vt(){this.xb=this.a=0,this.l=new xs,this.ca=new ut,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rt,this.ab=0,this.gc=o(4,Ge),this.Oc=0}function pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wt(m,y,P,D,U,q,W){for(m=m==null?0:m[y+0],y=0;y<W;++y)U[q+y]=m+P[D+y]&255,m=U[q+y]}function En(m,y,P,D,U,q,W){var H;if(m==null)Wt(null,null,P,D,U,q,W);else for(H=0;H<W;++H)U[q+H]=m[y+H]+P[D+H]&255}function xn(m,y,P,D,U,q,W){if(m==null)Wt(null,null,P,D,U,q,W);else{var H,X=m[y+0],ne=X,he=X;for(H=0;H<W;++H)ne=he+(X=m[y+H])-ne,he=P[D+H]+(-256&ne?0>ne?0:255:ne)&255,ne=X,U[q+H]=he}}function g(m,y,P,D){var U=y.width,q=y.o;if(e(m!=null&&y!=null),0>P||0>=D||P+D>q)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new pt,(W=m.ga==null)||(W=y.width*y.o,e(m.Gb.length==0),m.Gb=i(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var H=m.Fa,X=m.P,ne=m.qc,he=m.mb,be=m.nb,re=X+1,me=ne-1,ve=W.l;if(e(H!=null&&he!=null&&y!=null),Bl[0]=null,Bl[1]=Wt,Bl[2]=En,Bl[3]=xn,W.ca=he,W.tb=be,W.c=y.width,W.i=y.height,e(0<W.c&&0<W.i),1>=ne)y=0;else if(W.$a=3&H[X+0],W.Z=H[X+0]>>2&3,W.Lc=H[X+0]>>4&3,X=H[X+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||X)y=0;else if(ve.put=Xe,ve.ac=dn,ve.bc=mr,ve.ma=W,ve.width=y.width,ve.height=y.height,ve.Da=y.Da,ve.v=y.v,ve.va=y.va,ve.j=y.j,ve.o=y.o,W.$a)e:{e(W.$a==1),y=Bo();t:for(;;){if(y==null){y=0;break e}if(e(W!=null),W.mc=y,y.c=W.c,y.i=W.i,y.l=W.l,y.l.ma=W,y.l.width=W.c,y.l.height=W.i,y.a=0,ee(y.m,H,re,me),!ki(W.c,W.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Vs(y.s)?(W.ic=1,H=y.c*y.i,y.Ta=null,y.Ua=0,y.V=i(H),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(W.ic=0,y=ji(y,W.c)),!y))break t;y=1;break e}W.mc=null,y=0}else y=me>=W.c*W.i;W=!y}if(W)return null;m.ga.Lc!=1?m.Ga=0:D=q-P}e(m.ga!=null),e(P+D<=q);e:{if(y=(H=m.ga).c,q=H.l.o,H.$a==0){if(re=m.rc,me=m.Vc,ve=m.Fa,X=m.P+1+P*y,ne=m.mb,he=m.nb+P*y,e(X<=m.P+m.qc),H.Z!=0)for(e(Bl[H.Z]!=null),W=0;W<D;++W)Bl[H.Z](re,me,ve,X,ne,he,y),re=ne,me=he,he+=y,X+=y;else for(W=0;W<D;++W)r(ne,he,ve,X,y),re=ne,me=he,he+=y,X+=y;m.rc=re,m.Vc=me}else{if(e(H.mc!=null),y=P+D,e((W=H.mc)!=null),e(y<=W.i),W.C>=y)y=1;else if(H.ic||we(),H.ic){H=W.V,re=W.Ba,me=W.c;var Se=W.i,xe=(ve=1,X=W.$/me,ne=W.$%me,he=W.m,be=W.s,W.$),Ee=me*Se,Te=me*y,Le=be.wc,Re=xe<Te?Sr(be,ne,X):null;e(xe<=Ee),e(y<=Se),e(Vs(be));t:for(;;){for(;!he.h&&xe<Te;){if(ne&Le||(Re=Sr(be,ne,X)),e(Re!=null),pe(he),256>(Se=Sn(Re.G[0],Re.H[0],he)))H[re+xe]=Se,++xe,++ne>=me&&(ne=0,++X<=y&&!(X%16)&&ys(W,X));else{if(!(280>Se)){ve=0;break t}Se=vn(Se-256,he);var dt,Qe=Sn(Re.G[4],Re.H[4],he);if(pe(he),!(xe>=(Qe=$n(me,Qe=vn(Qe,he)))&&Ee-xe>=Se)){ve=0;break t}for(dt=0;dt<Se;++dt)H[re+xe+dt]=H[re+xe+dt-Qe];for(xe+=Se,ne+=Se;ne>=me;)ne-=me,++X<=y&&!(X%16)&&ys(W,X);xe<Te&&ne&Le&&(Re=Sr(be,ne,X))}e(he.h==le(he))}ys(W,X>y?y:X);break t}!ve||he.h&&xe<Ee?(ve=0,W.a=he.h?5:3):W.$=xe,y=ve}else y=Us(W,W.V,W.Ba,W.c,W.i,y,Ma);if(!y){D=0;break e}}P+D>=q&&(m.Cc=1),D=1}if(!D)return null;if(m.Cc&&((D=m.ga)!=null&&(D.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+P*U}function j(m,y,P,D,U,q){for(;0<U--;){var W,H=m,X=y+(P?1:0),ne=m,he=y+(P?0:3);for(W=0;W<D;++W){var be=ne[he+4*W];be!=255&&(be*=32897,H[X+4*W+0]=H[X+4*W+0]*be>>23,H[X+4*W+1]=H[X+4*W+1]*be>>23,H[X+4*W+2]=H[X+4*W+2]*be>>23)}y+=q}}function O(m,y,P,D,U){for(;0<D--;){var q;for(q=0;q<P;++q){var W=m[y+2*q+0],H=15&(ne=m[y+2*q+1]),X=4369*H,ne=(240&ne|ne>>4)*X>>16;m[y+2*q+0]=(240&W|W>>4)*X>>16&240|(15&W|W<<4)*X>>16>>4&15,m[y+2*q+1]=240&ne|H}y+=U}}function G(m,y,P,D,U,q,W,H){var X,ne,he=255;for(ne=0;ne<U;++ne){for(X=0;X<D;++X){var be=m[y+X];q[W+4*X]=be,he&=be}y+=P,W+=H}return he!=255}function ye(m,y,P,D,U){var q;for(q=0;q<U;++q)P[D+q]=m[y+q]>>8}function we(){$f=j,xN=O,bN=G,wN=ye}function Fe(m,y,P){C[m]=function(D,U,q,W,H,X,ne,he,be,re,me,ve,Se,xe,Ee,Te,Le){var Re,dt=Le-1>>1,Qe=H[X+0]|ne[he+0]<<16,Ft=be[re+0]|me[ve+0]<<16;e(D!=null);var st=3*Qe+Ft+131074>>2;for(y(D[U+0],255&st,st>>16,Se,xe),q!=null&&(st=3*Ft+Qe+131074>>2,y(q[W+0],255&st,st>>16,Ee,Te)),Re=1;Re<=dt;++Re){var Yt=H[X+Re]|ne[he+Re]<<16,Ar=be[re+Re]|me[ve+Re]<<16,Vt=Qe+Yt+Ft+Ar+524296,it=Vt+2*(Yt+Ft)>>3;st=it+Qe>>1,Qe=(Vt=Vt+2*(Qe+Ar)>>3)+Yt>>1,y(D[U+2*Re-1],255&st,st>>16,Se,xe+(2*Re-1)*P),y(D[U+2*Re-0],255&Qe,Qe>>16,Se,xe+(2*Re-0)*P),q!=null&&(st=Vt+Ft>>1,Qe=it+Ar>>1,y(q[W+2*Re-1],255&st,st>>16,Ee,Te+(2*Re-1)*P),y(q[W+2*Re+0],255&Qe,Qe>>16,Ee,Te+(2*Re+0)*P)),Qe=Yt,Ft=Ar}1&Le||(st=3*Qe+Ft+131074>>2,y(D[U+Le-1],255&st,st>>16,Se,xe+(Le-1)*P),q!=null&&(st=3*Ft+Qe+131074>>2,y(q[W+Le-1],255&st,st>>16,Ee,Te+(Le-1)*P)))}}function Tt(){zi[_g]=YM,zi[Sg]=IN,zi[TN]=QM,zi[Ng]=RN,zi[Ag]=LN,zi[Dv]=DN,zi[PN]=XM,zi[Mv]=IN,zi[Ov]=RN,zi[Eg]=LN,zi[Fv]=DN}function Tn(m){return m&~ZM?0>m?0:255:m>>MN}function Ht(m,y){return Tn((19077*m>>8)+(26149*y>>8)-14234)}function Pn(m,y,P){return Tn((19077*m>>8)-(6419*y>>8)-(13320*P>>8)+8708)}function Mr(m,y){return Tn((19077*m>>8)+(33050*y>>8)-17685)}function es(m,y,P,D,U){D[U+0]=Ht(m,P),D[U+1]=Pn(m,y,P),D[U+2]=Mr(m,y)}function Cn(m,y,P,D,U){D[U+0]=Mr(m,y),D[U+1]=Pn(m,y,P),D[U+2]=Ht(m,P)}function ts(m,y,P,D,U){var q=Pn(m,y,P);y=q<<3&224|Mr(m,y)>>3,D[U+0]=248&Ht(m,P)|q>>5,D[U+1]=y}function Fi(m,y,P,D,U){var q=240&Mr(m,y)|15;D[U+0]=240&Ht(m,P)|Pn(m,y,P)>>4,D[U+1]=q}function za(m,y,P,D,U){D[U+0]=255,es(m,y,P,D,U+1)}function Lf(m,y,P,D,U){Cn(m,y,P,D,U),D[U+3]=255}function Ss(m,y,P,D,U){es(m,y,P,D,U),D[U+3]=255}function $a(m,y,P){C[m]=function(D,U,q,W,H,X,ne,he,be){for(var re=he+(-2&be)*P;he!=re;)y(D[U+0],q[W+0],H[X+0],ne,he),y(D[U+1],q[W+0],H[X+0],ne,he+P),U+=2,++W,++X,he+=2*P;1&be&&y(D[U+0],q[W+0],H[X+0],ne,he)}}function Td(m,y,P){return P==0?m==0?y==0?6:5:y==0?4:0:P}function vg(m,y,P,D,U){switch(m>>>30){case 3:hu(y,P,D,U,0);break;case 2:Bi(y,P,D,U);break;case 1:ln(y,P,D,U)}}function Vi(m,y){var P,D,U=y.M,q=y.Nb,W=m.oc,H=m.pc+40,X=m.oc,ne=m.pc+584,he=m.oc,be=m.pc+600;for(P=0;16>P;++P)W[H+32*P-1]=129;for(P=0;8>P;++P)X[ne+32*P-1]=129,he[be+32*P-1]=129;for(0<U?W[H-1-32]=X[ne-1-32]=he[be-1-32]=129:(s(W,H-32-1,127,21),s(X,ne-32-1,127,9),s(he,be-32-1,127,9)),D=0;D<m.za;++D){var re=y.ya[y.aa+D];if(0<D){for(P=-1;16>P;++P)r(W,H+32*P-4,W,H+32*P+12,4);for(P=-1;8>P;++P)r(X,ne+32*P-4,X,ne+32*P+4,4),r(he,be+32*P-4,he,be+32*P+4,4)}var me=m.Gd,ve=m.Hd+D,Se=re.ad,xe=re.Hc;if(0<U&&(r(W,H-32,me[ve].y,0,16),r(X,ne-32,me[ve].f,0,8),r(he,be-32,me[ve].ea,0,8)),re.Za){var Ee=W,Te=H-32+16;for(0<U&&(D>=m.za-1?s(Ee,Te,me[ve].y[15],4):r(Ee,Te,me[ve+1].y,0,4)),P=0;4>P;P++)Ee[Te+128+P]=Ee[Te+256+P]=Ee[Te+384+P]=Ee[Te+0+P];for(P=0;16>P;++P,xe<<=2)Ee=W,Te=H+FN[P],ho[re.Ob[P]](Ee,Te),vg(xe,Se,16*+P,Ee,Te)}else if(Ee=Td(D,U,re.Ob[0]),Vl[Ee](W,H),xe!=0)for(P=0;16>P;++P,xe<<=2)vg(xe,Se,16*+P,W,H+FN[P]);for(P=re.Gc,Ee=Td(D,U,re.Dd),Ha[Ee](X,ne),Ha[Ee](he,be),xe=Se,Ee=X,Te=ne,255&(re=0|P)&&(170&re?Zo(xe,256,Ee,Te):bn(xe,256,Ee,Te)),re=he,xe=be,255&(P>>=8)&&(170&P?Zo(Se,320,re,xe):bn(Se,320,re,xe)),U<m.Ub-1&&(r(me[ve].y,0,W,H+480,16),r(me[ve].f,0,X,ne+224,8),r(me[ve].ea,0,he,be+224,8)),P=8*q*m.B,me=m.sa,ve=m.ta+16*D+16*q*m.R,Se=m.qa,re=m.ra+8*D+P,xe=m.Ha,Ee=m.Ia+8*D+P,P=0;16>P;++P)r(me,ve+P*m.R,W,H+32*P,16);for(P=0;8>P;++P)r(Se,re+P*m.B,X,ne+32*P,8),r(xe,Ee+P*m.B,he,be+32*P,8)}}function cu(m,y,P,D,U,q,W,H,X){var ne=[0],he=[0],be=0,re=X!=null?X.kd:0,me=X??new Ie;if(m==null||12>P)return 7;me.data=m,me.w=y,me.ha=P,y=[y],P=[P],me.gb=[me.gb];e:{var ve=y,Se=P,xe=me.gb;if(e(m!=null),e(Se!=null),e(xe!=null),xe[0]=0,12<=Se[0]&&!n(m,ve[0],"RIFF")){if(n(m,ve[0]+8,"WEBP")){xe=3;break e}var Ee=$e(m,ve[0]+4);if(12>Ee||4294967286<Ee){xe=3;break e}if(re&&Ee>Se[0]-8){xe=7;break e}xe[0]=Ee,ve[0]+=12,Se[0]-=12}xe=0}if(xe!=0)return xe;for(Ee=0<me.gb[0],P=P[0];;){e:{var Te=m;Se=y,xe=P;var Le=ne,Re=he,dt=ve=[0];if((st=be=[be])[0]=0,8>xe[0])xe=7;else{if(!n(Te,Se[0],"VP8X")){if($e(Te,Se[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var Qe=$e(Te,Se[0]+8),Ft=1+Oe(Te,Se[0]+12);if(2147483648<=Ft*(Te=1+Oe(Te,Se[0]+15))){xe=3;break e}dt!=null&&(dt[0]=Qe),Le!=null&&(Le[0]=Ft),Re!=null&&(Re[0]=Te),Se[0]+=18,xe[0]-=18,st[0]=1}xe=0}}if(be=be[0],ve=ve[0],xe!=0)return xe;if(Se=!!(2&ve),!Ee&&be)return 3;if(q!=null&&(q[0]=!!(16&ve)),W!=null&&(W[0]=Se),H!=null&&(H[0]=0),W=ne[0],ve=he[0],be&&Se&&X==null){xe=0;break}if(4>P){xe=7;break}if(Ee&&be||!Ee&&!be&&!n(m,y[0],"ALPH")){P=[P],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{Qe=m,xe=y,Ee=P;var st=me.gb;Le=me.na,Re=me.P,dt=me.Sa,Ft=22,e(Qe!=null),e(Ee!=null),Te=xe[0];var Yt=Ee[0];for(e(Le!=null),e(dt!=null),Le[0]=null,Re[0]=null,dt[0]=0;;){if(xe[0]=Te,Ee[0]=Yt,8>Yt){xe=7;break e}var Ar=$e(Qe,Te+4);if(4294967286<Ar){xe=3;break e}var Vt=8+Ar+1&-2;if(Ft+=Vt,0<st&&Ft>st){xe=3;break e}if(!n(Qe,Te,"VP8 ")||!n(Qe,Te,"VP8L")){xe=0;break e}if(Yt[0]<Vt){xe=7;break e}n(Qe,Te,"ALPH")||(Le[0]=Qe,Re[0]=Te+8,dt[0]=Ar),Te+=Vt,Yt-=Vt}}if(P=P[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],xe!=0)break}P=[P],me.Ja=[me.Ja],me.xa=[me.xa];e:if(st=m,xe=y,Ee=P,Le=me.gb[0],Re=me.Ja,dt=me.xa,Qe=xe[0],Te=!n(st,Qe,"VP8 "),Ft=!n(st,Qe,"VP8L"),e(st!=null),e(Ee!=null),e(Re!=null),e(dt!=null),8>Ee[0])xe=7;else{if(Te||Ft){if(st=$e(st,Qe+4),12<=Le&&st>Le-12){xe=3;break e}if(re&&st>Ee[0]-8){xe=7;break e}Re[0]=st,xe[0]+=8,Ee[0]-=8,dt[0]=Ft}else dt[0]=5<=Ee[0]&&st[Qe+0]==47&&!(st[Qe+4]>>5),Re[0]=Ee[0];xe=0}if(P=P[0],me.Ja=me.Ja[0],me.xa=me.xa[0],y=y[0],xe!=0)break;if(4294967286<me.Ja)return 3;if(H==null||Se||(H[0]=me.xa?2:1),W=[W],ve=[ve],me.xa){if(5>P){xe=7;break}H=W,re=ve,Se=q,m==null||5>P?m=0:5<=P&&m[y+0]==47&&!(m[y+4]>>5)?(Ee=[0],st=[0],Le=[0],ee(Re=new Q,m,y,P),er(Re,Ee,st,Le)?(H!=null&&(H[0]=Ee[0]),re!=null&&(re[0]=st[0]),Se!=null&&(Se[0]=Le[0]),m=1):m=0):m=0}else{if(10>P){xe=7;break}H=ve,m==null||10>P||!zo(m,y+3,P-3)?m=0:(re=m[y+0]|m[y+1]<<8|m[y+2]<<16,Se=16383&(m[y+7]<<8|m[y+6]),m=16383&(m[y+9]<<8|m[y+8]),1&re||3<(re>>1&7)||!(re>>4&1)||re>>5>=me.Ja||!Se||!m?m=0:(W&&(W[0]=Se),H&&(H[0]=m),m=1))}if(!m||(W=W[0],ve=ve[0],be&&(ne[0]!=W||he[0]!=ve)))return 3;X!=null&&(X[0]=me,X.offset=y-X.w,e(4294967286>y-X.w),e(X.offset==X.ha-P));break}return xe==0||xe==7&&be&&X==null?(q!=null&&(q[0]|=me.na!=null&&0<me.na.length),D!=null&&(D[0]=W),U!=null&&(U[0]=ve),0):xe}function Df(m,y,P){var D=y.width,U=y.height,q=0,W=0,H=D,X=U;if(y.Da=m!=null&&0<m.Da,y.Da&&(H=m.cd,X=m.bd,q=m.v,W=m.j,11>P||(q&=-2,W&=-2),0>q||0>W||0>=H||0>=X||q+H>D||W+X>U))return 0;if(y.v=q,y.j=W,y.va=q+H,y.o=W+X,y.U=H,y.T=X,y.da=m!=null&&0<m.da,y.da){if(!ot(H,X,P=[m.ib],q=[m.hb]))return 0;y.ib=P[0],y.hb=q[0]}return y.ob=m!=null&&m.ob,y.Kb=m==null||!m.Sd,y.da&&(y.ob=y.ib<3*D/4&&y.hb<3*U/4,y.Kb=0),1}function Mf(m){if(m==null)return 2;if(11>m.S){var y=m.f.RGBA;y.fb+=(m.height-1)*y.A,y.A=-y.A}else y=m.f.kb,m=m.height,y.O+=(m-1)*y.fa,y.fa=-y.fa,y.N+=(m-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(m-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(m-1)*y.lb,y.lb=-y.lb);return 0}function Il(m,y,P,D){if(D==null||0>=m||0>=y)return 2;if(P!=null){if(P.Da){var U=P.cd,q=P.bd,W=-2&P.v,H=-2&P.j;if(0>W||0>H||0>=U||0>=q||W+U>m||H+q>y)return 2;m=U,y=q}if(P.da){if(!ot(m,y,U=[P.ib],q=[P.hb]))return 2;m=U[0],y=q[0]}}D.width=m,D.height=y;e:{var X=D.width,ne=D.height;if(m=D.S,0>=X||0>=ne||!(m>=_g&&13>m))m=2;else{if(0>=D.Rd&&D.sd==null){W=q=U=y=0;var he=(H=X*VN[m])*ne;if(11>m||(q=(ne+1)/2*(y=(X+1)/2),m==12&&(W=(U=X)*ne)),(ne=i(he+2*q+W))==null){m=1;break e}D.sd=ne,11>m?((X=D.f.RGBA).eb=ne,X.fb=0,X.A=H,X.size=he):((X=D.f.kb).y=ne,X.O=0,X.fa=H,X.Fd=he,X.f=ne,X.N=0+he,X.Ab=y,X.Cd=q,X.ea=ne,X.W=0+he+q,X.Db=y,X.Ed=q,m==12&&(X.F=ne,X.J=0+he+2*q),X.Tc=W,X.lb=U)}if(y=1,U=D.S,q=D.width,W=D.height,U>=_g&&13>U)if(11>U)m=D.f.RGBA,y&=(H=Math.abs(m.A))*(W-1)+q<=m.size,y&=H>=q*VN[U],y&=m.eb!=null;else{m=D.f.kb,H=(q+1)/2,he=(W+1)/2,X=Math.abs(m.fa),ne=Math.abs(m.Ab);var be=Math.abs(m.Db),re=Math.abs(m.lb),me=re*(W-1)+q;y&=X*(W-1)+q<=m.Fd,y&=ne*(he-1)+H<=m.Cd,y=(y&=be*(he-1)+H<=m.Ed)&X>=q&ne>=H&be>=H,y&=m.y!=null,y&=m.f!=null,y&=m.ea!=null,U==12&&(y&=re>=q,y&=me<=m.Tc,y&=m.F!=null)}else y=0;m=y?0:2}}return m!=0||P!=null&&P.fd&&(m=Mf(D)),m}var uu=64,oi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ai=24,Rl=32,qa=8,Ll=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ze("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(m){return m},C.Predictor2=function(m,y,P){return y[P+0]},C.Predictor3=function(m,y,P){return y[P+1]},C.Predictor4=function(m,y,P){return y[P-1]},C.Predictor5=function(m,y,P){return Ye(Ye(m,y[P+1]),y[P+0])},C.Predictor6=function(m,y,P){return Ye(m,y[P-1])},C.Predictor7=function(m,y,P){return Ye(m,y[P+0])},C.Predictor8=function(m,y,P){return Ye(y[P-1],y[P+0])},C.Predictor9=function(m,y,P){return Ye(y[P+0],y[P+1])},C.Predictor10=function(m,y,P){return Ye(Ye(m,y[P-1]),Ye(y[P+0],y[P+1]))},C.Predictor11=function(m,y,P){var D=y[P+0];return 0>=lt(D>>24&255,m>>24&255,(y=y[P-1])>>24&255)+lt(D>>16&255,m>>16&255,y>>16&255)+lt(D>>8&255,m>>8&255,y>>8&255)+lt(255&D,255&m,255&y)?D:m},C.Predictor12=function(m,y,P){var D=y[P+0];return(Xt((m>>24&255)+(D>>24&255)-((y=y[P-1])>>24&255))<<24|Xt((m>>16&255)+(D>>16&255)-(y>>16&255))<<16|Xt((m>>8&255)+(D>>8&255)-(y>>8&255))<<8|Xt((255&m)+(255&D)-(255&y)))>>>0},C.Predictor13=function(m,y,P){var D=y[P-1];return(kt((m=Ye(m,y[P+0]))>>24&255,D>>24&255)<<24|kt(m>>16&255,D>>16&255)<<16|kt(m>>8&255,D>>8&255)<<8|kt(255&m,255&D))>>>0};var Of=C.PredictorAdd0;C.PredictorAdd1=Pt,ze("Predictor2","PredictorAdd2"),ze("Predictor3","PredictorAdd3"),ze("Predictor4","PredictorAdd4"),ze("Predictor5","PredictorAdd5"),ze("Predictor6","PredictorAdd6"),ze("Predictor7","PredictorAdd7"),ze("Predictor8","PredictorAdd8"),ze("Predictor9","PredictorAdd9"),ze("Predictor10","PredictorAdd10"),ze("Predictor11","PredictorAdd11"),ze("Predictor12","PredictorAdd12"),ze("Predictor13","PredictorAdd13");var Pd=C.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var or,xg=C.ColorIndexInverseTransform,Qo=C.MapARGB,Xo=C.VP8LColorIndexInverseTransformAlpha,Ff=C.MapAlpha,Vf=C.VP8LPredictorsAdd=[];Vf.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Bf,Uf,Dl,Ml,Ol,du,Fl,hu,Bi,Zo,ln,bn,ar,Nr,Wa,zf,Cd,bg,fN,pN,mN,gN,yN,vN,$f,xN,bN,wN,_N=i(511),SN=i(2041),NN=i(225),AN=i(767),EN=0,Lv=SN,wg=NN,li=AN,Ui=_N,_g=0,Sg=1,TN=2,Ng=3,Ag=4,Dv=5,PN=6,Mv=7,Ov=8,Eg=9,Fv=10,DM=[2,3,7],MM=[3,3,11],CN=[280,256,256,256,40],OM=[0,1,1,1,0],FM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],VM=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],BM=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],UM=8,Vv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qf=null,zM=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$M=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],kN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qM=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],WM=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],HM=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],GM=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Vl=[],ho=[],Ha=[],KM=1,jN=2,Bl=[],zi=[];Fe("UpsampleRgbLinePair",es,3),Fe("UpsampleBgrLinePair",Cn,3),Fe("UpsampleRgbaLinePair",Ss,4),Fe("UpsampleBgraLinePair",Lf,4),Fe("UpsampleArgbLinePair",za,4),Fe("UpsampleRgba4444LinePair",Fi,2),Fe("UpsampleRgb565LinePair",ts,2);var YM=C.UpsampleRgbLinePair,QM=C.UpsampleBgrLinePair,IN=C.UpsampleRgbaLinePair,RN=C.UpsampleBgraLinePair,LN=C.UpsampleArgbLinePair,DN=C.UpsampleRgba4444LinePair,XM=C.UpsampleRgb565LinePair,Tg=16,Pg=1<<Tg-1,Wf=-227,Uv=482,MN=6,ZM=(256<<MN)-1,ON=0,JM=i(256),eO=i(256),tO=i(256),nO=i(256),rO=i(Uv-Wf),sO=i(Uv-Wf);$a("YuvToRgbRow",es,3),$a("YuvToBgrRow",Cn,3),$a("YuvToRgbaRow",Ss,4),$a("YuvToBgraRow",Lf,4),$a("YuvToArgbRow",za,4),$a("YuvToRgba4444Row",Fi,2),$a("YuvToRgb565Row",ts,2);var FN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cg=[0,2,8],iO=[8,7,6,4,4,2,2,2,1,1,1,1],oO=1;this.WebPDecodeRGBA=function(m,y,P,D,U){var q=Sg,W=new Ae,H=new ut;W.ba=H,H.S=q,H.width=[H.width],H.height=[H.height];var X=H.width,ne=H.height,he=new nt;if(he==null||m==null)var be=2;else e(he!=null),be=cu(m,y,P,he.width,he.height,he.Pd,he.Qd,he.format,null);if(be!=0?X=0:(X!=null&&(X[0]=he.width[0]),ne!=null&&(ne[0]=he.height[0]),X=1),X){H.width=H.width[0],H.height=H.height[0],D!=null&&(D[0]=H.width),U!=null&&(U[0]=H.height);e:{if(D=new xs,(U=new Ie).data=m,U.w=y,U.ha=P,U.kd=1,y=[0],e(U!=null),((m=cu(U.data,U.w,U.ha,null,null,null,y,null,U))==0||m==7)&&y[0]&&(m=4),(y=m)==0){if(e(W!=null),D.data=U.data,D.w=U.w+U.offset,D.ha=U.ha-U.offset,D.put=Xe,D.ac=dn,D.bc=mr,D.ma=W,U.xa){if((m=Bo())==null){W=1;break e}if(function(re,me){var ve=[0],Se=[0],xe=[0];t:for(;;){if(re==null)return 0;if(me==null)return re.a=2,0;if(re.l=me,re.a=0,ee(re.m,me.data,me.w,me.ha),!er(re.m,ve,Se,xe)){re.a=3;break t}if(re.xb=jN,me.width=ve[0],me.height=Se[0],!ki(ve[0],Se[0],1,re,null))break t;return 1}return e(re.a!=0),0}(m,D)){if(D=(y=Il(D.width,D.height,W.Oa,W.ba))==0){t:{D=m;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((P=D.l)!=null),e((U=P.ma)!=null),D.xb!=0){if(D.ca=U.ba,D.tb=U.tb,e(D.ca!=null),!Df(U.Oa,P,Ng)){D.a=2;break n}if(!ji(D,P.width)||P.da)break n;if((P.da||mt(D.ca.S))&&we(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&we()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!J(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!Us(D,D.V,D.Ba,D.c,D.i,P.o,oo))break n;U.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(y=m.a)}else y=m.a}else{if((m=new $s)==null){W=1;break e}if(m.Fa=U.na,m.P=U.P,m.qc=U.Sa,qs(m,D)){if((y=Il(D.width,D.height,W.Oa,W.ba))==0){if(m.Aa=0,P=W.Oa,e((U=m)!=null),P!=null){if(0<(X=0>(X=P.Md)?0:100<X?255:255*X/100)){for(ne=he=0;4>ne;++ne)12>(be=U.pb[ne]).lc&&(be.ia=X*iO[0>be.lc?0:be.lc]>>3),he|=be.ia;he&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=P.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(re,me){if(re==null)return 0;if(me==null)return Nn(re,2,"NULL VP8Io parameter in VP8Decode().");if(!re.cb&&!qs(re,me))return 0;if(e(re.cb),me.ac==null||me.ac(me)){me.ob&&(re.L=0);var ve=Cg[re.L];if(re.L==2?(re.yb=0,re.zb=0):(re.yb=me.v-ve>>4,re.zb=me.j-ve>>4,0>re.yb&&(re.yb=0),0>re.zb&&(re.zb=0)),re.Va=me.o+15+ve>>4,re.Hb=me.va+15+ve>>4,re.Hb>re.za&&(re.Hb=re.za),re.Va>re.Ub&&(re.Va=re.Ub),0<re.L){var Se=re.ed;for(ve=0;4>ve;++ve){var xe;if(re.Qa.Cb){var Ee=re.Qa.Lb[ve];re.Qa.Fb||(Ee+=Se.Tb)}else Ee=Se.Tb;for(xe=0;1>=xe;++xe){var Te=re.gd[ve][xe],Le=Ee;if(Se.Pc&&(Le+=Se.vd[0],xe&&(Le+=Se.od[0])),0<(Le=0>Le?0:63<Le?63:Le)){var Re=Le;0<Se.wb&&(Re=4<Se.wb?Re>>2:Re>>1)>9-Se.wb&&(Re=9-Se.wb),1>Re&&(Re=1),Te.dd=Re,Te.tc=2*Le+Re,Te.ld=40<=Le?2:15<=Le?1:0}else Te.tc=0;Te.La=xe}}}ve=0}else Nn(re,6,"Frame setup failed"),ve=re.a;if(ve=ve==0){if(ve){re.$c=0,0<re.Aa||(re.Ic=oO);t:{ve=re.Ic,Se=4*(Re=re.za);var dt=32*Re,Qe=Re+1,Ft=0<re.L?Re*(0<re.Aa?2:1):0,st=(re.Aa==2?2:1)*Re;if((Te=Se+832+(xe=3*(16*ve+Cg[re.L])/2*dt)+(Ee=re.Fa!=null&&0<re.Fa.length?re.Kc.c*re.Kc.i:0))!=Te)ve=0;else{if(Te>re.Vb){if(re.Vb=0,re.Ec=i(Te),re.Fc=0,re.Ec==null){ve=Nn(re,1,"no memory during frame initialization.");break t}re.Vb=Te}Te=re.Ec,Le=re.Fc,re.Ac=Te,re.Bc=Le,Le+=Se,re.Gd=o(dt,nu),re.Hd=0,re.rb=o(Qe+1,Sl),re.sb=1,re.wa=Ft?o(Ft,vs):null,re.Y=0,re.D.Nb=0,re.D.wa=re.wa,re.D.Y=re.Y,0<re.Aa&&(re.D.Y+=Re),e(!0),re.oc=Te,re.pc=Le,Le+=832,re.ya=o(st,Fa),re.aa=0,re.D.ya=re.ya,re.D.aa=re.aa,re.Aa==2&&(re.D.aa+=Re),re.R=16*Re,re.B=8*Re,Re=(dt=Cg[re.L])*re.R,dt=dt/2*re.B,re.sa=Te,re.ta=Le+Re,re.qa=re.sa,re.ra=re.ta+16*ve*re.R+dt,re.Ha=re.qa,re.Ia=re.ra+8*ve*re.B+dt,re.$c=0,Le+=xe,re.mb=Ee?Te:null,re.nb=Ee?Le:null,e(Le+Ee<=re.Fc+re.Vb),Va(re),s(re.Ac,re.Bc,0,Se),ve=1}}if(ve){if(me.ka=0,me.y=re.sa,me.O=re.ta,me.f=re.qa,me.N=re.ra,me.ea=re.Ha,me.Vd=re.Ia,me.fa=re.R,me.Rc=re.B,me.F=null,me.J=0,!EN){for(ve=-255;255>=ve;++ve)_N[255+ve]=0>ve?-ve:ve;for(ve=-1020;1020>=ve;++ve)SN[1020+ve]=-128>ve?-128:127<ve?127:ve;for(ve=-112;112>=ve;++ve)NN[112+ve]=-16>ve?-16:15<ve?15:ve;for(ve=-255;510>=ve;++ve)AN[255+ve]=0>ve?0:255<ve?255:ve;EN=1}Fl=Ws,hu=jf,Zo=Li,ln=xd,bn=$o,Bi=kf,ar=lu,Nr=uo,Wa=B,zf=te,Cd=jl,bg=S,fN=ue,pN=ge,mN=Ko,gN=Yo,yN=Ed,vN=au,ho[0]=Ua,ho[1]=bd,ho[2]=El,ho[3]=Sd,ho[4]=bs,ho[5]=iu,ho[6]=Di,ho[7]=An,ho[8]=ou,ho[9]=Tl,Vl[0]=If,Vl[1]=_d,Vl[2]=Al,Vl[3]=co,Vl[4]=Ba,Vl[5]=Hs,Vl[6]=Rf,Ha[0]=Pl,Ha[1]=wd,Ha[2]=Wo,Ha[3]=Nd,Ha[4]=Cl,Ha[5]=Gs,Ha[6]=Ad,ve=1}else ve=0}ve&&(ve=function(Yt,Ar){for(Yt.M=0;Yt.M<Yt.Va;++Yt.M){var Vt,it=Yt.Jc[Yt.M&Yt.Xb],Ue=Yt.m,lr=Yt;for(Vt=0;Vt<lr.za;++Vt){var Lt=Ue,Zt=lr,Dn=Zt.Ac,zr=Zt.Bc+4*Vt,Ns=Zt.zc,tr=Zt.ya[Zt.aa+Vt];if(Zt.Qa.Bb?tr.$b=_e(Lt,Zt.Pa.jb[0])?2+_e(Lt,Zt.Pa.jb[2]):_e(Lt,Zt.Pa.jb[1]):tr.$b=0,Zt.kc&&(tr.Ad=_e(Lt,Zt.Bd)),tr.Za=!_e(Lt,145)+0,tr.Za){var ns=tr.Ob,As=0;for(Zt=0;4>Zt;++Zt){var Er,nn=Ns[0+Zt];for(Er=0;4>Er;++Er){nn=WM[Dn[zr+Er]][nn];for(var hn=kN[_e(Lt,nn[0])];0<hn;)hn=kN[2*hn+_e(Lt,nn[hn])];nn=-hn,Dn[zr+Er]=nn}r(ns,As,Dn,zr,4),As+=4,Ns[0+Zt]=nn}}else nn=_e(Lt,156)?_e(Lt,128)?1:3:_e(Lt,163)?2:0,tr.Ob[0]=nn,s(Dn,zr,nn,4),s(Ns,0,nn,4);tr.Dd=_e(Lt,142)?_e(Lt,114)?_e(Lt,183)?1:3:2:0}if(lr.m.Ka)return Nn(Yt,7,"Premature end-of-partition0 encountered.");for(;Yt.ja<Yt.za;++Yt.ja){if(lr=it,Lt=(Ue=Yt).rb[Ue.sb-1],Dn=Ue.rb[Ue.sb+Ue.ja],Vt=Ue.ya[Ue.aa+Ue.ja],zr=Ue.kc?Vt.Ad:0)Lt.la=Dn.la=0,Vt.Za||(Lt.Na=Dn.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var nr,fn;if(Lt=Dn,Dn=lr,zr=Ue.Pa.Xc,Ns=Ue.ya[Ue.aa+Ue.ja],tr=Ue.pb[Ns.$b],Zt=Ns.ad,ns=0,As=Ue.rb[Ue.sb-1],nn=Er=0,s(Zt,ns,0,384),Ns.Za)var $r=0,fo=zr[3];else{hn=i(16);var cr=Lt.Na+As.Na;if(cr=qf(Dn,zr[1],cr,tr.Eb,0,hn,0),Lt.Na=As.Na=(0<cr)+0,1<cr)Fl(hn,0,Zt,ns);else{var Ks=hn[0]+3>>3;for(hn=0;256>hn;hn+=16)Zt[ns+hn]=Ks}$r=1,fo=zr[0]}var wn=15&Lt.la,Tr=15&As.la;for(hn=0;4>hn;++hn){var ci=1&Tr;for(Ks=fn=0;4>Ks;++Ks)wn=wn>>1|(ci=(cr=qf(Dn,fo,cr=ci+(1&wn),tr.Sc,$r,Zt,ns))>$r)<<7,fn=fn<<2|(3<cr?3:1<cr?2:Zt[ns+0]!=0),ns+=16;wn>>=4,Tr=Tr>>1|ci<<7,Er=(Er<<8|fn)>>>0}for(fo=wn,$r=Tr>>4,nr=0;4>nr;nr+=2){for(fn=0,wn=Lt.la>>4+nr,Tr=As.la>>4+nr,hn=0;2>hn;++hn){for(ci=1&Tr,Ks=0;2>Ks;++Ks)cr=ci+(1&wn),wn=wn>>1|(ci=0<(cr=qf(Dn,zr[2],cr,tr.Qc,0,Zt,ns)))<<3,fn=fn<<2|(3<cr?3:1<cr?2:Zt[ns+0]!=0),ns+=16;wn>>=2,Tr=Tr>>1|ci<<5}nn|=fn<<4*nr,fo|=wn<<4<<nr,$r|=(240&Tr)<<nr}Lt.la=fo,As.la=$r,Ns.Hc=Er,Ns.Gc=nn,Ns.ia=43690&nn?0:tr.ia,zr=!(Er|nn)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[Vt.$b][Vt.Za],Ue.wa[Ue.Y+Ue.ja].La|=!zr),lr.Ka)return Nn(Yt,7,"Premature end-of-file encountered.")}if(Va(Yt),Ue=Ar,lr=1,Vt=(it=Yt).D,Lt=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(Vt.M=it.M,Vt.uc=Lt,Vi(it,Vt),lr=1,Vt=(fn=it.D).Nb,Lt=(nn=Cg[it.L])*it.R,Dn=nn/2*it.B,hn=16*Vt*it.R,Ks=8*Vt*it.B,zr=it.sa,Ns=it.ta-Lt+hn,tr=it.qa,Zt=it.ra-Dn+Ks,ns=it.Ha,As=it.Ia-Dn+Ks,Tr=(wn=fn.M)==0,Er=wn>=it.Va-1,it.Aa==2&&Vi(it,fn),fn.uc)for(ci=(cr=it).D.M,e(cr.D.uc),fn=cr.yb;fn<cr.Hb;++fn){$r=fn,fo=ci;var Es=(ui=(qr=cr).D).Nb;nr=qr.R;var ui=ui.wa[ui.Y+$r],di=qr.sa,Ys=qr.ta+16*Es*nr+16*$r,hi=ui.dd,kn=ui.tc;if(kn!=0)if(e(3<=kn),qr.L==1)0<$r&&gN(di,Ys,nr,kn+4),ui.La&&vN(di,Ys,nr,kn),0<fo&&mN(di,Ys,nr,kn+4),ui.La&&yN(di,Ys,nr,kn);else{var fi=qr.B,po=qr.qa,fu=qr.ra+8*Es*fi+8*$r,Ga=qr.Ha,qr=qr.Ia+8*Es*fi+8*$r;Es=ui.ld,0<$r&&(Nr(di,Ys,nr,kn+4,hi,Es),zf(po,fu,Ga,qr,fi,kn+4,hi,Es)),ui.La&&(bg(di,Ys,nr,kn,hi,Es),pN(po,fu,Ga,qr,fi,kn,hi,Es)),0<fo&&(ar(di,Ys,nr,kn+4,hi,Es),Wa(po,fu,Ga,qr,fi,kn+4,hi,Es)),ui.La&&(Cd(di,Ys,nr,kn,hi,Es),fN(po,fu,Ga,qr,fi,kn,hi,Es))}}if(it.ia&&alert("todo:DitherRow"),Ue.put!=null){if(fn=16*wn,wn=16*(wn+1),Tr?(Ue.y=it.sa,Ue.O=it.ta+hn,Ue.f=it.qa,Ue.N=it.ra+Ks,Ue.ea=it.Ha,Ue.W=it.Ia+Ks):(fn-=nn,Ue.y=zr,Ue.O=Ns,Ue.f=tr,Ue.N=Zt,Ue.ea=ns,Ue.W=As),Er||(wn-=nn),wn>Ue.o&&(wn=Ue.o),Ue.F=null,Ue.J=null,it.Fa!=null&&0<it.Fa.length&&fn<wn&&(Ue.J=g(it,Ue,fn,wn-fn),Ue.F=it.mb,Ue.F==null&&Ue.F.length==0)){lr=Nn(it,3,"Could not decode alpha data.");break t}fn<Ue.j&&(nn=Ue.j-fn,fn=Ue.j,e(!(1&nn)),Ue.O+=it.R*nn,Ue.N+=it.B*(nn>>1),Ue.W+=it.B*(nn>>1),Ue.F!=null&&(Ue.J+=Ue.width*nn)),fn<wn&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=fn-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=wn-fn,lr=Ue.put(Ue))}Vt+1!=it.Ic||Er||(r(it.sa,it.ta-Lt,zr,Ns+16*it.R,Lt),r(it.qa,it.ra-Dn,tr,Zt+8*it.B,Dn),r(it.Ha,it.Ia-Dn,ns,As+8*it.B,Dn))}if(!lr)return Nn(Yt,6,"Output aborted.")}return 1}(re,me)),me.bc!=null&&me.bc(me),ve&=1}return ve?(re.cb=0,ve):0})(m,D)||(y=m.a)}}else y=m.a}y==0&&W.Oa!=null&&W.Oa.fd&&(y=Mf(W.ba))}W=y}q=W!=0?null:11>q?H.f.RGBA.eb:H.f.kb.y}else q=null;return q};var VN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,M){for(var N="",T=0;T<4;T++)N+=String.fromCharCode(C[M++]);return N}function d(C,M){return C[M+0]|C[M+1]<<8}function h(C,M){return(C[M+0]|C[M+1]<<8|C[M+2]<<16)>>>0}function p(C,M){return(C[M+0]|C[M+1]<<8|C[M+2]<<16|C[M+3]<<24)>>>0}new l;var f=[0],b=[0],x=[],w=new l,v=t,_=function(C,M){var N={},T=0,k=!1,z=0,K=0;if(N.frames=[],!function(V,Q){for(var Z=0;Z<4;Z++)if(V[Q+Z]!="RIFF".charCodeAt(Z))return!0;return!1}(C,M)){for(p(C,M+=4),M+=8;M<C.length;){var ae=c(C,M),ie=p(C,M+=4);M+=4;var Y=ie+(1&ie);switch(ae){case"VP8 ":case"VP8L":N.frames[T]===void 0&&(N.frames[T]={}),(ce=N.frames[T]).src_off=k?K:M-8,ce.src_size=z+ie+8,T++,k&&(k=!1,z=0,K=0);break;case"VP8X":(ce=N.header={}).feature_flags=C[M];var ee=M+4;ce.canvas_width=1+h(C,ee),ee+=3,ce.canvas_height=1+h(C,ee),ee+=3;break;case"ALPH":k=!0,z=Y+8,K=M-8;break;case"ANIM":(ce=N.header).bgcolor=p(C,M),ee=M+4,ce.loop_count=d(C,ee),ee+=2;break;case"ANMF":var se,ce;(ce=N.frames[T]={}).offset_x=2*h(C,M),M+=3,ce.offset_y=2*h(C,M),M+=3,ce.width=1+h(C,M),M+=3,ce.height=1+h(C,M),M+=3,ce.duration=h(C,M),M+=3,se=C[M++],ce.dispose=1&se,ce.blend=se>>1&1}ae!="ANMF"&&(M+=Y)}return N}}(v,0);_.response=v,_.rgbaoutput=!0,_.dataurl=!1;var A=_.header?_.header:null,R=_.frames?_.frames:null;if(A){A.loop_counter=A.loop_count,f=[A.canvas_height],b=[A.canvas_width];for(var F=0;F<R.length&&R[F].blend!=0;F++);}var $=R[0],I=w.WebPDecodeRGBA(v,$.src_off,$.src_size,b,f);$.rgba=I,$.imgwidth=b[0],$.imgheight=f[0];for(var E=0;E<b[0]*f[0]*4;E++)x[E]=I[E];return this.width=b,this.height=f,this.data=x,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function vae(){var t,e=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function xae(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,n,r,s,i,o,a,l,c,d=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new l,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var h=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=V;Object.defineProperty(this,"pdf",{get:function(){return Q}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(J){Z=!!J}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(J){le=!!J}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(J){isNaN(J)||(de=J)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(J){isNaN(J)||(pe=J)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(J){var Be;typeof J=="number"?Be=[J,J,J,J]:((Be=new Array(4))[0]=J[0],Be[1]=J.length>=2?J[1]:Be[0],Be[2]=J.length>=3?J[2]:Be[0],Be[3]=J.length>=4?J[3]:Be[1]),c.margin=Be}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(J){oe=J}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(J){fe=J}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(J){_e=J}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(J){J instanceof d&&(c=J)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(J){c.path=J}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(J){Pe=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var Be;Be=p(J),this.ctx.fillStyle=Be.style,this.ctx.isFillTransparent=Be.a===0,this.ctx.fillOpacity=Be.a,this.pdf.setFillColor(Be.r,Be.g,Be.b,{a:Be.a}),this.pdf.setTextColor(Be.r,Be.g,Be.b,{a:Be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var Be=p(J);this.ctx.strokeStyle=Be.style,this.ctx.isStrokeTransparent=Be.a===0,this.ctx.strokeOpacity=Be.a,Be.a===0?this.pdf.setDrawColor(255,255,255):(Be.a,this.pdf.setDrawColor(Be.r,Be.g,Be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var Me=null,Oe=null,$e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(J){Me=null,Oe=null,$e=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var Be;if(this.ctx.font=J,(Be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var St=Be[1];Be[2];var ot=Be[3],Ne=Be[4];Be[5];var qe=Be[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(ze==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var ht=function(tt){var yn,Rt,xt=[],Et=tt.trim();if(Et==="")return U2;if(Et in ZP)return[ZP[Et]];for(;Et!=="";){switch(Rt=null,yn=(Et=eC(Et)).charAt(0)){case'"':case"'":Rt=hae(Et.substring(1),yn);break;default:Rt=fae(Et)}if(Rt===null||(xt.push(Rt[0]),(Et=eC(Rt[1]))!==""&&Et.charAt(0)!==","))return U2;Et=Et.replace(/^,/,"")}return xt}(qe);if(this.fontFaces){var Ye=function(tt,yn){var Rt=tt.getFontList(),xt=JSON.stringify(Rt);if(Me===null||Oe!==xt){var Et=function(Ut){var ct=[];return Object.keys(Ut).forEach(function(tn){Ut[tn].forEach(function(mt){var yt=null;switch(mt){case"bold":yt={family:tn,weight:"bold"};break;case"italic":yt={family:tn,style:"italic"};break;case"bolditalic":yt={family:tn,weight:"bold",style:"italic"};break;case"":case"normal":yt={family:tn}}yt!==null&&(yt.ref={name:tn,style:mt},ct.push(yt))})}),ct}(Rt);Me=function(Ut){for(var ct={},tn=0;tn<Ut.length;++tn){var mt=B2(Ut[tn]),yt=mt.family,un=mt.stretch,ut=mt.style,nt=mt.weight;ct[yt]=ct[yt]||{},ct[yt][un]=ct[yt][un]||{},ct[yt][un][ut]=ct[yt][un][ut]||{},ct[yt][un][ut][nt]=mt}return ct}(Et.concat(yn)),Oe=xt}return Me}(this.pdf,this.fontFaces),Xt=ht.map(function(tt){return{family:tt,stretch:"normal",weight:ot,style:St}}),kt=function(tt,yn,Rt){for(var xt=(Rt=Rt||{}).defaultFontFamily||"times",Et=Object.assign({},dae,Rt.genericFontFamilies||{}),Ut=null,ct=null,tn=0;tn<yn.length;++tn)if(Et[(Ut=B2(yn[tn])).family]&&(Ut.family=Et[Ut.family]),tt.hasOwnProperty(Ut.family)){ct=tt[Ut.family];break}if(!(ct=ct||tt[xt]))throw new Error("Could not find a font-family for the rule '"+JP(Ut)+"' and default family '"+xt+"'.");if(ct=function(mt,yt){if(yt[mt])return yt[mt];var un=d5[mt],ut=un<=d5.normal?-1:1,nt=XP(yt,fM,un,ut);if(!nt)throw new Error("Could not find a matching font-stretch value for "+mt);return nt}(Ut.stretch,ct),ct=function(mt,yt){if(yt[mt])return yt[mt];for(var un=hM[mt],ut=0;ut<un.length;++ut)if(yt[un[ut]])return yt[un[ut]];throw new Error("Could not find a matching font-style for "+mt)}(Ut.style,ct),!(ct=function(mt,yt){if(yt[mt])return yt[mt];if(mt===400&&yt[500])return yt[500];if(mt===500&&yt[400])return yt[400];var un=uae[mt],ut=XP(yt,pM,un,mt<400?-1:1);if(!ut)throw new Error("Could not find a matching font-weight for value "+mt);return ut}(Ut.weight,ct)))throw new Error("Failed to resolve a font for the rule '"+JP(Ut)+"'.");return ct}(Ye,Xt);this.pdf.setFont(kt.ref.name,kt.ref.style)}else{var lt="";(ot==="bold"||parseInt(ot,10)>=700||St==="bold")&&(lt="bold"),St==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var Pt="",Mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},et=0;et<ht.length;et++){if(this.pdf.internal.getFont(ht[et],lt,{noFallback:!0,disableWarning:!0})!==void 0){Pt=ht[et];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(ht[et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pt=ht[et],lt="bold";else if(this.pdf.internal.getFont(ht[et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pt=ht[et],lt="normal";break}}if(Pt===""){for(var bt=0;bt<ht.length;bt++)if(Mt[ht[bt]]){Pt=Mt[ht[bt]];break}}Pt=Pt===""?"Times":Pt,this.pdf.setFont(Pt,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(V){this.lineDash=V},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){R.call(this,"fill",!1)},h.prototype.stroke=function(){R.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(V,Q){if(isNaN(V)||isNaN(Q))throw _n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(V,Q)},h.prototype.closePath=function(){var V=new o(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&mn(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){V=new o(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.lineTo=function(V,Q){if(isNaN(V)||isNaN(Q))throw _n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},h.prototype.quadraticCurveTo=function(V,Q,Z,le){if(isNaN(Z)||isNaN(le)||isNaN(V)||isNaN(Q))throw _n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new o(Z,le)),pe=this.ctx.transform.applyToPoint(new o(V,Q));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},h.prototype.bezierCurveTo=function(V,Q,Z,le,de,pe){if(isNaN(de)||isNaN(pe)||isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le))throw _n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new o(de,pe)),fe=this.ctx.transform.applyToPoint(new o(V,Q)),_e=this.ctx.transform.applyToPoint(new o(Z,le));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:_e.x,y2:_e.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},h.prototype.arc=function(V,Q,Z,le,de,pe){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le)||isNaN(de))throw _n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new o(V,Q));V=oe.x,Q=oe.y;var fe=this.ctx.transform.applyToPoint(new o(0,Z)),_e=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(fe.x-_e.x,2)+Math.pow(fe.y-_e.y,2))}Math.abs(de-le)>=2*Math.PI&&(le=0,de=2*Math.PI),this.path.push({type:"arc",x:V,y:Q,radius:Z,startAngle:le,endAngle:de,counterclockwise:pe})},h.prototype.arcTo=function(V,Q,Z,le,de){throw new Error("arcTo not implemented.")},h.prototype.rect=function(V,Q,Z,le){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le))throw _n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,Q),this.lineTo(V+Z,Q),this.lineTo(V+Z,Q+le),this.lineTo(V,Q+le),this.lineTo(V,Q),this.lineTo(V+Z,Q),this.lineTo(V,Q)},h.prototype.fillRect=function(V,Q,Z,le){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le))throw _n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,Q,Z,le),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},h.prototype.strokeRect=function(V,Q,Z,le){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le))throw _n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(V,Q,Z,le),this.stroke())},h.prototype.clearRect=function(V,Q,Z,le){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le))throw _n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,Q,Z,le))},h.prototype.save=function(V){V=typeof V!="boolean"||V;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},h.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(V){var Q,Z,le,de;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))Q=0,Z=0,le=0,de=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(pe!==null)Q=parseInt(pe[1]),Z=parseInt(pe[2]),le=parseInt(pe[3]),de=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)Q=parseInt(pe[1]),Z=parseInt(pe[2]),le=parseInt(pe[3]),de=parseFloat(pe[4]);else{if(de=1,typeof V=="string"&&V.charAt(0)!=="#"){var oe=new iM(V);V=oe.ok?oe.toHex():"#000000"}V.length===4?(Q=V.substring(1,2),Q+=Q,Z=V.substring(2,3),Z+=Z,le=V.substring(3,4),le+=le):(Q=V.substring(1,3),Z=V.substring(3,5),le=V.substring(5,7)),Q=parseInt(Q,16),Z=parseInt(Z,16),le=parseInt(le,16)}}return{r:Q,g:Z,b:le,a:de,style:V}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(V,Q,Z,le){if(isNaN(Q)||isNaN(Z)||typeof V!="string")throw _n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!f.call(this)){var de=Y(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;T.call(this,{text:V,x:Q,y:Z,scale:pe,angle:de,align:this.textAlign,maxWidth:le})}},h.prototype.strokeText=function(V,Q,Z,le){if(isNaN(Q)||isNaN(Z)||typeof V!="string")throw _n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){le=isNaN(le)?void 0:le;var de=Y(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;T.call(this,{text:V,x:Q,y:Z,scale:pe,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:le})}},h.prototype.measureText=function(V){if(typeof V!="string")throw _n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,Z=this.pdf.internal.scaleFactor,le=Q.internal.getFontSize(),de=Q.getStringUnitWidth(V)*le/Q.internal.scaleFactor;return new function(pe){var oe=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this}({width:de*=Math.round(96*Z/72*1e4)/1e4})},h.prototype.scale=function(V,Q){if(isNaN(V)||isNaN(Q))throw _n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(V,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.rotate=function(V){if(isNaN(V))throw _n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new l(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.translate=function(V,Q){if(isNaN(V)||isNaN(Q))throw _n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,V,Q);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.transform=function(V,Q,Z,le,de,pe){if(isNaN(V)||isNaN(Q)||isNaN(Z)||isNaN(le)||isNaN(de)||isNaN(pe))throw _n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new l(V,Q,Z,le,de,pe);this.ctx.transform=this.ctx.transform.multiply(oe)},h.prototype.setTransform=function(V,Q,Z,le,de,pe){V=isNaN(V)?1:V,Q=isNaN(Q)?0:Q,Z=isNaN(Z)?0:Z,le=isNaN(le)?1:le,de=isNaN(de)?0:de,pe=isNaN(pe)?0:pe,this.ctx.transform=new l(V,Q,Z,le,de,pe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(V,Q,Z,le,de,pe,oe,fe,_e){var Pe=this.pdf.getImageProperties(V),Me=1,Oe=1,$e=1,J=1;le!==void 0&&fe!==void 0&&($e=fe/le,J=_e/de,Me=Pe.width/le*fe/le,Oe=Pe.height/de*_e/de),pe===void 0&&(pe=Q,oe=Z,Q=0,Z=0),le!==void 0&&fe===void 0&&(fe=le,_e=de),le===void 0&&fe===void 0&&(fe=Pe.width,_e=Pe.height);var Be=this.ctx.transform.decompose(),St=Y(Be.rotate.shx),ot=new l,Ne=(ot=(ot=(ot=ot.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new a(pe-Q*$e,oe-Z*J,le*Me,de*Oe));if(this.autoPaging){for(var qe,ze=w.call(this,Ne),ht=[],Ye=0;Ye<ze.length;Ye+=1)ht.indexOf(ze[Ye])===-1&&ht.push(ze[Ye]);A(ht);for(var Xt=ht[0],kt=ht[ht.length-1],lt=Xt;lt<kt+1;lt++){this.pdf.setPage(lt);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=lt===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=lt===1?0:et+(lt-2)*bt;if(this.ctx.clip_path.length!==0){var yn=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(qe,this.posX+this.margin[3],-tt+Mt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=yn}var Rt=JSON.parse(JSON.stringify(Ne));Rt=_([Rt],this.posX+this.margin[3],-tt+Mt+this.ctx.prevPageLastElemOffset)[0];var xt=(lt>Xt||lt<kt)&&x.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,bt,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Rt.x,Rt.y,Rt.w,Rt.h,null,null,St),xt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(V,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,St)};var w=function(V,Q,Z){var le=[];Q=Q||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":le.push(Math.floor((V.y+de)/Z)+1);break;case"arc":le.push(Math.floor((V.y+de-V.radius)/Z)+1),le.push(Math.floor((V.y+de+V.radius)/Z)+1);break;case"qct":var pe=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);le.push(Math.floor((pe.y+de)/Z)+1),le.push(Math.floor((pe.y+pe.h+de)/Z)+1);break;case"bct":var oe=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);le.push(Math.floor((oe.y+de)/Z)+1),le.push(Math.floor((oe.y+oe.h+de)/Z)+1);break;case"rect":le.push(Math.floor((V.y+de)/Z)+1),le.push(Math.floor((V.y+V.h+de)/Z)+1)}for(var fe=0;fe<le.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<le[fe];)v.call(this);return le},v=function(){var V=this.fillStyle,Q=this.strokeStyle,Z=this.font,le=this.lineCap,de=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=Q,this.font=Z,this.lineCap=le,this.lineWidth=de,this.lineJoin=pe},_=function(V,Q,Z){for(var le=0;le<V.length;le++)switch(V[le].type){case"bct":V[le].x2+=Q,V[le].y2+=Z;case"qct":V[le].x1+=Q,V[le].y1+=Z;default:V[le].x+=Q,V[le].y+=Z}return V},A=function(V){return V.sort(function(Q,Z){return Q-Z})},R=function(V,Q){var Z=this.fillStyle,le=this.strokeStyle,de=this.lineCap,pe=this.lineWidth,oe=Math.abs(pe*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var _e,Pe,Me=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),$e=[],J=0;J<Oe.length;J++)if(Oe[J].x!==void 0)for(var Be=w.call(this,Oe[J]),St=0;St<Be.length;St+=1)$e.indexOf(Be[St])===-1&&$e.push(Be[St]);for(var ot=0;ot<$e.length;ot++)for(;this.pdf.internal.getNumberOfPages()<$e[ot];)v.call(this);A($e);for(var Ne=$e[0],qe=$e[$e.length-1],ze=Ne;ze<qe+1;ze++){this.pdf.setPage(ze),this.fillStyle=Z,this.strokeStyle=le,this.lineCap=de,this.lineWidth=oe,this.lineJoin=fe;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=ze===1?this.posY+this.margin[0]:this.margin[0],Xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=ze===1?0:Xt+(ze-2)*kt;if(this.ctx.clip_path.length!==0){var Pt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(_e,this.posX+this.margin[3],-lt+Ye+this.ctx.prevPageLastElemOffset),F.call(this,V,!0),this.path=Pt}if(Pe=JSON.parse(JSON.stringify(Me)),this.path=_(Pe,this.posX+this.margin[3],-lt+Ye+this.ctx.prevPageLastElemOffset),Q===!1||ze===0){var Mt=(ze>Ne||ze<qe)&&x.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,kt,null).clip().discardPath()),F.call(this,V,Q),Mt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=Me}else this.lineWidth=oe,F.call(this,V,Q),this.lineWidth=pe},F=function(V,Q){if((V!=="stroke"||Q||!b.call(this))&&(V==="stroke"||Q||!f.call(this))){for(var Z,le,de=[],pe=this.path,oe=0;oe<pe.length;oe++){var fe=pe[oe];switch(fe.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:fe,deltas:[],abs:[]});break;case"lt":var _e=de.length;if(pe[oe-1]&&!isNaN(pe[oe-1].x)&&(Z=[fe.x-pe[oe-1].x,fe.y-pe[oe-1].y],_e>0)){for(;_e>=0;_e--)if(de[_e-1].close!==!0&&de[_e-1].begin!==!0){de[_e-1].deltas.push(Z),de[_e-1].abs.push(fe);break}}break;case"bct":Z=[fe.x1-pe[oe-1].x,fe.y1-pe[oe-1].y,fe.x2-pe[oe-1].x,fe.y2-pe[oe-1].y,fe.x-pe[oe-1].x,fe.y-pe[oe-1].y],de[de.length-1].deltas.push(Z);break;case"qct":var Pe=pe[oe-1].x+2/3*(fe.x1-pe[oe-1].x),Me=pe[oe-1].y+2/3*(fe.y1-pe[oe-1].y),Oe=fe.x+2/3*(fe.x1-fe.x),$e=fe.y+2/3*(fe.y1-fe.y),J=fe.x,Be=fe.y;Z=[Pe-pe[oe-1].x,Me-pe[oe-1].y,Oe-pe[oe-1].x,$e-pe[oe-1].y,J-pe[oe-1].x,Be-pe[oe-1].y],de[de.length-1].deltas.push(Z);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(fe)}}le=Q?null:V==="stroke"?"stroke":"fill";for(var St=!1,ot=0;ot<de.length;ot++)if(de[ot].arc)for(var Ne=de[ot].abs,qe=0;qe<Ne.length;qe++){var ze=Ne[qe];ze.type==="arc"?E.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,Q,!St):k.call(this,ze.x,ze.y),St=!0}else if(de[ot].close===!0)this.pdf.internal.out("h"),St=!1;else if(de[ot].begin!==!0){var ht=de[ot].start.x,Ye=de[ot].start.y;z.call(this,de[ot].deltas,ht,Ye),St=!0}le&&C.call(this,le),Q&&M.call(this)}},$=function(V){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-Z;case"top":return V+Q-Z;case"hanging":return V+Q-2*Z;case"middle":return V+Q/2-Z;default:return V}},I=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(Q,Z){this.colorStops.push([Q,Z])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(V,Q,Z,le,de,pe,oe,fe,_e){for(var Pe=ae.call(this,Z,le,de,pe),Me=0;Me<Pe.length;Me++){var Oe=Pe[Me];Me===0&&(_e?N.call(this,Oe.x1+V,Oe.y1+Q):k.call(this,Oe.x1+V,Oe.y1+Q)),K.call(this,V,Q,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}fe?M.call(this):C.call(this,oe)},C=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(V,Q){this.pdf.internal.out(n(V)+" "+r(Q)+" m")},T=function(V){var Q;switch(V.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var Z,le,de,pe=this.pdf.getTextDimensions(V.text),oe=$.call(this,V.y),fe=I.call(this,oe)-pe.h,_e=this.ctx.transform.applyToPoint(new o(V.x,oe));if(this.autoPaging){var Pe=this.ctx.transform.decompose(),Me=new l;Me=(Me=(Me=Me.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale);for(var Oe=this.ctx.transform.applyToRectangle(new a(V.x,oe,pe.w,pe.h)),$e=Me.applyToRectangle(new a(V.x,fe,pe.w,pe.h)),J=w.call(this,$e),Be=[],St=0;St<J.length;St+=1)Be.indexOf(J[St])===-1&&Be.push(J[St]);A(Be);for(var ot=Be[0],Ne=Be[Be.length-1],qe=ot;qe<Ne+1;qe++){this.pdf.setPage(qe);var ze=qe===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],Xt=Ye-this.margin[0],kt=this.pdf.internal.pageSize.width-this.margin[1],lt=kt-this.margin[3],Pt=qe===1?0:ht+(qe-2)*Xt;if(this.ctx.clip_path.length!==0){var Mt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Z,this.posX+this.margin[3],-1*Pt+ze),F.call(this,"fill",!0),this.path=Mt}var et=_([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Pt+ze+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*V.scale),de=this.lineWidth,this.lineWidth=de*V.scale);var bt=this.autoPaging!=="text";if(bt||et.y+et.h<=Ye){if(bt||et.y>=ze&&et.x<=kt){var tt=bt?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||kt-et.x)[0],yn=_([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-Pt+ze+this.ctx.prevPageLastElemOffset)[0],Rt=bt&&(qe>ot||qe<Ne)&&x.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Xt,null).clip().discardPath()),this.pdf.text(tt,yn.x,yn.y,{angle:V.angle,align:Q,renderingMode:V.renderingMode}),Rt&&this.pdf.restoreGraphicsState()}}else et.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-et.y);V.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=de)}}else V.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*V.scale),de=this.lineWidth,this.lineWidth=de*V.scale),this.pdf.text(V.text,_e.x+this.posX,_e.y+this.posY,{angle:V.angle,align:Q,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=de)},k=function(V,Q,Z,le){Z=Z||0,le=le||0,this.pdf.internal.out(n(V+Z)+" "+r(Q+le)+" l")},z=function(V,Q,Z){return this.pdf.lines(V,Q,Z,null,null)},K=function(V,Q,Z,le,de,pe,oe,fe){this.pdf.internal.out([e(s(Z+V)),e(i(le+Q)),e(s(de+V)),e(i(pe+Q)),e(s(oe+V)),e(i(fe+Q)),"c"].join(" "))},ae=function(V,Q,Z,le){for(var de=2*Math.PI,pe=Math.PI/2;Q>Z;)Q-=de;var oe=Math.abs(Z-Q);oe<de&&le&&(oe=de-oe);for(var fe=[],_e=le?-1:1,Pe=Q;oe>1e-5;){var Me=Pe+_e*Math.min(oe,pe);fe.push(ie.call(this,V,Pe,Me)),oe-=Math.abs(Me-Pe),Pe=Me}return fe},ie=function(V,Q,Z){var le=(Z-Q)/2,de=V*Math.cos(le),pe=V*Math.sin(le),oe=de,fe=-pe,_e=oe*oe+fe*fe,Pe=_e+oe*de+fe*pe,Me=4/3*(Math.sqrt(2*_e*Pe)-Pe)/(oe*pe-fe*de),Oe=oe-Me*fe,$e=fe+Me*oe,J=Oe,Be=-$e,St=le+Q,ot=Math.cos(St),Ne=Math.sin(St);return{x1:V*Math.cos(Q),y1:V*Math.sin(Q),x2:Oe*ot-$e*Ne,y2:Oe*Ne+$e*ot,x3:J*ot-Be*Ne,y3:J*Ne+Be*ot,x4:V*Math.cos(Z),y4:V*Math.sin(Z)}},Y=function(V){return 180*V/Math.PI},ee=function(V,Q,Z,le,de,pe){var oe=V+.5*(Z-V),fe=Q+.5*(le-Q),_e=de+.5*(Z-de),Pe=pe+.5*(le-pe),Me=Math.min(V,de,oe,_e),Oe=Math.max(V,de,oe,_e),$e=Math.min(Q,pe,fe,Pe),J=Math.max(Q,pe,fe,Pe);return new a(Me,$e,Oe-Me,J-$e)},se=function(V,Q,Z,le,de,pe,oe,fe){var _e,Pe,Me,Oe,$e,J,Be,St,ot,Ne,qe,ze,ht,Ye,Xt=Z-V,kt=le-Q,lt=de-Z,Pt=pe-le,Mt=oe-de,et=fe-pe;for(Pe=0;Pe<41;Pe++)ot=(Be=(Me=V+(_e=Pe/40)*Xt)+_e*(($e=Z+_e*lt)-Me))+_e*($e+_e*(de+_e*Mt-$e)-Be),Ne=(St=(Oe=Q+_e*kt)+_e*((J=le+_e*Pt)-Oe))+_e*(J+_e*(pe+_e*et-J)-St),Pe==0?(qe=ot,ze=Ne,ht=ot,Ye=Ne):(qe=Math.min(qe,ot),ze=Math.min(ze,Ne),ht=Math.max(ht,ot),Ye=Math.max(Ye,Ne));return new a(Math.round(qe),Math.round(ze),Math.round(ht-qe),Math.round(Ye-ze))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,Q,Z=(V=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:Q}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(at.API),function(t){var e=function(o){var a,l,c,d,h,p,f,b,x,w;for(l=[],c=0,d=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;d>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(p=(h=((h=((h=((h=(h-(w=h%85))/85)-(x=h%85))/85)-(b=h%85))/85)-(f=h%85))/85)%85,l.push(p+33,f+33,b+33,x+33,w+33)):l.push(122);return function(v,_){for(var A=_;A>0;A--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,c,d,h,p=String,f="length",b=255,x="charCodeAt",w="slice",v="replace";for(o[w](-2),o=o[w](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],d=0,h=(o+=a="uuuuu"[w](o[f]%5||5))[f];h>d;d+=5)l=52200625*(o[x](d)-33)+614125*(o[x](d+1)-33)+7225*(o[x](d+2)-33)+85*(o[x](d+3)-33)+(o[x](d+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(_,A){for(var R=A;R>0;R--)_.pop()}(c,a[f]),p.fromCharCode.apply(p,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},i=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=Zw(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,a){var l=0,c=o||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(at.API),function(t){t.loadFile=function(e,n,r){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,d){var h=new XMLHttpRequest,p=0,f=function(b){var x=b.length,w=[],v=String.fromCharCode;for(p=0;p<x;p+=1)w.push(v(255&b.charCodeAt(p)));return w.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?d(f(this.responseText)):d(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(s,i,o)}catch{}return a}(e,n,r)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(at.API),function(t){function e(){return(At.html2canvas?Promise.resolve(At.html2canvas):g2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):g2(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=mn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var c=document.createElement(a);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function a(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(a(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return(d=d.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var b=d[f],x=b.src.find(function(w){return w.format==="truetype"});x&&c.addFont(x.url,b.ref.name,b.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,d){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,d),p}).then(d,h).then(function(p){return c.updateProgress(1),p})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var d=this;a&&(a=a.bind(d)),l&&(l=l.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),p=c.call(h,a,l);return o.convert(p,d.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,at.getPageSize=function(a,l,c){if(mn(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var h,p=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var b,x=0,w=0;if(f.hasOwnProperty(p))x=f[p][1]/h,w=f[p][0]/h;else try{x=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",w>x&&(b=w,w=x,x=b);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>w&&(b=w,w=x,x=b)}return{width:w,height:x,unit:l,k:h,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(B2):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(at.API),at.API.addJS=function(t){var e,n,r=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(i=0;i<c;i++){var h=n.internal.newObject();d.push(h);var p=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<d.length;i++)n.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var o={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(at.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,i,o,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(h){for(var p,f=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,x={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=f,e.indexOf(h.charCodeAt(w+1))!==-1){p=256*h.charCodeAt(w+5)+h.charCodeAt(w+6),x={width:256*h.charCodeAt(w+7)+h.charCodeAt(w+8),height:p,numcomponents:h.charCodeAt(w+9)};break}f=256*h.charCodeAt(w+2)+h.charCodeAt(w+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:s}}return d}}(at.API),at.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=Qoe(t,{checkCrc:!0}),o=i.width,a=i.height,l=i.channels,c=i.palette,d=i.depth;s=c&&l===1?function(E){for(var C=E.width,M=E.height,N=E.data,T=E.palette,k=E.depth,z=!1,K=[],ae=[],ie=void 0,Y=!1,ee=0,se=0;se<T.length;se++){var ce=QT(T[se],4),V=ce[0],Q=ce[1],Z=ce[2],le=ce[3];K.push(V,Q,Z),le!=null&&(le===0?(ee++,ae.length<1&&ae.push(se)):le<255&&(Y=!0))}if(Y||ee>1){z=!0,ae=void 0;var de=C*M;ie=new Uint8Array(de);for(var pe=new DataView(N.buffer),oe=0;oe<de;oe++){var fe=z2(pe,oe,k),_e=QT(T[fe],4)[3];ie[oe]=_e}}else ee===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:N,alphaBytes:ie,needSMask:z,palette:K,mask:ae}}(i):l===2||l===4?function(E){for(var C=E.data,M=E.width,N=E.height,T=E.channels,k=E.depth,z=T===2?"DeviceGray":"DeviceRGB",K=T-1,ae=M*N,ie=K,Y=ae*ie,ee=1*ae,se=Math.ceil(Y*k/8),ce=Math.ceil(ee*k/8),V=new Uint8Array(se),Q=new Uint8Array(ce),Z=new DataView(C.buffer),le=new DataView(V.buffer),de=new DataView(Q.buffer),pe=!1,oe=0;oe<ae;oe++){for(var fe=oe*T,_e=0;_e<ie;_e++)cC(le,z2(Z,fe+_e,k),oe*ie+_e,k);var Pe=z2(Z,fe+ie,k);Pe<(1<<k)-1&&(pe=!0),cC(de,Pe,1*oe,k)}return{colorSpace:z,colorsPerPixel:K,sMaskBitsPerComponent:pe?k:void 0,colorBytes:V,alphaBytes:Q,needSMask:pe}}(i):function(E){var C=E.data,M=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?function(N){for(var T=N.length,k=new Uint8Array(2*T),z=new DataView(k.buffer,k.byteOffset,k.byteLength),K=0;K<T;K++)z.setUint16(2*K,N[K],!1);return k}(C):C,needSMask:!1}}(i);var h,p,f,b=s,x=b.colorSpace,w=b.colorsPerPixel,v=b.sMaskBitsPerComponent,_=b.colorBytes,A=b.alphaBytes,R=b.needSMask,F=b.palette,$=b.mask,I=null;return r!==at.API.image_compression.NONE&&typeof Zw=="function"?(I=function(E){var C;switch(E){case at.API.image_compression.FAST:C=11;break;case at.API.image_compression.MEDIUM:C=13;break;case at.API.image_compression.SLOW:C=14;break;default:C=12}return C}(r),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(I," /Colors ").concat(w," /BitsPerComponent ").concat(d," /Columns ").concat(o),t=sC(_,Math.ceil(o*w*d/8),w,d,r),R&&(f=sC(A,Math.ceil(o*v/8),1,v,r))):(h=void 0,p=void 0,t=_,R&&(f=A)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:t,index:e,filter:h,decodeParameters:p,transparency:$,palette:F,sMask:f,predictor:I,width:o,height:a,bitsPerComponent:d,sMaskBitsPerComponent:v,colorSpace:x}}},function(t){t.processGIF89A=function(e,n,r,s){var i=new yae(e),o=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},d=new $2(100).encode(c,100);return t.processJPEG.call(this,d,n,r,s)},t.processGIF87A=t.processGIF89A}(at.API),vo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vo.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(n){_n.log("bit decode error:"+n)}},vo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},vo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,a=i>>4,l=15&i,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},vo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},vo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,a=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,d=r*this.width*4+4*s;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=c}this.pos+=t}},vo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,d=s*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},vo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},vo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=o}},vo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,s){var i=new vo(e,!1),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new $2(100).encode(l,100);return t.processJPEG.call(this,c,n,r,s)}}(at.API),dC.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,s){var i=new dC(e),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new $2(100).encode(l,100);return t.processJPEG.call(this,c,n,r,s)}}(at.API),at.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,l=0,c=0;c<s;c+=4){var d=r[c],h=r[c+1],p=r[c+2],f=r[c+3];i[a++]=d,i[a++]=h,i[a++]=p,o[l++]=f}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},at.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fd=at.API,j0=Fd.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=c.fof?c.fof:1,h=e.doKerning!==!1,p=0,f=t.length,b=0,x=a[0]||l,w=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?w.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(p=h&&mn(c[r])==="object"&&!isNaN(parseInt(c[r][b],10))?c[r][b]/d:0,w.push((a[r]||x)/l+p)),b=r;return w},tC=Fd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Fd.processArabic&&(t=Fd.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:j0.apply(this,arguments).reduce(function(i,o){return i+o},0)},nC=function(t,e,n,r){for(var s=[],i=0,o=t.length,a=0;i!==o&&a+e[i]<n;)a+=e[i],i++;s.push(t.slice(0,i));var l=i;for(a=0;i!==o;)a+e[i]>r&&(s.push(t.slice(l,i)),a=0,l=i),a+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},rC=function(t,e,n){n||(n={});var r,s,i,o,a,l,c,d=[],h=[d],p=n.textIndent||0,f=0,b=0,x=t.split(" "),w=j0.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),_=[];x.map(function(R){(R=R.split(/\s*\n/)).length>1?_=_.concat(R.map(function(F,$){return($&&F.length?`
`:"")+F})):_.push(R[0])}),x=_,l=tC.apply(this,[v,n])}for(i=0,o=x.length;i<o;i++){var A=0;if(r=x[i],l&&r[0]==`
`&&(r=r.substr(1),A=1),p+f+(b=(s=j0.apply(this,[r,n])).reduce(function(R,F){return R+F},0))>e||A){if(b>e){for(a=nC.apply(this,[r,s,e-(p+f),e]),d.push(a.shift()),d=[a.pop()];a.length;)h.push([a.shift()]);b=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(R,F){return R+F},0)}else d=[r];h.push(d),p=b+l,f=w}else d.push(r),p+=f+b,f=w}return c=l?function(R,F){return(F?v:"")+R.join(" ")}:function(R){return R.join(" ")},h.map(c)},Fd.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(rC.apply(this,[r[a],o,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},s={},i=0;i<16;i++)r[n[i]]=e[i],s[e[i]]=n[i];var o=function(p){return"0x"+parseInt(p,10).toString(16)},a=t.__fontmetrics__.compress=function(p){var f,b,x,w,v=["{"];for(var _ in p){if(f=p[_],isNaN(parseInt(_,10))?b="'"+_+"'":(_=parseInt(_,10),b=(b=o(_).slice(2)).slice(0,-1)+s[b.slice(-1)]),typeof f=="number")f<0?(x=o(f).slice(3),w="-"):(x=o(f).slice(2),w=""),x=w+x.slice(0,-1)+s[x.slice(-1)];else{if(mn(f)!=="object")throw new Error("Don't know what to do with value type "+mn(f)+".");x=a(f)}v.push(b+x)}return v.push("}"),v.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,b,x,w,v={},_=1,A=v,R=[],F="",$="",I=p.length-1,E=1;E<I;E+=1)(w=p[E])=="'"?f?(x=f.join(""),f=void 0):f=[]:f?f.push(w):w=="{"?(R.push([A,x]),A={},x=void 0):w=="}"?((b=R.pop())[0][b[1]]=A,x=void 0,A=b[0]):w=="-"?_=-1:x===void 0?r.hasOwnProperty(w)?(F+=r[w],x=parseInt(F,16)*_,_=1,F=""):F+=w:r.hasOwnProperty(w)?($+=r[w],A[x]=parseInt($,16)*_,_=1,x=void 0,$=""):$+=w;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var f=p.font,b=h.Unicode[f.postScriptName];b&&(f.metadata.Unicode={},f.metadata.Unicode.widths=b.widths,f.metadata.Unicode.kerning=b.kerning);var x=d.Unicode[f.postScriptName];x&&(f.metadata.Unicode.encoding=x,f.encoding=x.codePages[0])}])}(at.API),function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(a1(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(at),at.API.addSvgAsImage=function(t,e,n,r,s,i,o,a){if(isNaN(e)||isNaN(n))throw _n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw _n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(At.canvg?Promise.resolve(At.canvg):g2(()=>import("./index.es-3ZNfIe4l.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(c,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,n,r,s,o,a)})},at.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},at.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,d=0,h=0;function p(b,x){var w,v=!1;for(w=0;w<b.length;w+=1)b[w]===x&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=a.length;for(h=0;h<f;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(mn(t)==="object"){for(s in t)if(i=t[s],p(a,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&p(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(c=0;c<i.length;c+=1)if(r=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(d=0;d<i[c].length;d+=1)typeof i[c][d]!="number"&&(r=!1);r===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,x=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?x.push("/"+b+" /"+n[b].value):x.push("/"+b+" "+n[b].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},at.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",xae),this.internal.events.subscribe("postPutResources",vae)),this},function(t){var e=t.API,n=e.pdfEscape16=function(i,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],h=0,p=i.length;h<p;++h){if(a=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=i.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},r=function(i){var o,a,l,c,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(a=Object.keys(i).sort(function(f,b){return f-b})).length;h<p;h++)o=a[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",b=0;b<p.length;b++)f+=String.fromCharCode(p[b]);var x=c();d({data:f,addLength1:!0,objectId:x}),l("endobj");var w=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Wd(a.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Wd(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Wd(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,p="",f=0;f<h.length;f++)p+=String.fromCharCode(h[f]);var b=c();d({data:p,addLength1:!0,objectId:b}),l("endobj");var x=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var w=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Wd(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Wd(a.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,a=i.text||"",l=i.x,c=i.y,d=i.options||{},h=i.mutex||{},p=h.pdfEscape,f=h.activeFontKey,b=h.fonts,x=f,w="",v=0,_="",A=b[x].encoding;if(b[x].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:h};for(_=a,x=f,Array.isArray(a)&&(_=a[0]),v=0;v<_.length;v+=1)b[x].metadata.hasOwnProperty("cmap")&&(o=b[x].metadata.cmap.unicode.codeMap[_[v].charCodeAt(0)]),o||_[v].charCodeAt(0)<256&&b[x].metadata.hasOwnProperty("Unicode")?w+=_[v]:w+="";var R="";return parseInt(x.slice(1))<14||A==="WinAnsiEncoding"?R=p(w,x).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(R=n(w,b[x])),h.isHex=!0,{text:R,x:l,y:c,options:d,mutex:h}};e.events.push(["postProcessText",function(i){var o=i.text||"",a=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([s(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(s(Object.assign({},l,{text:o[c]})).text);i.text=a}else i.text=s(Object.assign({},l,{text:o})).text}])}(at),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,i,o,a,l,c,d,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,A=0;this.__bidiEngine__={};var R=function(N){var T=N.charCodeAt(),k=T>>8,z=x[k];return z!==void 0?h[256*z+(255&T)]:k===252||k===253?"AL":v.test(k)?"L":k===8?"R":"N"},F=function(N){for(var T,k=0;k<N.length;k++){if((T=R(N.charAt(k)))==="L")return!1;if(T==="R")return!0}return!1},$=function(N,T,k,z){var K,ae,ie,Y,ee=T[z];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(ee="AN");break;case"AL":_=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":z<1||z+1>=T.length||(K=k[z-1])!=="EN"&&K!=="AN"||(ae=T[z+1])!=="EN"&&ae!=="AN"?ee="N":_&&(ae="AN"),ee=ae===K?ae:"N";break;case"ES":ee=(K=z>0?k[z-1]:"B")==="EN"&&z+1<T.length&&T[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&k[z-1]==="EN"){ee="EN";break}if(_){ee="N";break}for(ie=z+1,Y=T.length;ie<Y&&T[ie]==="ET";)ie++;ee=ie<Y&&T[ie]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Y=T.length,ie=z+1;ie<Y&&T[ie]==="NSM";)ie++;if(ie<Y){var se=N[z],ce=se>=1425&&se<=2303||se===64286;if(K=T[ie],ce&&(K==="R"||K==="AL")){ee="R";break}}}ee=z<1||(K=T[z-1])==="B"?"N":k[z-1];break;case"B":_=!1,s=!0,ee=A;break;case"S":i=!0,ee="N"}return ee},I=function(N,T,k){var z=N.split("");return k&&E(z,k,{hiLevel:A}),z.reverse(),T&&T.reverse(),z.join("")},E=function(N,T,k){var z,K,ae,ie,Y,ee=-1,se=N.length,ce=0,V=[],Q=A?f:p,Z=[];for(_=!1,s=!1,i=!1,K=0;K<se;K++)Z[K]=R(N[K]);for(ae=0;ae<se;ae++){if(Y=ce,V[ae]=$(N,Z,V,ae),z=240&(ce=Q[Y][b[V[ae]]]),ce&=15,T[ae]=ie=Q[ce][5],z>0)if(z===16){for(K=ee;K<ae;K++)T[K]=1;ee=-1}else ee=-1;if(Q[ce][6])ee===-1&&(ee=ae);else if(ee>-1){for(K=ee;K<ae;K++)T[K]=ie;ee=-1}Z[ae]==="B"&&(T[ae]=0),k.hiLevel|=ie}i&&function(le,de,pe){for(var oe=0;oe<pe;oe++)if(le[oe]==="S"){de[oe]=A;for(var fe=oe-1;fe>=0&&le[fe]==="WS";fe--)de[fe]=A}}(Z,T,se)},C=function(N,T,k,z,K){if(!(K.hiLevel<N)){if(N===1&&A===1&&!s)return T.reverse(),void(k&&k.reverse());for(var ae,ie,Y,ee,se=T.length,ce=0;ce<se;){if(z[ce]>=N){for(Y=ce+1;Y<se&&z[Y]>=N;)Y++;for(ee=ce,ie=Y-1;ee<ie;ee++,ie--)ae=T[ee],T[ee]=T[ie],T[ie]=ae,k&&(ae=k[ee],k[ee]=k[ie],k[ie]=ae);ce=Y}ce++}}},M=function(N,T,k){var z=N.split(""),K={hiLevel:A};return k||(k=[]),E(z,k,K),function(ae,ie,Y){if(Y.hiLevel!==0&&d)for(var ee,se=0;se<ae.length;se++)ie[se]===1&&(ee=w.indexOf(ae[se]))>=0&&(ae[se]=w[ee+1])}(z,k,K),C(2,z,T,k,K),C(1,z,T,k,K),z.join("")};return this.__bidiEngine__.doBidiReorder=function(N,T,k){if(function(K,ae){if(ae)for(var ie=0;ie<K.length;ie++)ae[ie]=ie;a===void 0&&(a=F(K)),c===void 0&&(c=F(K))}(N,T),o||!l||c)if(o&&l&&a^c)A=a?1:0,N=I(N,T,k);else if(!o&&l&&c)A=a?1:0,N=M(N,T,k),N=I(N,T);else if(!o||a||l||c){if(o&&!l&&a^c)N=I(N,T),a?(A=0,N=M(N,T,k)):(A=1,N=M(N,T,k),N=I(N,T));else if(o&&a&&!l&&c)A=1,N=M(N,T,k),N=I(N,T);else if(!o&&!l&&a^c){var z=d;a?(A=1,N=M(N,T,k),A=0,d=!1,N=M(N,T,k),d=z):(A=0,N=M(N,T,k),N=I(N,T),A=1,d=!1,N=M(N,T,k),d=z,N=I(N,T))}}else A=0,N=M(N,T,k);else A=a?1:0,N=M(N,T,k);return N},this.__bidiEngine__.setOptions=function(N){N&&(o=N.isInputVisual,l=N.isOutputVisual,a=N.isInputRtl,c=N.isOutputRtl,d=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([n.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([n.doBidiReorder(s[a])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Yc(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Lae(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new bae(this.contents),this.head=new _ae(this),this.name=new Tae(this),this.cmap=new gM(this),this.toUnicode={},this.hhea=new Sae(this),this.maxp=new Pae(this),this.hmtx=new Cae(this),this.post=new Aae(this),this.os2=new Nae(this),this.loca=new Rae(this),this.glyf=new kae(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Vo,Yc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,i,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)n=e[r],i.push(this.writeByte(n));return i},t}(),bae=function(){var t;function e(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,i,o,a,l,c,d,h,p,f,b,x;for(x in f=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),o=Math.floor(h/l),d=16*f-h,(s=new Yc).writeInt(this.scalarType),s.writeShort(f),s.writeShort(h),s.writeShort(o),s.writeShort(d),i=16*f,c=s.pos+i,a=null,b=[],n)for(p=n[x],s.writeString(x),s.writeInt(t(p)),s.writeInt(c),s.writeInt(p.length),b=b.concat(p),x==="head"&&(a=c),c+=p.length;c%4;)b.push(0),c++;return s.write(b),r=2981146554-t(s.data),s.pos=a+8,s.writeUInt32(r),s.data},t=function(n){var r,s,i,o;for(n=yM.call(n);n.length%4;)n.push(0);for(i=new Yc(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=i.readUInt32();return 4294967295&s},e}(),wae={}.hasOwnProperty,Da=function(t,e){for(var n in e)wae.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Vo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var _ae=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,Vo),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Yc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),hC=function(){function t(e,n){var r,s,i,o,a,l,c,d,h,p,f,b,x,w,v,_,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),p=f/2,e.pos+=6,i=function(){var R,F;for(F=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)F.push(e.readUInt16());return F}(),e.pos+=2,x=function(){var R,F;for(F=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)F.push(e.readUInt16());return F}(),c=function(){var R,F;for(F=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)F.push(e.readUInt16());return F}(),d=function(){var R,F;for(F=[],l=R=0;0<=p?R<p:R>p;l=0<=p?++R:--R)F.push(e.readUInt16());return F}(),s=(this.length-e.pos+this.offset)/2,a=function(){var R,F;for(F=[],l=R=0;0<=s?R<s:R>s;l=0<=s?++R:--R)F.push(e.readUInt16());return F}(),l=v=0,A=i.length;v<A;l=++v)for(w=i[l],r=_=b=x[l];b<=w?_<=w:_>=w;r=b<=w?++_:--_)d[l]===0?o=r+c[l]:(o=a[d[l]/2+(r-b)-(p-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,s,i,o,a,l,c,d,h,p,f,b,x,w,v,_,A,R,F,$,I,E,C,M,N,T,k,z,K,ae,ie,Y,ee,se,ce,V,Q,Z,le,de,pe,oe,fe,_e,Pe,Me;switch(z=new Yc,o=Object.keys(e).sort(function(Oe,$e){return Oe-$e}),n){case"macroman":for(x=0,w=function(){var Oe=[];for(b=0;b<256;++b)Oe.push(0);return Oe}(),_={0:0},i={},K=0,ee=o.length;K<ee;K++)_[fe=e[s=o[K]]]==null&&(_[fe]=++x),i[s]={old:e[s],new:_[e[s]]},w[s]=_[e[s]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(w),{charMap:i,subtable:z.data,maxGlyphID:x+1};case"unicode":for(T=[],h=[],A=0,_={},r={},v=c=null,ae=0,se=o.length;ae<se;ae++)_[F=e[s=o[ae]]]==null&&(_[F]=++A),r[s]={old:F,new:_[F]},a=_[F]-s,v!=null&&a===c||(v&&h.push(v),T.push(s),c=a),v=s;for(v&&h.push(v),h.push(65535),T.push(65535),M=2*(C=T.length),E=2*Math.pow(Math.log(C)/Math.LN2,2),p=Math.log(E/2)/Math.LN2,I=2*C-E,l=[],$=[],f=[],b=ie=0,ce=T.length;ie<ce;b=++ie){if(N=T[b],d=h[b],N===65535){l.push(0),$.push(0);break}if(N-(k=r[N].new)>=32768)for(l.push(0),$.push(2*(f.length+C-b)),s=Y=N;N<=d?Y<=d:Y>=d;s=N<=d?++Y:--Y)f.push(r[s].new);else l.push(k-N),$.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*C+2*f.length),z.writeUInt16(0),z.writeUInt16(M),z.writeUInt16(E),z.writeUInt16(p),z.writeUInt16(I),pe=0,V=h.length;pe<V;pe++)s=h[pe],z.writeUInt16(s);for(z.writeUInt16(0),oe=0,Q=T.length;oe<Q;oe++)s=T[oe],z.writeUInt16(s);for(_e=0,Z=l.length;_e<Z;_e++)a=l[_e],z.writeUInt16(a);for(Pe=0,le=$.length;Pe<le;Pe++)R=$[Pe],z.writeUInt16(R);for(Me=0,de=f.length;Me<de;Me++)x=f[Me],z.writeUInt16(x);return{charMap:r,subtable:z.data,maxGlyphID:A+1}}},t}(),gM=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,Vo),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new hC(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,s;return n==null&&(n="macroman"),r=hC.encode(e,n),(s=new Yc).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),Sae=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,Vo),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Nae=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,Vo),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Aae=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,Vo),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],i=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;i=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),Eae=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Tae=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,Vo),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,s,i,o,a,l,c,d,h,p;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},i=d=0,h=r.length;d<h;i=++d)s=r[i],e.pos=s.offset,c=e.readString(s.length),o=new Eae(c,s),l[p=s.nameID]==null&&(l[p]=[]),l[s.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),Pae=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,Vo),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Cae=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,Vo),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,s,i,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)d.push(e.readInt16());return d}(),this.widths=(function(){var c,d,h,p;for(p=[],c=0,d=(h=this.metrics).length;c<d;c++)i=h[c],p.push(i.advance);return p}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),yM=[].slice,kae=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,Vo),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,s,i,o,a,l,c,d,h;return e in this.cache?this.cache[e]:(i=this.file.loca,n=this.file.contents,r=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new Yc(n.read(s))).readShort(),c=a.readShort(),h=a.readShort(),l=a.readShort(),d=a.readShort(),this.cache[e]=o===-1?new Iae(a,c,h,l,d):new jae(a,o,c,h,l,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var s,i,o,a,l;for(o=[],i=[],a=0,l=n.length;a<l;a++)s=e[n[a]],i.push(o.length),s&&(o=o.concat(s.encode(r)));return i.push(o.length),{table:o,offsets:i}},t}(),jae=function(){function t(e,n,r,s,i,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Iae=function(){function t(e,n,r,s,i){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Yc(yM.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Rae=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Da(t,Vo),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<r.length;++o)if(r[o]=s,i<n.length&&n[i]==o){++i,r[o]=s;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(s+=l)}for(var c=new Array(4*r.length),d=0;d<r.length;++d)c[4*d+3]=255&r[d],c[4*d+2]=(65280&r[d])>>8,c[4*d+1]=(16711680&r[d])>>16,c[4*d]=(4278190080&r[d])>>24;return c},t}(),Lae=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,i,o,a,l;for(s={},o=0,a=e.length;o<a;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in l=this.glyphsFor(n))r=l[i],s[i]=r;return s},t.prototype.encode=function(e,n){var r,s,i,o,a,l,c,d,h,p,f,b,x,w,v;for(s in r=gM.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},v=r.charMap)f[(l=v[s]).old]=l.new;for(b in p=r.maxGlyphID,o)b in f||(f[b]=p++);return d=function(_){var A,R;for(A in R={},_)R[_[A]]=A;return R}(f),h=Object.keys(d).sort(function(_,A){return _-A}),x=function(){var _,A,R;for(R=[],_=0,A=h.length;_<A;_++)a=h[_],R.push(d[a]);return R}(),i=this.font.glyf.encode(o,x,f),c=this.font.loca.encode(i.offsets,x),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t}();at.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,i,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+n},e}();function vM(t,e,n,r,s){r=r||{};var i=1.15,o=s.internal.scaleFactor,a=s.internal.getFontSize()/o,l=s.getLineHeightFactor?s.getLineHeightFactor():i,c=a*l,d=/\r\n|\r|\n/g,h="",p=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof t=="string"?t.split(d):t,p=h.length||1),n+=a*(2-i),r.valign==="middle"?n-=p/2*c:r.valign==="bottom"&&(n-=p*c),r.halign==="center"||r.halign==="right"){var f=a;if(r.halign==="center"&&(f*=.5),h&&p>=1){for(var b=0;b<h.length;b++)s.text(h[b],e-s.getStringUnitWidth(h[b])*f,n),n+=c;return s}e-=s.getStringUnitWidth(t)*f}return r.halign==="justify"?s.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(t,e,n),s}var fC={},Ch=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:fC=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,s,i;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var d=t.unifyColor(e.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=t.unifyColor(e.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=t.unifyColor(e.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,s,i){return this.jsPDFDocument.rect(e,n,r,s,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return fC||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),h5=function(t,e){return h5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},h5(t,e)};function xM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");h5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var bM=function(t){xM(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function Dae(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Mae(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Ay(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],s=r.map(function(i){return n.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return s}function wM(t,e,n,r){var s=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:i});var o=_M(s,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function _M(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function Rv(t,e){var n,r,s,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function SM(t,e){var n=Rv(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function Oae(t,e,n,r,s){var i={},o=1.3333333333333333,a=q2(e,function(A){return s.getComputedStyle(A).backgroundColor});a!=null&&(i.fillColor=a);var l=q2(e,function(A){return s.getComputedStyle(A).color});l!=null&&(i.textColor=l);var c=Vae(r,n);c&&(i.cellPadding=c);var d="borderTopColor",h=o*n,p=r.borderTopWidth;if(r.borderBottomWidth===p&&r.borderRightWidth===p&&r.borderLeftWidth===p){var f=(parseFloat(p)||0)/h;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var b=q2(e,function(A){return s.getComputedStyle(A)[d]});b!=null&&(i.lineColor=b);var x=["left","right","center","justify"];x.indexOf(r.textAlign)!==-1&&(i.halign=r.textAlign),x=["middle","bottom","top"],x.indexOf(r.verticalAlign)!==-1&&(i.valign=r.verticalAlign);var w=parseInt(r.fontSize||"");isNaN(w)||(i.fontSize=w/o);var v=Fae(r);v&&(i.fontStyle=v);var _=(r.fontFamily||"").toLowerCase();return t.indexOf(_)!==-1&&(i.font=_),i}function Fae(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function q2(t,e){var n=NM(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function NM(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:NM(t.parentElement,e):n}function Vae(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=n.map(function(a){return parseInt(a||"0")/r}),o=Rv(i,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}function AM(t,e,n,r,s){var i,o;r===void 0&&(r=!1),s===void 0&&(s=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),d=[],h=[],p=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:d,body:h,foot:p};for(var f=0;f<a.rows.length;f++){var b=a.rows[f],x=(o=(i=b==null?void 0:b.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),w=Bae(l,c,n,b,r,s);w&&(x==="thead"?d.push(w):x==="tfoot"?p.push(w):h.push(w))}return{head:d,body:h,foot:p}}function Bae(t,e,n,r,s,i){for(var o=new bM(r),a=0;a<r.cells.length;a++){var l=r.cells[a],c=n.getComputedStyle(l);if(s||c.display!=="none"){var d=void 0;i&&(d=Oae(t,l,e,c,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:Uae(l)})}}var h=n.getComputedStyle(r);if(o.length>0&&(s||h.display!=="none"))return o}function Uae(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function zae(t,e,n){for(var r=0,s=[t,e,n];r<s.length;r++){var i=s[r];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function ol(t,e,n,r,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])}return i}function EM(t,e){var n=new Ch(t),r=n.getDocumentOptions(),s=n.getGlobalOptions();zae(s,r,e);var i=ol({},s,r,e),o;typeof window<"u"&&(o=window);var a=$ae(s,r,e),l=qae(s,r,e),c=Wae(n,i),d=Gae(n,i,o);return{id:e.tableId,content:d,hooks:l,styles:a,settings:c}}function $ae(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(l){if(l==="columnStyles"){var c=t[l],d=e[l],h=n[l];r.columnStyles=ol({},c,d,h)}else{var p=[t,e,n],f=p.map(function(b){return b[l]||{}});r[l]=ol({},f[0],f[1],f[2])}},i=0,o=Object.keys(r);i<o.length;i++){var a=o[i];s(a)}return r}function qae(t,e,n){for(var r=[t,e,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=r;i<o.length;i++){var a=o[i];a.didParseCell&&s.didParseCell.push(a.didParseCell),a.willDrawCell&&s.willDrawCell.push(a.willDrawCell),a.didDrawCell&&s.didDrawCell.push(a.didDrawCell),a.willDrawPage&&s.willDrawPage.push(a.willDrawPage),a.didDrawPage&&s.didDrawPage.push(a.didDrawPage)}return s}function Wae(t,e){var n,r,s,i,o,a,l,c,d,h,p,f,b=Rv(e.margin,40/t.scaleFactor()),x=(n=Hae(t,e.startY))!==null&&n!==void 0?n:b.top,w;e.showFoot===!0?w="everyPage":e.showFoot===!1?w="never":w=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var v;e.showHead===!0?v="everyPage":e.showHead===!1?v="never":v=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var _=(i=e.useCss)!==null&&i!==void 0?i:!1,A=e.theme||(_?"plain":"striped"),R=!!e.horizontalPageBreak,F=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:_,theme:A,startY:x,margin:b,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:v,showFoot:w,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=e.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:R,horizontalPageBreakRepeat:F,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Hae(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),s=t.pageNumber(),i=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;i=o===s}return typeof e=="number"?e:(e==null||e===!1)&&i&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Gae(t,e,n){var r=e.head||[],s=e.body||[],i=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=AM(t,e.html,n,o,e.useCss)||{};r=a.head||r,s=a.body||r,i=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Kae(r,s,i);return{columns:l,head:r,body:s,foot:i}}function Kae(t,e,n){var r=t[0]||e[0]||n[0]||[],s=[];return Object.keys(r).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,a;Array.isArray(r)?a=r[parseInt(i)]:a=r[i],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var c=void 0;Array.isArray(r)?c=s.length:c=i+(l>0?"_".concat(l):"");var d={dataKey:c};s.push(d)}}),s}var f5=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),Yae=function(t){xM(e,t);function e(n,r,s,i,o,a){var l=t.call(this,n,r,a)||this;return l.cell=s,l.row=i,l.column=o,l.section=i.section,l}return e}(f5),Qae=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,s,i,o){for(var a=0,l=n;a<l.length;a++){var c=l[a],d=new Yae(e,this,r,s,i,o),h=c(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var i=s[r];i(new f5(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var i=s[r];i(new f5(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),TM=function(){function t(e,n,r,s,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof bM&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=s,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,s){var i;return Math.max(r,((i=n.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var s=n.cells[r.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(s,i){var o=r.cells[i.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),c=l+a;return c>s?c:s},0)},t}(),PM=function(){function t(e,n,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*n,i=r*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=Rv(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),Xae=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,s=e.allRows();r<s.length;r++){var i=s[r],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function Zae(t,e){Jae(t,e);var n=[],r=0;e.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(e);o?i.width=o:(i.width=i.wrappedWidth,n.push(i)),r+=i.width});var s=e.getWidth(t.pageSize().width)-r;s&&(s=p5(n,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=p5(n,s,function(i){return i.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),tle(e),nle(e,t),ele(e)}function Jae(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,s=SM(t,e);e.allRows().forEach(function(i){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],c=i.cells[l.index];if(c){var d=e.hooks.didParseCell;e.callCellHooks(t,d,c,i,l,null);var h=c.padding("horizontal");c.contentWidth=Ay(c.text,c.styles,t)+h;var p=Ay(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=p+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||r===!0)c.contentWidth>s?(c.minWidth=s,c.wrappedWidth=s):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var f=10/n;c.minWidth=c.styles.minCellWidth||f,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(i){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var d=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function p5(t,e,n){for(var r=e,s=t.reduce(function(f,b){return f+b.wrappedWidth},0),i=0;i<t.length;i++){var o=t[i],a=o.wrappedWidth/s,l=r*a,c=o.width+l,d=n(o),h=c<d?d:c;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var p=t.filter(function(f){return e<0?f.width>n(f):!0});p.length&&(e=p5(p,e,n))}return e}function ele(t){for(var e={},n=1,r=t.allRows(),s=0;s<r.length;s++)for(var i=r[s],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=e[l.index];if(n>1)n--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,n=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var d=i.cells[l.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var h=r.length-s,p=d.rowSpan>h?h:d.rowSpan;e[l.index]={cell:d,left:p,row:i}}}}}function tle(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],s=null,i=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])i+=l.width,delete r.cells[l.index];else if(s){var c=s;delete r.cells[l.index],s=null,c.width=l.width+i}else{var c=r.cells[l.index];if(!c)continue;if(o=c.colSpan,i=0,c.colSpan>1){s=c,i+=l.width;continue}c.width=l.width+i}}}function nle(t,e){for(var n={count:0,height:0},r=0,s=t.allRows();r<s.length;r++){for(var i=s[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=i.cells[l.index];if(c){e.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,d+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=pC(c.text,d,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=pC(c.text,d,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var h=c.styles.overflow(c.text,d);typeof h=="string"?c.text=[h]:c.text=h}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var p=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<p*c.rowSpan?n={height:p,count:c.rowSpan}:n&&n.count>0&&n.height>p&&(p=n.height),p>i.height&&(i.height=p)}}n.count--}}function pC(t,e,n,r,s){return t.map(function(i){return rle(i,e,n,r,s)})}function rle(t,e,n,r,s){var i=1e4*r.scaleFactor();if(e=Math.ceil(e*i)/i,e>=Ay(t,n,r))return t;for(;e<Ay(t+s,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function CM(t,e){var n=new Ch(t),r=sle(e,n.scaleFactor()),s=new Qae(e,r);return Zae(n,s),n.applyStyles(n.userStyles),s}function sle(t,e){var n=t.content,r=ole(n.columns);if(n.head.length===0){var s=mC(r,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=mC(r,"foot");s&&n.foot.push(s)}var i=t.settings.theme,o=t.styles;return{columns:r,head:W2("head",n.head,r,o,i,e),body:W2("body",n.body,r,o,i,e),foot:W2("foot",n.foot,r,o,i,e)}}function W2(t,e,n,r,s,i){var o={},a=e.map(function(l,c){for(var d=0,h={},p=0,f=0,b=0,x=n;b<x.length;b++){var w=x[b];if(o[w.index]==null||o[w.index].left===0)if(f===0){var v=void 0;Array.isArray(l)?v=l[w.index-p-d]:v=l[w.dataKey];var _={};typeof v=="object"&&!Array.isArray(v)&&(_=(v==null?void 0:v.styles)||{});var A=ale(t,w,c,s,r,i,_),R=new PM(v,A,t);h[w.dataKey]=R,h[w.index]=R,f=R.colSpan-1,o[w.index]={left:R.rowSpan-1,times:f}}else f--,p++;else o[w.index].left--,f=o[w.index].times,d++}return new TM(l,c,t,h)});return a}function mC(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var s=ile(e,r.raw);s!=null&&(n[r.dataKey]=s)}}),Object.keys(n).length>0?n:null}function ile(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function ole(t){return t.map(function(e,n){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:n:s=n,new Xae(s,e,n)})}function ale(t,e,n,r,s,i,o){var a=Mae(r),l;t==="head"?l=s.headStyles:t==="body"?l=s.bodyStyles:t==="foot"&&(l=s.footStyles);var c=ol({},a.table,a[t],s.styles,l),d=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},h=t==="body"?d:{},p=t==="body"&&n%2===0?ol({},a.alternateRow,s.alternateRowStyles):{},f=Dae(i),b=ol({},f,c,p,h);return ol(b,o)}function lle(t,e,n){var r;n===void 0&&(n={});var s=SM(t,e),i=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var f=e.columns.find(function(b){return b.dataKey===p||b.index===p});f&&!i.has(f.index)&&(i.set(f.index,!0),o.push(f.index),a.push(e.columns[f.index]),s-=f.wrappedWidth)});for(var c=!0,d=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;d<e.columns.length;){if(i.has(d)){d++;continue}var h=e.columns[d].wrappedWidth;if(c||s>=h)c=!1,o.push(d),a.push(e.columns[d]),s-=h;else break;d++}return{colIndexes:o,columns:a,lastIndex:d-1}}function cle(t,e){for(var n=[],r=0;r<e.columns.length;r++){var s=lle(t,e,{start:r});s.columns.length&&(n.push(s),r=s.lastIndex)}return n}function kM(t,e){var n=e.settings,r=n.startY,s=n.margin,i={x:s.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+s.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(p,f){return p+f.height},0);a+=c}var d=new Ch(t);(n.pageBreak==="always"||n.startY!=null&&a>d.pageSize().height)&&(IM(d),i.y=s.top),e.callWillDrawPageHooks(d,i);var h=ol({},i);e.startPageNumber=d.pageNumber(),n.horizontalPageBreak?ule(d,e,h,i):(d.applyStyles(d.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(p){return bl(d,e,p,i,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(p,f){var b=f===e.body.length-1;Ey(d,e,p,b,h,i,e.columns)}),d.applyStyles(d.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(p){return bl(d,e,p,i,e.columns)})),wM(d,e,h,i),e.callEndPageHooks(d,i),e.finalY=i.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function ule(t,e,n,r){var s=cle(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(c,d){t.applyStyles(t.userStyles),d>0?Qp(t,e,n,r,c.columns,!0):gC(t,e,r,c.columns),dle(t,e,n,r,c.columns),H2(t,e,r,c.columns)});else for(var o=-1,a=s[0],l=function(){var c=o;if(a){t.applyStyles(t.userStyles);var d=a.columns;o>=0?Qp(t,e,n,r,d,!0):gC(t,e,r,d),c=yC(t,e,o+1,r,d),H2(t,e,r,d)}var h=c-o;s.slice(1).forEach(function(p){t.applyStyles(t.userStyles),Qp(t,e,n,r,p.columns,!0),yC(t,e,o+1,r,p.columns,h),H2(t,e,r,p.columns)}),o=c};o<e.body.length-1;)l()}function gC(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(i){return bl(t,e,i,n,r)})}function dle(t,e,n,r,s){t.applyStyles(t.userStyles),e.body.forEach(function(i,o){var a=o===e.body.length-1;Ey(t,e,i,a,n,r,s)})}function yC(t,e,n,r,s,i){t.applyStyles(t.userStyles),i=i??e.body.length;var o=Math.min(n+i,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,c){var d=n+c===e.body.length-1,h=jM(t,e,d,r);l.canEntireRowFit(h,s)&&(bl(t,e,l,r,s),a=n+c)}),a}function H2(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(i){return bl(t,e,i,n,r)})}function hle(t,e,n){var r=n.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),i=Math.floor((e-s)/r);return Math.max(0,i)}function fle(t,e,n,r){var s={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var d=new PM(c.raw,c.styles,c.section);d=ol(d,c),d.text=[];var h=hle(c,e,r);c.text.length>h&&(d.text=c.text.splice(h,c.text.length));var p=r.scaleFactor(),f=r.getLineHeightFactor();c.contentHeight=c.getContentHeight(p,f),c.contentHeight>=e&&(c.contentHeight=e,d.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),d.contentHeight=d.getContentHeight(p,f),d.contentHeight>i&&(i=d.contentHeight),s[l.index]=d}}var b=new TM(t.raw,-1,t.section,s,!0);b.height=i;for(var x=0,w=n.columns;x<w.length;x++){var l=w[x],d=b.cells[l.index];d&&(d.height=b.height);var c=t.cells[l.index];c&&(c.height=t.height)}return b}function ple(t,e,n,r){var s=t.pageSize().height,i=r.settings.margin,o=i.top+i.bottom,a=s-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),c=l<n;if(l>a)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var d=e.hasRowSpan(r.columns),h=e.getMaxCellHeight(r.columns)>a;return h?(d&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function Ey(t,e,n,r,s,i,o){var a=jM(t,e,r,i);if(n.canEntireRowFit(a,o))bl(t,e,n,i,o);else if(ple(t,n,a,e)){var l=fle(n,a,e,t);bl(t,e,n,i,o),Qp(t,e,s,i,o),Ey(t,e,l,r,s,i,o)}else Qp(t,e,s,i,o),Ey(t,e,n,r,s,i,o)}function bl(t,e,n,r,s){r.x=e.settings.margin.left;for(var i=0,o=s;i<o.length;i++){var a=o[i],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(c===!1){r.x+=a.width;continue}mle(t,l,r);var d=l.getTextPos();vM(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function mle(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=_M(r.lineWidth,r.fillColor);s&&t.rect(e.x,n.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),gle(t,e,n,r.lineWidth))}function gle(t,e,n,r){var s,i,o,a;r.top&&(s=n.x,i=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(s-=.5*r.left),l(r.top,s,i,o,a)),r.bottom&&(s=n.x,i=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(s-=.5*r.left),l(r.bottom,s,i,o,a)),r.left&&(s=n.x,i=n.y,o=n.x,a=n.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,s,i,o,a)),r.right&&(s=n.x+e.width,i=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,s,i,o,a));function l(c,d,h,p,f){t.getDocument().setLineWidth(c),t.getDocument().line(d,h,p,f,"S")}}function jM(t,e,n,r){var s=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&n)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-s}function Qp(t,e,n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(a){return bl(t,e,a,r,s)}),e.callEndPageHooks(t,r);var o=e.settings.margin;wM(t,e,n,r),IM(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return bl(t,e,a,r,s)}),t.applyStyles(t.userStyles))}function IM(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function yle(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],s=EM(this,r),i=CM(this,s);return kM(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,s){vM(e,n,r,s,this)},t.API.autoTableSetDefaults=function(e){return Ch.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Ch.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Ch(this),i=AM(s,e,window,n,!1),o=i.head,a=i.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var G2;function sf(t,e){var n=EM(t,e),r=CM(t,n);kM(t,r)}try{if(typeof window<"u"&&window){var vC=window,xC=vC.jsPDF||((G2=vC.jspdf)===null||G2===void 0?void 0:G2.jsPDF);xC&&yle(xC)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Ty=()=>new Date().toISOString().split("T")[0],RM=(t,e)=>{t.setTextColor(200,0,0),t.setFontSize(22),t.setFont("helvetica","bold"),t.text("SHREE GANESH FRUIT SUPPLIERS, TASGAON",105,18,{align:"center"}),t.setTextColor(0,0,0),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Tal. Tasgaon, Dist. Sangli, Pin 416312, Maharashtra",105,24,{align:"center"}),t.text("Prop. Suhas Patil | Mo. 9730793507, 8788845042",105,29,{align:"center"}),t.setFillColor(200,0,0),t.rect(20,42,170,8,"F"),t.setTextColor(255,255,255),t.setFontSize(12),t.setFont("helvetica","bold"),t.text(e,105,47.5,{align:"center"}),t.setTextColor(0,0,0)},LM=(t,e)=>{const n=t.internal.pageSize.height;let r=e;r>n-40&&(t.addPage(),r=20),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Driver's Signature",20,r+20),t.setFont("helvetica","bold"),t.text("For, SHREE GANESH FRUIT SUPPLIERS, TASGAON",110,r+15),t.setDrawColor(0,0,150),t.rect(130,r+18,50,20),t.setFontSize(8),t.text("Proprietor",155,r+35,{align:"center"})},vle=(t,e,n,r)=>{const s=new at;RM(s,"PURCHASE BILL / RECEIPT"),s.setFontSize(11),s.setFont("helvetica","bold"),s.text("Farmer / Party Name:",20,58),s.setFont("helvetica","normal"),s.text(t,65,58),s.setFont("helvetica","bold"),s.text("Address:",20,64),s.setFont("helvetica","normal"),s.text(n,65,64),s.setFont("helvetica","bold"),s.text("Mobile:",130,58),s.setFont("helvetica","normal"),s.text(e,145,58),s.setFont("helvetica","bold"),s.text("Date:",130,64),s.setFont("helvetica","normal"),s.text(Ty(),145,64),s.setDrawColor(0),s.line(20,68,190,68);let i=75;r.forEach((a,l)=>{const c=a.items.map((d,h)=>[h+1,d.quality,`${d.totalWeight} kg`,`Rs. ${d.pricePerKg}`,`Rs. ${d.totalAmount.toLocaleString()}`]);sf(s,{startY:i,head:[["Sr.","PARTICULARS","Weight","Rate","Amount"]],body:c,theme:"grid",headStyles:{fillColor:[240,240,240],textColor:0,fontStyle:"bold"},margin:{left:20,right:20},styles:{fontSize:9}}),i=s.lastAutoTable.finalY+5,s.setFont("helvetica","bold"),s.text(`Total: Rs. ${a.totalAmount.toLocaleString()}`,190,i,{align:"right"}),s.setFont("helvetica","normal"),s.text(`Paid: Rs. ${a.advanceAmount.toLocaleString()}`,190,i+5,{align:"right"}),s.setFont("helvetica","bold"),s.setTextColor(200,0,0),s.text(`Balance / Pending: Rs. ${a.pendingAmount.toLocaleString()}`,190,i+10,{align:"right"}),s.setTextColor(0,0,0),i+=20}),LM(s,i);const o=t.replace(/[^a-z0-9]/gi,"_").toLowerCase();s.save(`Purchase_Bill_${o}_${Ty()}.pdf`)},xle=(t,e,n,r)=>{const s=new at;RM(s,"SALE BILL / INVOICE"),s.setFontSize(11),s.setFont("helvetica","bold"),s.text("Party Name:",20,58),s.setFont("helvetica","normal"),s.text(t,65,58),s.setFont("helvetica","bold"),s.text("Address:",20,64),s.setFont("helvetica","normal"),s.text(n,65,64),s.setFont("helvetica","bold"),s.text("Mobile:",130,58),s.setFont("helvetica","normal"),s.text(e,145,58),s.setFont("helvetica","bold"),s.text("Date:",130,64),s.setFont("helvetica","normal"),s.text(Ty(),145,64),s.line(20,68,190,68);let i=75;r.forEach(a=>{const l=a.items.map((c,d)=>[d+1,c.quality,`${c.totalWeight} kg`,`Rs. ${c.pricePerKg}`,`Rs. ${c.totalAmount.toLocaleString()}`]);a.additions&&a.totalAdditions>0&&a.additions.forEach(c=>{l.push(["-",c.label,`${c.quantity}`,`Rs. ${c.rate}`,`Rs. ${c.totalAmount.toLocaleString()}`])}),sf(s,{startY:i,head:[["Sr.","PARTICULARS","Qty/Weight","Rate","Amount"]],body:l,theme:"grid",headStyles:{fillColor:[240,240,240],textColor:0,fontStyle:"bold"},margin:{left:20,right:20},styles:{fontSize:9}}),i=s.lastAutoTable.finalY+5,s.setFont("helvetica","bold"),s.text(`Grand Total: Rs. ${a.totalAmount.toLocaleString()}`,190,i,{align:"right"}),s.setFont("helvetica","normal"),s.text(`Received: Rs. ${a.receivedAmount.toLocaleString()}`,190,i+5,{align:"right"}),s.setFont("helvetica","bold"),s.setTextColor(200,0,0),s.text(`Balance / Pending: Rs. ${a.pendingAmount.toLocaleString()}`,190,i+10,{align:"right"}),s.setTextColor(0,0,0),i+=20}),LM(s,i);const o=t.replace(/[^a-z0-9]/gi,"_").toLowerCase();s.save(`Sale_Bill_${o}_${Ty()}.pdf`)},ble=({isOpen:t,onClose:e,sale:n,onUpdate:r})=>{const[s,i]=L.useState(n.transactions||(n.items?[{id:n.id+"_trans_1",date:n.date,items:n.items,additions:n.additions||[],totalItemAmount:n.totalItemAmount||0,totalAdditions:n.totalAdditions||0,totalAmount:n.totalAmount}]:[])),[o,a]=L.useState(n.receivedPayments||(n.receivedAmount>0?[{id:n.id+"_rcv_1",date:n.date,amount:n.receivedAmount,paymentMethod:n.paymentMethod,note:"Initial payment"}]:[])),[l,c]=L.useState(new Date().toISOString().split("T")[0]),[d,h]=L.useState([{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}]),[p,f]=L.useState([]),[b,x]=L.useState(new Date().toISOString().split("T")[0]),[w,v]=L.useState(0),[_,A]=L.useState("cash"),[R,F]=L.useState(""),$=()=>{h([...d,{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}])},I=se=>{h(d.filter(ce=>ce.id!==se))},E=(se,ce,V)=>{h(d.map(Q=>{if(Q.id===se){const Z={...Q,[ce]:V};return(ce==="unitCount"||ce==="weightPerUnit")&&(Z.totalWeight=Z.unitCount*Z.weightPerUnit,Z.totalAmount=Z.totalWeight*Z.pricePerKg),ce==="pricePerKg"&&(Z.totalAmount=Z.totalWeight*Z.pricePerKg),Z}return Q}))},C=()=>{f([...p,{id:Date.now().toString(),type:"labour",label:"",quantity:0,rate:0,totalAmount:0}])},M=se=>{f(p.filter(ce=>ce.id!==se))},N=(se,ce,V)=>{f(p.map(Q=>{if(Q.id===se){const Z={...Q,[ce]:V};return(ce==="quantity"||ce==="rate")&&(Z.totalAmount=Z.quantity*Z.rate),Z}return Q}))},T=()=>{const se=d.reduce((Z,le)=>Z+le.totalAmount,0),ce=p.reduce((Z,le)=>Z+le.totalAmount,0),V=se+ce;if(V===0){alert("Please add items with valid amounts");return}const Q={id:Date.now().toString(),date:l,items:d,additions:p,totalItemAmount:se,totalAdditions:ce,totalAmount:V};i([...s,Q]),h([{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}]),f([]),c(new Date().toISOString().split("T")[0])},k=()=>{if(w<=0){alert("Please enter a valid payment amount");return}const se={id:Date.now().toString(),date:b,amount:w,paymentMethod:_,note:R};a([...o,se]),v(0),F(""),x(new Date().toISOString().split("T")[0])},z=se=>{i(s.filter(ce=>ce.id!==se))},K=se=>{a(o.filter(ce=>ce.id!==se))},ae=()=>{const se=s.reduce((Z,le)=>Z+le.totalAmount,0),ce=o.reduce((Z,le)=>Z+le.amount,0),V=se-ce,Q={...n,transactions:s,receivedPayments:o,totalAmount:se,receivedAmount:ce,pendingAmount:V,items:s.length>0?s[0].items:[],additions:s.length>0?s[0].additions:[],totalItemAmount:s.length>0?s[0].totalItemAmount:0,totalAdditions:s.length>0?s[0].totalAdditions:0};r(Q),e()},ie=s.reduce((se,ce)=>se+ce.totalAmount,0),Y=o.reduce((se,ce)=>se+ce.amount,0),ee=ie-Y;return u.jsx(Pv,{open:t,onOpenChange:e,children:u.jsxs(dg,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[u.jsx(hg,{children:u.jsxs(fg,{className:"flex items-center justify-between",children:[u.jsxs("span",{children:["Edit Sale - ",n.buyer.name]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:ae,className:"btn-primary flex items-center gap-2",children:[u.jsx(ya,{className:"w-4 h-4"}),"Save Changes"]}),u.jsx("button",{onClick:e,className:"btn-secondary",children:u.jsx(Ci,{className:"w-4 h-4"})})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"glass-card p-4",children:[u.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[u.jsx(Rr,{className:"w-5 h-5 text-success"}),"Add New Sale Transaction"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Transaction Date"}),u.jsx("input",{type:"date",value:l,onChange:se=>c(se.target.value),className:"input-premium"})]}),u.jsx("h4",{className:"text-sm font-bold mt-4",children:"Items"}),d.map((se,ce)=>u.jsxs("div",{className:"bg-muted/20 p-3 rounded-xl space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-bold",children:["Item ",ce+1]}),d.length>1&&u.jsx("button",{onClick:()=>I(se.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ks,{className:"w-4 h-4"})})]}),u.jsx("input",{type:"text",placeholder:"Quality (e.g., Super)",value:se.quality,onChange:V=>E(se.id,"quality",V.target.value),className:"input-premium text-sm"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"number",placeholder:"Units",value:se.unitCount||"",onChange:V=>E(se.id,"unitCount",parseFloat(V.target.value)||0),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Kg/Unit",value:se.weightPerUnit||"",onChange:V=>E(se.id,"weightPerUnit",parseFloat(V.target.value)||0),className:"input-premium text-sm"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"number",placeholder:"Rate/Kg",value:se.pricePerKg||"",onChange:V=>E(se.id,"pricePerKg",parseFloat(V.target.value)||0),className:"input-premium text-sm"}),u.jsx("div",{className:"bg-success/10 p-2 rounded-lg flex items-center justify-center",children:u.jsxs("span",{className:"text-sm font-bold",children:["",se.totalAmount.toLocaleString()]})})]})]},se.id)),u.jsxs("button",{onClick:$,className:"btn-secondary w-full text-sm flex items-center justify-center gap-2",children:[u.jsx(Rr,{className:"w-4 h-4"}),"Add Item"]}),u.jsx("h4",{className:"text-sm font-bold mt-4",children:"Additional Charges (Optional)"}),p.map((se,ce)=>u.jsxs("div",{className:"bg-warning/10 p-3 rounded-xl space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-bold",children:["Charge ",ce+1]}),u.jsx("button",{onClick:()=>M(se.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ks,{className:"w-4 h-4"})})]}),u.jsxs("select",{value:se.type,onChange:V=>N(se.id,"type",V.target.value),className:"input-premium text-sm",children:[u.jsx("option",{value:"labour",children:"Labour"}),u.jsx("option",{value:"paper",children:"Paper"}),u.jsx("option",{value:"rassi",children:"Rassi (Rope)"}),u.jsx("option",{value:"tape",children:"Tape"}),u.jsx("option",{value:"crate",children:"Crate"}),u.jsx("option",{value:"commission",children:"Commission"}),u.jsx("option",{value:"other",children:"Other"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"number",placeholder:"Quantity",value:se.quantity||"",onChange:V=>N(se.id,"quantity",parseFloat(V.target.value)||0),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Rate",value:se.rate||"",onChange:V=>N(se.id,"rate",parseFloat(V.target.value)||0),className:"input-premium text-sm"})]}),u.jsx("div",{className:"bg-warning/20 p-2 rounded-lg",children:u.jsxs("span",{className:"text-sm font-bold",children:["",se.totalAmount.toLocaleString()]})})]},se.id)),u.jsxs("button",{onClick:C,className:"btn-secondary w-full text-sm flex items-center justify-center gap-2",children:[u.jsx(Rr,{className:"w-4 h-4"}),"Add Charge"]}),u.jsxs("button",{onClick:T,className:"btn-primary w-full flex items-center justify-center gap-2 mt-4",children:[u.jsx(ya,{className:"w-4 h-4"}),"Save Transaction"]})]})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[u.jsx(Qu,{className:"w-5 h-5 text-success"}),"Add Received Payment"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Date"}),u.jsx("input",{type:"date",value:b,onChange:se=>x(se.target.value),className:"input-premium"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Amount"}),u.jsx("input",{type:"number",placeholder:"Enter amount",value:w||"",onChange:se=>v(parseFloat(se.target.value)||0),className:"input-premium"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),u.jsxs("select",{value:_,onChange:se=>A(se.target.value),className:"input-premium",children:[u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"online",children:"Online"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Note (Optional)"}),u.jsx("input",{type:"text",placeholder:"Payment note",value:R,onChange:se=>F(se.target.value),className:"input-premium"})]}),u.jsxs("button",{onClick:k,className:"btn-primary w-full flex items-center justify-center gap-2",children:[u.jsx(ya,{className:"w-4 h-4"}),"Add Payment"]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Summary"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Amount:"}),u.jsxs("span",{className:"font-bold text-lg",children:["",ie.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-success",children:"Total Received:"}),u.jsxs("span",{className:"font-bold text-success text-lg",children:["",Y.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between pt-2 border-t border-border",children:[u.jsx("span",{className:"font-bold",children:"Pending Amount:"}),u.jsxs("span",{className:"font-black text-xl text-destructive",children:["",ee.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Sale History"}),u.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:u.jsx(Ei,{children:s.map(se=>u.jsxs(Vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-muted/20 p-3 rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ai,{className:"w-4 h-4 text-success"}),u.jsx("span",{className:"font-bold text-sm",children:new Date(se.date).toLocaleDateString("en-IN")})]}),u.jsx("button",{onClick:()=>z(se.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ks,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"space-y-1 text-xs",children:[se.items.map(ce=>u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{children:[ce.quality,": ",ce.totalWeight,"kg @ ",ce.pricePerKg,"/kg"]}),u.jsxs("span",{className:"font-bold",children:["",ce.totalAmount.toLocaleString()]})]},ce.id)),se.additions.map(ce=>u.jsxs("div",{className:"flex justify-between text-warning",children:[u.jsxs("span",{children:[ce.label||ce.type,": ",ce.quantity,"  ",ce.rate]}),u.jsxs("span",{className:"font-bold",children:["",ce.totalAmount.toLocaleString()]})]},ce.id))]}),u.jsxs("div",{className:"mt-2 pt-2 border-t border-border/50 flex justify-between",children:[u.jsx("span",{className:"text-xs font-bold",children:"Total:"}),u.jsxs("span",{className:"font-bold",children:["",se.totalAmount.toLocaleString()]})]})]},se.id))})})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Received Payment History"}),u.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:u.jsx(Ei,{children:o.map(se=>u.jsxs(Vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-success/10 p-3 rounded-xl border border-success/20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ai,{className:"w-4 h-4 text-success"}),u.jsx("span",{className:"font-bold text-sm",children:new Date(se.date).toLocaleDateString("en-IN")})]}),u.jsx("button",{onClick:()=>K(se.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ks,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("div",{children:[u.jsxs("span",{className:"font-bold text-success text-lg",children:["",se.amount.toLocaleString()]}),u.jsxs("span",{className:"text-xs ml-2 text-muted-foreground capitalize",children:["(",se.paymentMethod,")"]})]})}),se.note&&u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:se.note})]},se.id))})})]})]})]})]})})},wle=({isOpen:t,onClose:e,sales:n,buyerName:r,buyerMobile:s,buyerAddress:i,onUpdate:o,onDelete:a})=>{const[l,c]=L.useState(!1),[d,h]=L.useState(null),p=n.reduce((F,$)=>F+$.totalAmount,0),f=n.reduce((F,$)=>F+$.receivedAmount,0),b=n.reduce((F,$)=>F+$.pendingAmount,0),x=n.reduce((F,$)=>{var I;return F+(((I=$.items)==null?void 0:I.reduce((E,C)=>E+C.totalWeight,0))||0)},0),w=()=>{window.print()},v=()=>{xle(r,s,i,n)},_=()=>{n.length>0&&(h(n[0]),c(!0))},A=F=>{o&&o(F),c(!1)},R=()=>{n.length>0&&a&&window.confirm(`Are you sure you want to delete this sale receipt for ${r}? This action cannot be undone.`)&&(a(n[0].id),e())};return u.jsxs(Pv,{open:t,onOpenChange:e,children:[u.jsxs(dg,{className:"max-w-4xl max-h-[90vh] overflow-y-auto print:max-w-full",children:[u.jsx(hg,{children:u.jsxs(fg,{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(O1,{className:"w-6 h-6 text-primary"}),"Sale Receipt"]}),u.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[u.jsxs("button",{onClick:_,className:"px-3 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(m_,{className:"w-4 h-4"}),"Edit"]}),u.jsxs("button",{onClick:R,className:"px-3 py-2 rounded-lg bg-red-50 hover:bg-red-100 text-red-600 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(ks,{className:"w-4 h-4"}),"Delete"]}),u.jsxs("button",{onClick:v,className:"px-3 py-2 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(uf,{className:"w-4 h-4"}),"Download PDF"]}),u.jsxs("button",{onClick:w,className:"px-3 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(xj,{className:"w-4 h-4"}),"Print"]})]})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between pb-6 border-b-2 border-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden border-2 border-emerald-100 shadow-sm shrink-0",children:u.jsx("img",{src:"/sp-logo.jpg",alt:"SP Logo",className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-black text-slate-800 leading-tight",children:"SHREE GANESH FRUIT SUPPLIERS, TASGAON"}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Tal. Tasgaon, Dist. Sangli, Maharashtra"}),u.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-tighter mt-0.5",children:"Mo. 9730793507, 8788845042"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:"Document Type"}),u.jsx("div",{className:"text-lg font-black text-slate-800",children:"SALE INVOICE"})]})]}),u.jsx("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:r}),u.jsxs("div",{className:"space-y-1 text-xs text-slate-500 font-bold",children:[u.jsxs("p",{className:"flex items-center gap-2",children:[u.jsx(Fc,{className:"w-3.5 h-3.5"}),s]}),u.jsxs("p",{className:"flex items-center gap-2",children:[u.jsx(Oc,{className:"w-3.5 h-3.5"}),i]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"Total Invoices"}),u.jsx("div",{className:"text-3xl font-black text-emerald-600",children:n.length})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-2",children:"Total Weight"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:[x.toFixed(2)," kg"]})]}),u.jsxs("div",{className:"bg-primary/10 p-4 rounded-xl border border-primary/20",children:[u.jsx("div",{className:"text-xs text-primary uppercase font-bold mb-2",children:"Total Amount"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:["",p.toLocaleString()]})]}),u.jsxs("div",{className:"bg-success/10 p-4 rounded-xl border border-success/20",children:[u.jsx("div",{className:"text-xs text-success uppercase font-bold mb-2",children:"Received"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:["",f.toLocaleString()]})]}),u.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shadow-sm transition-all hover:bg-white hover:border-slate-300",children:[u.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-black tracking-widest mb-2",children:"Balance Due"}),u.jsxs("div",{className:"text-xl font-black text-slate-900",children:["",b.toLocaleString()]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[u.jsx(O1,{className:"w-5 h-5 text-primary"}),"Invoice History"]}),n.map((F,$)=>u.jsxs(Vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:$*.05},className:"glass-card p-5 space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-border/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:u.jsx(Ai,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-foreground",children:new Date(F.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:[F.items.length," item",F.items.length>1?"s":""]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold",children:"Payment"}),u.jsx("div",{className:"text-sm font-bold text-foreground capitalize",children:F.paymentMethod})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border/50",children:[u.jsx("th",{className:"text-left py-2 text-xs font-bold text-muted-foreground uppercase",children:"Quality"}),u.jsx("th",{className:"text-center py-2 text-xs font-bold text-muted-foreground uppercase",children:"Total Kg"}),u.jsx("th",{className:"text-center py-2 text-xs font-bold text-muted-foreground uppercase",children:"Rate"}),u.jsx("th",{className:"text-right py-2 text-xs font-bold text-muted-foreground uppercase",children:"Amount"})]})}),u.jsx("tbody",{children:F.items.map(I=>u.jsxs("tr",{className:"border-b border-border/30",children:[u.jsx("td",{className:"py-3 font-medium text-foreground",children:I.quality}),u.jsxs("td",{className:"py-3 text-center font-bold",children:[I.totalWeight," kg"]}),u.jsxs("td",{className:"py-3 text-center",children:["",I.pricePerKg,"/kg"]}),u.jsxs("td",{className:"py-3 text-right font-bold",children:["",I.totalAmount.toLocaleString()]})]},I.id))})]})}),F.additions&&F.additions.length>0&&u.jsxs("div",{className:"bg-muted/10 p-4 rounded-xl space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-muted-foreground mb-2",children:[u.jsx(Rr,{className:"w-4 h-4"}),"Additional Charges"]}),F.additions.map(I=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-muted-foreground",children:[I.label," (",I.quantity,"  ",I.rate,")"]}),u.jsxs("span",{className:"font-bold text-foreground",children:["",I.totalAmount.toLocaleString()]})]},I.id))]}),u.jsxs("div",{className:"bg-muted/20 p-4 rounded-xl space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Items Total:"}),u.jsxs("span",{className:"font-bold text-foreground",children:["",F.totalItemAmount.toLocaleString()]})]}),F.totalAdditions>0&&u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Additional Charges:"}),u.jsxs("span",{className:"font-bold text-foreground",children:["",F.totalAdditions.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-border/50",children:[u.jsx("span",{className:"font-bold text-foreground",children:"Grand Total:"}),u.jsxs("span",{className:"font-black text-foreground text-lg",children:["",F.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-success",children:"Amount Received:"}),u.jsxs("span",{className:"font-bold text-success",children:["",F.receivedAmount.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-border/50",children:[u.jsx("span",{className:"text-slate-900 font-bold",children:"Balance Due:"}),u.jsxs("span",{className:"font-black text-slate-900 text-lg",children:["",F.pendingAmount.toLocaleString()]})]})]})]},F.id))]}),u.jsx("div",{className:"bg-gradient-to-r from-primary/5 to-transparent p-6 rounded-2xl border border-primary/10",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-1",children:"Grand Total"}),u.jsxs("div",{className:"text-3xl font-black text-foreground",children:["",p.toLocaleString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-1",children:"Balance Due"}),u.jsxs("div",{className:"text-3xl font-black text-slate-900",children:["",b.toLocaleString()]})]})]})})]})]}),d&&u.jsx(ble,{isOpen:l,onClose:()=>c(!1),sale:d,onUpdate:A})]})},_le=()=>{const{sales:t,addSale:e,updateSale:n,deleteSale:r,loading:s}=og(),[i,o]=L.useState(""),[a,l]=L.useState(!1),[c,d]=L.useState(null),[h,p]=L.useState(!1),[f,b]=L.useState(null),x=L.useMemo(()=>{const v=new Map;return t.forEach(_=>{var $,I,E;const A=(($=_.buyer)==null?void 0:$.mobile)||_.customerPhone||"unknown",R=((I=_.buyer)==null?void 0:I.name)||_.customerName||"Walking Customer";v.has(A)||v.set(A,{name:R,mobile:A,address:((E=_.buyer)==null?void 0:E.address)||"N/A",totalSales:0,pendingAmount:0,lastVisit:_.date,visitCount:0,sales:[]});const F=v.get(A);F.totalSales+=_.totalAmount,F.pendingAmount+=_.pendingAmount||0,F.visitCount+=1,F.sales.push(_),new Date(_.date)>new Date(F.lastVisit)&&(F.lastVisit=_.date)}),Array.from(v.values())},[t]),w=L.useMemo(()=>x.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())||v.mobile.includes(i)).sort((v,_)=>_.totalSales-v.totalSales),[x,i]);return s?null:u.jsxs(Ef,{children:[u.jsx(_f,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"section-title",children:"Sales (Scale)"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your buyer invoices and scale entries"})]}),u.jsxs("button",{onClick:()=>{d(null),l(!0)},className:"btn-primary flex items-center gap-2 self-start",children:[u.jsx(Rr,{className:"w-5 h-5"}),"New Scale Entry"]})]}),u.jsxs("div",{className:"relative mb-8",children:[u.jsx(p_,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"Search Businessman by Name or Phone...",value:i,onChange:v=>o(v.target.value),className:"input-premium pl-12 h-14 text-lg shadow-sm"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.jsx(Ei,{children:w.map((v,_)=>u.jsxs(Vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},className:"glass-card overflow-hidden group hover:border-primary/30 transition-all active:scale-[0.98] cursor-pointer",onClick:()=>{b({name:v.name,mobile:v.mobile,address:v.address,sales:v.sales}),p(!0)},children:[u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary",children:u.jsx(F1,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-foreground group-hover:text-primary transition-colors",children:v.name}),u.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[u.jsx(Fc,{className:"w-3 h-3"})," ",v.mobile]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground mb-1",children:"Status"}),u.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase ${v.pendingAmount>0?"bg-destructive/10 text-destructive":"bg-success/10 text-success"}`,children:v.pendingAmount>0?"Pending":"Clear"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-muted/30 p-3 rounded-xl",children:[u.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-widest block mb-1",children:"Total Sales"}),u.jsxs("span",{className:"text-base font-black text-foreground",children:["",v.totalSales.toLocaleString()]})]}),u.jsxs("div",{className:"bg-destructive/5 p-3 rounded-xl",children:[u.jsx("span",{className:"text-[10px] text-destructive uppercase font-bold tracking-widest block mb-1",children:"Total Pending"}),u.jsxs("span",{className:"text-base font-black text-destructive",children:["",v.pendingAmount.toLocaleString()]})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Gy,{className:"w-3 h-3"})," ",v.visitCount," visits"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Oc,{className:"w-3 h-3"})," ",v.address]})]})]}),u.jsxs("div",{className:"px-6 py-3 bg-muted/20 border-t border-border/50 flex items-center justify-between group-hover:bg-primary/5 transition-colors",children:[u.jsxs("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["Last Visit: ",new Date(v.lastVisit).toLocaleDateString()]}),u.jsx(nc,{className:"w-4 h-4 text-primary opacity-0 group-hover:opacity-100 transition-all"})]})]},v.mobile))})}),w.length===0&&!s&&u.jsxs("div",{className:"text-center py-20 bg-muted/5 rounded-3xl border border-dashed border-border mt-8",children:[u.jsx(F1,{className:"w-16 h-16 text-muted-foreground/20 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-muted-foreground",children:"No Businessmen Found"}),u.jsx("p",{className:"text-muted-foreground",children:"Try searching with a different name or mobile number"})]})]}),u.jsx(kD,{isOpen:a,onClose:()=>l(!1),onAdd:e,onUpdate:n,saleToEdit:c,sales:t}),f&&u.jsx(wle,{isOpen:h,onClose:()=>{p(!1),b(null)},sales:f.sales,buyerName:f.name,buyerMobile:f.mobile,buyerAddress:f.address,onUpdate:v=>{const{id:_,...A}=v;n(_,A)},onDelete:v=>{r(v),p(!1),b(null)}})]})},Sle=({isOpen:t,onClose:e,purchase:n,onUpdate:r})=>{const[s,i]=L.useState(n.transactions||(n.items?[{id:n.id+"_trans_1",date:n.date,items:n.items,totalAmount:n.totalAmount}]:[])),[o,a]=L.useState(n.advancePayments||(n.advanceAmount>0?[{id:n.id+"_adv_1",date:n.date,amount:n.advanceAmount,paymentMethod:n.paymentMethod,note:"Initial advance"}]:[])),[l,c]=L.useState(new Date().toISOString().split("T")[0]),[d,h]=L.useState([{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}]),[p,f]=L.useState(new Date().toISOString().split("T")[0]),[b,x]=L.useState(0),[w,v]=L.useState("cash"),[_,A]=L.useState(""),R=()=>{h([...d,{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}])},F=K=>{h(d.filter(ae=>ae.id!==K))},$=(K,ae,ie)=>{h(d.map(Y=>{if(Y.id===K){const ee={...Y,[ae]:ie};return(ae==="unitCount"||ae==="weightPerUnit")&&(ee.totalWeight=ee.unitCount*ee.weightPerUnit,ee.totalAmount=ee.totalWeight*ee.pricePerKg),ae==="pricePerKg"&&(ee.totalAmount=ee.totalWeight*ee.pricePerKg),ee}return Y}))},I=()=>{const K=d.reduce((ie,Y)=>ie+Y.totalAmount,0);if(K===0){alert("Please add items with valid amounts");return}const ae={id:Date.now().toString(),date:l,items:d,totalAmount:K};i([...s,ae]),h([{id:Date.now().toString(),quality:"",unitCount:0,weightPerUnit:0,totalWeight:0,pricePerKg:0,totalAmount:0}]),c(new Date().toISOString().split("T")[0])},E=()=>{if(b<=0){alert("Please enter a valid advance amount");return}const K={id:Date.now().toString(),date:p,amount:b,paymentMethod:w,note:_};a([...o,K]),x(0),A(""),f(new Date().toISOString().split("T")[0])},C=K=>{i(s.filter(ae=>ae.id!==K))},M=K=>{a(o.filter(ae=>ae.id!==K))},N=()=>{const K=s.reduce((ee,se)=>ee+se.totalAmount,0),ae=o.reduce((ee,se)=>ee+se.amount,0),ie=K-ae,Y={...n,transactions:s,advancePayments:o,totalAmount:K,advanceAmount:ae,pendingAmount:ie,items:s.length>0?s[0].items:[]};r(Y),e()},T=s.reduce((K,ae)=>K+ae.totalAmount,0),k=o.reduce((K,ae)=>K+ae.amount,0),z=T-k;return u.jsx(Pv,{open:t,onOpenChange:e,children:u.jsxs(dg,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[u.jsx(hg,{children:u.jsxs(fg,{className:"flex items-center justify-between",children:[u.jsxs("span",{children:["Edit Purchase - ",n.farmer.name]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:N,className:"btn-primary flex items-center gap-2",children:[u.jsx(ya,{className:"w-4 h-4"}),"Save Changes"]}),u.jsx("button",{onClick:e,className:"btn-secondary",children:u.jsx(Ci,{className:"w-4 h-4"})})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"glass-card p-4",children:[u.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[u.jsx(Rr,{className:"w-5 h-5 text-warning"}),"Add New Purchase Transaction"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Transaction Date"}),u.jsx("input",{type:"date",value:l,onChange:K=>c(K.target.value),className:"input-premium"})]}),d.map((K,ae)=>u.jsxs("div",{className:"bg-muted/20 p-3 rounded-xl space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("span",{className:"text-xs font-bold",children:["Item ",ae+1]}),d.length>1&&u.jsx("button",{onClick:()=>F(K.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ks,{className:"w-4 h-4"})})]}),u.jsx("input",{type:"text",placeholder:"Quality (e.g., A Grade)",value:K.quality,onChange:ie=>$(K.id,"quality",ie.target.value),className:"input-premium text-sm"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"number",placeholder:"Units",value:K.unitCount||"",onChange:ie=>$(K.id,"unitCount",parseFloat(ie.target.value)||0),className:"input-premium text-sm"}),u.jsx("input",{type:"number",placeholder:"Kg/Unit",value:K.weightPerUnit||"",onChange:ie=>$(K.id,"weightPerUnit",parseFloat(ie.target.value)||0),className:"input-premium text-sm"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("input",{type:"number",placeholder:"Rate/Kg",value:K.pricePerKg||"",onChange:ie=>$(K.id,"pricePerKg",parseFloat(ie.target.value)||0),className:"input-premium text-sm"}),u.jsx("div",{className:"bg-warning/10 p-2 rounded-lg flex items-center justify-center",children:u.jsxs("span",{className:"text-sm font-bold",children:["",K.totalAmount.toLocaleString()]})})]})]},K.id)),u.jsxs("button",{onClick:R,className:"btn-secondary w-full text-sm flex items-center justify-center gap-2",children:[u.jsx(Rr,{className:"w-4 h-4"}),"Add Item"]}),u.jsxs("button",{onClick:I,className:"btn-primary w-full flex items-center justify-center gap-2",children:[u.jsx(ya,{className:"w-4 h-4"}),"Save Transaction"]})]})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[u.jsx(Qu,{className:"w-5 h-5 text-success"}),"Add Advance Payment"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Date"}),u.jsx("input",{type:"date",value:p,onChange:K=>f(K.target.value),className:"input-premium"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Amount"}),u.jsx("input",{type:"number",placeholder:"Enter amount",value:b||"",onChange:K=>x(parseFloat(K.target.value)||0),className:"input-premium"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Payment Method"}),u.jsxs("select",{value:w,onChange:K=>v(K.target.value),className:"input-premium",children:[u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"online",children:"Online"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-muted-foreground uppercase mb-1 block",children:"Note (Optional)"}),u.jsx("input",{type:"text",placeholder:"Payment note",value:_,onChange:K=>A(K.target.value),className:"input-premium"})]}),u.jsxs("button",{onClick:E,className:"btn-primary w-full flex items-center justify-center gap-2",children:[u.jsx(ya,{className:"w-4 h-4"}),"Add Payment"]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Summary"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total Amount:"}),u.jsxs("span",{className:"font-bold text-lg",children:["",T.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-success",children:"Total Advance:"}),u.jsxs("span",{className:"font-bold text-success text-lg",children:["",k.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between pt-2 border-t border-border",children:[u.jsx("span",{className:"font-bold",children:"Pending Amount:"}),u.jsxs("span",{className:"font-black text-xl text-destructive",children:["",z.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Purchase History"}),u.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:u.jsx(Ei,{children:s.map(K=>u.jsxs(Vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-muted/20 p-3 rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ai,{className:"w-4 h-4 text-warning"}),u.jsx("span",{className:"font-bold text-sm",children:new Date(K.date).toLocaleDateString("en-IN")})]}),u.jsx("button",{onClick:()=>C(K.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ks,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-1 text-xs",children:K.items.map(ae=>u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{children:[ae.quality,": ",ae.totalWeight,"kg @ ",ae.pricePerKg,"/kg"]}),u.jsxs("span",{className:"font-bold",children:["",ae.totalAmount.toLocaleString()]})]},ae.id))}),u.jsxs("div",{className:"mt-2 pt-2 border-t border-border/50 flex justify-between",children:[u.jsx("span",{className:"text-xs font-bold",children:"Total:"}),u.jsxs("span",{className:"font-bold",children:["",K.totalAmount.toLocaleString()]})]})]},K.id))})})]}),u.jsxs("div",{className:"glass-card p-4",children:[u.jsx("h3",{className:"font-bold text-lg mb-4",children:"Advance Payment History"}),u.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:u.jsx(Ei,{children:o.map(K=>u.jsxs(Vn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-success/10 p-3 rounded-xl border border-success/20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ai,{className:"w-4 h-4 text-success"}),u.jsx("span",{className:"font-bold text-sm",children:new Date(K.date).toLocaleDateString("en-IN")})]}),u.jsx("button",{onClick:()=>M(K.id),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(ks,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("div",{children:[u.jsxs("span",{className:"font-bold text-success text-lg",children:["",K.amount.toLocaleString()]}),u.jsxs("span",{className:"text-xs ml-2 text-muted-foreground capitalize",children:["(",K.paymentMethod,")"]})]})}),K.note&&u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:K.note})]},K.id))})})]})]})]})]})})},Nle=({isOpen:t,onClose:e,purchases:n,farmerName:r,farmerMobile:s,farmerAddress:i,onUpdate:o,onDelete:a})=>{const[l,c]=L.useState(!1),[d,h]=L.useState(null),p=[],f=[];n.forEach(I=>{I.transactions?I.transactions.forEach(E=>{p.push({...E,purchaseId:I.id})}):I.items&&p.push({id:I.id+"_trans",date:I.date,items:I.items,totalAmount:I.totalAmount,purchaseId:I.id}),I.advancePayments?I.advancePayments.forEach(E=>{f.push({...E,purchaseId:I.id})}):I.advanceAmount>0&&f.push({id:I.id+"_adv",date:I.date,amount:I.advanceAmount,paymentMethod:I.paymentMethod,purchaseId:I.id})}),p.sort((I,E)=>new Date(I.date).getTime()-new Date(E.date).getTime()),f.sort((I,E)=>new Date(I.date).getTime()-new Date(E.date).getTime());const b=p.reduce((I,E)=>I+E.totalAmount,0),x=f.reduce((I,E)=>I+E.amount,0),w=b-x,v=p.reduce((I,E)=>I+E.items.reduce((C,M)=>C+M.totalWeight,0),0),_=()=>{window.print()},A=()=>{vle(r,s,i,n)},R=()=>{n.length>0&&(h(n[0]),c(!0))},F=I=>{o&&o(I),c(!1)},$=()=>{n.length>0&&a&&window.confirm(`Are you sure you want to delete this purchase receipt for ${r}? This action cannot be undone.`)&&(a(n[0].id),e())};return u.jsxs(Pv,{open:t,onOpenChange:e,children:[u.jsxs(dg,{className:"max-w-4xl max-h-[90vh] overflow-y-auto print:max-w-full",children:[u.jsx(hg,{children:u.jsxs(fg,{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(vj,{className:"w-6 h-6 text-warning"}),"Purchase Receipt"]}),u.jsxs("div",{className:"flex items-center gap-2 print:hidden",children:[u.jsxs("button",{onClick:R,className:"px-3 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(m_,{className:"w-4 h-4"}),"Edit"]}),u.jsxs("button",{onClick:$,className:"px-3 py-2 rounded-lg bg-red-50 hover:bg-red-100 text-red-600 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(ks,{className:"w-4 h-4"}),"Delete"]}),u.jsxs("button",{onClick:A,className:"px-3 py-2 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(uf,{className:"w-4 h-4"}),"Download PDF"]}),u.jsxs("button",{onClick:_,className:"px-3 py-2 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium text-sm flex items-center gap-2 transition-colors h-9",children:[u.jsx(xj,{className:"w-4 h-4"}),"Print"]})]})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between pb-6 border-b-2 border-slate-100",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl overflow-hidden border-2 border-emerald-100 shadow-sm shrink-0",children:u.jsx("img",{src:"/sp-logo.jpg",alt:"SP Logo",className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-black text-slate-800 leading-tight",children:"SHREE GANESH FRUIT SUPPLIERS, TASGAON"}),u.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Tal. Tasgaon, Dist. Sangli, Maharashtra"}),u.jsx("p",{className:"text-[10px] font-bold text-emerald-600 uppercase tracking-tighter mt-0.5",children:"Mo. 9730793507, 8788845042"})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:"Document Type"}),u.jsx("div",{className:"text-lg font-black text-slate-800",children:"PURCHASE RECEIPT"})]})]}),u.jsx("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:r}),u.jsxs("div",{className:"space-y-1 text-xs text-slate-500 font-bold",children:[u.jsxs("p",{className:"flex items-center gap-2",children:[u.jsx(Fc,{className:"w-3.5 h-3.5"}),s]}),u.jsxs("p",{className:"flex items-center gap-2",children:[u.jsx(Oc,{className:"w-3.5 h-3.5"}),i]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase mb-1",children:"Total Transactions"}),u.jsx("div",{className:"text-3xl font-black text-warning",children:p.length})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-2",children:"Total Weight"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:[v.toFixed(2)," kg"]})]}),u.jsxs("div",{className:"bg-warning/10 p-4 rounded-xl border border-warning/20",children:[u.jsx("div",{className:"text-xs text-warning uppercase font-bold mb-2",children:"Total Amount"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:["",b.toLocaleString()]})]}),u.jsxs("div",{className:"bg-success/10 p-4 rounded-xl border border-success/20",children:[u.jsx("div",{className:"text-xs text-success uppercase font-bold mb-2",children:"Advance Paid"}),u.jsxs("div",{className:"text-xl font-black text-foreground",children:["",x.toLocaleString()]})]}),u.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shadow-sm transition-all hover:bg-white hover:border-slate-300",children:[u.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-black tracking-widest mb-2",children:"Balance Due"}),u.jsxs("div",{className:"text-xl font-black text-slate-900",children:["",w.toLocaleString()]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[u.jsx(O1,{className:"w-5 h-5 text-warning"}),"Purchase History (Date-wise)"]}),p.map((I,E)=>u.jsxs(Vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:E*.05},className:"glass-card p-5 space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between pb-3 border-b border-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-warning/10 flex items-center justify-center",children:u.jsx(Ai,{className:"w-5 h-5 text-warning"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-foreground",children:new Date(I.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:[I.items.length," item",I.items.length>1?"s":""]})]})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border/50",children:[u.jsx("th",{className:"text-left py-2 text-xs font-bold text-muted-foreground uppercase",children:"Quality"}),u.jsx("th",{className:"text-center py-2 text-xs font-bold text-muted-foreground uppercase",children:"Total Kg"}),u.jsx("th",{className:"text-center py-2 text-xs font-bold text-muted-foreground uppercase",children:"Rate"}),u.jsx("th",{className:"text-right py-2 text-xs font-bold text-muted-foreground uppercase",children:"Amount"})]})}),u.jsx("tbody",{children:I.items.map(C=>u.jsxs("tr",{className:"border-b border-border/30",children:[u.jsx("td",{className:"py-3 font-medium text-foreground",children:C.quality}),u.jsxs("td",{className:"py-3 text-center font-bold",children:[C.totalWeight," kg"]}),u.jsxs("td",{className:"py-3 text-center",children:["",C.pricePerKg,"/kg"]}),u.jsxs("td",{className:"py-3 text-right font-bold",children:["",C.totalAmount.toLocaleString()]})]},C.id))})]})}),u.jsx("div",{className:"bg-muted/20 p-4 rounded-xl",children:u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground font-bold",children:"Transaction Total:"}),u.jsxs("span",{className:"font-black text-foreground text-lg",children:["",I.totalAmount.toLocaleString()]})]})})]},I.id))]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[u.jsx(pp,{className:"w-5 h-5 text-success"}),"Advance Payment History (Date-wise)"]}),f.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map((I,E)=>u.jsxs(Vn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:E*.05},className:"glass-card p-4 bg-success/5 border-success/20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ai,{className:"w-4 h-4 text-success"}),u.jsx("span",{className:"font-bold text-sm",children:new Date(I.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})]}),u.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-success/10 text-success font-bold capitalize",children:I.paymentMethod})]}),u.jsxs("div",{className:"text-2xl font-black text-success",children:["",I.amount.toLocaleString()]}),I.note&&u.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:I.note})]},I.id))}):u.jsx("div",{className:"glass-card p-6 text-center text-muted-foreground",children:"No advance payments recorded"})]}),u.jsx("div",{className:"bg-gradient-to-r from-warning/5 to-transparent p-6 rounded-2xl border border-warning/10",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-1",children:"Grand Total"}),u.jsxs("div",{className:"text-3xl font-black text-foreground",children:["",b.toLocaleString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-xs text-muted-foreground uppercase font-bold mb-1",children:"Balance Due"}),u.jsxs("div",{className:"text-3xl font-black text-slate-900",children:["",w.toLocaleString()]})]})]})})]})]}),d&&u.jsx(Sle,{isOpen:l,onClose:()=>c(!1),purchase:d,onUpdate:F})]})},Ale=()=>{const{purchases:t,addPurchase:e,updatePurchase:n,deletePurchase:r,loading:s}=og(),[i,o]=L.useState(""),[a,l]=L.useState(!1),[c,d]=L.useState(null),[h,p]=L.useState(!1),[f,b]=L.useState(null),x=L.useMemo(()=>{const v=new Map;return t.forEach(_=>{var $,I,E;const A=(($=_.farmer)==null?void 0:$.mobile)||"unknown",R=((I=_.farmer)==null?void 0:I.name)||"Unknown Farmer";v.has(A)||v.set(A,{name:R,mobile:A,address:((E=_.farmer)==null?void 0:E.address)||"N/A",totalPurchases:0,pendingAmount:0,lastVisit:_.date,visitCount:0,purchases:[]});const F=v.get(A);F.totalPurchases+=_.totalAmount,F.pendingAmount+=_.pendingAmount||0,F.visitCount+=1,F.purchases.push(_),new Date(_.date)>new Date(F.lastVisit)&&(F.lastVisit=_.date)}),Array.from(v.values())},[t]),w=L.useMemo(()=>x.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())||v.mobile.includes(i)).sort((v,_)=>_.totalPurchases-v.totalPurchases),[x,i]);return s?null:u.jsxs(Ef,{children:[u.jsx(_f,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"section-title",children:"Purchases (Farmers)"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your grape purchases and farmer records"})]}),u.jsxs("button",{onClick:()=>{d(null),l(!0)},className:"btn-primary flex items-center gap-2 self-start gradient-warm-bg",children:[u.jsx(Rr,{className:"w-5 h-5"}),"New Purchase"]})]}),u.jsxs("div",{className:"relative mb-8",children:[u.jsx(p_,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"Search Farmer by Name or Phone...",value:i,onChange:v=>o(v.target.value),className:"input-premium pl-12 h-14 text-lg shadow-sm"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.jsx(Ei,{children:w.map((v,_)=>u.jsxs(Vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},className:"glass-card overflow-hidden group hover:border-warning/30 transition-all active:scale-[0.98] cursor-pointer",onClick:()=>{b({name:v.name,mobile:v.mobile,address:v.address,purchases:v.purchases}),p(!0)},children:[u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-warning/10 flex items-center justify-center text-warning",children:u.jsx(vj,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-foreground group-hover:text-warning transition-colors",children:v.name}),u.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[u.jsx(Fc,{className:"w-3 h-3"})," ",v.mobile]})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:[u.jsxs("div",{className:"bg-warning/5 p-3 rounded-xl border border-warning/10",children:[u.jsx("span",{className:"text-[10px] text-warning uppercase font-bold tracking-widest block mb-1",children:"Stock Bought"}),u.jsxs("span",{className:"text-base font-black text-foreground",children:["",v.totalPurchases.toLocaleString()]})]}),u.jsxs("div",{className:"bg-muted/30 p-3 rounded-xl border border-border/50",children:[u.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-widest block mb-1",children:"Total Lots"}),u.jsxs("span",{className:"text-base font-black text-foreground",children:[v.visitCount," Entries"]})]}),u.jsxs("div",{className:"col-span-2 md:col-span-1 bg-destructive/5 p-3 rounded-xl border border-destructive/10",children:[u.jsx("span",{className:"text-[10px] text-destructive uppercase font-bold tracking-widest block mb-1",children:"Balance Due"}),u.jsxs("span",{className:"text-base font-black text-destructive",children:["",v.pendingAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:u.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[u.jsx(Oc,{className:"w-3 h-3"})," ",v.address]})})]}),u.jsxs("div",{className:"px-6 py-3 bg-muted/20 border-t border-border/50 flex items-center justify-between group-hover:bg-warning/5 transition-colors",children:[u.jsxs("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["Last Purchase: ",new Date(v.lastVisit).toLocaleDateString()]}),u.jsx(aa,{className:"w-4 h-4 text-warning opacity-0 group-hover:opacity-100 transition-all"})]})]},v.mobile))})}),w.length===0&&!s&&u.jsxs("div",{className:"text-center py-20 bg-muted/5 rounded-3xl border border-dashed border-border mt-8",children:[u.jsx(F1,{className:"w-16 h-16 text-muted-foreground/20 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-muted-foreground",children:"No Farmers Found"}),u.jsx("p",{className:"text-muted-foreground",children:"Try searching with a different name or mobile number"})]})]}),u.jsx(GL,{isOpen:a,onClose:()=>l(!1),onAdd:e,onUpdate:n,purchaseToEdit:c}),f&&u.jsx(Nle,{isOpen:h,onClose:()=>{p(!1),b(null)},purchases:f.purchases,farmerName:f.name,farmerMobile:f.mobile,farmerAddress:f.address,onUpdate:v=>{const{id:_,...A}=v;n(_,A)},onDelete:v=>{r(v),p(!1),b(null)}})]})},K2=()=>({id:Math.random().toString(36).substr(2,9),comment:"",amount:"",method:"cash"}),Vd=new Date().toISOString().split("T")[0],Ele=t=>t.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).toUpperCase(),Tle=()=>{const{expenses:t,addExpense:e,loading:n}=og(),{purchases:r,sales:s,loading:i}=bS(),[o,a]=L.useState(!1),[l,c]=L.useState([K2()]),[d,h]=L.useState(!1),p=n||i,f=L.useMemo(()=>t.filter(E=>E.date===Vd),[t]),b=L.useMemo(()=>{let E=0,C=0,M=0;return s.forEach(N=>{var T;(T=N.entries)==null||T.forEach(k=>{k.date===Vd&&(E+=k.totalAmount,N.paymentMethod==="cash"?C+=k.totalAmount:M+=k.totalAmount)})}),{total:E,cash:C,online:M}},[s]),x=L.useMemo(()=>{let E=0,C=0,M=0;return r.forEach(N=>{var T;(T=N.entries)==null||T.forEach(k=>{k.date===Vd&&(E+=k.totalAmount,N.paymentMethod==="cash"?C+=k.totalAmount:M+=k.totalAmount)})}),{total:E,cash:C,online:M}},[r]),w=L.useMemo(()=>f.reduce((E,C)=>E+C.amount,0),[f]),v=L.useMemo(()=>l.reduce((E,C)=>E+(parseFloat(C.amount)||0),0),[l]),_=w+v,A=b.total-x.total-_,R=()=>{l.length<10&&c(E=>[...E,K2()])},F=(E,C,M)=>{c(N=>N.map(T=>T.id===E?{...T,[C]:M}:T))},$=E=>{l.length>1&&c(C=>C.filter(M=>M.id!==E))},I=async()=>{const E=l.filter(C=>C.comment.trim()&&parseFloat(C.amount)>0);if(E.length===0)return alert("Bhai, koi bhi comment ya amount fill nahi kiya!");h(!0);try{for(const C of E)await e({date:Vd,type:"other",description:C.comment.trim(),amount:parseFloat(C.amount),paymentMethod:C.method});c([K2()])}finally{h(!1)}};return p?null:u.jsxs(Ef,{children:[u.jsx(_f,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"section-title text-destructive flex items-center gap-3",children:[u.jsx(Xi,{className:"w-8 h-8"}),"Expenses & Daily P&L"]}),u.jsxs("p",{className:"text-muted-foreground",children:[Ele(new Date),"  Aaj ka hisaab"]})]}),u.jsxs("button",{onClick:()=>a(!0),className:"btn-primary flex items-center gap-2 self-start bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[u.jsx(Rr,{className:"w-5 h-5"}),"Log New Expense"]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs(Vn.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:0},className:"rounded-2xl p-5 bg-gradient-to-br from-emerald-50 to-green-100 border-2 border-emerald-200 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ip,{className:"w-5 h-5 text-emerald-600"}),u.jsx("span",{className:"text-xs font-bold text-emerald-600 uppercase tracking-widest",children:"Aaj Sales"})]}),u.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:["",b.total.toLocaleString("en-IN")]}),u.jsxs("div",{className:"mt-2 flex gap-2 text-[10px] font-bold",children:[u.jsxs("span",{className:"bg-emerald-200/60 text-emerald-700 px-2 py-0.5 rounded-full flex items-center gap-1",children:[u.jsx(r0,{className:"w-3 h-3"})," ",b.cash.toLocaleString("en-IN")," Cash"]}),u.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full flex items-center gap-1",children:[u.jsx(pp,{className:"w-3 h-3"})," ",b.online.toLocaleString("en-IN")," Online"]})]})]}),u.jsxs(Vn.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.08},className:"rounded-2xl p-5 bg-gradient-to-br from-orange-50 to-amber-100 border-2 border-orange-200 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ky,{className:"w-5 h-5 text-orange-600"}),u.jsx("span",{className:"text-xs font-bold text-orange-600 uppercase tracking-widest",children:"Aaj Purchase"})]}),u.jsxs("p",{className:"text-2xl font-black text-orange-700",children:["",x.total.toLocaleString("en-IN")]}),u.jsxs("div",{className:"mt-2 flex gap-2 text-[10px] font-bold",children:[u.jsxs("span",{className:"bg-orange-200/60 text-orange-700 px-2 py-0.5 rounded-full flex items-center gap-1",children:[u.jsx(r0,{className:"w-3 h-3"})," ",x.cash.toLocaleString("en-IN")," Cash"]}),u.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full flex items-center gap-1",children:[u.jsx(pp,{className:"w-3 h-3"})," ",x.online.toLocaleString("en-IN")," Online"]})]})]}),u.jsxs(Vn.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.16},className:"rounded-2xl p-5 bg-gradient-to-br from-rose-50 to-red-100 border-2 border-rose-200 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(lB,{className:"w-5 h-5 text-rose-600"}),u.jsx("span",{className:"text-xs font-bold text-rose-600 uppercase tracking-widest",children:"Aaj Expenses"})]}),u.jsxs("p",{className:"text-2xl font-black text-rose-700",children:["",_.toLocaleString("en-IN")]}),u.jsxs("p",{className:"text-[10px] text-rose-500 mt-1 font-semibold",children:["Saved: ",w.toLocaleString()," + Draft: ",v.toLocaleString()]})]}),u.jsxs(Vn.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.24},className:`rounded-2xl p-5 border-2 shadow-sm ${A>=0?"bg-gradient-to-br from-teal-50 to-cyan-100 border-teal-300":"bg-gradient-to-br from-red-50 to-rose-100 border-red-300"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(V1,{className:`w-5 h-5 ${A>=0?"text-teal-600":"text-red-600"}`}),u.jsx("span",{className:`text-xs font-bold uppercase tracking-widest ${A>=0?"text-teal-600":"text-red-600"}`,children:"Net Balance"})]}),u.jsxs("p",{className:`text-2xl font-black ${A>=0?"text-teal-700":"text-red-700"}`,children:[A>=0?"+":"","",A.toLocaleString("en-IN")]}),u.jsx("p",{className:"text-[10px] text-slate-500 mt-1 font-semibold",children:"Sales  Purchase  Expenses"})]})]}),u.jsxs("div",{className:"glass-card p-5 rounded-2xl",children:[u.jsxs("h3",{className:"font-bold text-slate-700 mb-3 flex items-center gap-2 text-sm uppercase tracking-widest",children:[u.jsx(Qu,{className:"w-4 h-4 text-emerald-600"}),"Aaj ka Hisaab (Real Calculation)"]}),u.jsxs("div",{className:"space-y-2 text-sm font-semibold",children:[u.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[u.jsx("span",{className:"text-slate-600",children:" Aaj Sales Aye"}),u.jsxs("span",{className:"text-emerald-600 font-black text-base",children:["+ ",b.total.toLocaleString("en-IN")]})]}),u.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[u.jsx("span",{className:"text-slate-600",children:" Aaj Purchase Gaye"}),u.jsxs("span",{className:"text-orange-600 font-black text-base",children:[" ",x.total.toLocaleString("en-IN")]})]}),u.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[u.jsx("span",{className:"text-slate-600",children:" Total Expenses"}),u.jsxs("span",{className:"text-rose-600 font-black text-base",children:[" ",_.toLocaleString("en-IN")]})]}),u.jsxs("div",{className:`flex justify-between items-center py-3 px-4 rounded-xl mt-2 ${A>=0?"bg-teal-50 border border-teal-200":"bg-red-50 border border-red-200"}`,children:[u.jsx("span",{className:`font-black text-base ${A>=0?"text-teal-700":"text-red-700"}`,children:" Haath Mein Bacha"}),u.jsxs("span",{className:`font-black text-xl ${A>=0?"text-teal-700":"text-red-700"}`,children:[A>=0?"+":"","",A.toLocaleString("en-IN")]})]})]})]}),u.jsxs("div",{className:"glass-card p-6 rounded-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-5",children:[u.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(Xi,{className:"w-5 h-5 text-rose-500"}),"Aaj ke Kharche Likho",u.jsxs("span",{className:"text-xs text-slate-400 font-normal",children:["(",l.length,"/10)"]})]}),l.length<10&&u.jsxs("button",{onClick:R,className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors font-bold",children:[u.jsx(Rr,{size:14})," Row Add Karo"]})]}),u.jsxs("div",{className:"hidden md:grid grid-cols-12 gap-3 mb-2 px-1",children:[u.jsx("span",{className:"col-span-1 text-xs font-bold text-slate-400 uppercase",children:"#"}),u.jsx("span",{className:"col-span-5 text-xs font-bold text-slate-400 uppercase",children:"Comment / Description"}),u.jsx("span",{className:"col-span-3 text-xs font-bold text-slate-400 uppercase",children:"Amount ()"}),u.jsx("span",{className:"col-span-2 text-xs font-bold text-slate-400 uppercase",children:"Cash/Online"}),u.jsx("span",{className:"col-span-1"})]}),u.jsx("div",{className:"space-y-3",children:u.jsx(Ei,{children:l.map((E,C)=>u.jsxs(Vn.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},className:"grid grid-cols-12 gap-3 items-center bg-slate-50 p-3 rounded-xl border border-slate-200",children:[u.jsx("div",{className:"col-span-1 flex items-center",children:u.jsx("span",{className:"w-7 h-7 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center text-xs font-black",children:C+1})}),u.jsx("div",{className:"col-span-12 md:col-span-5",children:u.jsx("input",{type:"text",placeholder:"e.g. Petrol, Labour, Rassi...",value:E.comment,onChange:M=>F(E.id,"comment",M.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-rose-400 focus:border-rose-400 outline-none"})}),u.jsx("div",{className:"col-span-6 md:col-span-3",children:u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 font-bold text-sm",children:""}),u.jsx("input",{type:"number",placeholder:"0",value:E.amount,onChange:M=>F(E.id,"amount",M.target.value),className:"w-full pl-7 pr-3 py-2 border border-slate-300 rounded-lg text-sm font-bold focus:ring-2 focus:ring-rose-400 focus:border-rose-400 outline-none",min:"0"})]})}),u.jsx("div",{className:"col-span-5 md:col-span-2",children:u.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-slate-300",children:[u.jsxs("button",{type:"button",onClick:()=>F(E.id,"method","cash"),className:`flex-1 py-2 text-xs font-bold transition-colors flex items-center justify-center gap-1 ${E.method==="cash"?"bg-emerald-500 text-white":"bg-white text-slate-500 hover:bg-slate-50"}`,children:[u.jsx(r0,{size:12})," Cash"]}),u.jsxs("button",{type:"button",onClick:()=>F(E.id,"method","online"),className:`flex-1 py-2 text-xs font-bold transition-colors flex items-center justify-center gap-1 ${E.method==="online"?"bg-blue-500 text-white":"bg-white text-slate-500 hover:bg-slate-50"}`,children:[u.jsx(pp,{size:12})," Online"]})]})}),u.jsx("div",{className:"col-span-1 flex justify-center",children:l.length>1&&u.jsx("button",{onClick:()=>$(E.id),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(Ci,{size:16})})})]},E.id))})}),v>0&&u.jsxs("div",{className:"mt-4 flex justify-between items-center px-4 py-3 bg-rose-50 border border-rose-200 rounded-xl",children:[u.jsx("span",{className:"font-bold text-rose-700",children:"Draft Expenses Total:"}),u.jsxs("span",{className:"font-black text-rose-700 text-lg",children:["",v.toLocaleString("en-IN")]})]}),u.jsxs("button",{onClick:I,disabled:d,className:"mt-5 w-full flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-rose-500 to-red-600 text-white rounded-xl font-bold hover:from-rose-600 hover:to-red-700 transition-all disabled:opacity-60",children:[d?u.jsx("span",{className:"animate-spin border-2 border-white border-t-transparent rounded-full w-4 h-4"}):u.jsx(ya,{size:18}),d?"Save Ho Raha Hai...":"Save Karo Sare Kharche"]})]}),u.jsxs("div",{className:"glass-card overflow-hidden rounded-2xl",children:[u.jsxs("div",{className:"p-4 border-b border-border/50 bg-muted/30 flex items-center justify-between",children:[u.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[u.jsx(eB,{className:"w-4 h-4 text-emerald-500"}),"Aaj ke Saved Expenses",u.jsxs("span",{className:"text-xs bg-rose-100 text-rose-600 px-2 py-0.5 rounded-full font-black",children:[f.length," entries"]})]}),u.jsxs("span",{className:"font-black text-rose-600",children:["",w.toLocaleString("en-IN")]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{className:"bg-muted/50 border-b border-border",children:u.jsxs("tr",{children:[u.jsx("th",{className:"p-4 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Date"}),u.jsx("th",{className:"p-4 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Description"}),u.jsx("th",{className:"p-4 text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Payment"}),u.jsx("th",{className:"p-4 text-xs font-bold uppercase tracking-wider text-muted-foreground text-right",children:"Amount"})]})}),u.jsxs("tbody",{className:"divide-y divide-border/50",children:[t.map(E=>u.jsxs("tr",{className:"hover:bg-muted/10 transition-colors",children:[u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ai,{className:"w-3.5 h-3.5 text-muted-foreground"}),u.jsx("span",{className:`text-sm font-medium ${E.date===Vd?"text-emerald-600 font-bold":""}`,children:new Date(E.date).toLocaleDateString("en-IN")}),E.date===Vd&&u.jsx("span",{className:"text-[9px] bg-emerald-100 text-emerald-600 px-1.5 py-0.5 rounded-full font-black",children:"TODAY"})]})}),u.jsx("td",{className:"p-4 text-sm font-medium text-foreground",children:E.description}),u.jsx("td",{className:"p-4",children:u.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase flex items-center gap-1 w-fit ${E.paymentMethod==="cash"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`,children:E.paymentMethod==="cash"?u.jsxs(u.Fragment,{children:[u.jsx(r0,{size:10})," Cash"]}):u.jsxs(u.Fragment,{children:[u.jsx(pp,{size:10})," Online"]})})}),u.jsx("td",{className:"p-4 text-right",children:u.jsxs("span",{className:"text-base font-black text-destructive",children:["",E.amount.toLocaleString()]})})]},E.id)),t.length===0&&u.jsx("tr",{children:u.jsxs("td",{colSpan:4,className:"p-12 text-center",children:[u.jsx(Xi,{className:"w-12 h-12 text-muted-foreground/20 mx-auto mb-2"}),u.jsx("p",{className:"text-muted-foreground italic",children:"No expenses logged yet."})]})})]})]})})]})]}),u.jsx(jD,{isOpen:o,onClose:()=>a(!1),onAdd:e})]})},Ple=({transactions:t,onTransactionClick:e})=>{const n=r=>{switch(r){case"purchase":return u.jsx(aa,{size:18});case"sale":return u.jsx(nc,{size:18});case"expense":return u.jsx(Xi,{size:18})}};return t.length===0?u.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-200 rounded-xl bg-slate-50",children:[u.jsx(Xi,{className:"w-10 h-10 mx-auto mb-3 text-slate-300"}),u.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"No records found"})]}):u.jsx("div",{className:"space-y-2",children:t.map(r=>u.jsx("div",{onClick:()=>e==null?void 0:e(r),className:"p-4 rounded-xl bg-white border border-slate-100 hover:border-emerald-200 hover:bg-slate-50 transition-all cursor-pointer group",children:u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[u.jsx("div",{className:`p-2.5 rounded-lg ${r.type==="purchase"?"bg-amber-50 text-amber-600":r.type==="sale"?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:n(r.type)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-bold text-slate-800 truncate text-sm",children:r.description}),u.jsx("p",{className:"text-[11px] font-semibold text-slate-400 mt-0.5 uppercase tracking-wide",children:r.details})]})]}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsxs("p",{className:`text-lg font-black tracking-tight ${r.type==="sale"?"text-emerald-600":r.type==="purchase"?"text-amber-600":"text-rose-600"}`,children:[r.type==="sale"?"+":"-","",r.amount.toLocaleString()]}),u.jsxs("div",{className:"flex items-center justify-end gap-2 mt-0.5",children:[u.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter text-slate-400",children:r.type}),u.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:""}),u.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 flex items-center gap-1",children:r.paymentMethod})]})]})]})},r.id))})},Cle=()=>{const{purchases:t,sales:e,expenses:n,getTransactions:r,loading:s}=og(),[i,o]=L.useState(new Date().toISOString().split("T")[0]),a=L.useMemo(()=>r(i),[r,i]);return s?null:u.jsxs(Ef,{children:[u.jsx(_f,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"section-title",children:"Trading History"}),u.jsx("p",{className:"text-muted-foreground",children:"Audit your complete business history by date"})]}),u.jsxs("div",{className:"flex items-center gap-3 bg-card p-2 rounded-2xl border border-border shadow-sm",children:[u.jsx(Ai,{className:"w-5 h-5 text-primary ml-2"}),u.jsx("input",{type:"date",value:i,onChange:l=>o(l.target.value),className:"bg-transparent border-none focus:ring-0 text-sm font-bold"})]})]}),u.jsxs("div",{className:"glass-card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"font-bold text-lg",children:["Transactions for ",new Date(i).toLocaleDateString()]}),u.jsxs("button",{className:"text-xs font-bold text-primary flex items-center gap-1 hover:underline",children:[u.jsx(uf,{className:"w-3 h-3"})," Export PDF"]})]}),u.jsx(Ple,{transactions:a}),a.length===0&&u.jsxs("div",{className:"text-center py-20",children:[u.jsx(Gy,{className:"w-16 h-16 text-muted-foreground/20 mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"No transactions found for this date."})]})]})]})]})},mu=()=>Math.random().toString(36).substr(2,9),kle=({isOpen:t,onClose:e,onAdd:n,onUpdate:r,purchaseToEdit:s,existingPurchase:i})=>{const[o,a]=L.useState(""),[l,c]=L.useState(""),[d,h]=L.useState(""),[p,f]=L.useState([{id:mu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}]),[b,x]=L.useState(0),[w,v]=L.useState("cash"),[_,A]=L.useState(new Date().toISOString().split("T")[0]);L.useEffect(()=>{if(t)if(i)a(i.farmer.name),c(i.farmer.mobile),h(i.farmer.address);else if(s){if(a(s.farmer.name),c(s.farmer.mobile),h(s.farmer.address),s.entries.length>0){const N=s.entries[s.entries.length-1];f(N.items),x(N.advanceGiven),A(N.date)}v(s.paymentMethod)}else R()},[t,s,i]);const R=()=>{a(""),c(""),h(""),f([{id:mu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}]),x(0),v("cash"),A(new Date().toISOString().split("T")[0])},F=(N,T,k)=>{const z=[...p],K={...z[N]};if(T==="quality")K.quality=k;else if(T==="units"||T==="pricePerUnit"||T==="discountPercent"){K[T]=Number(k)||0;const ae=K.units*K.pricePerUnit;K.subtotal=ae,K.discountAmount=ae*K.discountPercent/100,K.totalAmount=ae-K.discountAmount}z[N]=K,f(z)},$=()=>{f([...p,{id:mu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}])},I=N=>{p.length>1&&f(p.filter((T,k)=>k!==N))},E=()=>{const N=p.reduce((K,ae)=>K+ae.subtotal,0),T=p.reduce((K,ae)=>K+ae.discountAmount,0),k=p.reduce((K,ae)=>K+ae.totalAmount,0),z=k-b;return{subtotal:N,totalDiscount:T,totalAmount:k,pendingAmount:z}},C=async N=>{if(N.preventDefault(),!o||!l){alert("Please fill farmer name and mobile");return}const T=E(),k={id:mu(),date:_,items:p.map(z=>({...z,id:mu()})),subtotal:T.subtotal,totalDiscount:T.totalDiscount,totalAmount:T.totalAmount,advanceGiven:b,pendingAmount:T.pendingAmount};if(i){const z={...i,entries:[...i.entries,k],advancePayments:b>0?[...i.advancePayments,{id:mu(),date:_,amount:b,paymentMethod:w,note:`Advance for entry on ${_}`}]:i.advancePayments,totalAmount:i.totalAmount+T.totalAmount,totalAdvanceGiven:i.totalAdvanceGiven+b,pendingAmount:i.totalAmount+T.totalAmount-(i.totalAdvanceGiven+b)};r&&await r(i.id,z)}else{const z={date:_,farmer:{name:o,mobile:l,address:d},entries:[k],advancePayments:b>0?[{id:mu(),date:_,amount:b,paymentMethod:w,note:"Initial advance"}]:[],totalAmount:T.totalAmount,totalAdvanceGiven:b,pendingAmount:T.pendingAmount,paymentMethod:w};await n(z)}R(),e()},M=E();return t?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold",children:i?"Add New Entry":s?"Edit Purchase":"New Watermelon Purchase"}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(Ci,{size:24})})]}),u.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Farmer Name *"}),u.jsx("input",{type:"text",value:o,onChange:N=>a(N.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-slate-100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Mobile *"}),u.jsx("input",{type:"tel",value:l,onChange:N=>c(N.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-slate-100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Address"}),u.jsx("input",{type:"text",value:d,onChange:N=>h(N.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 disabled:bg-slate-100"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Date"}),u.jsx("input",{type:"date",value:_,onChange:N=>A(N.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Payment Method"}),u.jsxs("select",{value:w,onChange:N=>v(N.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"online",children:"Online/Bank"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Items"}),u.jsxs("button",{type:"button",onClick:$,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors",children:[u.jsx(Rr,{size:16}),"Add Item"]})]}),u.jsx("div",{className:"space-y-4",children:p.map((N,T)=>u.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Quality"}),u.jsx("input",{type:"text",value:N.quality,onChange:k=>F(T,"quality",k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Units"}),u.jsx("input",{type:"number",value:N.units||"",onChange:k=>F(T,"units",k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Price/Unit"}),u.jsx("input",{type:"number",value:N.pricePerUnit||"",onChange:k=>F(T,"pricePerUnit",k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Subtotal"}),u.jsx("input",{type:"text",value:`${N.subtotal.toLocaleString()}`,disabled:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white font-bold"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Discount %"}),u.jsx("input",{type:"number",value:N.discountPercent||"",onChange:k=>F(T,"discountPercent",k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"0",max:"100"})]}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-xs font-bold text-emerald-600 mb-1",children:"Total"}),u.jsx("input",{type:"text",value:`${N.totalAmount.toLocaleString()}`,disabled:!0,className:"w-full px-3 py-2 border-2 border-emerald-500 rounded-lg text-sm bg-emerald-50 font-black text-emerald-700"})]}),p.length>1&&u.jsx("button",{type:"button",onClick:()=>I(T),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(ks,{size:18})})]})]}),N.discountAmount>0&&u.jsxs("div",{className:"mt-2 text-xs text-orange-600 font-semibold",children:["Discount: ",N.discountAmount.toLocaleString()," (",N.discountPercent,"% off)"]})]},N.id))})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-2 border-emerald-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Summary"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-slate-600 font-semibold",children:"Subtotal:"}),u.jsxs("span",{className:"text-xl font-bold text-slate-800",children:["",M.subtotal.toLocaleString()]})]}),M.totalDiscount>0&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-orange-600 font-semibold",children:"Total Discount:"}),u.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["- ",M.totalDiscount.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-emerald-300",children:[u.jsx("span",{className:"text-emerald-700 font-bold text-lg",children:"Total Amount:"}),u.jsxs("span",{className:"text-2xl font-black text-emerald-700",children:["",M.totalAmount.toLocaleString()]})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Advance Given"}),u.jsx("input",{type:"number",value:b||"",onChange:N=>x(Number(N.target.value)||0),className:"w-full px-4 py-3 border-2 border-emerald-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-lg font-bold",placeholder:"Enter advance amount"})]}),u.jsxs("div",{className:"mt-4 flex justify-between items-center pt-4 border-t-2 border-emerald-300",children:[u.jsx("span",{className:"text-rose-600 font-bold text-lg",children:"Pending Amount:"}),u.jsxs("span",{className:"text-2xl font-black text-rose-600",children:["",M.pendingAmount.toLocaleString()]})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg font-bold hover:bg-slate-50 transition-colors",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-emerald-500 to-green-600 text-white rounded-lg font-bold hover:from-emerald-600 hover:to-green-700 transition-colors flex items-center justify-center gap-2",children:[u.jsx(ya,{size:20}),i?"Add Entry":s?"Update":"Save Purchase"]})]})]})]})}):null},gu=()=>Math.random().toString(36).substr(2,9),jle=({isOpen:t,onClose:e,onAdd:n,onUpdate:r,saleToEdit:s,existingSale:i})=>{const[o,a]=L.useState(""),[l,c]=L.useState(""),[d,h]=L.useState(""),[p,f]=L.useState([{id:gu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}]),[b,x]=L.useState(0),[w,v]=L.useState("cash"),[_,A]=L.useState(new Date().toISOString().split("T")[0]);L.useEffect(()=>{if(t)if(i)a(i.buyer.name),c(i.buyer.mobile),h(i.buyer.address);else if(s){if(a(s.buyer.name),c(s.buyer.mobile),h(s.buyer.address),s.entries.length>0){const N=s.entries[s.entries.length-1];f(N.items),x(N.receivedAmount),A(N.date)}v(s.paymentMethod)}else R()},[t,s,i]);const R=()=>{a(""),c(""),h(""),f([{id:gu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}]),x(0),v("cash"),A(new Date().toISOString().split("T")[0])},F=(N,T,k)=>{const z=[...p],K={...z[N]};if(T==="quality")K.quality=k;else if(T==="units"||T==="pricePerUnit"||T==="discountPercent"){K[T]=Number(k)||0;const ae=K.units*K.pricePerUnit;K.subtotal=ae,K.discountAmount=ae*K.discountPercent/100,K.totalAmount=ae-K.discountAmount}z[N]=K,f(z)},$=()=>{f([...p,{id:gu(),quality:"Super",units:0,pricePerUnit:0,subtotal:0,discountPercent:0,discountAmount:0,totalAmount:0}])},I=N=>{p.length>1&&f(p.filter((T,k)=>k!==N))},E=()=>{const N=p.reduce((K,ae)=>K+ae.subtotal,0),T=p.reduce((K,ae)=>K+ae.discountAmount,0),k=p.reduce((K,ae)=>K+ae.totalAmount,0),z=k-b;return{subtotal:N,totalDiscount:T,totalAmount:k,pendingAmount:z}},C=async N=>{if(N.preventDefault(),!o||!l){alert("Please fill buyer name and mobile");return}const T=E(),k={id:gu(),date:_,items:p.map(z=>({...z,id:gu()})),subtotal:T.subtotal,totalDiscount:T.totalDiscount,totalAmount:T.totalAmount,receivedAmount:b,pendingAmount:T.pendingAmount};if(i){const z={...i,entries:[...i.entries,k],receivedPayments:b>0?[...i.receivedPayments,{id:gu(),date:_,amount:b,paymentMethod:w,note:`Payment for entry on ${_}`}]:i.receivedPayments,totalAmount:i.totalAmount+T.totalAmount,totalReceived:i.totalReceived+b,pendingAmount:i.totalAmount+T.totalAmount-(i.totalReceived+b)};r&&await r(i.id,z)}else{const z={date:_,buyer:{name:o,mobile:l,address:d},entries:[k],receivedPayments:b>0?[{id:gu(),date:_,amount:b,paymentMethod:w,note:"Initial payment"}]:[],totalAmount:T.totalAmount,totalReceived:b,pendingAmount:T.pendingAmount,paymentMethod:w};await n(z)}R(),e()},M=E();return t?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 to-cyan-600 text-white p-6 flex items-center justify-between",children:[u.jsx("h2",{className:"text-2xl font-bold",children:i?"Add New Sale Entry":s?"Edit Sale":"New Watermelon Sale"}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(Ci,{size:24})})]}),u.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Buyer Name *"}),u.jsx("input",{type:"text",value:o,onChange:N=>a(N.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-slate-100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Mobile *"}),u.jsx("input",{type:"tel",value:l,onChange:N=>c(N.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-slate-100",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Address"}),u.jsx("input",{type:"text",value:d,onChange:N=>h(N.target.value),disabled:!!i,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-slate-100"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Date"}),u.jsx("input",{type:"date",value:_,onChange:N=>A(N.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Payment Method"}),u.jsxs("select",{value:w,onChange:N=>v(N.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"cash",children:"Cash"}),u.jsx("option",{value:"online",children:"Online/Bank"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Items"}),u.jsxs("button",{type:"button",onClick:$,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[u.jsx(Rr,{size:16}),"Add Item"]})]}),u.jsx("div",{className:"space-y-4",children:p.map((N,T)=>u.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Quality"}),u.jsx("input",{type:"text",value:N.quality,onChange:k=>F(T,"quality",k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Units"}),u.jsx("input",{type:"number",value:N.units||"",onChange:k=>F(T,"units",k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Price/Unit"}),u.jsx("input",{type:"number",value:N.pricePerUnit||"",onChange:k=>F(T,"pricePerUnit",k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Subtotal"}),u.jsx("input",{type:"text",value:`${N.subtotal.toLocaleString()}`,disabled:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white font-bold"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:"Discount %"}),u.jsx("input",{type:"number",value:N.discountPercent||"",onChange:k=>F(T,"discountPercent",k.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm",min:"0",max:"100"})]}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-xs font-bold text-blue-600 mb-1",children:"Total"}),u.jsx("input",{type:"text",value:`${N.totalAmount.toLocaleString()}`,disabled:!0,className:"w-full px-3 py-2 border-2 border-blue-500 rounded-lg text-sm bg-blue-50 font-black text-blue-700"})]}),p.length>1&&u.jsx("button",{type:"button",onClick:()=>I(T),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(ks,{size:18})})]})]}),N.discountAmount>0&&u.jsxs("div",{className:"mt-2 text-xs text-orange-600 font-semibold",children:["Discount: ",N.discountAmount.toLocaleString()," (",N.discountPercent,"% off)"]})]},N.id))})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-200 rounded-xl p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Summary"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-slate-600 font-semibold",children:"Subtotal:"}),u.jsxs("span",{className:"text-xl font-bold text-slate-800",children:["",M.subtotal.toLocaleString()]})]}),M.totalDiscount>0&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-orange-600 font-semibold",children:"Total Discount:"}),u.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["- ",M.totalDiscount.toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-blue-300",children:[u.jsx("span",{className:"text-blue-700 font-bold text-lg",children:"Total Amount:"}),u.jsxs("span",{className:"text-2xl font-black text-blue-700",children:["",M.totalAmount.toLocaleString()]})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Amount Received"}),u.jsx("input",{type:"number",value:b||"",onChange:N=>x(Number(N.target.value)||0),className:"w-full px-4 py-3 border-2 border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg font-bold",placeholder:"Enter received amount"})]}),u.jsxs("div",{className:"mt-4 flex justify-between items-center pt-4 border-t-2 border-blue-300",children:[u.jsx("span",{className:"text-rose-600 font-bold text-lg",children:"Pending Amount:"}),u.jsxs("span",{className:"text-2xl font-black text-rose-600",children:["",M.pendingAmount.toLocaleString()]})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg font-bold hover:bg-slate-50 transition-colors",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-lg font-bold hover:from-blue-600 hover:to-cyan-700 transition-colors flex items-center justify-center gap-2",children:[u.jsx(ya,{size:20}),i?"Add Entry":s?"Update":"Save Sale"]})]})]})]})}):null},jn=t=>"Rs."+t.toLocaleString("en-IN"),Ile=t=>{const e=new at;e.setFillColor(16,185,129),e.rect(0,0,210,58,"F"),e.setTextColor(255,255,255),e.setFontSize(22),e.setFont("helvetica","bold"),e.text("SHREE GANESH FRUIT SUPPLIERS, TASGAON",105,14,{align:"center"}),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Tal. Tasgaon, Dist. Sangli, Pin 416312, Maharashtra",105,22,{align:"center"}),e.text("Prop. Suhas Patil  |  Mo. 9730793507, 8788845042",105,29,{align:"center"}),e.setDrawColor(255,255,255),e.setLineWidth(.4),e.line(14,33,196,33),e.setFontSize(13),e.setFont("helvetica","bold"),e.text("WATERMELON PURCHASE RECEIPT",105,41,{align:"center"}),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Generated: "+new Date().toLocaleDateString("en-IN"),105,50,{align:"center"}),e.setTextColor(0,0,0),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("FARMER DETAILS",14,68),e.setFontSize(11),e.setFont("helvetica","normal"),e.text("Name: "+t.farmer.name,14,76),e.text("Mobile: "+t.farmer.mobile,14,83),e.text("Address: "+t.farmer.address,14,90),e.setFillColor(240,253,244),e.rect(120,63,80,32,"F"),e.setDrawColor(16,185,129),e.rect(120,63,80,32,"S"),e.setFontSize(10),e.setFont("helvetica","bold"),e.text("SUMMARY",160,70,{align:"center"}),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Total Amount: "+jn(t.totalAmount),125,77),e.text("Advance Given: "+jn(t.totalAdvanceGiven),125,83),e.setTextColor(220,38,38),e.setFont("helvetica","bold"),e.text("Pending: "+jn(t.pendingAmount),125,90),e.setTextColor(0,0,0);let n=103;if(t.entries.forEach((s,i)=>{e.setFillColor(16,185,129),e.rect(14,n,182,8,"F"),e.setTextColor(255,255,255),e.setFontSize(11),e.setFont("helvetica","bold"),e.text("Entry #"+(i+1)+" - "+new Date(s.date).toLocaleDateString("en-IN"),18,n+5.5),e.setTextColor(0,0,0),n+=12;const o=s.items.map((a,l)=>[(l+1).toString(),a.quality,a.units.toString(),jn(a.pricePerUnit),jn(a.subtotal),a.discountPercent>0?a.discountPercent+"%":"-",a.discountAmount>0?jn(a.discountAmount):"-",jn(a.totalAmount)]);sf(e,{startY:n,head:[["#","Quality","Units","Price/Unit","Subtotal","Disc%","Disc Amt","Total"]],body:o,theme:"grid",headStyles:{fillColor:[16,185,129],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:10},1:{cellWidth:25},2:{cellWidth:20,halign:"right"},3:{cellWidth:25,halign:"right"},4:{cellWidth:25,halign:"right"},5:{cellWidth:18,halign:"center"},6:{cellWidth:25,halign:"right"},7:{cellWidth:30,halign:"right",fontStyle:"bold"}}}),n=e.lastAutoTable.finalY+5,e.setFillColor(240,253,244),e.rect(14,n,182,20,"F"),e.setDrawColor(16,185,129),e.rect(14,n,182,20,"S"),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Subtotal: "+jn(s.subtotal),18,n+6),s.totalDiscount>0&&e.text("Total Discount: "+jn(s.totalDiscount),18,n+12),e.setFont("helvetica","bold"),e.text("Total Amount: "+jn(s.totalAmount),100,n+6),e.text("Advance Given: "+jn(s.advanceGiven),100,n+12),e.setTextColor(220,38,38),e.text("Pending: "+jn(s.pendingAmount),100,n+18),e.setTextColor(0,0,0),n+=28,n>250&&i<t.entries.length-1&&(e.addPage(),n=20)}),t.advancePayments.length>0){n>220&&(e.addPage(),n=20),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("ADVANCE PAYMENT HISTORY",14,n),n+=8;const s=t.advancePayments.map((i,o)=>[(o+1).toString(),new Date(i.date).toLocaleDateString("en-IN"),jn(i.amount),i.paymentMethod==="cash"?"Cash":"Online/Bank",i.note||"-"]);sf(e,{startY:n,head:[["#","Date","Amount","Method","Note"]],body:s,theme:"grid",headStyles:{fillColor:[59,130,246],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:15},1:{cellWidth:30},2:{cellWidth:35,halign:"right",fontStyle:"bold"},3:{cellWidth:30},4:{cellWidth:72}}})}const r=e.internal.getNumberOfPages();for(let s=1;s<=r;s++)e.setPage(s),e.setFontSize(8),e.setTextColor(128,128,128),e.text("Page "+s+" of "+r,105,287,{align:"center"}),e.text("Thank you for your business!",105,292,{align:"center"});e.save("Watermelon_Purchase_"+t.farmer.name+"_"+new Date().toISOString().split("T")[0]+".pdf")},Rle=t=>{const e=new at;e.setFillColor(59,130,246),e.rect(0,0,210,58,"F"),e.setTextColor(255,255,255),e.setFontSize(22),e.setFont("helvetica","bold"),e.text("SHREE GANESH FRUIT SUPPLIERS, TASGAON",105,14,{align:"center"}),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Tal. Tasgaon, Dist. Sangli, Pin 416312, Maharashtra",105,22,{align:"center"}),e.text("Prop. Suhas Patil  |  Mo. 9730793507, 8788845042",105,29,{align:"center"}),e.setDrawColor(255,255,255),e.setLineWidth(.4),e.line(14,33,196,33),e.setFontSize(13),e.setFont("helvetica","bold"),e.text("WATERMELON SALE RECEIPT",105,41,{align:"center"}),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Generated: "+new Date().toLocaleDateString("en-IN"),105,50,{align:"center"}),e.setTextColor(0,0,0),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("BUYER DETAILS",14,68),e.setFontSize(11),e.setFont("helvetica","normal"),e.text("Name: "+t.buyer.name,14,76),e.text("Mobile: "+t.buyer.mobile,14,83),e.text("Address: "+t.buyer.address,14,90),e.setFillColor(239,246,255),e.rect(120,63,80,32,"F"),e.setDrawColor(59,130,246),e.rect(120,63,80,32,"S"),e.setFontSize(10),e.setFont("helvetica","bold"),e.text("SUMMARY",160,70,{align:"center"}),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Total Amount: "+jn(t.totalAmount),125,77),e.text("Received: "+jn(t.totalReceived),125,83),e.setTextColor(220,38,38),e.setFont("helvetica","bold"),e.text("Pending: "+jn(t.pendingAmount),125,90),e.setTextColor(0,0,0);let n=103;if(t.entries.forEach((s,i)=>{e.setFillColor(59,130,246),e.rect(14,n,182,8,"F"),e.setTextColor(255,255,255),e.setFontSize(11),e.setFont("helvetica","bold"),e.text("Entry #"+(i+1)+" - "+new Date(s.date).toLocaleDateString("en-IN"),18,n+5.5),e.setTextColor(0,0,0),n+=12;const o=s.items.map((a,l)=>[(l+1).toString(),a.quality,a.units.toString(),jn(a.pricePerUnit),jn(a.subtotal),a.discountPercent>0?a.discountPercent+"%":"-",a.discountAmount>0?jn(a.discountAmount):"-",jn(a.totalAmount)]);sf(e,{startY:n,head:[["#","Quality","Units","Price/Unit","Subtotal","Disc%","Disc Amt","Total"]],body:o,theme:"grid",headStyles:{fillColor:[59,130,246],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:10},1:{cellWidth:25},2:{cellWidth:20,halign:"right"},3:{cellWidth:25,halign:"right"},4:{cellWidth:25,halign:"right"},5:{cellWidth:18,halign:"center"},6:{cellWidth:25,halign:"right"},7:{cellWidth:30,halign:"right",fontStyle:"bold"}}}),n=e.lastAutoTable.finalY+5,e.setFillColor(239,246,255),e.rect(14,n,182,20,"F"),e.setDrawColor(59,130,246),e.rect(14,n,182,20,"S"),e.setFontSize(9),e.setFont("helvetica","normal"),e.text("Subtotal: "+jn(s.subtotal),18,n+6),s.totalDiscount>0&&e.text("Total Discount: "+jn(s.totalDiscount),18,n+12),e.setFont("helvetica","bold"),e.text("Total Amount: "+jn(s.totalAmount),100,n+6),e.text("Received: "+jn(s.receivedAmount),100,n+12),e.setTextColor(220,38,38),e.text("Pending: "+jn(s.pendingAmount),100,n+18),e.setTextColor(0,0,0),n+=28,n>250&&i<t.entries.length-1&&(e.addPage(),n=20)}),t.receivedPayments.length>0){n>220&&(e.addPage(),n=20),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("PAYMENT HISTORY",14,n),n+=8;const s=t.receivedPayments.map((i,o)=>[(o+1).toString(),new Date(i.date).toLocaleDateString("en-IN"),jn(i.amount),i.paymentMethod==="cash"?"Cash":"Online/Bank",i.note||"-"]);sf(e,{startY:n,head:[["#","Date","Amount","Method","Note"]],body:s,theme:"grid",headStyles:{fillColor:[16,185,129],textColor:[255,255,255],fontStyle:"bold",fontSize:9},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:15},1:{cellWidth:30},2:{cellWidth:35,halign:"right",fontStyle:"bold"},3:{cellWidth:30},4:{cellWidth:72}}})}const r=e.internal.getNumberOfPages();for(let s=1;s<=r;s++)e.setPage(s),e.setFontSize(8),e.setTextColor(128,128,128),e.text("Page "+s+" of "+r,105,287,{align:"center"}),e.text("Thank you for your business!",105,292,{align:"center"});e.save("Watermelon_Sale_"+t.buyer.name+"_"+new Date().toISOString().split("T")[0]+".pdf")},Lle=({isOpen:t,onClose:e,purchase:n,onUpdate:r,onDelete:s,onAddEntry:i})=>{const[o,a]=L.useState(!1);if(!t)return null;const l=()=>{s(n.id),e()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-emerald-500 to-green-600 text-white p-6 flex items-center justify-between z-10",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:n.farmer.name}),u.jsxs("p",{className:"text-emerald-100 text-sm",children:[" ",n.farmer.mobile]}),u.jsxs("p",{className:"text-emerald-100 text-sm",children:[" ",n.farmer.address]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>Ile(n),className:"p-2 hover:bg-white/20 rounded-lg transition-colors flex items-center gap-2 bg-white/10",title:"Download PDF",children:[u.jsx(uf,{size:20}),u.jsx("span",{className:"text-sm font-semibold",children:"PDF"})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(Ci,{size:24})})]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-2 border-emerald-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-emerald-600 uppercase mb-1",children:"Total Amount"}),u.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:["",n.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Total Advance"}),u.jsxs("p",{className:"text-2xl font-black text-blue-700",children:["",n.totalAdvanceGiven.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-red-50 border-2 border-rose-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-rose-600 uppercase mb-1",children:"Pending Amount"}),u.jsxs("p",{className:"text-2xl font-black text-rose-700",children:["",n.pendingAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:()=>i(n),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-green-600 text-white rounded-lg hover:from-emerald-600 hover:to-green-700 transition-colors font-bold",children:[u.jsx(Rr,{size:18}),"Add New Entry"]})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[u.jsx(Ai,{className:"text-emerald-600",size:20}),"Purchase History (",n.entries.length," entries)"]}),u.jsx("div",{className:"space-y-4",children:n.entries.map((c,d)=>u.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-5 bg-slate-50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-emerald-500 text-white rounded-full flex items-center justify-center font-black",children:d+1}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:[" ",new Date(c.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Entry #",d+1]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-xl font-black text-emerald-600",children:["",c.totalAmount.toLocaleString()]}),u.jsx("p",{className:"text-xs text-slate-500",children:"Total"})]})]}),u.jsx("div",{className:"bg-white rounded-lg overflow-hidden border border-slate-200 mb-4",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-slate-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"#"}),u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Quality"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Units"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Price/Unit"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Subtotal"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Discount"}),u.jsx("th",{className:"text-right p-3 font-bold text-emerald-700",children:"Total"})]})}),u.jsx("tbody",{children:c.items.map((h,p)=>u.jsxs("tr",{className:"border-t border-slate-100",children:[u.jsx("td",{className:"p-3 text-slate-600",children:p+1}),u.jsx("td",{className:"p-3 font-semibold text-slate-800",children:h.quality}),u.jsx("td",{className:"p-3 text-right text-slate-700",children:h.units}),u.jsxs("td",{className:"p-3 text-right text-slate-700",children:["",h.pricePerUnit.toLocaleString()]}),u.jsxs("td",{className:"p-3 text-right font-semibold text-slate-800",children:["",h.subtotal.toLocaleString()]}),u.jsx("td",{className:"p-3 text-right text-orange-600",children:h.discountPercent>0?u.jsxs("span",{className:"font-semibold",children:[h.discountPercent,"% (",h.discountAmount.toLocaleString(),")"]}):u.jsx("span",{className:"text-slate-400",children:"-"})}),u.jsxs("td",{className:"p-3 text-right font-bold text-emerald-700",children:["",h.totalAmount.toLocaleString()]})]},h.id))})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs("div",{className:"bg-slate-100 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-slate-600 font-semibold mb-1",children:"Subtotal"}),u.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",c.subtotal.toLocaleString()]})]}),c.totalDiscount>0&&u.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-orange-600 font-semibold mb-1",children:"Total Discount"}),u.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["",c.totalDiscount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-emerald-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-emerald-600 font-semibold mb-1",children:"Total Amount"}),u.jsxs("p",{className:"text-lg font-bold text-emerald-700",children:["",c.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"Advance Given"}),u.jsxs("p",{className:"text-lg font-bold text-blue-700",children:["",c.advanceGiven.toLocaleString()]})]}),u.jsxs("div",{className:"bg-rose-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-rose-600 font-semibold mb-1",children:"Pending"}),u.jsxs("p",{className:"text-lg font-bold text-rose-700",children:["",c.pendingAmount.toLocaleString()]})]})]})]},c.id))})]}),n.advancePayments.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[u.jsx(Qu,{className:"text-blue-600",size:20}),"Advance Payment History (",n.advancePayments.length," payments)"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.advancePayments.map((c,d)=>u.jsx("div",{className:"border-2 border-blue-200 rounded-lg p-4 bg-blue-50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:["Payment #",d+1]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[" ",new Date(c.date).toLocaleDateString("en-IN")]}),u.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[" ",c.paymentMethod==="cash"?"Cash":"Online/Bank"]}),c.note&&u.jsx("p",{className:"text-xs text-slate-500 mt-1 italic",children:c.note})]}),u.jsx("div",{className:"text-right",children:u.jsxs("p",{className:"text-2xl font-black text-blue-700",children:["",c.amount.toLocaleString()]})})]})},c.id))})]}),u.jsx("div",{className:"border-t-2 border-slate-200 pt-6",children:o?u.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:[u.jsxs("p",{className:"text-red-800 font-bold mb-4",children:[" Are you sure? This will delete all ",n.entries.length," entries and cannot be undone!"]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 transition-colors",children:"Yes, Delete Everything"}),u.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg font-bold hover:bg-slate-300 transition-colors",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors font-bold",children:[u.jsx(ks,{size:18}),"Delete Entire Purchase Record"]})})]})]})})},Dle=({isOpen:t,onClose:e,sale:n,onUpdate:r,onDelete:s,onAddEntry:i})=>{const[o,a]=L.useState(!1);if(!t)return null;const l=()=>{s(n.id),e()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 to-cyan-600 text-white p-6 flex items-center justify-between z-10",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold",children:n.buyer.name}),u.jsxs("p",{className:"text-blue-100 text-sm",children:[" ",n.buyer.mobile]}),u.jsxs("p",{className:"text-blue-100 text-sm",children:[" ",n.buyer.address]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>Rle(n),className:"p-2 hover:bg-white/20 rounded-lg transition-colors flex items-center gap-2 bg-white/10",title:"Download PDF",children:[u.jsx(uf,{size:20}),u.jsx("span",{className:"text-sm font-semibold",children:"PDF"})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:u.jsx(Ci,{size:24})})]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-2 border-blue-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Total Amount"}),u.jsxs("p",{className:"text-2xl font-black text-blue-700",children:["",n.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 border-2 border-emerald-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-emerald-600 uppercase mb-1",children:"Total Received"}),u.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:["",n.totalReceived.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-red-50 border-2 border-rose-200 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs font-bold text-rose-600 uppercase mb-1",children:"Pending Amount"}),u.jsxs("p",{className:"text-2xl font-black text-rose-700",children:["",n.pendingAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:()=>i(n),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-lg hover:from-blue-600 hover:to-cyan-700 transition-colors font-bold",children:[u.jsx(Rr,{size:18}),"Add New Sale Entry"]})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[u.jsx(Ai,{className:"text-blue-600",size:20}),"Sale History (",n.entries.length," entries)"]}),u.jsx("div",{className:"space-y-4",children:n.entries.map((c,d)=>u.jsxs("div",{className:"border-2 border-slate-200 rounded-xl p-5 bg-slate-50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-500 text-white rounded-full flex items-center justify-center font-black",children:d+1}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:[" ",new Date(c.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})]}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Entry #",d+1]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-xl font-black text-blue-600",children:["",c.totalAmount.toLocaleString()]}),u.jsx("p",{className:"text-xs text-slate-500",children:"Total"})]})]}),u.jsx("div",{className:"bg-white rounded-lg overflow-hidden border border-slate-200 mb-4",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-slate-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"#"}),u.jsx("th",{className:"text-left p-3 font-bold text-slate-700",children:"Quality"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Units"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Price/Unit"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Subtotal"}),u.jsx("th",{className:"text-right p-3 font-bold text-slate-700",children:"Discount"}),u.jsx("th",{className:"text-right p-3 font-bold text-blue-700",children:"Total"})]})}),u.jsx("tbody",{children:c.items.map((h,p)=>u.jsxs("tr",{className:"border-t border-slate-100",children:[u.jsx("td",{className:"p-3 text-slate-600",children:p+1}),u.jsx("td",{className:"p-3 font-semibold text-slate-800",children:h.quality}),u.jsx("td",{className:"p-3 text-right text-slate-700",children:h.units}),u.jsxs("td",{className:"p-3 text-right text-slate-700",children:["",h.pricePerUnit.toLocaleString()]}),u.jsxs("td",{className:"p-3 text-right font-semibold text-slate-800",children:["",h.subtotal.toLocaleString()]}),u.jsx("td",{className:"p-3 text-right text-orange-600",children:h.discountPercent>0?u.jsxs("span",{className:"font-semibold",children:[h.discountPercent,"% (",h.discountAmount.toLocaleString(),")"]}):u.jsx("span",{className:"text-slate-400",children:"-"})}),u.jsxs("td",{className:"p-3 text-right font-bold text-blue-700",children:["",h.totalAmount.toLocaleString()]})]},h.id))})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[u.jsxs("div",{className:"bg-slate-100 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-slate-600 font-semibold mb-1",children:"Subtotal"}),u.jsxs("p",{className:"text-lg font-bold text-slate-800",children:["",c.subtotal.toLocaleString()]})]}),c.totalDiscount>0&&u.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-orange-600 font-semibold mb-1",children:"Total Discount"}),u.jsxs("p",{className:"text-lg font-bold text-orange-600",children:["",c.totalDiscount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-blue-600 font-semibold mb-1",children:"Total Amount"}),u.jsxs("p",{className:"text-lg font-bold text-blue-700",children:["",c.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-emerald-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-emerald-600 font-semibold mb-1",children:"Received"}),u.jsxs("p",{className:"text-lg font-bold text-emerald-700",children:["",c.receivedAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-rose-50 rounded-lg p-3",children:[u.jsx("p",{className:"text-xs text-rose-600 font-semibold mb-1",children:"Pending"}),u.jsxs("p",{className:"text-lg font-bold text-rose-700",children:["",c.pendingAmount.toLocaleString()]})]})]})]},c.id))})]}),n.receivedPayments.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[u.jsx(Qu,{className:"text-emerald-600",size:20}),"Payment History (",n.receivedPayments.length," payments)"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.receivedPayments.map((c,d)=>u.jsx("div",{className:"border-2 border-emerald-200 rounded-lg p-4 bg-emerald-50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-bold text-slate-800",children:["Payment #",d+1]}),u.jsxs("p",{className:"text-xs text-slate-500",children:[" ",new Date(c.date).toLocaleDateString("en-IN")]}),u.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[" ",c.paymentMethod==="cash"?"Cash":"Online/Bank"]}),c.note&&u.jsx("p",{className:"text-xs text-slate-500 mt-1 italic",children:c.note})]}),u.jsx("div",{className:"text-right",children:u.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:["",c.amount.toLocaleString()]})})]})},c.id))})]}),u.jsx("div",{className:"border-t-2 border-slate-200 pt-6",children:o?u.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:[u.jsxs("p",{className:"text-red-800 font-bold mb-4",children:[" Are you sure? This will delete all ",n.entries.length," entries and cannot be undone!"]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:l,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 transition-colors",children:"Yes, Delete Everything"}),u.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg font-bold hover:bg-slate-300 transition-colors",children:"Cancel"})]})]}):u.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors font-bold",children:[u.jsx(ks,{size:18}),"Delete Entire Sale Record"]})})]})]})})},Mle=()=>{const{purchases:t,sales:e,addPurchase:n,updatePurchase:r,deletePurchase:s,addSale:i,updateSale:o,deleteSale:a,loading:l}=bS(),[c,d]=L.useState("purchases"),[h,p]=L.useState(""),[f,b]=L.useState(!1),[x,w]=L.useState(!1),[v,_]=L.useState(null),[A,R]=L.useState(null),[F,$]=L.useState(!1),[I,E]=L.useState(!1),[C,M]=L.useState(null),[N,T]=L.useState(null),k=L.useMemo(()=>t.filter(ie=>ie.farmer.name.toLowerCase().includes(h.toLowerCase())||ie.farmer.mobile.includes(h)).sort((ie,Y)=>new Date(Y.date).getTime()-new Date(ie.date).getTime()),[t,h]),z=L.useMemo(()=>e.filter(ie=>ie.buyer.name.toLowerCase().includes(h.toLowerCase())||ie.buyer.mobile.includes(h)).sort((ie,Y)=>new Date(Y.date).getTime()-new Date(ie.date).getTime()),[e,h]),K=ie=>{M(ie),$(!1),b(!0)},ae=ie=>{T(ie),E(!1),w(!0)};return l?null:u.jsxs(Ef,{children:[u.jsx(_f,{}),u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"section-title flex items-center gap-3",children:[u.jsx(zu,{className:"w-8 h-8 text-emerald-600"}),"Watermelon Trading"]}),u.jsx("p",{className:"text-muted-foreground",children:"Manage watermelon purchases & sales with discount calculations"})]}),u.jsxs("button",{onClick:()=>{c==="purchases"?(M(null),b(!0)):(T(null),w(!0))},className:`btn-primary flex items-center gap-2 self-start ${c==="purchases"?"bg-gradient-to-r from-emerald-500 to-green-600":"bg-gradient-to-r from-blue-500 to-cyan-600"}`,children:[u.jsx(Rr,{className:"w-5 h-5"}),c==="purchases"?"New Purchase":"New Sale"]})]}),u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsxs("button",{onClick:()=>d("purchases"),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition-all ${c==="purchases"?"bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[u.jsx(Ky,{size:20}),"Purchases (",t.length,")"]}),u.jsxs("button",{onClick:()=>d("sales"),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition-all ${c==="sales"?"bg-gradient-to-r from-blue-500 to-cyan-600 text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[u.jsx(Ip,{size:20}),"Sales (",e.length,")"]})]}),u.jsxs("div",{className:"relative mb-8",children:[u.jsx(p_,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground w-5 h-5"}),u.jsx("input",{type:"text",placeholder:c==="purchases"?"Search Farmer by Name or Phone...":"Search Buyer by Name or Phone...",value:h,onChange:ie=>p(ie.target.value),className:"input-premium pl-12 h-14 text-lg shadow-sm"})]}),c==="purchases"&&(k.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.jsx(Ei,{children:k.map((ie,Y)=>u.jsxs(Vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Y*.05},className:"glass-card overflow-hidden group hover:border-emerald-400/50 transition-all active:scale-[0.98] cursor-pointer",onClick:()=>{_(ie),$(!0)},children:[u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/10 flex items-center justify-center text-emerald-600",children:u.jsx(zu,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-foreground group-hover:text-emerald-600 transition-colors",children:ie.farmer.name}),u.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[u.jsx(Fc,{className:"w-3 h-3"})," ",ie.farmer.mobile]})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:[u.jsxs("div",{className:"bg-emerald-500/5 p-3 rounded-xl border border-emerald-500/10",children:[u.jsx("span",{className:"text-[10px] text-emerald-600 uppercase font-bold tracking-widest block mb-1",children:"Total Bought"}),u.jsxs("span",{className:"text-base font-black text-foreground",children:["",ie.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-muted/30 p-3 rounded-xl border border-border/50",children:[u.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-widest block mb-1",children:"Entries"}),u.jsx("span",{className:"text-base font-black text-foreground",children:ie.entries.length})]}),u.jsxs("div",{className:"col-span-2 md:col-span-1 bg-destructive/5 p-3 rounded-xl border border-destructive/10",children:[u.jsx("span",{className:"text-[10px] text-destructive uppercase font-bold tracking-widest block mb-1",children:"Pending"}),u.jsxs("span",{className:"text-base font-black text-destructive",children:["",ie.pendingAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:u.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[u.jsx(Oc,{className:"w-3 h-3"})," ",ie.farmer.address]})})]}),u.jsxs("div",{className:"px-6 py-3 bg-muted/20 border-t border-border/50 flex items-center justify-between group-hover:bg-emerald-500/5 transition-colors",children:[u.jsxs("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["Date: ",new Date(ie.date).toLocaleDateString()]}),u.jsx(aa,{className:"w-4 h-4 text-emerald-600 opacity-0 group-hover:opacity-100 transition-all"})]})]},ie.id))})}):u.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-emerald-50 to-green-50 rounded-3xl border border-dashed border-emerald-200",children:[u.jsx(zu,{className:"w-16 h-16 text-emerald-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-slate-700",children:h?"No Farmers Found":"No Watermelon Purchases Yet"}),u.jsx("p",{className:"text-slate-500 mb-6",children:h?"Try searching with a different name or mobile number":"Start by adding your first watermelon purchase"}),!h&&u.jsxs("button",{onClick:()=>{M(null),b(!0)},className:"btn-primary bg-gradient-to-r from-emerald-500 to-green-600",children:[u.jsx(Rr,{className:"w-5 h-5 inline mr-2"}),"Add First Purchase"]})]})),c==="sales"&&(z.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.jsx(Ei,{children:z.map((ie,Y)=>u.jsxs(Vn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Y*.05},className:"glass-card overflow-hidden group hover:border-blue-400/50 transition-all active:scale-[0.98] cursor-pointer",onClick:()=>{R(ie),E(!0)},children:[u.jsxs("div",{className:"p-6",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 flex items-center justify-center text-blue-600",children:u.jsx(Ip,{className:"w-6 h-6"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg text-foreground group-hover:text-blue-600 transition-colors",children:ie.buyer.name}),u.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[u.jsx(Fc,{className:"w-3 h-3"})," ",ie.buyer.mobile]})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:[u.jsxs("div",{className:"bg-blue-500/5 p-3 rounded-xl border border-blue-500/10",children:[u.jsx("span",{className:"text-[10px] text-blue-600 uppercase font-bold tracking-widest block mb-1",children:"Total Sold"}),u.jsxs("span",{className:"text-base font-black text-foreground",children:["",ie.totalAmount.toLocaleString()]})]}),u.jsxs("div",{className:"bg-muted/30 p-3 rounded-xl border border-border/50",children:[u.jsx("span",{className:"text-[10px] text-muted-foreground uppercase font-bold tracking-widest block mb-1",children:"Entries"}),u.jsx("span",{className:"text-base font-black text-foreground",children:ie.entries.length})]}),u.jsxs("div",{className:"col-span-2 md:col-span-1 bg-destructive/5 p-3 rounded-xl border border-destructive/10",children:[u.jsx("span",{className:"text-[10px] text-destructive uppercase font-bold tracking-widest block mb-1",children:"Pending"}),u.jsxs("span",{className:"text-base font-black text-destructive",children:["",ie.pendingAmount.toLocaleString()]})]})]}),u.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:u.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[u.jsx(Oc,{className:"w-3 h-3"})," ",ie.buyer.address]})})]}),u.jsxs("div",{className:"px-6 py-3 bg-muted/20 border-t border-border/50 flex items-center justify-between group-hover:bg-blue-500/5 transition-colors",children:[u.jsxs("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:["Date: ",new Date(ie.date).toLocaleDateString()]}),u.jsx(aa,{className:"w-4 h-4 text-blue-600 opacity-0 group-hover:opacity-100 transition-all"})]})]},ie.id))})}):u.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-3xl border border-dashed border-blue-200",children:[u.jsx(Ip,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-slate-700",children:h?"No Buyers Found":"No Watermelon Sales Yet"}),u.jsx("p",{className:"text-slate-500 mb-6",children:h?"Try searching with a different name or mobile number":"Start by adding your first watermelon sale"}),!h&&u.jsxs("button",{onClick:()=>{T(null),w(!0)},className:"btn-primary bg-gradient-to-r from-blue-500 to-cyan-600",children:[u.jsx(Rr,{className:"w-5 h-5 inline mr-2"}),"Add First Sale"]})]}))]}),u.jsx(kle,{isOpen:f,onClose:()=>{b(!1),M(null)},onAdd:n,onUpdate:r,existingPurchase:C}),u.jsx(jle,{isOpen:x,onClose:()=>{w(!1),T(null)},onAdd:i,onUpdate:o,existingSale:N}),v&&u.jsx(Lle,{isOpen:F,onClose:()=>{$(!1),_(null)},purchase:v,onUpdate:ie=>{r(ie.id,ie)},onDelete:ie=>{s(ie),$(!1),_(null)},onAddEntry:K}),A&&u.jsx(Dle,{isOpen:I,onClose:()=>{E(!1),R(null)},sale:A,onUpdate:ie=>{o(ie.id,ie)},onDelete:ie=>{a(ie),E(!1),R(null)},onAddEntry:ae})]})},Ole=()=>{const t=mf();return L.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Fle=new R$,Vle=()=>u.jsx(D$,{client:Fle,children:u.jsx(DX,{children:u.jsx(MX,{children:u.jsxs(c$,{children:[u.jsx(qB,{}),u.jsx(_U,{}),u.jsx(Iq,{children:u.jsxs(Aq,{children:[u.jsx(Xl,{path:"/",element:u.jsx(bne,{})}),u.jsx(Xl,{path:"/sales",element:u.jsx(_le,{})}),u.jsx(Xl,{path:"/purchases",element:u.jsx(Ale,{})}),u.jsx(Xl,{path:"/watermelon",element:u.jsx(Mle,{})}),u.jsx(Xl,{path:"/expenses",element:u.jsx(Tle,{})}),u.jsx(Xl,{path:"/history",element:u.jsx(Cle,{})}),u.jsx(Xl,{path:"*",element:u.jsx(Ole,{})})]})})]})})})});zk(document.getElementById("root")).render(u.jsx(Vle,{}));export{mn as _,Ule as c,PC as g};
